{"remainingRequest":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/babel-loader/lib/index.js!/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js??vue-loader-options!/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/src/components/ParsingRules.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/src/components/ParsingRules.vue","mtime":1581270622000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/package.json","mtime":1587799327166},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LnJlZ2V4cC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYuYXJyYXkuZmlsbCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5yZWdleHAucmVwbGFjZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5yZWdleHAuc3BsaXQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvTGlicmFyeS9XZWJTZXJ2ZXIvRG9jdW1lbnRzL1Byb2plY3RzL09QSU5JSU9OIEZJTkFML29waW5paW9udjQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lLWNvcmVqczIvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYudHlwZWQudWludDgtYXJyYXkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LmFycmF5LmZyb20iOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczcuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYuc3RyaW5nLmluY2x1ZGVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LmZ1bmN0aW9uLm5hbWUiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgY29uZmlnIGZyb20gIi4uL2NvbmZpZy5qcyI7CmltcG9ydCB7IEV2ZW50U2VydmljZSB9IGZyb20gIi4uL21haW4iOwppbXBvcnQgUGFwYSBmcm9tICIuLi8uLi9ub2RlX21vZHVsZXMvcGFwYXBhcnNlL3BhcGFwYXJzZS5qcyI7CmltcG9ydCBQYXJzaW5nU2VydmljZSBmcm9tICIuLi9zZXJ2aWNlcy9QYXJzaW5nU2VydmljZS5qcyI7CmltcG9ydCBVc2VyU2VydmljZSBmcm9tICIuLi9zZXJ2aWNlcy9Vc2VyU2VydmljZS5qcyI7CmltcG9ydCBMb2NhdGlvblNlcnZpY2UgZnJvbSAiLi4vc2VydmljZXMvTG9jYXRpb25TZXJ2aWNlLmpzIjsKaW1wb3J0IFhMU1ggZnJvbSAieGxzeCI7CmltcG9ydCBjb252ZXJ0RnJvbVhNTCBmcm9tICJ4bWwtanMiOwppbXBvcnQgdlNlbGVjdCBmcm9tICIuLi8uLi9ub2RlX21vZHVsZXMvdnVlLXNlbGVjdC9zcmMvY29tcG9uZW50cy9TZWxlY3QudnVlIjsKaW1wb3J0IEF1dG9tYXRpb25TZXJ2aWNlIGZyb20gIi4uL3NlcnZpY2VzL0F1dG9tYXRpb25TZXJ2aWNlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJjc3ZQcmV2aWV3IiwKICBjb21wb25lbnRzOiB7CiAgICB2U2VsZWN0OiB2U2VsZWN0CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY3N2OiBbXSwKICAgICAgeG1sOiBbXSwKICAgICAgc2FtcGxlRW1haWxzOiBbXSwKICAgICAgZmlsZU9wdGlvbnM6IFsiY3N2IiwgInhtbCIsICJ4bHMiLCAieGxzeCIsICJ0eHQiXSwKICAgICAgaW5kaWNhdG9yczogWyJzdWJqZWN0IiwgImZyb21OYW1lIiwgImJvZHkiXSwKICAgICAgZmlsZU5hbWU6ICIiLAogICAgICBmaWxlRXhpc3RzOiBmYWxzZSwKICAgICAgZGlzcGxheVNhbXBsZXM6IGZhbHNlLAogICAgICBuZXdGaWxlOiAiIiwKICAgICAgdHJpZ2dlcjogIiIsCiAgICAgIHBhcnNlRmlsZVR5cGU6ICIiLAogICAgICBwYXJzZUZpbGVOYW1lOiAiIiwKICAgICAgc2VsZWN0ZWRGaWxlOiAnJywKICAgICAgbWFpbGJveDogIiIsCiAgICAgIGpzb246ICIiLAogICAgICBkb21haW46ICIiLAogICAgICBhY3RpdmVMb2NhdGlvbjogIiIsCiAgICAgIGxvY2F0aW9uT3B0aW9uczogW10sCiAgICAgIHJ1bGVOYW1lOiAiIiwKICAgICAgcnVsZXM6IFt7CiAgICAgICAgZGF0YTogIiIsCiAgICAgICAgb3B0aW9uOiAiaW50aWFsRGF0YSIKICAgICAgfV0sCiAgICAgIHFTZWxlY3Rpb246IFsnZGVmYXVsdCcsIDEsIDIsIDNdLAogICAgICBhbGxSdWxlTmFtZXM6IFtdLAogICAgICBkdXBlTmFtZTogZmFsc2UsCiAgICAgIGluY2x1ZGVzRGFzaDogZmFsc2UKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgICAgdmFyIHZtID0gdGhpczsKCiAgICAgIGlmICh2bS5qc29uKSB7CiAgICAgICAgcmV0dXJuIHZtLmpzb24uc3BsaWNlKDEsIDExKTsKICAgICAgfQogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMucGFyc2VyKSB7CiAgICAgIHRoaXMuZ2V0UGFyc2luZ1J1bGUoKTsKICAgIH0KCiAgICB0aGlzLnNlbGVjdGVkTG9jYXRpb24gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgibG9jYXRpb25JZCIpOwogICAgdGhpcy5nZXRBbGxQYXJzaW5nUnVsZU5hbWVzKCk7CiAgICB0aGlzLmdldExvY2F0aW9uT3B0aW9ucygpOwogICAgdGhpcy5nZXRTYW1wbGVNYWlsKCk7CiAgICB0aGlzLmRvbWFpbiA9IGNvbmZpZy5zdWJEb21haW47CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRBbGxQYXJzaW5nUnVsZU5hbWVzOiBmdW5jdGlvbiBnZXRBbGxQYXJzaW5nUnVsZU5hbWVzKCkgewogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICBQYXJzaW5nU2VydmljZS5nZXRQYXJzaW5nUnVsZXMoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHJlc3BvbnNlLnJlc3BvbnNlLm1hcChmdW5jdGlvbiAocnVsZSkgewogICAgICAgICAgdm0uYWxsUnVsZU5hbWVzLnB1c2gocnVsZS5wYXJzaW5nUnVsZXMubmFtZSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIGV2YWx1YXRlRGF0YShkYXRhKSB7CiAgICAvLyAgIGRhdGEubWFwKGxpbmUgPT4gewogICAgLy8gICAgIGNvbnNvbGUubG9nKGxpbmUubGVuZ3RoKTsKICAgIC8vICAgfSkKICAgIC8vICAgcmV0dXJuIGRhdGFbMF0KICAgIC8vIH0sCiAgICBldmFsTmFtZTogZnVuY3Rpb24gZXZhbE5hbWUoKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CgogICAgICBpZiAodm0uYWxsUnVsZU5hbWVzLmluY2x1ZGVzKHZtLnJ1bGVOYW1lKSkgewogICAgICAgIHZtLmR1cGVOYW1lID0gdHJ1ZTsKICAgICAgfSBlbHNlIGlmICh2bS5ydWxlTmFtZS5pbmNsdWRlcygiLSIpKSB7CiAgICAgICAgdm0uaW5jbHVkZXNEYXNoID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2bS5pbmNsdWRlc0Rhc2ggPSBmYWxzZTsKICAgICAgICB2bS5kdXBlTmFtZSA9IGZhbHNlOwogICAgICB9CiAgICB9LAogICAgbWF4Q29sdW1uOiBmdW5jdGlvbiBtYXhDb2x1bW4oZGF0YSwgY29uY2F0KSB7CiAgICAgIHZhciBsaW5lTGVuZ3RoID0gMDsKICAgICAgZGF0YS5tYXAoZnVuY3Rpb24gKGxpbmUpIHsKICAgICAgICBpZiAobGluZS5sZW5ndGggPiBsaW5lTGVuZ3RoKSBsaW5lTGVuZ3RoID0gbGluZS5sZW5ndGg7CiAgICAgIH0pOwoKICAgICAgaWYgKGNvbmNhdCkgewogICAgICAgIHJldHVybiBBcnJheS5mcm9tKG5ldyBBcnJheShsaW5lTGVuZ3RoKSwgZnVuY3Rpb24gKHZhbCwgaW5kZXgpIHsKICAgICAgICAgIHJldHVybiBpbmRleDsKICAgICAgICB9KS5jb25jYXQoY29uY2F0KTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gQXJyYXkuZnJvbShuZXcgQXJyYXkobGluZUxlbmd0aCksIGZ1bmN0aW9uICh2YWwsIGluZGV4KSB7CiAgICAgICAgICByZXR1cm4gaW5kZXg7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBnZXRQYXJzaW5nUnVsZTogZnVuY3Rpb24gZ2V0UGFyc2luZ1J1bGUoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICBQYXJzaW5nU2VydmljZS5nZXRQYXJzaW5nUnVsZSh0aGlzLiRyb3V0ZS5wYXJhbXMucGFyc2VyKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHZtLnNlbGVjdGVkUnVsZSA9IHJlc3BvbnNlLnJlc3VsdFswXTsKCiAgICAgICAgaWYgKCFfdGhpcy4kcm91dGUucGFyYW1zLmFjdGlvbikgewogICAgICAgICAgdm0ucnVsZU5hbWUgPSB2bS5zZWxlY3RlZFJ1bGUucGFyc2luZ1J1bGVzLm5hbWU7CiAgICAgICAgICB2bS5tYWlsYm94ID0gdm0uc2VsZWN0ZWRSdWxlLm1haWxib3guc3Vic3RyKDAsIHZtLnNlbGVjdGVkUnVsZS5tYWlsYm94LmluZGV4T2YoJ0AnKSk7CiAgICAgICAgfQoKICAgICAgICB2bS5ydWxlcyA9IHZtLnNlbGVjdGVkUnVsZS5wYXJzaW5nUnVsZXMucnVsZXM7CiAgICAgICAgdm0udHJpZ2dlciA9IHZtLnNlbGVjdGVkUnVsZS5wYXJzaW5nUnVsZXMudHJpZ2dlcjsKICAgICAgICB2bS5wYXJzZUZpbGVUeXBlID0gdm0uc2VsZWN0ZWRSdWxlLnBhcnNpbmdSdWxlcy5maWxlVHlwZTsKICAgICAgICB2bS5maWxlRXhpc3RzID0gdHJ1ZTsKCiAgICAgICAgaWYgKHZtLnRyaWdnZXIgPT0gJ3N1YmplY3QnKSB7CiAgICAgICAgICB2bS5maWxlTmFtZSA9IHZtLnNlbGVjdGVkUnVsZS5wYXJzaW5nUnVsZXMudmFsdWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZtLnBhcnNlRmlsZU5hbWUgPSB2bS5zZWxlY3RlZFJ1bGUucGFyc2luZ1J1bGVzLnBhcnNlRmlsZU5hbWU7CiAgICAgICAgfQoKICAgICAgICB2bS5ydWxlcy5tYXAoZnVuY3Rpb24gKHJ1bGUpIHsKICAgICAgICAgIGlmIChydWxlLmNoZWNrICYmIHJ1bGUuY2hlY2sgPT0gJ2N1c3RvbWVyQ3JlYXRlJykgewogICAgICAgICAgICBydWxlLmFjdGl2ZUxvY2F0aW9uID0gcnVsZS5pbnB1dC5sb2NhdGlvbjsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0TG9jYXRpb25PcHRpb25zOiBmdW5jdGlvbiBnZXRMb2NhdGlvbk9wdGlvbnMoKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIFVzZXJTZXJ2aWNlLmdldEFsbFVzZXJMb2NhdGlvbnMoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHJlc3BvbnNlLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgICAgdmFyIHNpbmdsZUxvY2F0aW9uID0gewogICAgICAgICAgICBsYWJlbDogZS5uYW1lLAogICAgICAgICAgICB2YWx1ZTogZS5sb2NhdGlvbklkLAogICAgICAgICAgICBhcGk6IGUuYXBpS2V5LAogICAgICAgICAgICBxc0VuYWJsZWQ6IGUucHJvcAogICAgICAgICAgfTsKICAgICAgICAgIHZtLmxvY2F0aW9uT3B0aW9ucy5wdXNoKHNpbmdsZUxvY2F0aW9uKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0U2FtcGxlTWFpbDogZnVuY3Rpb24gZ2V0U2FtcGxlTWFpbCgpIHsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgUGFyc2luZ1NlcnZpY2UuZ2V0U2FtcGxlTWFpbCgpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgdm0uc2FtcGxlRW1haWxzID0gcmVzcG9uc2UucmVzcG9uc2U7IC8vIGNvbnNvbGUubG9nKHZtLnNhbXBsZUVtYWlscyk7CiAgICAgIH0pOwogICAgfSwKICAgIGFkZEZpbGU6IGZ1bmN0aW9uIGFkZEZpbGUoZmlsZSkgewogICAgICB2YXIgdm0gPSB0aGlzOyAvLyBFdmVudFNlcnZpY2UuJGVtaXQoImxvYWRpbmciLCAic2hvdyIpOwoKICAgICAgaWYgKGZpbGUpIHsKICAgICAgICB2bS5maWxlRXhpc3RzID0gdHJ1ZTsKICAgICAgICB2bS5kaXNwbGF5U2FtcGxlcyA9IGZhbHNlOwogICAgICAgIHZtLnNlbGVjdGVkRmlsZSA9IGZpbGU7CiAgICAgICAgdmFyIGV4YW1wbGVGaWxlID0gZmlsZTsKICAgICAgICB2YXIgZmlsZU5hbWU7CgogICAgICAgIGlmIChleGFtcGxlRmlsZS5maWxlbmFtZS5pbmNsdWRlcygnLnppcCcpKSB7CiAgICAgICAgICBmaWxlTmFtZSA9IGV4YW1wbGVGaWxlLmZpbGVuYW1lLnN1YnN0cigwLCBleGFtcGxlRmlsZS5maWxlbmFtZS5sYXN0SW5kZXhPZignLicpKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZmlsZU5hbWUgPSBleGFtcGxlRmlsZS5maWxlbmFtZTsKICAgICAgICB9CgogICAgICAgIHZhciBmaWxlVHlwZSA9IGZpbGVOYW1lLnN1YnN0cihmaWxlTmFtZS5sYXN0SW5kZXhPZigiLiIpICsgMSk7CgogICAgICAgIGlmIChmaWxlVHlwZSA9PSAieGxzeCIgfHwgZmlsZVR5cGUgPT0gInhscyIpIHsKICAgICAgICAgIHZhciByQUJTID0gdHJ1ZTsKICAgICAgICAgIHZhciBkYXRhID0gYXRvYihleGFtcGxlRmlsZS5jb250ZW50KTsKICAgICAgICAgIGlmICghckFCUykgZGF0YSA9IG5ldyBVaW50OEFycmF5KGRhdGEpOwogICAgICAgICAgdmFyIHdvcmtib29rID0gWExTWC5yZWFkKGRhdGEsIHsKICAgICAgICAgICAgdHlwZTogckFCUyA/ICJiaW5hcnkiIDogImFycmF5IgogICAgICAgICAgfSk7CiAgICAgICAgICB2YXIgcHJvY2Vzc2VkWExTID0gWExTWC51dGlscy5zaGVldF90b19qc29uKHdvcmtib29rLlNoZWV0c1t3b3JrYm9vay5TaGVldE5hbWVzWzBdXSwgewogICAgICAgICAgICBoZWFkZXI6IDEKICAgICAgICAgIH0pLmZpbHRlcihmdW5jdGlvbiAocm93KSB7CiAgICAgICAgICAgIHJldHVybiByb3cubGVuZ3RoID4gMDsKICAgICAgICAgIH0pOwogICAgICAgICAgdmFyIG1heFNpemUgPSAwOwogICAgICAgICAgcHJvY2Vzc2VkWExTLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBpZiAoZS5sZW5ndGggPiBtYXhTaXplKSBtYXhTaXplID0gZS5sZW5ndGg7CiAgICAgICAgICB9KTsKICAgICAgICAgIHZhciBkaWZmID0gbWF4U2l6ZSAtIHByb2Nlc3NlZFhMU1swXS5sZW5ndGg7CgogICAgICAgICAgd2hpbGUgKGRpZmYgPiAwKSB7CiAgICAgICAgICAgIHByb2Nlc3NlZFhMU1swXS5wdXNoKCctJyk7CiAgICAgICAgICAgIGRpZmYgPSBtYXhTaXplIC0gcHJvY2Vzc2VkWExTWzBdLmxlbmd0aDsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAocHJvY2Vzc2VkWExTLmxlbmd0aCA+IDIwKSB7CiAgICAgICAgICAgIHZtLnJ1bGVzWzBdLmRhdGEgPSBwcm9jZXNzZWRYTFMuc3BsaWNlKDAsIDExKS5jb25jYXQocHJvY2Vzc2VkWExTLnNwbGljZSgtMTApKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZtLnJ1bGVzWzBdLmRhdGEgPSBwcm9jZXNzZWRYTFM7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChmaWxlVHlwZSA9PSAiY3N2IikgewogICAgICAgICAgdmFyIHByb2Nlc3NlZENTVjsKICAgICAgICAgIFBhcGEucGFyc2UoYXRvYihleGFtcGxlRmlsZS5jb250ZW50KSwgewogICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gY29tcGxldGUocmVzdWx0cykgewogICAgICAgICAgICAgIHByb2Nlc3NlZENTViA9IHJlc3VsdHMuZGF0YTsKCiAgICAgICAgICAgICAgaWYgKHByb2Nlc3NlZENTVi5sZW5ndGggPiAyMCkgewogICAgICAgICAgICAgICAgdm0ucnVsZXNbMF0uZGF0YSA9IHByb2Nlc3NlZENTVi5zcGxpY2UoMCwgMTEpLmNvbmNhdChwcm9jZXNzZWRDU1Yuc3BsaWNlKC0xMCkpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB2bS5ydWxlc1swXS5kYXRhID0gcHJvY2Vzc2VkQ1NWOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIGlmIChmaWxlVHlwZSA9PSAieG1sIikgewogICAgICAgICAgdmFyIGRhdGEgPSBhdG9iKGV4YW1wbGVGaWxlLmNvbnRlbnQpOwogICAgICAgICAgdm0uY29udmVydFhNTChkYXRhKTsKICAgICAgICB9IGVsc2UgaWYgKGZpbGVUeXBlID09ICJ0eHQiKSB7CiAgICAgICAgICB2YXIgZGF0YSA9IGF0b2IoZXhhbXBsZUZpbGUuY29udGVudCk7CiAgICAgICAgICB2YXIgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgdmFyIG5ld0RvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoSlNPTi5wYXJzZShkYXRhKSwgInRleHQvaHRtbCIpOwogICAgICAgICAgdmFyIHRlc3QgPSBuZXdEb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRyIik7CgogICAgICAgICAgdmFyIG5ld0FyciA9IF90b0NvbnN1bWFibGVBcnJheSh0ZXN0KTsKCiAgICAgICAgICB2YXIgY3VzdG9tZXJMaXN0ID0gW107CiAgICAgICAgICB2YXIgaGVhZGVyQXJyID0gW107CiAgICAgICAgICBuZXdBcnIubWFwKGZ1bmN0aW9uIChnKSB7CiAgICAgICAgICAgIHZhciBoZWFkZXJzID0gZy5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGgiKTsKCiAgICAgICAgICAgIGlmIChoZWFkZXJzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICBoZWFkZXJBcnIucHVzaChfdG9Db25zdW1hYmxlQXJyYXkoaGVhZGVycykpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICAgIHZhciBoZWFkZXJzTGlzdCA9IFtdOwogICAgICAgICAgaGVhZGVyQXJyLm1hcChmdW5jdGlvbiAoaCkgewogICAgICAgICAgICBoLm1hcChmdW5jdGlvbiAoZykgewogICAgICAgICAgICAgIGhlYWRlcnNMaXN0LnB1c2goZy5pbm5lckhUTUwpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgICAgdmFyIG5leHRBcnIgPSBbXTsKICAgICAgICAgIG5ld0Fyci5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgdmFyIHRlc3RpbmcgPSBlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0ZCIpOwogICAgICAgICAgICB2YXIgY3VzdG9tZXIgPSB7fTsKCiAgICAgICAgICAgIHZhciBuZXh0QXJyYXkgPSBfdG9Db25zdW1hYmxlQXJyYXkodGVzdGluZyk7CgogICAgICAgICAgICBuZXh0QXJyYXkubWFwKGZ1bmN0aW9uIChmLCBpKSB7CiAgICAgICAgICAgICAgdmFyIGhlYWRlciA9IGhlYWRlcnNMaXN0W2ldOwogICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGYudGV4dENvbnRlbnQ7CiAgICAgICAgICAgICAgY3VzdG9tZXJbaGVhZGVyXSA9IHZhbHVlOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhjdXN0b21lcikubGVuZ3RoID4gMykgewogICAgICAgICAgICAgIGN1c3RvbWVyTGlzdC5wdXNoKGN1c3RvbWVyKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgICB2YXIgY3N2VmVyc2lvbiA9IFBhcGEudW5wYXJzZShjdXN0b21lckxpc3QpOwogICAgICAgICAgdmFyIGpzb25WZXJzaW9uID0gUGFwYS5wYXJzZShjc3ZWZXJzaW9uKTsKICAgICAgICAgIGpzb25WZXJzaW9uID0ganNvblZlcnNpb24uZGF0YTsKCiAgICAgICAgICBpZiAoanNvblZlcnNpb24ubGVuZ3RoID4gMjApIHsKICAgICAgICAgICAgdm0ucnVsZXNbMF0uZGF0YSA9IGpzb25WZXJzaW9uLnNwbGljZSgwLCAxMSkuY29uY2F0KGpzb25WZXJzaW9uLnNwbGljZSgtMTApKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZtLnJ1bGVzWzBdLmRhdGEgPSBqc29uVmVyc2lvbjsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS5sb2coIkVycm9yLCB0aGlzIGhhcyBiZWVuIHJlamVjdGVkIGZvciBpbmNvcnJlY3QgZmlsZSB0eXBlLiIpOwogICAgICAgIH0KCiAgICAgICAgaWYgKHZtLnJ1bGVzICYmIHZtLnJ1bGVzLmxlbmd0aCA+IDEpIHsKICAgICAgICAgIHZtLnJ1bGVzLm1hcChmdW5jdGlvbiAocnVsZSwgaSkgewogICAgICAgICAgICBpZiAoaSA+IDApIHsKICAgICAgICAgICAgICBydWxlLmRhdGEubWFwKGZ1bmN0aW9uIChkYXRhc2V0KSB7CiAgICAgICAgICAgICAgICBpZiAoZGF0YXNldCAmJiBkYXRhc2V0Lmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgdm0uY2hhbmdlRmlsdGVyKGksIHJ1bGUub3B0aW9uLCBydWxlLmlucHV0KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgcGFyc2VCb2R5OiBmdW5jdGlvbiBwYXJzZUJvZHkoZW1haWwpIHsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgdm0uZmlsZUV4aXN0cyA9IHRydWU7CiAgICAgIHZtLmRpc3BsYXlTYW1wbGVzID0gZmFsc2U7CiAgICAgIHZtLnNlbGVjdGVkRmlsZSA9IGVtYWlsOwogICAgICB2YXIgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICB2YXIgaHRtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoZW1haWwsICd0ZXh0L2h0bWwnKTsKICAgICAgdmFyIHBBcnJheSA9IEFycmF5LmZyb20oaHRtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgncCcpKTsKICAgICAgdmFyIHVzYWJsZURhdGEgPSBwQXJyYXlbNF0uaW5uZXJIVE1MLnNwbGl0KCcmbHQ7Jyk7CiAgICAgIHZhciBjdXN0b21lcnNMaXN0ID0gW107CiAgICAgIHVzYWJsZURhdGEubWFwKGZ1bmN0aW9uIChwdGFnLCBpKSB7CiAgICAgICAgY3VzdG9tZXJzTGlzdC5wdXNoKHB0YWcuc3Vic3RyaW5nKHB0YWcuaW5kZXhPZignPGJyPicpKS5yZXBsYWNlKC88YSBocmVmPSJtYWlsdG86L2dpLCAnJykucmVwbGFjZSgnIj4nLCAnICcpLnJlcGxhY2UoLzxcL2E+L2dpLCAnJykucmVwbGFjZSgvIC0vZ2ksICcnKS5yZXBsYWNlKC8tL2dpLCAnJykucmVwbGFjZSgvIDxicj4vZ2ksICcnKS5yZXBsYWNlKC88YnI+L2dpLCAnJykucmVwbGFjZSgvICZhbXA7L2dpLCAnJykucmVwbGFjZSgvJmFtcDsvZ2ksICcnKS5zcGxpdCgnICcpKTsgLy8gY29uc29sZS5sb2codHlwZW9mIHB0YWcsIHB0YWcpOwogICAgICB9KTsKCiAgICAgIGlmIChjdXN0b21lcnNMaXN0Lmxlbmd0aCA+IDEwMCkgewogICAgICAgIHZtLnJ1bGVzWzBdLmRhdGEgPSBjdXN0b21lcnNMaXN0LnNwbGljZSgwLCA1MCkuY29uY2F0KGN1c3RvbWVyc0xpc3Quc3BsaWNlKC01MCkpOwogICAgICB9IGVsc2UgewogICAgICAgIHZtLnJ1bGVzWzBdLmRhdGEgPSBjdXN0b21lcnNMaXN0OwogICAgICB9IC8vIGxldCBwYXJzZWRDdXN0b21lcnMgPSBbXTsKICAgICAgLy8gbGV0IHBhcnNlZERhdGEgPSBQYXBhLnBhcnNlKGVtYWlsLCB7ZGVsaW1ldGVyOiAnXFxuJ30pOwogICAgICAvLyBsZXQgdW5wYXJzZWREYXRhID0gUGFwYS51bnBhcnNlKHBhcnNlZERhdGEuZGF0YSk7CiAgICAgIC8vIGxldCBuZXdQYXJzZURhdGEgPSB1bnBhcnNlZERhdGEuc3BsaXQoJ1xuJyk7CiAgICAgIC8vIGxldCBjdXN0b21lcnNMaXN0ID0gW107CiAgICAgIC8vIG5ld1BhcnNlRGF0YS5tYXAoZSA9PiB7CiAgICAgIC8vICAgZSA9IGUucmVwbGFjZSgnXG4nLCAnJykKICAgICAgLy8gICBsZXQgZGF0YSA9IGUuc3BsaXQoJyAnKTsKICAgICAgLy8gICBpZihkYXRhLmxlbmd0aCA+IDMpIHsKICAgICAgLy8gICAgIGN1c3RvbWVyc0xpc3QucHVzaChkYXRhKTsKICAgICAgLy8gICB9CiAgICAgIC8vIH0pOwogICAgICAvLyAvLyBjb25zb2xlLmxvZyhwYXJzZWRDdXN0b21lcnMpOwogICAgICAvLyBpZiAoY3VzdG9tZXJzTGlzdC5sZW5ndGggPiAxMDApIHsKICAgICAgLy8gICB2bS5ydWxlc1swXS5kYXRhID0gY3VzdG9tZXJzTGlzdAogICAgICAvLyAgICAgLnNwbGljZSgwLCA1MCkKICAgICAgLy8gICAgIC5jb25jYXQoY3VzdG9tZXJzTGlzdC5zcGxpY2UoLTUwKSk7CiAgICAgIC8vIH0gZWxzZSB7CiAgICAgIC8vICAgdm0ucnVsZXNbMF0uZGF0YSA9IGN1c3RvbWVyc0xpc3Q7CiAgICAgIC8vIH0KICAgICAgLy8gYmFjayBlbmQgcG90ZW50aWFsIHByb2Nlc3MuCiAgICAgIC8vIGxldCBsaW5lcyA9IGVtYWlsLnNwbGl0KCdcXG4nKTsKICAgICAgLy8gbGV0IHBhcnNlZExpbmVzID0gW10KICAgICAgLy8gbGluZXMubWFwKChsKSA9PiB7CiAgICAgIC8vICAgaWYgKGwubGVuZ3RoID4gMTApIHsKICAgICAgLy8gICAgIGxldCBzcGxpdExpbmUgPSBsLnNwbGl0KCcgJyk7CiAgICAgIC8vICAgICBsZXQgcGFyc2VkTGluZSA9IFtdOwogICAgICAvLyAgICAgc3BsaXRMaW5lLm1hcCgocykgPT4gewogICAgICAvLyAgICAgICBpZiAocyAmJiBzLmxlbmd0aCA+IDIpIHsKICAgICAgLy8gICAgICAgICBwYXJzZWRMaW5lLnB1c2gocyk7CiAgICAgIC8vICAgICAgIH0KICAgICAgLy8gICAgIH0pCiAgICAgIC8vICAgICBwYXJzZWRMaW5lcy5wdXNoKHBhcnNlZExpbmUpOwogICAgICAvLyAgIH0KICAgICAgLy8gfSkKICAgICAgLy8gICBpZiAocGFyc2VkTGluZXMubGVuZ3RoID4gMTAwKSB7CiAgICAgIC8vICAgICB2bS5ydWxlc1swXS5kYXRhID0gcGFyc2VkTGluZXMKICAgICAgLy8gICAgICAgLnNwbGljZSgwLCA1MCkKICAgICAgLy8gICAgICAgLmNvbmNhdChwYXJzZWRMaW5lcy5zcGxpY2UoLTUwKSk7CiAgICAgIC8vICAgfSBlbHNlIHsKICAgICAgLy8gICAgIHZtLnJ1bGVzWzBdLmRhdGEgPSBwYXJzZWRMaW5lczsKICAgICAgLy8gICB9CgogICAgfSwKICAgIGNvbnZlcnRYTUw6IGZ1bmN0aW9uIGNvbnZlcnRYTUwoeG1sKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIHZhciBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7CiAgICAgIHZhciB4bWxEb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKHhtbCwgInRleHQveG1sIik7CiAgICAgIHZhciB4bWxBcnIgPSB4bWxEb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIlJvdyIpOwoKICAgICAgdmFyIG5ld1hNTEFyciA9IF90b0NvbnN1bWFibGVBcnJheSh4bWxBcnIpOwoKICAgICAgdmFyIGN1c3RvbWVyTGlzdCA9IFtdOwogICAgICBuZXdYTUxBcnIubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIGN1c3RvbWVyID0ge307CgogICAgICAgIHZhciB0ZXN0ID0gX3RvQ29uc3VtYWJsZUFycmF5KGUuYXR0cmlidXRlcyk7CgogICAgICAgIHRlc3QubWFwKGZ1bmN0aW9uIChmKSB7CiAgICAgICAgICB2YXIgaGVhZGVyID0gZi5uYW1lOwogICAgICAgICAgdmFyIHZhbHVlID0gZi5ub2RlVmFsdWU7CiAgICAgICAgICBjdXN0b21lcltoZWFkZXJdID0gdmFsdWU7CiAgICAgICAgfSk7CiAgICAgICAgY3VzdG9tZXJMaXN0LnB1c2goY3VzdG9tZXIpOwogICAgICB9KTsKICAgICAgdmFyIGNzdlZlcnNpb24gPSBQYXBhLnVucGFyc2UoY3VzdG9tZXJMaXN0KTsKICAgICAgdmFyIGpzb25WZXJzaW9uID0gUGFwYS5wYXJzZShjc3ZWZXJzaW9uKTsKICAgICAganNvblZlcnNpb24gPSBqc29uVmVyc2lvbi5kYXRhOwoKICAgICAgaWYgKGpzb25WZXJzaW9uLmxlbmd0aCA+IDIwKSB7CiAgICAgICAgdm0ucnVsZXNbMF0uZGF0YSA9IGpzb25WZXJzaW9uLnNwbGljZSgwLCAxMSkuY29uY2F0KGpzb25WZXJzaW9uLnNwbGljZSgtMTApKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2bS5ydWxlc1swXS5kYXRhID0ganNvblZlcnNpb247CiAgICAgIH0KICAgIH0sCiAgICBhZGRSdWxlOiBmdW5jdGlvbiBhZGRSdWxlKGluZGV4KSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIHZtLnJ1bGVzLnNwbGljZShpbmRleCArIDEsIDAsIHsKICAgICAgICBkYXRhOiBbXSwKICAgICAgICBvcHRpb246ICIiLAogICAgICAgIGlucHV0OiB7fQogICAgICB9KTsKICAgIH0sCiAgICBhZGRDdXN0b21lclJ1bGU6IGZ1bmN0aW9uIGFkZEN1c3RvbWVyUnVsZSgpIHsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgdm0ucnVsZXMucHVzaCh7CiAgICAgICAgcnVsZTogdm0ucnVsZXMubGVuZ3RoICsgMSwKICAgICAgICBjaGVjazogImN1c3RvbWVyQ3JlYXRlIiwKICAgICAgICBkYXRhOiBbXSwKICAgICAgICBvcHRpb246ICJwcm9jZXNzQ3VzdG9tZXJzIiwKICAgICAgICBpbnB1dDoge30KICAgICAgfSk7CiAgICB9LAogICAgcmVtb3ZlUnVsZTogZnVuY3Rpb24gcmVtb3ZlUnVsZShpbmRleCkgewogICAgICB0aGlzLnJ1bGVzLnNwbGljZShpbmRleCwgMSk7CiAgICB9LAogICAgY2hhbmdlTG9jYXRpb246IGZ1bmN0aW9uIGNoYW5nZUxvY2F0aW9uKGluZGV4LCBsb2NhdGlvbkRhdGEpIHsKICAgICAgdmFyIHZtID0gdGhpczsKCiAgICAgIGlmICh2bS5ydWxlc1tpbmRleF0uaW5wdXQubG9jYXRpb24gIT0gbG9jYXRpb25EYXRhKSB7CiAgICAgICAgdm0ucnVsZXNbaW5kZXhdLmlucHV0LmxvY2F0aW9uID0gbG9jYXRpb25EYXRhOwoKICAgICAgICBpZiAobG9jYXRpb25EYXRhICYmIGxvY2F0aW9uRGF0YS5xc0VuYWJsZWQpIHsKICAgICAgICAgIEF1dG9tYXRpb25TZXJ2aWNlLmdldEF1dG9tYXRpb25zQnlMb2NhdGlvbihsb2NhdGlvbkRhdGEudmFsdWUpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIHZhciBxU2VsZWN0ID0gW107CiAgICAgICAgICAgIHJlc3BvbnNlLnJlc3VsdC5tYXAoZnVuY3Rpb24gKGF1dG8pIHsKICAgICAgICAgICAgICBxU2VsZWN0LnB1c2goYXV0by5pZGVudGlmaWVyKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHZtLnFTZWxlY3Rpb24gPSBxU2VsZWN0OwogICAgICAgICAgfSk7IC8vIExvY2F0aW9uU2VydmljZS5nZXRMb2NhdGlvbihsb2NhdGlvbkRhdGEudmFsdWUpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgLy8gbGV0IHRvdGFsUXMgPSByZXNwb25zZS5xdWVzdGlvbgogICAgICAgICAgLy8gbGV0IGF1dG9tYXRpb25zID0gcmVzcG9uc2UuYXV0b21hdGlvbnM7CiAgICAgICAgICAvLyBhdXRvbWF0aW9ucy5tYXAoYXV0byA9PiB7CiAgICAgICAgICAvLyAgIHZtLnFTZWxlY3Rpb24ucHVzaChhdXRvbWF0aW9uLmlkZW50aWZpZXIpCiAgICAgICAgICAvLyB9KQogICAgICAgICAgLy8gfSkKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBjaGFuZ2VGaWx0ZXI6IGZ1bmN0aW9uIGNoYW5nZUZpbHRlcihpbmRleCwgb3B0aW9uLCBpbnB1dCkgewogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICB2YXIgcHJldmlvdXNEYXRhOwoKICAgICAgaWYgKHZtLnJ1bGVzW2luZGV4IC0gMV0uY2hlY2sgJiYgdm0ucnVsZXNbaW5kZXggLSAxXS5jaGVjayA9PSAiY3VzdG9tZXJDcmVhdGUiKSB7CiAgICAgICAgcHJldmlvdXNEYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh2bS5ydWxlc1swXS5kYXRhKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcHJldmlvdXNEYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh2bS5ydWxlc1tpbmRleCAtIDFdLmRhdGEpKTsKICAgICAgfSAvLyBjb25zb2xlLmxvZyguLi5hcmd1bWVudHMpOwoKCiAgICAgIHN3aXRjaCAob3B0aW9uKSB7CiAgICAgICAgY2FzZSAicm93QnlWYWwiOgogICAgICAgICAgaWYgKGlucHV0ICYmIGlucHV0LnZhbHVlMSAmJiBpbnB1dC50eXBlICYmIGlucHV0LnZhbHVlMikgewogICAgICAgICAgICBpZiAoaW5wdXQudHlwZSA9PSAiY29uVGVybSIpIHsKICAgICAgICAgICAgICB2bS5ydWxlc1tpbmRleF0uZGF0YSA9IHByZXZpb3VzRGF0YS5maWx0ZXIoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgIHJldHVybiBlW2lucHV0LnZhbHVlMV0udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh0eXBlb2YgaW5wdXQudmFsdWUyID09ICdzdHJpbmcnID8gaW5wdXQudmFsdWUyLnRvTG93ZXJDYXNlKCkgOiBpbnB1dC52YWx1ZTIpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnR5cGUgPT0gIm5vQ29uVGVybSIpIHsKICAgICAgICAgICAgICAwOwogICAgICAgICAgICAgIHZtLnJ1bGVzW2luZGV4XS5kYXRhID0gcHJldmlvdXNEYXRhLmZpbHRlcihmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgcmV0dXJuICFlW2lucHV0LnZhbHVlMV0udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh0eXBlb2YgaW5wdXQudmFsdWUyID09ICdzdHJpbmcnID8gaW5wdXQudmFsdWUyLnRvTG93ZXJDYXNlKCkgOiBpbnB1dC52YWx1ZTIpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgaWYgKGlucHV0ICYmIGlucHV0LnZhbHVlMSAmJiBpbnB1dC50eXBlKSB7CiAgICAgICAgICAgIGlmIChpbnB1dC50eXBlID09ICJoYXNWYWwiKSB7CiAgICAgICAgICAgICAgdm0ucnVsZXNbaW5kZXhdLmRhdGEgPSBwcmV2aW91c0RhdGEuZmlsdGVyKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZVtpbnB1dC52YWx1ZTFdOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnR5cGUgPT0gImlzV29yZCIpIHsKICAgICAgICAgICAgICB2bS5ydWxlc1tpbmRleF0uZGF0YSA9IHByZXZpb3VzRGF0YS5maWx0ZXIoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgIC8vIE5lZWRzIG1vcmUgd29yayB0byBkZXRlcm1pbmUgaWYgc3RyaW5nIG9yIG5vdC4KICAgICAgICAgICAgICAgIHJldHVybiBlW2lucHV0LnZhbHVlMV0gJiYgdHlwZW9mIGVbaW5wdXQudmFsdWUxXSA9PSAic3RyaW5nIiAmJiBlW2lucHV0LnZhbHVlMV0udHJpbSgpLmluZGV4T2YoIiAiKSA9PSAtMTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dC50eXBlID09ICJpc051bSIpIHsKICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhwcmV2aW91c0RhdGEpOwogICAgICAgICAgICAgIHZtLnJ1bGVzW2luZGV4XS5kYXRhID0gcHJldmlvdXNEYXRhLmZpbHRlcihmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KGVbaW5wdXQudmFsdWUxXSk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZtLnJ1bGVzW2luZGV4XS5kYXRhID0gcHJldmlvdXNEYXRhOwogICAgICAgICAgfQoKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJyb3dCeUxlbiI6CiAgICAgICAgICBpZiAoaW5wdXQgJiYgaW5wdXQudmFsdWUpIHsKICAgICAgICAgICAgdm0ucnVsZXNbaW5kZXhdLmRhdGEgPSBwcmV2aW91c0RhdGEuZmlsdGVyKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgaWYgKGUpIHsKICAgICAgICAgICAgICAgIHJldHVybiBlLmxlbmd0aCA9PSBpbnB1dC52YWx1ZTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdm0ucnVsZXNbaW5kZXhdLmRhdGEgPSBwcmV2aW91c0RhdGE7CiAgICAgICAgICB9CgogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgInJvd0J5VmFsTGVuIjoKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJyb3dCeUNvbExlbiI6CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAicm93UmFuZ2UiOgogICAgICAgICAgaWYgKGlucHV0ICYmIGlucHV0LnR5cGUpIHsKICAgICAgICAgICAgaWYgKGlucHV0LnR5cGUgPT0gInJlbW92ZSIpIHsKICAgICAgICAgICAgICBpZiAoaW5wdXQudmFsdWUxICYmIGlucHV0LnZhbHVlMikgewogICAgICAgICAgICAgICAgdmFyIG5ld1ZhbHVlcyA9IHByZXZpb3VzRGF0YS5zbGljZShpbnB1dC52YWx1ZTEsIHZtLnJ1bGVzW2luZGV4IC0gMV0uZGF0YS5sZW5ndGggLSBpbnB1dC52YWx1ZTIpOwogICAgICAgICAgICAgICAgdm0ucnVsZXNbaW5kZXhdLmRhdGEgPSBuZXdWYWx1ZXM7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnR5cGUgPT0gImZpeCIpIHsKICAgICAgICAgICAgICBpZiAoaW5wdXQudmFsdWUxICYmIGlucHV0LnZhbHVlMikgewogICAgICAgICAgICAgICAgdmFyIF9uZXdWYWx1ZXMgPSBwcmV2aW91c0RhdGEuc2xpY2UoaW5wdXQudmFsdWUxLCBpbnB1dC52YWx1ZTIgLSBpbnB1dC52YWx1ZTEgKyAxKTsKCiAgICAgICAgICAgICAgICB2bS5ydWxlc1tpbmRleF0uZGF0YSA9IF9uZXdWYWx1ZXM7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB2bS5ydWxlc1tpbmRleF0uZGF0YSA9IHByZXZpb3VzRGF0YTsKICAgICAgICAgIH0KCiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAiY29sUmFuZ2UiOgogICAgICAgICAgaWYgKGlucHV0ICYmIGlucHV0LnR5cGUpIHsKICAgICAgICAgICAgaWYgKGlucHV0LnR5cGUgPT0gInJlbW92ZSIpIHsKICAgICAgICAgICAgICBpZiAoaW5wdXQudmFsdWUxICYmIGlucHV0LnZhbHVlMikgewogICAgICAgICAgICAgICAgdmFyIF9uZXdWYWx1ZXMyID0gW107CiAgICAgICAgICAgICAgICB2bS5ydWxlc1tpbmRleCAtIDFdLmRhdGEubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgIF9uZXdWYWx1ZXMyLnB1c2goZS5zbGljZShpbnB1dC52YWx1ZTEsIGUubGVuZ3RoIC0gaW5wdXQudmFsdWUyKSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHZtLnJ1bGVzW2luZGV4XS5kYXRhID0gX25ld1ZhbHVlczI7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgaWYgKGlucHV0LnR5cGUgPT0gImZpeCIpIHsKICAgICAgICAgICAgICBpZiAoaW5wdXQudmFsdWUxICYmIGlucHV0LnZhbHVlMikgewogICAgICAgICAgICAgICAgdmFyIF9uZXdWYWx1ZXMzID0gW107CiAgICAgICAgICAgICAgICB2bS5ydWxlc1tpbmRleCAtIDFdLmRhdGEubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgIF9uZXdWYWx1ZXMzLnB1c2goZS5zbGljZShpbnB1dC52YWx1ZTEsIGlucHV0LnZhbHVlMikpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB2bS5ydWxlc1tpbmRleF0uZGF0YSA9IF9uZXdWYWx1ZXMzOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdm0ucnVsZXNbaW5kZXhdLmRhdGEgPSBwcmV2aW91c0RhdGE7CiAgICAgICAgICB9CgogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgInJlbUNvbCI6CiAgICAgICAgICBpZiAoaW5wdXQgJiYgKGlucHV0LnZhbHVlMSB8fCBpbnB1dC52YWx1ZTIgfHwgaW5wdXQudmFsdWUzIHx8IGlucHV0LnZhbHVlNCB8fCBpbnB1dC52YWx1ZTUpKSB7CiAgICAgICAgICAgIHZhciBfbmV3VmFsdWVzNCA9IHZtLnJ1bGVzW2luZGV4IC0gMV0uZGF0YTsKICAgICAgICAgICAgdmFyIGlucHV0S2V5cyA9IE9iamVjdC5rZXlzKGlucHV0KTsKICAgICAgICAgICAgaW5wdXRLZXlzLm1hcChmdW5jdGlvbiAoaW5wdXRWYWwsIGcpIHsKICAgICAgICAgICAgICBfbmV3VmFsdWVzNCA9IF9uZXdWYWx1ZXM0Lm1hcChmdW5jdGlvbiAoZSwgaSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGUuZmlsdGVyKGZ1bmN0aW9uICh4LCBqKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBqICE9IHBhcnNlSW50KGlucHV0W2lucHV0VmFsXSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHZtLnJ1bGVzW2luZGV4XS5kYXRhID0gX25ld1ZhbHVlczQ7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB2bS5ydWxlc1tpbmRleF0uZGF0YSA9IHByZXZpb3VzRGF0YTsKICAgICAgICAgIH0KCiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAicmVtUm93IjoKICAgICAgICAgIGlmIChpbnB1dCAmJiAoaW5wdXQudmFsdWUxIHx8IGlucHV0LnZhbHVlMiB8fCBpbnB1dC52YWx1ZTMgfHwgaW5wdXQudmFsdWU0IHx8IGlucHV0LnZhbHVlNSkpIHsKICAgICAgICAgICAgdmFyIG5ld0RhdGEgPSBwcmV2aW91c0RhdGE7CgogICAgICAgICAgICB2YXIgX2lucHV0S2V5cyA9IE9iamVjdC5rZXlzKGlucHV0KTsKCiAgICAgICAgICAgIF9pbnB1dEtleXMubWFwKGZ1bmN0aW9uIChpbnB1dFZhbCkgewogICAgICAgICAgICAgIG5ld0RhdGEgPSBuZXdEYXRhLmZpbHRlcihmdW5jdGlvbiAoZSwgaSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGkgIT0gcGFyc2VJbnQoaW5wdXRbaW5wdXRWYWxdKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICB2bS5ydWxlc1tpbmRleF0uZGF0YSA9IG5ld0RhdGE7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB2bS5ydWxlc1tpbmRleF0uZGF0YSA9IHByZXZpb3VzRGF0YTsKICAgICAgICAgIH0KCiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAiZXhwbG9kZUNvbCI6CiAgICAgICAgICBpZiAoaW5wdXQgJiYgaW5wdXQudHlwZSAmJiBpbnB1dC52YWx1ZSkgewogICAgICAgICAgICB2YXIgY29sTGVuZ3RocyA9IFtdOwogICAgICAgICAgICB2bS5ydWxlc1tpbmRleCAtIDFdLmRhdGEubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgaWYgKGVbaW5wdXQudHlwZV0pIHsKICAgICAgICAgICAgICAgIGNvbExlbmd0aHMucHVzaChlW2lucHV0LnR5cGVdLnNwbGl0KGlucHV0LnZhbHVlKS5sZW5ndGgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHZhciBuZXdDb2xOdW0gPSBNYXRoLm1heC5hcHBseShNYXRoLCBjb2xMZW5ndGhzKTsKICAgICAgICAgICAgdmFyIF9uZXdWYWx1ZXM1ID0gcHJldmlvdXNEYXRhOwoKICAgICAgICAgICAgX25ld1ZhbHVlczUubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgaWYgKGVbaW5wdXQudHlwZV0pIHsKICAgICAgICAgICAgICAgIHZhciBuZXdDb2x1bW5zID0gZVtpbnB1dC50eXBlXS5zcGxpdChpbnB1dC52YWx1ZSk7CgogICAgICAgICAgICAgICAgaWYgKG5ld0NvbHVtbnMubGVuZ3RoICE9IG5ld0NvbE51bSkgewogICAgICAgICAgICAgICAgICBuZXdDb2x1bW5zLmxlbmd0aCA9IG5ld0NvbE51bTsKICAgICAgICAgICAgICAgICAgbmV3Q29sdW1ucy5maWxsKDAsIG5ld0NvbHVtbnMubGVuZ3RoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBlLnNwbGljZS5hcHBseShlLCBbaW5wdXQudHlwZSwgMV0uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShuZXdDb2x1bW5zKSkpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CgogICAgICAgICAgICB2bS5ydWxlc1tpbmRleF0uZGF0YSA9IF9uZXdWYWx1ZXM1OwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdm0ucnVsZXNbaW5kZXhdLmRhdGEgPSB2bS5ydWxlc1tpbmRleCAtIDFdLmRhdGE7CiAgICAgICAgICB9CgogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgIm1lcmdlQ29sIjoKICAgICAgICAgIGlmIChpbnB1dCAmJiBpbnB1dC52YWx1ZTEgJiYgaW5wdXQudmFsdWUyKSB7CiAgICAgICAgICAgIHZhciBpbnB1dDEgPSBwYXJzZUludChpbnB1dC52YWx1ZTEpOwogICAgICAgICAgICB2YXIgaW5wdXQyID0gcGFyc2VJbnQoaW5wdXQudmFsdWUyKTsKICAgICAgICAgICAgdmFyIG5ld0FycmF5ID0gW107CiAgICAgICAgICAgIHZhciBfbmV3VmFsdWVzNiA9IHByZXZpb3VzRGF0YTsKCiAgICAgICAgICAgIF9uZXdWYWx1ZXM2Lm1hcChmdW5jdGlvbiAoeCkgewogICAgICAgICAgICAgIHZhciBuZXdJdGVtID0geC5zbGljZShpbnB1dDEsIGlucHV0MiArIDEpLmpvaW4oKS5yZXBsYWNlKCIsIiwgIiwgIik7CiAgICAgICAgICAgICAgeC5zcGxpY2UoaW5wdXQxLCBpbnB1dDIgKyAxIC0gaW5wdXQxLCBuZXdJdGVtKTsKICAgICAgICAgICAgICBuZXdBcnJheS5wdXNoKHgpOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIHZtLnJ1bGVzW2luZGV4XS5kYXRhID0gbmV3QXJyYXk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB2bS5ydWxlc1tpbmRleF0uZGF0YSA9IHZtLnJ1bGVzW2luZGV4IC0gMV0uZGF0YTsKICAgICAgICAgIH0KCiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAic2VhcmNoUmVwbGFjZSI6CiAgICAgICAgICBpZiAoaW5wdXQgJiYgaW5wdXQudmFsdWUxICYmIGlucHV0LnZhbHVlMikgewogICAgICAgICAgICB2YXIgX2lucHV0ID0gcGFyc2VJbnQoaW5wdXQudmFsdWUxKTsKCiAgICAgICAgICAgIGlmICghaW5wdXQudmFsdWUzKSBpbnB1dC52YWx1ZTMgPSAiIjsKICAgICAgICAgICAgdmFyIF9uZXdWYWx1ZXM3ID0gcHJldmlvdXNEYXRhOwoKICAgICAgICAgICAgX25ld1ZhbHVlczcubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgZVtfaW5wdXRdID0gZVtfaW5wdXRdLnRvU3RyaW5nKCkucmVwbGFjZShpbnB1dC52YWx1ZTIsIGlucHV0LnZhbHVlMyk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgdm0ucnVsZXNbaW5kZXhdLmRhdGEgPSBfbmV3VmFsdWVzNzsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZtLnJ1bGVzW2luZGV4XS5kYXRhID0gdm0ucnVsZXNbaW5kZXggLSAxXS5kYXRhOwogICAgICAgICAgfQoKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJmb3JtRGF0ZXMiOgogICAgICAgICAgaWYgKGlucHV0ICYmIGlucHV0LnZhbHVlMSAmJiBpbnB1dC52YWx1ZTIpIHsKICAgICAgICAgICAgYWxlcnQoIkNhbid0IGRvIHRoaXMgb3BlcmF0aW9uIGF0IHRoaXMgdGltZSB1bnRpbCB3ZSBzdGFuZGFyZGl6ZSB3aGF0IGRhdGVzIHdlIHdhbnQgY29taW5nIGluLCBpZiB3ZSBkbyB3YW50IHRvIGNhcHR1cmUgdGhhdCBkYXRhLiIpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdm0ucnVsZXNbaW5kZXhdLmRhdGEgPSB2bS5ydWxlc1tpbmRleCAtIDFdLmRhdGE7CiAgICAgICAgICB9CgogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgInByb2Nlc3NDdXN0b21lcnMiOgogICAgICAgICAgaWYgKGlucHV0LmVtYWlsIHx8IGlucHV0LnBob25lKSB7CiAgICAgICAgICAgIHZhciBkYXRhID0gcHJldmlvdXNEYXRhOwogICAgICAgICAgICB2YXIgY3VzdG9tZXJMaXN0ID0gW107CiAgICAgICAgICAgIGRhdGEubWFwKGZ1bmN0aW9uIChjdXN0b21lcikgewogICAgICAgICAgICAgIHZhciBuZXdDdXN0b21lciA9IHsKICAgICAgICAgICAgICAgIGZpcnN0bmFtZTogaW5wdXQuZmlyc3RuYW1lID8gY3VzdG9tZXJbaW5wdXQuZmlyc3RuYW1lXSA6ICIiLAogICAgICAgICAgICAgICAgbGFzdG5hbWU6IGlucHV0Lmxhc3RuYW1lID8gY3VzdG9tZXJbaW5wdXQubGFzdG5hbWVdIDogIiIsCiAgICAgICAgICAgICAgICBlbWFpbDogaW5wdXQuZW1haWwgPyBjdXN0b21lcltpbnB1dC5lbWFpbF0gOiAiIiwKICAgICAgICAgICAgICAgIHBob25lOiBpbnB1dC5waG9uZSA/IGN1c3RvbWVyW2lucHV0LnBob25lXSA6ICIiLAogICAgICAgICAgICAgICAgbm90ZXM6IGlucHV0Lm5vdGVzID8gY3VzdG9tZXJbaW5wdXQubm90ZXNdIDogIiIKICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICBpZiAoaW5wdXQubm90ZXMgPT0gJ0N1c3RvbScpIHsKICAgICAgICAgICAgICAgIG5ld0N1c3RvbWVyLm5vdGVzID0gaW5wdXQuY3VzdG9tTm90ZTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGN1c3RvbWVyTGlzdC5wdXNoKG5ld0N1c3RvbWVyKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHZtLnJ1bGVzW2luZGV4XS5kYXRhID0gY3VzdG9tZXJMaXN0OwogICAgICAgICAgfQoKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgaWYgKGlucHV0ICYmIGlucHV0LnZhbHVlKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGlucHV0LnZhbHVlKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZtLnJ1bGVzW2luZGV4XS5kYXRhID0gdm0ucnVsZXNbaW5kZXggLSAxXS5kYXRhOwogICAgICAgICAgfQoKICAgICAgfQoKICAgICAgaWYgKGluZGV4ICE9IHZtLnJ1bGVzLmxlbmd0aCAtIDEpIHsKICAgICAgICB2bS5ydWxlcy5tYXAoZnVuY3Rpb24gKGUsIGkpIHsKICAgICAgICAgIGlmIChpID4gaW5kZXgpIHsKICAgICAgICAgICAgdm0uY2hhbmdlRmlsdGVyKGksIGUub3B0aW9uLCBlLmlucHV0KTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIG1hcERhdGE6IGZ1bmN0aW9uIG1hcERhdGEoKSB7CiAgICAgIHRoaXMuY3N2RGF0YS5tYXAoZnVuY3Rpb24gKGUsIGkpIHsKICAgICAgICBlLm1hcChmdW5jdGlvbiAoaCwgaikgewogICAgICAgICAgaCA9IGgudHJpbSgpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBhZGRNYW51YWxGaWxlOiBmdW5jdGlvbiBhZGRNYW51YWxGaWxlKGV2ZW50KSB7CiAgICAgIHZhciB2bSA9IHRoaXM7IC8vIEV2ZW50U2VydmljZS4kZW1pdCgibG9hZGluZyIsICJzaG93Iik7CgogICAgICBpZiAoZXZlbnQudGFyZ2V0LmZpbGVzWzBdKSB7CiAgICAgICAgdm0uZmlsZUV4aXN0cyA9IHRydWU7CiAgICAgICAgdmFyIGV4YW1wbGVGaWxlID0gZXZlbnQudGFyZ2V0LmZpbGVzWzBdOwogICAgICAgIHZhciBmaWxlTmFtZSA9IGV4YW1wbGVGaWxlLm5hbWU7CiAgICAgICAgdmFyIGZpbGVUeXBlID0gZmlsZU5hbWUuc3Vic3RyKGZpbGVOYW1lLmluZGV4T2YoIi4iKSArIDEpOwoKICAgICAgICBpZiAoZmlsZVR5cGUgPT0gInhsc3giIHx8IGZpbGVUeXBlID09ICJ4bHMiKSB7CiAgICAgICAgICB2YXIgckFCUyA9IHRydWU7CiAgICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKCiAgICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgdmFyIGRhdGEgPSBlLnRhcmdldC5yZXN1bHQ7CiAgICAgICAgICAgIGlmICghckFCUykgZGF0YSA9IG5ldyBVaW50OEFycmF5KGRhdGEpOwogICAgICAgICAgICB2YXIgd29ya2Jvb2sgPSBYTFNYLnJlYWQoZGF0YSwgewogICAgICAgICAgICAgIHR5cGU6IHJBQlMgPyAiYmluYXJ5IiA6ICJhcnJheSIKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHZhciBwcm9jZXNzZWRYTFMgPSBYTFNYLnV0aWxzLnNoZWV0X3RvX2pzb24od29ya2Jvb2suU2hlZXRzW3dvcmtib29rLlNoZWV0TmFtZXNbMF1dLCB7CiAgICAgICAgICAgICAgaGVhZGVyOiAxCiAgICAgICAgICAgIH0pLmZpbHRlcihmdW5jdGlvbiAocm93KSB7CiAgICAgICAgICAgICAgcmV0dXJuIHJvdy5sZW5ndGggPiAwOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgOwogICAgICAgICAgICB2YXIgbWF4U2l6ZSA9IDA7CiAgICAgICAgICAgIHByb2Nlc3NlZFhMUy5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICBpZiAoZS5sZW5ndGggPiBtYXhTaXplKSBtYXhTaXplID0gZS5sZW5ndGg7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB2YXIgZGlmZiA9IG1heFNpemUgLSBwcm9jZXNzZWRYTFNbMF0ubGVuZ3RoOwoKICAgICAgICAgICAgd2hpbGUgKGRpZmYgPiAwKSB7CiAgICAgICAgICAgICAgcHJvY2Vzc2VkWExTWzBdLnB1c2goJy0nKTsKICAgICAgICAgICAgICBkaWZmID0gbWF4U2l6ZSAtIHByb2Nlc3NlZFhMU1swXS5sZW5ndGg7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChwcm9jZXNzZWRYTFMubGVuZ3RoID4gMjApIHsKICAgICAgICAgICAgICB2bS5ydWxlc1swXS5kYXRhID0gcHJvY2Vzc2VkWExTLnNwbGljZSgwLCAxMSkuY29uY2F0KHByb2Nlc3NlZFhMUy5zcGxpY2UoLTEwKSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdm0ucnVsZXNbMF0uZGF0YSA9IHByb2Nlc3NlZFhMUzsKICAgICAgICAgICAgfQogICAgICAgICAgfTsKCiAgICAgICAgICBpZiAockFCUykgcmVhZGVyLnJlYWRBc0JpbmFyeVN0cmluZyhleGFtcGxlRmlsZSk7ZWxzZSByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoZXhhbXBsZUZpbGUpOwogICAgICAgIH0gZWxzZSBpZiAoZmlsZVR5cGUgPT0gImNzdiIpIHsKICAgICAgICAgIHZhciBwcm9jZXNzZWRDU1Y7CiAgICAgICAgICBQYXBhLnBhcnNlKGV4YW1wbGVGaWxlLCB7CiAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiBjb21wbGV0ZShyZXN1bHRzKSB7CiAgICAgICAgICAgICAgcHJvY2Vzc2VkQ1NWID0gcmVzdWx0cy5kYXRhOwoKICAgICAgICAgICAgICBpZiAocHJvY2Vzc2VkQ1NWLmxlbmd0aCA+IDIwKSB7CiAgICAgICAgICAgICAgICB2bS5ydWxlc1swXS5kYXRhID0gcHJvY2Vzc2VkQ1NWLnNwbGljZSgwLCAxMSkuY29uY2F0KHByb2Nlc3NlZENTVi5zcGxpY2UoLTEwKSk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHZtLnJ1bGVzWzBdLmRhdGEgPSBwcm9jZXNzZWRDU1Y7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgaWYgKGZpbGVUeXBlID09ICJ4bWwiKSB7CiAgICAgICAgICB2YXIgX3JlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CgogICAgICAgICAgX3JlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICB2YXIgZGF0YSA9IGUudGFyZ2V0LnJlc3VsdDsKICAgICAgICAgICAgdm0uY29udmVydE1hbnVhbFhNTChkYXRhKTsKICAgICAgICAgIH07CgogICAgICAgICAgX3JlYWRlci5yZWFkQXNUZXh0KGV4YW1wbGVGaWxlKTsKICAgICAgICB9IGVsc2UgaWYgKGZpbGVUeXBlID09ICJ0eHQiKSB7CiAgICAgICAgICB2YXIgX3JlYWRlcjIgPSBuZXcgRmlsZVJlYWRlcigpOwoKICAgICAgICAgIF9yZWFkZXIyLm9ubG9hZCA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHZhciBkYXRhID0gZS50YXJnZXQucmVzdWx0OwogICAgICAgICAgICB2YXIgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgICB2YXIgbmV3RG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhKU09OLnBhcnNlKGRhdGEpLCAidGV4dC9odG1sIik7CiAgICAgICAgICAgIHZhciB0ZXN0ID0gbmV3RG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0ciIpOwoKICAgICAgICAgICAgdmFyIG5ld0FyciA9IF90b0NvbnN1bWFibGVBcnJheSh0ZXN0KTsKCiAgICAgICAgICAgIHZhciBjdXN0b21lckxpc3QgPSBbXTsKICAgICAgICAgICAgdmFyIGhlYWRlckFyciA9IFtdOwogICAgICAgICAgICBuZXdBcnIubWFwKGZ1bmN0aW9uIChnKSB7CiAgICAgICAgICAgICAgdmFyIGhlYWRlcnMgPSBnLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0aCIpOwoKICAgICAgICAgICAgICBpZiAoaGVhZGVycy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICBoZWFkZXJBcnIucHVzaChfdG9Db25zdW1hYmxlQXJyYXkoaGVhZGVycykpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHZhciBoZWFkZXJzTGlzdCA9IFtdOwogICAgICAgICAgICBoZWFkZXJBcnIubWFwKGZ1bmN0aW9uIChoKSB7CiAgICAgICAgICAgICAgaC5tYXAoZnVuY3Rpb24gKGcpIHsKICAgICAgICAgICAgICAgIGhlYWRlcnNMaXN0LnB1c2goZy5pbm5lckhUTUwpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdmFyIG5leHRBcnIgPSBbXTsKICAgICAgICAgICAgbmV3QXJyLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgIHZhciB0ZXN0aW5nID0gZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGQiKTsKICAgICAgICAgICAgICB2YXIgY3VzdG9tZXIgPSB7fTsKCiAgICAgICAgICAgICAgdmFyIG5leHRBcnJheSA9IF90b0NvbnN1bWFibGVBcnJheSh0ZXN0aW5nKTsKCiAgICAgICAgICAgICAgbmV4dEFycmF5Lm1hcChmdW5jdGlvbiAoZiwgaSkgewogICAgICAgICAgICAgICAgdmFyIGhlYWRlciA9IGhlYWRlcnNMaXN0W2ldOwogICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gZi50ZXh0Q29udGVudDsKICAgICAgICAgICAgICAgIGN1c3RvbWVyW2hlYWRlcl0gPSB2YWx1ZTsKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKGN1c3RvbWVyKS5sZW5ndGggPiAzKSB7CiAgICAgICAgICAgICAgICBjdXN0b21lckxpc3QucHVzaChjdXN0b21lcik7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdmFyIGNzdlZlcnNpb24gPSBQYXBhLnVucGFyc2UoY3VzdG9tZXJMaXN0KTsKICAgICAgICAgICAgdmFyIGpzb25WZXJzaW9uID0gUGFwYS5wYXJzZShjc3ZWZXJzaW9uKTsKICAgICAgICAgICAganNvblZlcnNpb24gPSBqc29uVmVyc2lvbi5kYXRhOyAvLyBjb25zb2xlLmxvZyhqc29uVmVyc2lvbik7CgogICAgICAgICAgICBpZiAoanNvblZlcnNpb24ubGVuZ3RoID4gMTAwKSB7CiAgICAgICAgICAgICAgdm0ucnVsZXNbMF0uZGF0YSA9IGpzb25WZXJzaW9uLnNwbGljZSgwLCA1MCkuY29uY2F0KGpzb25WZXJzaW9uLnNwbGljZSgtNTApKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB2bS5ydWxlc1swXS5kYXRhID0ganNvblZlcnNpb247CiAgICAgICAgICAgIH0KICAgICAgICAgIH07CgogICAgICAgICAgX3JlYWRlcjIucmVhZEFzVGV4dChleGFtcGxlRmlsZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCJFcnJvciwgdGhpcyBoYXMgYmVlbiByZWplY3RlZCBmb3IgaW5jb3JyZWN0IGZpbGUgdHlwZS4iKTsKICAgICAgICB9CgogICAgICAgIGlmICh2bS5ydWxlcyAmJiB2bS5ydWxlcy5sZW5ndGggPiAxKSB7CiAgICAgICAgICB2bS5ydWxlcy5tYXAoZnVuY3Rpb24gKHJ1bGUsIGkpIHsKICAgICAgICAgICAgaWYgKGkgPiAwKSB7CiAgICAgICAgICAgICAgcnVsZS5kYXRhLm1hcChmdW5jdGlvbiAoZGF0YXNldCkgewogICAgICAgICAgICAgICAgaWYgKGRhdGFzZXQgJiYgZGF0YXNldC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgIHZtLmNoYW5nZUZpbHRlcihpLCBydWxlLm9wdGlvbiwgcnVsZS5pbnB1dCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGNvbnZlcnRNYW51YWxYTUw6IGZ1bmN0aW9uIGNvbnZlcnRNYW51YWxYTUwoeG1sKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIHZhciBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7CiAgICAgIHZhciB4bWxEb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKHhtbCwgInRleHQveG1sIik7CiAgICAgIHZhciB4bWxBcnIgPSB4bWxEb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIlJvdyIpOwoKICAgICAgdmFyIG5ld1hNTEFyciA9IF90b0NvbnN1bWFibGVBcnJheSh4bWxBcnIpOwoKICAgICAgdmFyIGN1c3RvbWVyTGlzdCA9IFtdOwogICAgICBuZXdYTUxBcnIubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIGN1c3RvbWVyID0ge307CgogICAgICAgIHZhciB0ZXN0ID0gX3RvQ29uc3VtYWJsZUFycmF5KGUuYXR0cmlidXRlcyk7CgogICAgICAgIHRlc3QubWFwKGZ1bmN0aW9uIChmKSB7CiAgICAgICAgICB2YXIgaGVhZGVyID0gZi5uYW1lOwogICAgICAgICAgdmFyIHZhbHVlID0gZi5ub2RlVmFsdWU7CiAgICAgICAgICBjdXN0b21lcltoZWFkZXJdID0gdmFsdWU7CiAgICAgICAgfSk7CiAgICAgICAgY3VzdG9tZXJMaXN0LnB1c2goY3VzdG9tZXIpOwogICAgICB9KTsKICAgICAgdmFyIGNzdlZlcnNpb24gPSBQYXBhLnVucGFyc2UoY3VzdG9tZXJMaXN0KTsKICAgICAgdmFyIGpzb25WZXJzaW9uID0gUGFwYS5wYXJzZShjc3ZWZXJzaW9uKTsKICAgICAganNvblZlcnNpb24gPSBqc29uVmVyc2lvbi5kYXRhOwoKICAgICAgaWYgKGpzb25WZXJzaW9uLmxlbmd0aCA+IDIwKSB7CiAgICAgICAgdm0ucnVsZXNbMF0uZGF0YSA9IGpzb25WZXJzaW9uLnNwbGljZSgwLCAxMSkuY29uY2F0KGpzb25WZXJzaW9uLnNwbGljZSgtMTApKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2bS5ydWxlc1swXS5kYXRhID0ganNvblZlcnNpb247CiAgICAgIH0KICAgIH0sCiAgICBzYXZlUnVsZXM6IGZ1bmN0aW9uIHNhdmVSdWxlcygpIHsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgdmFyIHJ1bGVJZCA9IG51bGw7CgogICAgICBpZiAodGhpcy4kcm91dGUucGFyYW1zLnBhcnNlciAmJiAhdGhpcy4kcm91dGUucGFyYW1zLmFjdGlvbikgewogICAgICAgIHJ1bGVJZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5wYXJzZXI7CiAgICAgIH0KCiAgICAgIHZhciBwYXJzaW5nT2JqZWN0ID0gewogICAgICAgIG5hbWU6IHZtLnJ1bGVOYW1lLAogICAgICAgIHRyaWdnZXI6IHZtLnRyaWdnZXIsCiAgICAgICAgZmlsZVR5cGU6IHZtLnBhcnNlRmlsZVR5cGUsCiAgICAgICAgcGFyc2VGaWxlTmFtZTogdm0ucGFyc2VGaWxlTmFtZSwKICAgICAgICB2YWx1ZTogdm0uZmlsZU5hbWUsCiAgICAgICAgcnVsZXM6IHZtLnJ1bGVzCiAgICAgIH07CiAgICAgIHZhciBjb21wbGV0ZU1haWxib3ggPSAnJzsKCiAgICAgIGlmICh2bS5tYWlsYm94LmluY2x1ZGVzKCdAbGl2ZW1haWwub3Bpbmlpb24uY29tJykgfHwgdm0ubWFpbGJveC5pbmNsdWRlcygnQGRlbW9tYWlsLm9waW5paW9uLmNvbScpKSB7CiAgICAgICAgY29tcGxldGVNYWlsYm94ID0gdm0ubWFpbGJveDsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb21wbGV0ZU1haWxib3ggPSB2bS5kb21haW4gPT0gImFwcCIgPyB2bS5tYWlsYm94ICsgIkBsaXZlbWFpbC5vcGluaWlvbi5jb20iIDogdm0ubWFpbGJveCArICJAZGVtb21haWwub3Bpbmlpb24uY29tIjsKICAgICAgfQoKICAgICAgUGFyc2luZ1NlcnZpY2Uuc2F2ZVBhcnNpbmdSdWxlcyhjb21wbGV0ZU1haWxib3gsIHBhcnNpbmdPYmplY3QsIHJ1bGVJZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2VzcykgewogICAgICAgICAgdm0uY3N2ID0gW10sIHZtLnhtbCA9IFtdLCB2bS5maWxlT3B0aW9ucyA9IFsiY3N2IiwgInhtbCIsICJ4bHMiLCAieGxzeCIsICJ0eHQiXSwgdm0uaW5kaWNhdG9ycyA9IFsic3ViamVjdCIsICJmcm9tTmFtZSIsICJib2R5Il0sIHZtLmZpbGVOYW1lID0gIiIsIHZtLmZpbGVFeGlzdHMgPSBmYWxzZSwgdm0ubmV3RmlsZSA9ICIiLCB2bS50cmlnZ2VyID0gIiIsIHZtLnBhcnNlRmlsZVR5cGUgPSAiIiwgdm0ubWFpbGJveCA9ICIiLCB2bS5qc29uID0gIiIsIHZtLmRvbWFpbiA9ICIiLCB2bS5hY3RpdmVMb2NhdGlvbiA9ICIiLCB2bS5sb2NhdGlvbk9wdGlvbnMgPSBbXSwgdm0ucnVsZU5hbWUgPSAiIiwgdm0uc2VsZWN0ZWRGaWxlID0gJycsIHZtLnJ1bGVzID0gW3sKICAgICAgICAgICAgcnVsZTogMSwKICAgICAgICAgICAgZGF0YTogIiIsCiAgICAgICAgICAgIG9wdGlvbjogImludGlhbERhdGEiCiAgICAgICAgICB9XTsKICAgICAgICAgIHZtLiRyb3V0ZXIucHVzaCgnL3BhcnNpbmdMaXN0Jyk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["ParsingRules.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"parsing-container\">\n    <div class=\"parsing-description\">\n      <span><label>Parsing Rule Name: </label> <input type=\"text\" :class=\"{'duplicate': dupeName, 'duplicate': includesDash}\" v-model=\"ruleName\" @change=\"evalName()\"><span class=\"dupeMessage\" v-if=\"dupeName\">Name Already Exists</span><span class=\"dupeMessage\" v-if=\"includesDash\">Name Cannot Contain \"-\"</span></span>\n      <span><label>Parsing Mailbox: </label> <input type=\"text\" v-model=\"mailbox\"><span v-if=\"mailbox && mailbox.length > 0\">{{ domain == 'app' ? '@livemail.opiniion.com' : '@demomail.opiniion.com' }}</span></span><br>\n      <span>Rule fires when </span>\n      <select v-model=\"trigger\">\n        <option value=\"subject\">Subject</option>\n        <option value=\"fileType\">File Type</option>\n        <option value=\"body\">Body</option>\n      </select>\n      <span v-if=\"trigger == 'subject' || trigger == 'body'\"> includes: <input type=\"text\" v-model=\"fileName\"> <span v-if=\"trigger == 'body'\" > in the first 500 characters) </span>\n      </span>\n      <span v-if=\"trigger == 'fileType'\"> is:\n        <select v-model=\"parseFileType\">\n          <option v-for=\"file in fileOptions\">{{file}}</option>\n        </select>\n        with <input type=\"text\" v-model=\"parseFileName\" placeholder=\"Insert filename element\"> in the filename.\n      </span>\n    </div>\n    <div class=\"mail-select\" v-if=\"trigger\">\n      <button @click=\"displaySamples = true\">Select Email To Create Parsing Rule</button>\n      <div class=\"email-container\" v-for=\"mail in sampleEmails\" v-if=\"displaySamples\">\n        <div class=\"email-headers\">\n          <span>From: {{mail.email.from}}</span>\n          <span>Subject: {{mail.email.subject}}</span>\n          <span v-if=\"mail.email.attachments && mail.email.attachments.length > 0\">Attachments:</span>\n          <span class=\"body-link\" v-if=\"!mail.email.attachments || mail.email.attachments.length == 0\" @click=\"parseBody(mail.email.body.textashtml)\">Use Body</span>\n        </div>\n        <div class=\"attachments\" v-for=\"attachment in mail.email.attachments\" v-if=\"mail && mail.email.attachments\">\n          <span @click=\"addFile(attachment)\">- {{attachment.filename}} {{attachment.size}}</span>\n        </div>\n      </div>\n      <div style=\"margin-top:5px;margin-left:80px;\" v-if=\"!fileExists\">No Email Selected Yet</div>\n      <div class=\"upload-container\">\n        Upload Example File to Set Parsing Rules\n        <input ref=\"fileInput\" type=\"file\" accept=\"text/csv, .xml, .xls, .xlsx, .txt\" @change=\"addManualFile($event)\" />\n      </div>\n    </div>\n    <div v-if=\"fileExists && !displaySamples && selectedFile\">Parsing {{selectedFile.filename}}</div>\n    <div class=\"data-display\" v-for=\"(rule, i) in rules\" v-if=\"fileExists\">\n      <div class=\"filter-options\" v-if=\"i != 0\">\n        <span >\n          <label v-if=\"rule.check != 'customerCreate'\">Filter by</label>\n          <select v-model=\"rule.check\">\n            <option value=\"remsel\">Remove & Select</option>\n            <option value=\"spmetrans\">Split, Merge, & Transpose</option>\n            <option value=\"refine\">Refine Cell Values</option>\n            <option value=\"customerCreate\" hidden>CreateCustomers</option>\n          </select>\n          <select v-if=\"rule.check == 'remsel'\" v-model=\"rule.option\" @change=\"changeFilter(i, rule.option, rule.input)\">\n            <option value=\"rowByVal\">Filter Rows by Values</option>\n            <option value=\"rowByLen\">Filter Rows by Length</option>\n            <!-- <option value=\"rowByValLen\">Filter Rows by Value Length</option>\n            <option value=\"rowByColLen\">Filter Column by Value Length</option> -->\n            <option value=\"rowRange\">Set Row Range</option>\n            <option value=\"colRange\">Set Column Range</option>\n            <option value=\"remCol\">Remove Columns</option>\n            <option value=\"remRow\">Remove Rows</option>\n          </select>\n          <select v-if=\"rule.check == 'spmetrans'\" v-model=\"rule.option\" @change=\"changeFilter(i, rule.option, rule.input)\">\n            <option value=\"explodeCol\">Explode Columns</option>\n            <option value=\"mergeCol\">Merge Columns</option>\n          </select>\n          <select v-if=\"rule.check == 'refine'\" v-model=\"rule.option\" @change=\"changeFilter(i, rule.option, rule.input)\">\n            <option value=\"searchReplace\">Search & Replace</option>\n            <option value=\"formDates\">Format Dates</option>\n          </select>\n          <div class=\"save-container\" v-if=\"rule.check == 'customerCreate'\">\n            Input Example:\n            <div class=\"api-example\">\n              https://api.opiniion.com/_services/opiniion/customer\n              {\n                \"location\": <v-select class=\"v-select\" v-model=\"rule.activeLocation\" :options=\"locationOptions\" :on-change=\"changeLocation(i, rule.activeLocation)\" placeholder=\"Select Location\" >\n                  <span slot=\"no-options\">Sorry, no locations were found with that filter.</span>\n                </v-select>\n                <span v-if=\"rule.option && rule.input.locationId\">\"uid\": {{rule.input.locationId}},</span>\n                <span v-if=\"rule.option && rule.input.apiKey\">\"apiKey\": {{rule.input.apiKey}},</span>\n                \"firstname\":  <select v-model=\"rule.input.firstname\" @change=\"changeFilter(i, 'processCustomers', rule.input)\">\n                  <option v-for=\"option in maxColumn(rules[i-1].data, ['None'])\">{{option}}</option>\n                </select> ,\n                \"lastname\":  <select v-model=\"rule.input.lastname\" @change=\"changeFilter(i, 'processCustomers', rule.input)\">\n                  <option v-for=\"option in maxColumn(rules[i-1].data, ['None'])\">{{option}}</option>\n                </select> ,\n                \"email\":  <select v-model=\"rule.input.email\" @change=\"changeFilter(i, 'processCustomers', rule.input)\">\n                  <option v-for=\"option in maxColumn(rules[i-1].data, ['None'])\">{{option}}</option>\n                </select> ,\n                \"countrycode\": +1,\n                \"phone\":  <select v-model=\"rule.input.phone\" @change=\"changeFilter(i, 'processCustomers', rule.input)\">\n                  <option v-for=\"option in maxColumn(rules[i-1].data, ['None'])\">{{option}}</option>\n                </select> ,\n                \"notes\":  <select v-model=\"rule.input.notes\" @change=\"changeFilter(i, 'processCustomers', rule.input)\">\n                  <option v-for=\"option in maxColumn(rules[i-1].data, ['None', 'Custom'])\">{{option}}</option>\n                </select>\n                <span v-if=\"rule.input.notes == 'Custom'\">Custom Note: <input type=\"text\" v-model=\"rule.input.customNote\" @change=\"changeFilter(i, 'processCustomers', rule.input)\"> </span>\n                <span v-if=\"rule.input.location && rule.input.location.qsEnabled\">, \"q\":</span> <select v-if=\"rule.input.location && rule.input.location.qsEnabled\" v-model=\"rule.input.q\" @change=\"changeFilter(i, 'processCustomers', rule.input)\">\n                  <option v-for=\"option in qSelection\">{{option}}</option>\n                </select>\n              }\n            </div>\n          </div>\n          <span v-if=\"rule.option == 'rowByVal'\">\n            Keep row if column #\n            <input type=\"number\" v-model=\"rule.input.value1\" @change=\"changeFilter(i, rule.option, rule.input)\" min=\"0\">\n            <select v-model=\"rule.input.type\" @change=\"changeFilter(i, rule.option, rule.input)\">\n              <option value=\"hasVal\" selected>has a value</option>\n              <option value=\"isWord\">is a single word</option>\n              <option value=\"isNum\">is a number</option>\n              <option value=\"conTerm\">contains a specfic term</option>\n              <option value=\"noConTerm\">doesn't contain term</option>\n            </select>\n            <input type=\"text\" v-if=\"rule.input.type == 'conTerm' || rule.input.type == 'noConTerm'\" v-model=\"rule.input.value2\" @change=\"changeFilter(i, rule.option, rule.input)\">\n          </span>\n          <span v-if=\"rule.option == 'rowByLen'\">\n            Keep rows with <input type=\"number\" :min=\"0\" :max=\"rule.data[0] ? rule.data[0].length : 50\" v-model=\"rule.input.value\" @change=\"changeFilter(i, rule.option, rule.input)\"> Columns\n          </span>\n          <span v-if=\"rule.option == 'rowByValLen'\">\n            <select v-model=\"rule.input.type\">\n              <option value=\"remove\">Remove Row If</option>\n              <option value=\"keep\">Keep Row If</option>\n            </select>\n            row at column #\n            <select v-model=\"rule.input.value1\" @change=\"changeFilter(i, rule.option, rule.input)\">\n              <option v-for=\"option in maxColumn(rules[i-1].data)\">{{option}}</option>\n            </select>\n            <select v-model=\"rulr.input.value2\" @change=\"changeFilter(i, rule.option, rule.input)\">\n              <option value=\"is\">is equal to</option>\n              <option value=\"not\">is not equal to</option>\n            </select>\n            <input type=\"number\" min=\"1\" max=\"50\" v-model=\"rule.input.value3\" @change=\"changeFilter(i, rule.option, rule.input)\"> characters in length\n          </span>\n          <span v-if=\"rule.option == 'rowByColLen'\">\n            <select v-model=\"rule.input.type\">\n              <option value=\"remove\">Remove Column If</option>\n              <option value=\"keep\">Keep column If</option>\n            </select>\n            at column number #\n            <select v-model=\"rule.input.value1\" @change=\"changeFilter(i, rule.option, rule.input)\">\n              <option v-for=\"option in maxColumn(rules[i-1].data)\">{{option}}</option>\n            </select>\n            <select v-model=\"rulr.input.value2\" @change=\"changeFilter(i, rule.option, rule.input)\">\n              <option value=\"is\">is equal to</option>\n              <option value=\"not\">is not equal to</option>\n            </select>\n            <input type=\"number\" min=\"1\" max=\"50\" v-model=\"rule.input.value3\" @change=\"changeFilter(i, rule.option, rule.input)\"> characters in length\n          </span>\n          <span v-if=\"rule.option == 'rowRange'\">\n            <select v-model=\"rule.input.type\" @change=\"changeFilter(i, rule.option, rule.input)\">\n              <option value=\"remove\">Remove From Start / End</option>\n              <option value=\"fix\">Fixed Start / End</option>\n            </select>\n            <span v-if=\"rule.input.type == 'remove'\">\n              Skip First\n              <select v-model=\"rule.input.value1\" @change=\"changeFilter(i, rule.option, rule.input)\">\n                <option v-for=\"option in Array.from(new Array(rules[i-1].data.length),(val,index)=>index)\">{{option}}</option>\n              </select>\n              and crop last\n              <select v-model=\"rule.input.value2\" @change=\"changeFilter(i, rule.option, rule.input)\">\n                <option v-for=\"option in Array.from(new Array(rules[i-1].data.length),(val,index)=>index)\">{{option}}</option>\n              </select>\n              rows\n            </span>\n            <span v-if=\"rule.input.type == 'fix'\">\n              From row #\n              <select v-model=\"rule.input.value1\" @change=\"changeFilter(i, rule.option, rule.input)\">\n                <option v-for=\"option in Array.from(new Array(rules[i-1].data.length),(val,index)=>index)\">{{option}}</option>\n              </select>\n              to #\n              <select v-model=\"rule.input.value2\" @change=\"changeFilter(i, rule.option, rule.input)\">\n                <option v-for=\"option in Array.from(new Array(rules[i-1].data.length),(val,index)=>index)\">{{option}}</option>\n              </select>\n            </span>\n          </span>\n          <span v-if=\"rule.option == 'colRange'\">\n            <select v-model=\"rule.input.type\" @change=\"changeFilter(i, rule.option, rule.input)\">\n              <option value=\"remove\">Remove From Start / End</option>\n              <option value=\"fix\">Fixed Start / End</option>\n            </select>\n            <span v-if=\"rule.input.type == 'remove'\">\n              Skip First\n              <select v-model=\"rule.input.value1\" @change=\"changeFilter(i, rule.option, rule.input)\">\n                <option v-for=\"option in maxColumn(rules[i-1].data)\">{{option}}</option>\n              </select>\n              and crop last\n              <select v-model=\"rule.input.value2\" @change=\"changeFilter(i, rule.option, rule.input)\">\n                <option v-for=\"option in maxColumn(rules[i-1].data)\">{{option}}</option>\n              </select>\n              columns\n            </span>\n            <span v-if=\"rule.input.type == 'fix'\">\n              From column #\n              <select v-model=\"rule.input.value1\" @change=\"changeFilter(i, rule.option, rule.input)\">\n                <option v-for=\"option in maxColumn(rules[i-1].data)\">{{option}}</option>\n              </select>\n              to #\n              <select v-model=\"rule.input.value2\" @change=\"changeFilter(i, rule.option, rule.input)\">\n                <option v-for=\"option in maxColumn(rules[i-1].data)\">{{option}}</option>\n              </select>\n            </span>\n          </span>\n          <span v-if=\"rule.option == 'remCol'\">\n            Remove column #\n            <select v-model=\"rule.input.value1\" @change=\"changeFilter(i, rule.option, rule.input)\">\n              <option v-for=\"option in maxColumn(rules[i-1].data, ['None'])\">{{option}}</option>\n            </select>\n            <select v-model=\"rule.input.value2\" @change=\"changeFilter(i, rule.option, rule.input)\">\n              <option v-for=\"option in maxColumn(rules[i-1].data, ['None'])\">{{option}}</option>\n            </select>\n            <select v-model=\"rule.input.value3\" @change=\"changeFilter(i, rule.option, rule.input)\">\n              <option v-for=\"option in maxColumn(rules[i-1].data, ['None'])\">{{option}}</option>\n            </select>\n            <select v-model=\"rule.input.value4\" @change=\"changeFilter(i, rule.option, rule.input)\">\n              <option v-for=\"option in maxColumn(rules[i-1].data, ['None'])\">{{option}}</option>\n            </select>\n            <select v-model=\"rule.input.value5\" @change=\"changeFilter(i, rule.option, rule.input)\">\n              <option v-for=\"option in maxColumn(rules[i-1].data, ['None'])\">{{option}}</option>\n            </select>\n          </span>\n          <span v-if=\"rule.option == 'remRow'\">\n            Remove row #\n            <select v-model=\"rule.input.value1\" @change=\"changeFilter(i, rule.option, rule.input)\">\n              <option v-for=\"option in Array.from(new Array(rules[i-1].data.length),(val,index)=>index).concat(['None'])\">{{option}}</option>\n            </select>\n            <select v-model=\"rule.input.value2\" @change=\"changeFilter(i, rule.option, rule.input)\">\n              <option v-for=\"option in Array.from(new Array(rules[i-1].data.length),(val,index)=>index).concat(['None'])\">{{option}}</option>\n            </select>\n            <select v-model=\"rule.input.value3\" @change=\"changeFilter(i, rule.option, rule.input)\">\n              <option v-for=\"option in Array.from(new Array(rules[i-1].data.length),(val,index)=>index).concat(['None'])\">{{option}}</option>\n            </select>\n            <select v-model=\"rule.input.value4\" @change=\"changeFilter(i, rule.option, rule.input)\">\n              <option v-for=\"option in Array.from(new Array(rules[i-1].data.length),(val,index)=>index).concat(['None'])\">{{option}}</option>\n            </select>\n            <select v-model=\"rule.input.value5\" @change=\"changeFilter(i, rule.option, rule.input)\">\n              <option v-for=\"option in Array.from(new Array(rules[i-1].data.length),(val,index)=>index).concat(['None'])\">{{option}}</option>\n            </select>\n          </span>\n          <span v-if=\"rule.option == 'explodeCol'\">\n            Split column #\n            <select v-model=\"rule.input.type\" @change=\"changeFilter(i, rule.option, rule.input)\">\n              <option v-for=\"option in Array.from(new Array(rules[i-1].data.length),(val,index)=>index)\">{{option}}</option>\n            </select>\n            at occurence of\n            <input type=\"text\" v-model=\"rule.input.value\" @change=\"changeFilter(i, rule.option, rule.input)\"> (use space for between words)\n          </span>\n          <span v-if=\"rule.option == 'mergeCol'\">\n            merge from cell\n            <select v-model=\"rule.input.value1\" @change=\"changeFilter(i, rule.option, rule.input)\">\n              <option v-for=\"option in Array.from(new Array(rules[i-1].data.length),(val,index)=>index)\">{{option}}</option>\n            </select>\n            to\n            <select v-model=\"rule.input.value2\" @change=\"changeFilter(i, rule.option, rule.input)\">\n              <option v-for=\"option in Array.from(new Array(rules[i-1].data.length),(val,index)=>index)\">{{option}}</option>\n            </select>\n            columns\n          </span>\n          <span v-if=\"rule.option == 'searchReplace'\">\n            In column #\n            <select v-model=\"rule.input.value1\" @change=\"changeFilter(i, rule.option, rule.input)\">\n              <option v-for=\"option in Array.from(new Array(rules[i-1].data.length),(val,index)=>index)\">{{option}}</option>\n            </select>\n            replace\n            <input type=\"text\" v-model=\"rule.input.value2\" @change=\"changeFilter(i, rule.option, rule.input)\">\n            with\n            <input type=\"text\" v-model=\"rule.input.value3\" @change=\"changeFilter(i, rule.option, rule.input)\">\n          </span>\n          <span v-if=\"rule.option == 'formDates'\">\n            Column #\n            <select v-model=\"rule.input.value1\" @change=\"changeFilter(i, rule.option, rule.input)\">\n              <option v-for=\"option in Array.from(new Array(rules[i-1].data.length),(val,index)=>index)\">{{option}}</option>\n            </select>\n            format from\n            <input type=\"text\" v-model=\"rule.input.value2\" @change=\"changeFilter(i, rule.option, rule.input)\">\n            to\n            <input type=\"text\" placeholder=\"Y-M-D\" v-model=\"rule.input.value3\" @change=\"changeFilter(i, rule.option, rule.input)\">\n          </span>\n        </span>\n      </div>\n      <div class=\"removal\" @click=\"removeRule(i)\" v-if=\"rule.data && i != 0\">Remove Rule <i class=\"fal fa-times\"></i> </div>\n      <div class=\"data-container\" :class=\"{'hidden': rule.data.length == 0}\" >\n        <div class=\"data-table border\"><div class=\"data-selection\"  v-for=\"column in maxColumn(rule.data)\">{{column}}</div></div>\n        <div class=\"data-table\" v-for=\"datapoint in rule.data\">\n          <div class=\"data-selection\" v-for=\"data in datapoint\" :title=\"data\">\n            {{data ? data : ''}}\n          </div>\n        </div>\n      </div>\n      <div class=\"\" v-if=\" fileExists && (!rule.data || rule.data.length == 0) && (rule.check != 'customerCreate')\">\n        No data would pass this filter.\n      </div>\n\n      <span >Add New Parsing Rule <i class=\"fal fa-plus\" @click=\"addRule(i)\" title=\"Add Additional Rule\"></i>\n      </span>\n\n      <span v-if=\"rule.data && i == rules.length -1\">\n        Add Customer Creation Rule  <i class=\"fal fa-plus\" v-if=\"rule.data && i == rules.length -1\" @click=\"addCustomerRule()\" title=\"Add Customer Creation Rule\"></i>\n      </span>\n\n      <span v-if=\"rule.check && rule.check == 'customerCreate' && rule.option && (rule.input.email || rule.input.phone) && ruleName && mailbox && !dupeName && !includesDash\"><button @click=\"saveRules()\"> Save Parsing Rules</button></span>\n    </div>\n  </div>\n</template>\n\n\n<script>\nimport config from \"../config.js\";\nimport { EventService } from \"../main\";\nimport Papa from \"../../node_modules/papaparse/papaparse.js\";\nimport ParsingService from \"../services/ParsingService.js\";\nimport UserService from \"../services/UserService.js\";\nimport LocationService from \"../services/LocationService.js\";\nimport XLSX from \"xlsx\";\nimport convertFromXML from \"xml-js\";\nimport vSelect from \"../../node_modules/vue-select/src/components/Select.vue\";\nimport AutomationService from '../services/AutomationService';\n\nexport default {\n  name: \"csvPreview\",\n  components: {\n    vSelect\n  },\n  data: function() {\n    return {\n      csv: [],\n      xml: [],\n      sampleEmails: [],\n      fileOptions: [\"csv\", \"xml\", \"xls\", \"xlsx\", \"txt\"],\n      indicators: [\"subject\", \"fromName\", \"body\"],\n      fileName: \"\",\n      fileExists: false,\n      displaySamples: false,\n      newFile: \"\",\n      trigger: \"\",\n      parseFileType: \"\",\n      parseFileName: \"\",\n      selectedFile: '',\n      mailbox: \"\",\n      json: \"\",\n      domain: \"\",\n      activeLocation: \"\",\n      locationOptions: [],\n      ruleName: \"\",\n      rules: [{ data: \"\", option: \"intialData\" }],\n      qSelection: ['default', 1, 2, 3],\n      allRuleNames: [],\n      dupeName: false,\n      includesDash: false,\n    };\n  },\n  computed: {\n    data() {\n      let vm = this;\n      if (vm.json) {\n        return vm.json.splice(1, 11);\n      }\n    }\n  },\n  created() {\n    if(this.$route.params.parser) {\n      this.getParsingRule();\n    }\n    this.selectedLocation = localStorage.getItem(\"locationId\");\n    this.getAllParsingRuleNames();\n    this.getLocationOptions();\n    this.getSampleMail();\n    this.domain = config.subDomain;\n  },\n  methods: {\n    getAllParsingRuleNames() {\n      let vm = this;\n      ParsingService.getParsingRules().then(response => {\n        response.response.map(rule => {\n          vm.allRuleNames.push(rule.parsingRules.name);\n        })\n      })\n    },\n    // evaluateData(data) {\n    //   data.map(line => {\n    //     console.log(line.length);\n    //   })\n    //   return data[0]\n    // },\n    evalName() {\n      let vm = this;\n      if(vm.allRuleNames.includes(vm.ruleName)) {\n        vm.dupeName = true;\n      } else if(vm.ruleName.includes(\"-\")) {\n        vm.includesDash = true;\n      } else {\n        vm.includesDash = false;\n        vm.dupeName = false;\n      }\n    },\n    maxColumn(data, concat) {\n      let lineLength = 0;\n      data.map(line => {\n        if(line.length > lineLength) lineLength = line.length\n      })\n      if(concat) {\n        return Array.from(new Array(lineLength),(val,index)=>index).concat(concat);\n      } else {\n        return Array.from(new Array(lineLength),(val,index)=>index);\n      }\n    },\n    getParsingRule(){\n      let vm = this;\n      ParsingService.getParsingRule(this.$route.params.parser).then(response => {\n        vm.selectedRule = response.result[0];\n        if(!this.$route.params.action) {\n\n          vm.ruleName = vm.selectedRule.parsingRules.name;\n          vm.mailbox = vm.selectedRule.mailbox.substr(0, vm.selectedRule.mailbox.indexOf('@'));\n        }\n        vm.rules = vm.selectedRule.parsingRules.rules;\n        vm.trigger = vm.selectedRule.parsingRules.trigger;\n        vm.parseFileType = vm.selectedRule.parsingRules.fileType;\n        vm.fileExists = true;\n        if(vm.trigger == 'subject') {\n          vm.fileName = vm.selectedRule.parsingRules.value;\n        } else {\n          vm.parseFileName = vm.selectedRule.parsingRules.parseFileName;\n        }\n        vm.rules.map(rule => {\n          if(rule.check && rule.check == 'customerCreate') {\n            rule.activeLocation = rule.input.location;\n          }\n        })\n      })\n    },\n    getLocationOptions() {\n      let vm = this;\n      UserService.getAllUserLocations().then(response => {\n        response.map(e => {\n          let singleLocation = {\n            label: e.name,\n            value: e.locationId,\n            api: e.apiKey,\n            qsEnabled: e.prop\n          };\n          vm.locationOptions.push(singleLocation);\n        });\n      });\n    },\n    getSampleMail() {\n      let vm = this;\n      ParsingService.getSampleMail().then(response => {\n        vm.sampleEmails = response.response;\n        // console.log(vm.sampleEmails);\n      });\n    },\n    addFile(file) {\n      let vm = this;\n      // EventService.$emit(\"loading\", \"show\");\n      if (file) {\n        vm.fileExists = true;\n        vm.displaySamples = false;\n        vm.selectedFile = file;\n        let exampleFile = file;\n        let fileName;\n        if(exampleFile.filename.includes('.zip')) {\n          fileName = exampleFile.filename.substr(0,exampleFile.filename.lastIndexOf('.'));\n          } else {\n          fileName = exampleFile.filename;\n        }\n        let fileType = fileName.substr(fileName.lastIndexOf(\".\") + 1);\n        if (fileType == \"xlsx\" || fileType == \"xls\") {\n          var rABS = true;\n          var data = atob(exampleFile.content);\n          if (!rABS) data = new Uint8Array(data);\n          var workbook = XLSX.read(data, { type: rABS ? \"binary\" : \"array\" });\n          let processedXLS = XLSX.utils.sheet_to_json(\n            workbook.Sheets[workbook.SheetNames[0]],\n            { header: 1 }\n          ).filter(row => {\n            return row.length > 0;\n          });\n          let maxSize = 0;\n          processedXLS.map(e => {\n            if(e.length > maxSize) maxSize = e.length;\n          })\n          let diff = maxSize - processedXLS[0].length;\n          while (diff > 0) {\n            processedXLS[0].push('-');\n            diff = maxSize - processedXLS[0].length;\n          }\n          if (processedXLS.length > 20) {\n            vm.rules[0].data = processedXLS\n              .splice(0, 11)\n              .concat(processedXLS.splice(-10));\n          } else {\n            vm.rules[0].data = processedXLS;\n          }\n        } else if (fileType == \"csv\") {\n          let processedCSV;\n          Papa.parse(atob(exampleFile.content), {\n            complete: function(results) {\n              processedCSV = results.data;\n              if (processedCSV.length > 20) {\n                vm.rules[0].data = processedCSV\n                  .splice(0, 11)\n                  .concat(processedCSV.splice(-10));\n              } else {\n                vm.rules[0].data = processedCSV;\n              }\n            }\n          });\n        } else if (fileType == \"xml\") {\n          var data = atob(exampleFile.content);\n          vm.convertXML(data);\n        } else if (fileType == \"txt\") {\n          var data = atob(exampleFile.content);\n          let parser = new DOMParser();\n          let newDoc = parser.parseFromString(JSON.parse(data), \"text/html\");\n          let test = newDoc.getElementsByTagName(\"tr\");\n          let newArr = [...test];\n          let customerList = [];\n          let headerArr = [];\n          newArr.map(g => {\n            let headers = g.getElementsByTagName(\"th\");\n            if (headers.length > 0) {\n              headerArr.push([...headers]);\n            }\n          });\n          let headersList = [];\n          headerArr.map(h => {\n            h.map(g => {\n              headersList.push(g.innerHTML);\n            });\n          });\n          let nextArr = [];\n          newArr.map(e => {\n            let testing = e.getElementsByTagName(\"td\");\n            let customer = {};\n            let nextArray = [...testing];\n            nextArray.map((f, i) => {\n              let header = headersList[i];\n              let value = f.textContent;\n              customer[header] = value;\n            });\n            if (Object.keys(customer).length > 3) {\n              customerList.push(customer);\n            }\n          });\n          let csvVersion = Papa.unparse(customerList);\n          let jsonVersion = Papa.parse(csvVersion);\n          jsonVersion = jsonVersion.data;\n          if (jsonVersion.length > 20) {\n            vm.rules[0].data = jsonVersion\n              .splice(0, 11)\n              .concat(jsonVersion.splice(-10));\n          } else {\n            vm.rules[0].data = jsonVersion;\n          }\n        } else {\n          console.log(\"Error, this has been rejected for incorrect file type.\");\n        }\n        if(vm.rules && vm.rules.length > 1) {\n          vm.rules.map((rule, i) => {\n            if(i > 0) {\n              rule.data.map(dataset => {\n                if(dataset && dataset.length > 0) {\n                  vm.changeFilter(i, rule.option, rule.input);\n                }\n              })\n            }\n          })\n        }\n      }\n    },\n    parseBody(email) {\n      let vm = this;\n      vm.fileExists = true;\n      vm.displaySamples = false;\n      vm.selectedFile = email;\n      var parser = new DOMParser();\n      var htmlDoc = parser.parseFromString(email, 'text/html');\n      var pArray = Array.from(htmlDoc.getElementsByTagName('p'));\n      let usableData = pArray[4].innerHTML.split('&lt;');\n      let customersList = [];\n      usableData.map((ptag, i) => {\n        customersList.push(ptag.substring(ptag.indexOf('<br>'))\n        .replace(/<a href=\"mailto:/gi, '')\n        .replace('\">', ' ')\n        .replace(/<\\/a>/gi, '')\n        .replace(/ -/gi, '')\n        .replace(/-/gi, '')\n        .replace(/ <br>/gi, '')\n        .replace(/<br>/gi, '')\n        .replace(/ &amp;/gi, '')\n        .replace(/&amp;/gi, '')\n        .split(' '));\n        // console.log(typeof ptag, ptag);\n      })\n      if (customersList.length > 100) {\n        vm.rules[0].data = customersList\n          .splice(0, 50)\n          .concat(customersList.splice(-50));\n      } else {\n        vm.rules[0].data = customersList;\n      }\n      // let parsedCustomers = [];\n      // let parsedData = Papa.parse(email, {delimeter: '\\\\n'});\n      // let unparsedData = Papa.unparse(parsedData.data);\n      // let newParseData = unparsedData.split('\\n');\n      // let customersList = [];\n      // newParseData.map(e => {\n      //   e = e.replace('\\n', '')\n      //   let data = e.split(' ');\n      //   if(data.length > 3) {\n      //     customersList.push(data);\n      //   }\n      // });\n      // // console.log(parsedCustomers);\n      // if (customersList.length > 100) {\n      //   vm.rules[0].data = customersList\n      //     .splice(0, 50)\n      //     .concat(customersList.splice(-50));\n      // } else {\n      //   vm.rules[0].data = customersList;\n      // }\n      // back end potential process.\n    // let lines = email.split('\\\\n');\n    // let parsedLines = []\n    // lines.map((l) => {\n    //   if (l.length > 10) {\n    //     let splitLine = l.split(' ');\n    //     let parsedLine = [];\n    //     splitLine.map((s) => {\n    //       if (s && s.length > 2) {\n    //         parsedLine.push(s);\n    //       }\n    //     })\n    //     parsedLines.push(parsedLine);\n    //   }\n    // })\n    //   if (parsedLines.length > 100) {\n    //     vm.rules[0].data = parsedLines\n    //       .splice(0, 50)\n    //       .concat(parsedLines.splice(-50));\n    //   } else {\n    //     vm.rules[0].data = parsedLines;\n    //   }\n    },\n    convertXML(xml) {\n      let vm = this;\n      let parser = new DOMParser();\n      let xmlDoc = parser.parseFromString(xml, \"text/xml\");\n      let xmlArr = xmlDoc.getElementsByTagName(\"Row\");\n      let newXMLArr = [...xmlArr];\n      let customerList = [];\n      newXMLArr.map(e => {\n        let customer = {};\n        let test = [...e.attributes];\n        test.map(f => {\n          let header = f.name;\n          let value = f.nodeValue;\n          customer[header] = value;\n        });\n        customerList.push(customer);\n      });\n      let csvVersion = Papa.unparse(customerList);\n      let jsonVersion = Papa.parse(csvVersion);\n      jsonVersion = jsonVersion.data;\n      if (jsonVersion.length > 20) {\n        vm.rules[0].data = jsonVersion\n          .splice(0, 11)\n          .concat(jsonVersion.splice(-10));\n      } else {\n        vm.rules[0].data = jsonVersion;\n      }\n    },\n    addRule(index) {\n      let vm = this;\n      vm.rules.splice( index+1, 0, {\n        data: [],\n        option: \"\",\n        input: {}\n      });\n    },\n    addCustomerRule() {\n      let vm = this;\n      vm.rules.push({\n        rule: vm.rules.length + 1,\n        check: \"customerCreate\",\n        data: [],\n        option: \"processCustomers\",\n        input: {}\n      });\n    },\n    removeRule(index) {\n      this.rules.splice(index, 1);\n    },\n    changeLocation(index, locationData) {\n      let vm = this;\n      if (vm.rules[index].input.location != locationData) {\n        vm.rules[index].input.location = locationData;\n        if(locationData && locationData.qsEnabled) {\n          AutomationService.getAutomationsByLocation(locationData.value).then(response => {\n            let qSelect = [];\n            response.result.map(auto => {\n              qSelect.push(auto.identifier)\n            })\n            vm.qSelection = qSelect;\n          })\n          // LocationService.getLocation(locationData.value).then(response => {\n            // let totalQs = response.question\n            // let automations = response.automations;\n            // automations.map(auto => {\n              //   vm.qSelection.push(automation.identifier)\n            // })\n          // })\n        }\n      }\n    },\n    changeFilter(index, option, input) {\n      let vm = this;\n      let previousData;\n      if (\n        vm.rules[index - 1].check &&\n        vm.rules[index - 1].check == \"customerCreate\"\n      ) {\n        previousData = JSON.parse(JSON.stringify(vm.rules[0].data));\n      } else {\n        previousData = JSON.parse(JSON.stringify(vm.rules[index - 1].data));\n      }\n      // console.log(...arguments);\n      switch (option) {\n        case \"rowByVal\":\n          if (input && input.value1 && input.type && input.value2) {\n            if (input.type == \"conTerm\") {\n              vm.rules[index].data = previousData.filter(e => {\n                return e[input.value1]\n                  .toLowerCase()\n                  .includes(typeof input.value2 == 'string' ? input.value2.toLowerCase() : input.value2);\n              });\n            } else if (input.type == \"noConTerm\") {\n              0;\n              vm.rules[index].data = previousData.filter(e => {\n                return !e[input.value1]\n                  .toLowerCase()\n                  .includes(typeof input.value2 == 'string' ? input.value2.toLowerCase() : input.value2);\n              });\n            }\n          } else if (input && input.value1 && input.type) {\n            if (input.type == \"hasVal\") {\n              vm.rules[index].data = previousData.filter(e => {\n                return e[input.value1];\n              });\n            } else if (input.type == \"isWord\") {\n              vm.rules[index].data = previousData.filter(e => {\n                // Needs more work to determine if string or not.\n                return (\n                  e[input.value1] &&\n                  typeof e[input.value1] == \"string\" &&\n                  e[input.value1].trim().indexOf(\" \") == -1\n                );\n              });\n            } else if (input.type == \"isNum\") {\n              // console.log(previousData);\n              vm.rules[index].data = previousData.filter(e => {\n                return parseInt(e[input.value1]);\n              });\n            }\n          } else {\n            vm.rules[index].data = previousData;\n          }\n          break;\n\n        case \"rowByLen\":\n          if (input && input.value) {\n            vm.rules[index].data = previousData.filter(e => {\n              if (e) {\n                return e.length == input.value;\n              }\n            });\n          } else {\n            vm.rules[index].data = previousData;\n          }\n          break;\n\n        case \"rowByValLen\":\n          break;\n\n        case \"rowByColLen\":\n          break;\n\n        case \"rowRange\":\n          if (input && input.type) {\n            if (input.type == \"remove\") {\n              if (input.value1 && input.value2) {\n                let newValues = previousData.slice(\n                  input.value1,\n                  vm.rules[index - 1].data.length - input.value2\n                );\n                vm.rules[index].data = newValues;\n              }\n            } else if (input.type == \"fix\") {\n              if (input.value1 && input.value2) {\n                let newValues = previousData.slice(\n                  input.value1,\n                  input.value2 - input.value1 + 1\n                );\n                vm.rules[index].data = newValues;\n              }\n            }\n          } else {\n            vm.rules[index].data = previousData;\n          }\n          break;\n\n        case \"colRange\":\n          if (input && input.type) {\n            if (input.type == \"remove\") {\n              if (input.value1 && input.value2) {\n                let newValues = [];\n                vm.rules[index - 1].data.map(e => {\n                  newValues.push(\n                    e.slice(input.value1, e.length - input.value2)\n                  );\n                });\n                vm.rules[index].data = newValues;\n              }\n            } else if (input.type == \"fix\") {\n              if (input.value1 && input.value2) {\n                let newValues = [];\n                vm.rules[index - 1].data.map(e => {\n                  newValues.push(e.slice(input.value1, input.value2));\n                });\n                vm.rules[index].data = newValues;\n              }\n            }\n          } else {\n            vm.rules[index].data = previousData;\n          }\n          break;\n\n        case \"remCol\":\n          if (\n            input &&\n            (input.value1 ||\n              input.value2 ||\n              input.value3 ||\n              input.value4 ||\n              input.value5)\n          ) {\n            let newValues = vm.rules[index - 1].data;\n            let inputKeys = Object.keys(input);\n            inputKeys.map((inputVal, g) => {\n              newValues = newValues.map((e, i) => {\n                return e.filter((x, j) => {\n                  return j != parseInt(input[inputVal]);\n                });\n              });\n            });\n            vm.rules[index].data = newValues;\n          } else {\n            vm.rules[index].data = previousData;\n          }\n          break;\n\n        case \"remRow\":\n          if (\n            input &&\n            (input.value1 ||\n              input.value2 ||\n              input.value3 ||\n              input.value4 ||\n              input.value5)\n          ) {\n            let newData = previousData;\n            let inputKeys = Object.keys(input);\n            inputKeys.map(inputVal => {\n              newData = newData.filter((e, i) => {\n                return i != parseInt(input[inputVal]);\n              });\n            });\n            vm.rules[index].data = newData;\n          } else {\n            vm.rules[index].data = previousData;\n          }\n          break;\n\n        case \"explodeCol\":\n          if (input && input.type && input.value) {\n            let colLengths = [];\n            vm.rules[index - 1].data.map(e => {\n              if(e[input.type]) {\n                colLengths.push(e[input.type].split(input.value).length);\n              }\n            });\n            let newColNum = Math.max(...colLengths);\n            let newValues = previousData;\n            newValues.map(e => {\n              if(e[input.type]) {\n                let newColumns = e[input.type].split(input.value);\n                if (newColumns.length != newColNum) {\n                  newColumns.length = newColNum;\n                  newColumns.fill(0, newColumns.length);\n                }\n                e.splice(input.type, 1, ...newColumns);\n              }\n            });\n            vm.rules[index].data = newValues;\n          } else {\n            vm.rules[index].data = vm.rules[index - 1].data;\n          }\n          break;\n\n        case \"mergeCol\":\n          if (input && input.value1 && input.value2) {\n            let input1 = parseInt(input.value1);\n            let input2 = parseInt(input.value2);\n            let newArray = [];\n            let newValues = previousData;\n            newValues.map(x => {\n              let newItem = x\n                .slice(input1, input2 + 1)\n                .join()\n                .replace(\",\", \", \");\n              x.splice(input1, input2 + 1 - input1, newItem);\n              newArray.push(x);\n            });\n            vm.rules[index].data = newArray;\n          } else {\n            vm.rules[index].data = vm.rules[index - 1].data;\n          }\n          break;\n\n        case \"searchReplace\":\n          if (input && input.value1 && input.value2) {\n            let input1 = parseInt(input.value1);\n            if (!input.value3) input.value3 = \"\";\n            let newValues = previousData;\n            newValues.map(e => {\n              e[input1] = e[input1]\n                .toString()\n                .replace(input.value2, input.value3);\n            });\n            vm.rules[index].data = newValues;\n          } else {\n            vm.rules[index].data = vm.rules[index - 1].data;\n          }\n          break;\n\n        case \"formDates\":\n          if (input && input.value1 && input.value2) {\n            alert(\n              \"Can't do this operation at this time until we standardize what dates we want coming in, if we do want to capture that data.\"\n            );\n          } else {\n            vm.rules[index].data = vm.rules[index - 1].data;\n          }\n          break;\n\n        case \"processCustomers\":\n          if (input.email || input.phone) {\n            let data = previousData;\n            let customerList = [];\n            data.map(customer => {\n              let newCustomer = {\n                firstname: input.firstname ? customer[input.firstname] : \"\",\n                lastname: input.lastname ? customer[input.lastname] : \"\",\n                email: input.email ? customer[input.email] : \"\",\n                phone: input.phone ? customer[input.phone] : \"\",\n                notes: input.notes ? customer[input.notes] : \"\"\n              };\n              if(input.notes == 'Custom') {\n                newCustomer.notes = input.customNote;\n              }\n              customerList.push(newCustomer);\n            });\n            vm.rules[index].data = customerList;\n          }\n          break;\n\n        default:\n          if (input && input.value) {\n            console.log(input.value);\n          } else {\n            vm.rules[index].data = vm.rules[index - 1].data;\n          }\n      }\n      if (index != vm.rules.length - 1) {\n        vm.rules.map((e, i) => {\n          if (i > index) {\n            vm.changeFilter(i, e.option, e.input);\n          }\n        });\n      }\n    },\n    mapData() {\n      this.csvData.map((e, i) => {\n        e.map((h, j) => {\n          h = h.trim();\n        });\n      });\n    },\n    addManualFile(event) {\n      let vm = this;\n      // EventService.$emit(\"loading\", \"show\");\n      if (event.target.files[0]) {\n        vm.fileExists = true;\n        let exampleFile = event.target.files[0];\n        let fileName = exampleFile.name;\n        let fileType = fileName.substr(fileName.indexOf(\".\") + 1);\n        if (fileType == \"xlsx\" || fileType == \"xls\") {\n          var rABS = true;\n          var reader = new FileReader();\n          reader.onload = function(e) {\n            var data = e.target.result;\n            if (!rABS) data = new Uint8Array(data);\n            var workbook = XLSX.read(data, { type: rABS ? \"binary\" : \"array\" });\n            let processedXLS = XLSX.utils.sheet_to_json(\n              workbook.Sheets[workbook.SheetNames[0]],\n              { header: 1 }\n            ).filter(row => {\n            return row.length > 0;\n          });;\n            let maxSize = 0;\n            processedXLS.map(e => {\n              if(e.length > maxSize) maxSize = e.length;\n            })\n            let diff = maxSize - processedXLS[0].length;\n            while (diff > 0) {\n              processedXLS[0].push('-');\n              diff = maxSize - processedXLS[0].length;\n            }\n            if (processedXLS.length > 20) {\n              vm.rules[0].data = processedXLS\n                .splice(0, 11)\n                .concat(processedXLS.splice(-10));\n            } else {\n              vm.rules[0].data = processedXLS;\n            }\n          };\n          if (rABS) reader.readAsBinaryString(exampleFile);\n          else reader.readAsArrayBuffer(exampleFile);\n        } else if (fileType == \"csv\") {\n          let processedCSV;\n          Papa.parse(exampleFile, {\n            complete: function(results) {\n              processedCSV = results.data;\n              if (processedCSV.length > 20) {\n                vm.rules[0].data = processedCSV\n                  .splice(0, 11)\n                  .concat(processedCSV.splice(-10));\n              } else {\n                vm.rules[0].data = processedCSV;\n              }\n            }\n          });\n        } else if (fileType == \"xml\") {\n          let reader = new FileReader();\n          reader.onload = function(e) {\n            var data = e.target.result;\n            vm.convertManualXML(data);\n          };\n          reader.readAsText(exampleFile);\n        } else if (fileType == \"txt\") {\n          let reader = new FileReader();\n          reader.onload = function(e) {\n            var data = e.target.result;\n            let parser = new DOMParser();\n            let newDoc = parser.parseFromString(JSON.parse(data), \"text/html\");\n            let test = newDoc.getElementsByTagName(\"tr\");\n            let newArr = [...test];\n            let customerList = [];\n            let headerArr = [];\n            newArr.map(g => {\n              let headers = g.getElementsByTagName(\"th\");\n              if (headers.length > 0) {\n                headerArr.push([...headers]);\n              }\n            });\n            let headersList = [];\n            headerArr.map(h => {\n              h.map(g => {\n                headersList.push(g.innerHTML);\n              });\n            });\n            let nextArr = [];\n            newArr.map(e => {\n              let testing = e.getElementsByTagName(\"td\");\n              let customer = {};\n              let nextArray = [...testing];\n              nextArray.map((f, i) => {\n                let header = headersList[i];\n                let value = f.textContent;\n                customer[header] = value;\n              });\n              if (Object.keys(customer).length > 3) {\n                customerList.push(customer);\n              }\n            });\n            let csvVersion = Papa.unparse(customerList);\n            let jsonVersion = Papa.parse(csvVersion);\n            jsonVersion = jsonVersion.data;\n            // console.log(jsonVersion);\n            if (jsonVersion.length > 100) {\n              vm.rules[0].data = jsonVersion\n                .splice(0, 50)\n                .concat(jsonVersion.splice(-50));\n            } else {\n              vm.rules[0].data = jsonVersion;\n            }\n          };\n          reader.readAsText(exampleFile);\n        } else {\n          console.log(\"Error, this has been rejected for incorrect file type.\");\n        }\n        if(vm.rules && vm.rules.length > 1) {\n          vm.rules.map((rule, i) => {\n            if(i > 0) {\n              rule.data.map(dataset => {\n                if(dataset && dataset.length > 0) {\n                  vm.changeFilter(i, rule.option, rule.input);\n                }\n              })\n            }\n          })\n        }\n      }\n    },\n    convertManualXML(xml) {\n      let vm = this;\n      let parser = new DOMParser();\n      let xmlDoc = parser.parseFromString(xml, \"text/xml\");\n      let xmlArr = xmlDoc.getElementsByTagName(\"Row\");\n      let newXMLArr = [...xmlArr];\n      let customerList = [];\n      newXMLArr.map(e => {\n        let customer = {};\n        let test = [...e.attributes];\n        test.map(f => {\n          let header = f.name;\n          let value = f.nodeValue;\n          customer[header] = value;\n        });\n        customerList.push(customer);\n      });\n      let csvVersion = Papa.unparse(customerList);\n      let jsonVersion = Papa.parse(csvVersion);\n      jsonVersion = jsonVersion.data;\n      if (jsonVersion.length > 20) {\n        vm.rules[0].data = jsonVersion\n          .splice(0, 11)\n          .concat(jsonVersion.splice(-10));\n      } else {\n        vm.rules[0].data = jsonVersion;\n      }\n    },\n    saveRules() {\n      let vm = this;\n      let ruleId = null;\n      if(this.$route.params.parser && !this.$route.params.action) {\n        ruleId = this.$route.params.parser;\n      }\n      let parsingObject = {\n        name: vm.ruleName,\n        trigger: vm.trigger,\n        fileType: vm.parseFileType,\n        parseFileName: vm.parseFileName,\n        value: vm.fileName,\n        rules: vm.rules\n      };\n      let completeMailbox = ''\n      if(vm.mailbox.includes('@livemail.opiniion.com') || vm.mailbox.includes('@demomail.opiniion.com')) {\n        completeMailbox = vm.mailbox;\n      } else {\n        completeMailbox =\n        vm.domain == \"app\"\n          ? vm.mailbox + \"@livemail.opiniion.com\"\n          : vm.mailbox + \"@demomail.opiniion.com\";\n        }\n      ParsingService.saveParsingRules(completeMailbox, parsingObject, ruleId).then(\n        response => {\n          if (response.success) {\n            (vm.csv = []),\n            (vm.xml = []),\n            (vm.fileOptions = [\"csv\", \"xml\", \"xls\", \"xlsx\", \"txt\"]),\n            (vm.indicators = [\"subject\", \"fromName\", \"body\"]),\n            (vm.fileName = \"\"),\n            (vm.fileExists = false),\n            (vm.newFile = \"\"),\n            (vm.trigger = \"\"),\n            (vm.parseFileType = \"\"),\n            (vm.mailbox = \"\"),\n            (vm.json = \"\"),\n            (vm.domain = \"\"),\n            (vm.activeLocation = \"\"),\n            (vm.locationOptions = []),\n            (vm.ruleName = \"\"),\n            vm.selectedFile = '',\n            (vm.rules = [{ rule: 1, data: \"\", option: \"intialData\" }]);\n            vm.$router.push('/parsingList')\n          }\n        }\n      );\n    }\n  }\n};\n</script>\n\n<style scoped>\n.parsing-container {\n  min-height: 100vh;\n  background: white;\n  min-width: 100%;\n  padding-left: 10px;\n}\n\n.parsing-description {\n  margin-left: 30px;\n}\n\n.data-container {\n  border: 1px solid grey;\n  overflow: scroll;\n  max-height: 400px;\n  font-size: 14px;\n  margin-bottom: 20px;\n}\n\n.mail-select {\n  margin-left: 30px;\n}\n\n.mail-select button {\n  background: #4fcbc5;\n  color: white;\n  margin: 20px 0 0 20px;\n  cursor: pointer;\n}\n\n.email-container {\n  margin: 20px 0 0 20px;\n  width: 400px;\n  box-shadow: 0px 1px 2px rgba(0, 0, 0, 0.25);\n  padding: 10px 20px;\n}\n\n.email-headers {\n  display: flex;\n  flex-direction: column;\n}\n\n.removal {\n  width: 200px;\n  cursor: pointer;\n  border-radius: 3px;\n  box-shadow: 2px 2px 2px rgba(0, 0, 0, 0.55);\n  padding: 5px 10px;\n  margin: 10px 0;\n  display: flex;\n  justify-content: space-between;\n  background: orange;\n  color: rgb(255, 248, 236);\n  font-size: 18px;\n}\n\n.attachments {\n  margin-left: 20px;\n}\n\n.attachments span {\n  cursor: pointer;\n}\n\n.body-link {\n  cursor: pointer;\n}\n\n.hidden {\n  display: none;\n}\n\n.border {\n  border-bottom: 1px solid lightgrey;\n}\n\n.data-table {\n  display: flex;\n  flex-direction: row;\n}\n\n.data-selection {\n  flex: 0 0 180px;\n  margin: 5px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.fa-plus {\n  margin: 15px;\n  font-size: 20px;\n}\n\nbutton {\n  cursor: pointer;\n  border-radius: 3px;\n  box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.55);\n  padding: 5px 10px;\n  background: #4fcbc5;\n  color: white;\n}\n\n.dupeMessage {\n  color: red;\n  position: absolute;\n  transform: translate(-90px, 35px);\n  font-size: 11px;\n}\n\n</style>\n"],"sourceRoot":"src/components"}]}