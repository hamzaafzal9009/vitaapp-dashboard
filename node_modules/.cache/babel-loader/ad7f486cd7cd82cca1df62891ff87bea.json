{"remainingRequest":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/babel-loader/lib/index.js!/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js??vue-loader-options!/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/src/components/AddNewAutomation.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/src/components/AddNewAutomation.vue","mtime":1581270622000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/package.json","mtime":1587799327166},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LnJlZ2V4cC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5hcnJheS5zb3J0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LnJlZ2V4cC5yZXBsYWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM3LmFycmF5LmluY2x1ZGVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LnN0cmluZy5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczcub2JqZWN0LmVudHJpZXMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBFdmVudFNlcnZpY2UgfSBmcm9tICIuLi9tYWluIjsKaW1wb3J0IEF1dG9tYXRpb25TZXJ2aWNlIGZyb20gIi4vLi4vc2VydmljZXMvQXV0b21hdGlvblNlcnZpY2UiOwppbXBvcnQgY29uZmlnIGZyb20gIi4uL2NvbmZpZy5qcyI7CmltcG9ydCBMb2NhdGlvblNlcnZpY2UgZnJvbSAiLi8uLi9zZXJ2aWNlcy9Mb2NhdGlvblNlcnZpY2UuanMiOwppbXBvcnQgUHJldmlld0xhbmRpbmcgZnJvbSAiLi9QcmV2aWV3TGFuZGluZyI7CmltcG9ydCBUQ1BBQ29tcGxpYW5jZSBmcm9tICIuL1RDUEFDb21wbGlhbmNlIjsKaW1wb3J0IFVzZXJTZXJ2aWNlIGZyb20gIi4vLi4vc2VydmljZXMvVXNlclNlcnZpY2UiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImFkZEF1dG9tYXRpb24iLAogIHByb3BzOiBbInNlbGVjdGVkQXV0b21hdGlvbiIsICJhdXRvbWF0aW9uVHlwZSJdLAogIGNvbXBvbmVudHM6IHsKICAgIFByZXZpZXdMYW5kaW5nOiBQcmV2aWV3TGFuZGluZywKICAgIFRDUEFDb21wbGlhbmNlOiBUQ1BBQ29tcGxpYW5jZQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBhZ2VBY3Rpb246ICJBZGQgTmV3IiwKICAgICAgZGlzcGxheU5hbWU6ICIiLAogICAgICBsb2NhdGlvbklkOiAiIiwKICAgICAgYXV0b21hdGlvbkxvY2F0aW9uTmFtZTogJycsCiAgICAgIHVzZXJEYXRhOiAnJywKICAgICAgbmV3T3B0aW9uOiAnJywKICAgICAgdGVtcE1lc3NhZ2U6ICcnLAogICAgICBsYW5kaW5nTWVzc2FnZTogJ0VkaXQgTGFuZGluZyBQYWdlJywKICAgICAgZW1haWxQcmV2aWV3OiBmYWxzZSwKICAgICAgc21zUHJldmlldzogZmFsc2UsCiAgICAgIGR1cGxpY2F0ZUlkOiBmYWxzZSwKICAgICAgZHVwbGljYXRlS2V5OiBmYWxzZSwKICAgICAgZWRpdGluZ1RpbWVDb25kaXRpb246IGZhbHNlLAogICAgICBlZGl0aW5nTGFuZGluZ1BhZ2U6IGZhbHNlLAogICAgICBlZGl0aW5nU3VydmV5OiBmYWxzZSwKICAgICAgYWRkaW5nTG95YWx0eUNvdXBvbjogZmFsc2UsCiAgICAgIG9wZW5QcmV2aWV3Q2FtcGFpZ246IGZhbHNlLAogICAgICB0Y3BhQ29tcGxpYW5jZU9wZW46IGZhbHNlLAogICAgICBhZ3JlZW1lbnQ6IGZhbHNlLAogICAgICBpbml0aWFsaXplZFVubGF5ZXI6IGZhbHNlLAogICAgICBzcGlubmVyQWN0aXZlOiBmYWxzZSwKICAgICAgc3RhcnRQb3NpdGlvbjogbnVsbCwKICAgICAgZW5kUG9zaXRpb246IG51bGwsCiAgICAgIGRyYWdnaW5nOiBmYWxzZSwKICAgICAgdGVtcGxhdGVUeXBlOiAiIiwKICAgICAgc2VsZWN0ZWRJbmRleDogbnVsbCwKICAgICAgc2VsZWN0ZWRBY3Rpb246IHsKICAgICAgICB0aW1lOiAwLAogICAgICAgIGVtYWlsOiB7CiAgICAgICAgICBhY3RpdmU6ICcnLAogICAgICAgICAgc3ViamVjdDogIiIsCiAgICAgICAgICBkZXNpZ246IHsKICAgICAgICAgICAgZGF0YTogIiIsCiAgICAgICAgICAgIGRlc2lnbjogIiIKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHNtczogewogICAgICAgICAgYWN0aXZlOiAnJywKICAgICAgICAgIHByZXZpZXc6ICIiLAogICAgICAgICAgbWVzc2FnZTogIiIKICAgICAgICB9LAogICAgICAgIHN1cnZleVF1ZXN0aW9uczogW10gLy8gcmVzdHJpY3Rpb246ICcnCgogICAgICB9LAogICAgICBhdXRvbWF0aW9uOiB7CiAgICAgICAgbmFtZTogIiIsCiAgICAgICAgYXV0b21hdGlvbklkOiAnJywKICAgICAgICBsb2NhdGlvbklkOiAnJywKICAgICAgICB0eXBlOiAiIiwKICAgICAgICBsYW5ndWFnZTogJ2VuJywKICAgICAgICBpZGVudGlmaWVyOiAnJywKICAgICAgICB0cmlnZ2VyRXZlbnQ6ICIiLAogICAgICAgIGF1dG9SZXNlbmQ6ICcxNTcyNDgwMDAwMCcsCiAgICAgICAga2V5d29yZDogJycsCiAgICAgICAgbGFuZGluZ1BhZ2U6IHsKICAgICAgICAgIGxwMTogJycsCiAgICAgICAgICBscDI6ICcnLAogICAgICAgICAgbHAzOiAnJywKICAgICAgICAgIHJwMTogJycsCiAgICAgICAgICBycDI6ICcnLAogICAgICAgICAgcnAzOiAnJwogICAgICAgIH0sCiAgICAgICAgYWN0aW9uczogW3sKICAgICAgICAgIHRpbWU6IDAsCiAgICAgICAgICBlbWFpbDogewogICAgICAgICAgICBhY3RpdmU6IHRydWUsCiAgICAgICAgICAgIHN1YmplY3Q6ICIiLAogICAgICAgICAgICBkZXNpZ246IHsKICAgICAgICAgICAgICBkYXRhOiAiIiwKICAgICAgICAgICAgICBkZXNpZ246ICIiCiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICBzbXM6IHsKICAgICAgICAgICAgYWN0aXZlOiB0cnVlLAogICAgICAgICAgICBwcmV2aWV3OiAiIiwKICAgICAgICAgICAgbWVzc2FnZTogIiIKICAgICAgICAgIH0sCiAgICAgICAgICByZXN0cmljdGlvbjogIiIKICAgICAgICB9XQogICAgICB9CiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuc2V0SW5pdGlhbERhdGEoKTsKICAgIHZhciB4ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgndGl0bGVkJyk7CiAgfSwKICBjb21wdXRlZDogewogICAgbGFuZGluZ1BhZ2U6IGZ1bmN0aW9uIGxhbmRpbmdQYWdlKCkgewogICAgICByZXR1cm4gewogICAgICAgIGxwMTogIkhvdyBBcmUgV2UgRG9pbmc/IiwKICAgICAgICBscDI6ICJQbGVhc2UgUmF0ZSBZb3VyIEV4cGVyaWVuY2UiLAogICAgICAgIGxwMzogIkF0ICIgKyB0aGlzLmF1dG9tYXRpb25Mb2NhdGlvbk5hbWUgKyAiLCB3ZSBjYXJlIGFib3V0IHlvdXIgZXhwZXJpZW5jZSBhbmQgd2FudCB0byBoZWFyIGFib3V0IGl0LiBQbGVhc2UgdGFrZSBhIG1vbWVudCB0byBsZXQgdXMga25vdyBob3cgd2UncmUgZG9pbmchIiwKICAgICAgICBycDE6ICJXZSdyZSBTb3JyeSBUbyBIZWFyIFRoYXQiLAogICAgICAgIHJwMjogIlBsZWFzZSBUZWxsIFVzIE1vcmUiLAogICAgICAgIHJwMzogIldlIHRha2Ugb3VyIGN1c3RvbWVyIGZlZWRiYWNrIHZlcnkgc2VyaW91c2x5IC0gcGxlYXNlIGxldCB1cyBrbm93IGhvdyB5b3VyIGV4cGVyaWVuY2Ugd2FzIGxlc3MgdGhhbiBpZGVhbCBzbyB3ZSBjYW4gaW1wcm92ZSBpbiB0aGUgZnV0dXJlLiBJbiBvcmRlciB0byBiZXR0ZXIgYWRkcmVzcyB0aGUgaXNzdWUsIHBsZWFzZSBwcm92aWRlIHNwZWNpZmljcy4gV2UgYXBwcmVjaWF0ZSB5b3VyIGZlZWRiYWNrISIKICAgICAgfTsKICAgIH0sCiAgICBkaXNwbGF5T3ZlcnZpZXc6IGZ1bmN0aW9uIGRpc3BsYXlPdmVydmlldygpIHsKICAgICAgaWYgKHRoaXMuZW1haWxQcmV2aWV3ID09IGZhbHNlICYmIHRoaXMuc21zUHJldmlldyA9PSBmYWxzZSAmJiB0aGlzLmVkaXRpbmdUaW1lQ29uZGl0aW9uID09IGZhbHNlICYmIHRoaXMuZWRpdGluZ0xhbmRpbmdQYWdlID09IGZhbHNlICYmIHRoaXMuZWRpdGluZ1N1cnZleSA9PSBmYWxzZSAmJiB0aGlzLmFkZGluZ0xveWFsdHlDb3Vwb24gPT0gZmFsc2UgJiYgdGhpcy5vcGVuUHJldmlld0NhbXBhaWduID09IGZhbHNlICYmIHRoaXMuaW5pdGlhbGl6ZWRVbmxheWVyID09IGZhbHNlKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9LAogICAgc2F2ZVN1cnZleURpc2FibGVkOiBmdW5jdGlvbiBzYXZlU3VydmV5RGlzYWJsZWQoKSB7CiAgICAgIC8vIE5lZWRzIHNvbWUgc29ydCBvZiB0cmlnZ2VyIGluIG9yZGVyIHRvIHJlZnJlc2ggdGhlIHJlc3VsdCBhZnRlciBvbmUgb2YgaXRzIGRlcGVuZGVudHMgaXMgY2hhbmdlZC4uLiB1bnN1cmUgYXQgdGhpcyB0aW1lIGhvdyB0byB0cmlnZ2VyIHRoYXQuCiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIHZhciB0ZXN0ID0gdm0uc2VsZWN0ZWRBY3Rpb24uc3VydmV5UXVlc3Rpb25zOwogICAgICByZXR1cm4gdGVzdC5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gT2JqZWN0LmVudHJpZXMoZSkubWFwKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgICByZXR1cm4geFsxXS5sZW5ndGggPT0gMCAmJiAodHlwZW9mIHhbMV0gIT0gJ2Jvb2xlYW4nIHx8IHR5cGVvZiB4WzFdICE9ICdudW1iZXInKTsKICAgICAgICB9KTsKICAgICAgfSkubWFwKGZ1bmN0aW9uIChoKSB7CiAgICAgICAgcmV0dXJuIGguaW5jbHVkZXModHJ1ZSk7CiAgICAgIH0pOwogICAgICB0aGlzLiRmb3JjZVVwZGF0ZSgpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgc2V0SW5pdGlhbERhdGE6IGZ1bmN0aW9uIHNldEluaXRpYWxEYXRhKCkgewogICAgICB0aGlzLmxvY2F0aW9uSWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgibG9jYXRpb25JZCIpOwogICAgICB0aGlzLmF1dG9tYXRpb24ubG9jYXRpb25JZCA9IHRoaXMubG9jYXRpb25JZDsKICAgICAgdGhpcy5kaXNwbGF5TmFtZSA9IHRoaXMuYXV0b21hdGlvblR5cGU7CiAgICAgIHRoaXMuYXV0b21hdGlvbi50eXBlID0gdGhpcy5hdXRvbWF0aW9uVHlwZTsKICAgICAgdGhpcy5hZGRMYW5kaW5nUGFnZURhdGEoKTsKICAgICAgdGhpcy5hZGRTdXJ2ZXlEYXRhKCk7CiAgICAgIHRoaXMuYWRkTG95YWx0eUNvdXBvbigpOwogICAgICB0aGlzLmRpc3BsYXlOYW1lID0gdGhpcy5zcGxpdEFuZENvbnZlcnROYW1lKHRoaXMuZGlzcGxheU5hbWUpOwoKICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRBdXRvbWF0aW9uKSB7CiAgICAgICAgdGhpcy5wYWdlQWN0aW9uID0gJ1VwZGF0ZSc7CiAgICAgICAgdGhpcy5hdXRvbWF0aW9uID0gdGhpcy5zZWxlY3RlZEF1dG9tYXRpb247CiAgICAgIH0KCiAgICAgIHRoaXMuZ2V0VXNlckRhdGEoKTsKICAgICAgdGhpcy5jaGVja0FncmVlbWVudCgpOwogICAgfSwKICAgIGNoZWNrQWdyZWVtZW50OiBmdW5jdGlvbiBjaGVja0FncmVlbWVudCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciB2bSA9IHRoaXM7CgogICAgICBpZiAodm0ubG9jYXRpb25JZCkgewogICAgICAgIExvY2F0aW9uU2VydmljZS5nZXRMb2NhdGlvbih2bS5sb2NhdGlvbklkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgaWYgKHJlc3BvbnNlLnRjcGFBZ3JlZW1lbnQpIHsKICAgICAgICAgICAgX3RoaXMuYWdyZWVtZW50ID0gcmVzcG9uc2UudGNwYUFncmVlbWVudC5jb25zZW50OwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgY29udmVydFRvQ2FwczogZnVuY3Rpb24gY29udmVydFRvQ2FwcygpIHsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgaWYgKHZtLmF1dG9tYXRpb24gJiYgdm0uYXV0b21hdGlvbi5rZXl3b3JkKSB2bS5hdXRvbWF0aW9uLmtleXdvcmQgPSB2bS5hdXRvbWF0aW9uLmtleXdvcmQudG9VcHBlckNhc2UoKS5yZXBsYWNlKC9ccysvZywgJycpOwogICAgICB2YXIgYWxsS2V5cyA9IFtdOwogICAgICBBdXRvbWF0aW9uU2VydmljZS5nZXRBdXRvbWF0aW9uQnlUeXBlKG51bGwsICdsb3lhbHR5JykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICByZXNwb25zZS5yZXN1bHRzLm1hcChmdW5jdGlvbiAoYXV0bykgewogICAgICAgICAgYWxsS2V5cy5wdXNoKGF1dG8ua2V5d29yZCk7CiAgICAgICAgfSk7CiAgICAgICAgdm0uZHVwbGljYXRlS2V5ID0gYWxsS2V5cy5pbmNsdWRlcyh2bS5hdXRvbWF0aW9uLmtleXdvcmQpID8gdHJ1ZSA6IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRVc2VyRGF0YTogZnVuY3Rpb24gZ2V0VXNlckRhdGEoKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIHZtLnVzZXJEYXRhID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY3VycmVudFVzZXInKSk7CiAgICB9LAogICAgdmFsaWRhdGVJRDogZnVuY3Rpb24gdmFsaWRhdGVJRChpZCkgewogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICBBdXRvbWF0aW9uU2VydmljZS5nZXRBdXRvbWF0aW9uc0J5TG9jYXRpb24odm0ubG9jYXRpb25JZCwgdm0uYXV0b21hdGlvbi50eXBlKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHZhciBsb2NhdGlvbkF1dG9zID0gcmVzcG9uc2UucmVzdWx0OwogICAgICAgIHZhciBhbGxJZHMgPSBbXTsKICAgICAgICBsb2NhdGlvbkF1dG9zLm1hcChmdW5jdGlvbiAoYXV0bykgewogICAgICAgICAgaWYgKGF1dG8uc3RhdHVzICE9ICdkZWxldGVkJykgewogICAgICAgICAgICBpZiAodHlwZW9mIGF1dG8uaWRlbnRpZmllciAhPSAnc3RyaW5nJykgewogICAgICAgICAgICAgIGFsbElkcy5wdXNoKEpTT04uc3RyaW5naWZ5KGF1dG8uaWRlbnRpZmllcikpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGFsbElkcy5wdXNoKGF1dG8uaWRlbnRpZmllcik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICB2bS5kdXBsaWNhdGVJZCA9IGFsbElkcy5pbmNsdWRlcyhpZCk7CiAgICAgIH0pOwogICAgfSwKICAgIHNhdmVBdXRvbWF0aW9uOiBmdW5jdGlvbiBzYXZlQXV0b21hdGlvbigpIHsKICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KCJsb2FkaW5nIiwgInNob3ciKTsKICAgICAgdmFyIHZtID0gdGhpczsKCiAgICAgIGlmICh2bS5wYWdlQWN0aW9uID09ICdBZGQgTmV3JykgewogICAgICAgIEF1dG9tYXRpb25TZXJ2aWNlLnNhdmVBdXRvbWF0aW9uKHZtLmF1dG9tYXRpb24pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2VzcykgewogICAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoImxvYWRpbmciLCAiaGlkZSIpOwogICAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoInN1Y2Nlc3NNZXNzYWdlIiwgIkhvb3JheSEgQXV0b21hdGlvbiBTYXZlZC4iKTsKICAgICAgICAgICAgdm0uY2xvc2VNb2RhbCgnU2F2ZWQnKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgibG9hZGluZyIsICJoaWRlIik7CiAgICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgiZXJyb3JNZXNzYWdlIiwgIlNvcnJ5LCBzb21ldGhpbmcgd2VudCB3cm9uZy4gUGxlYXNlIHRyeSBhZ2Fpbi4iKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBBdXRvbWF0aW9uU2VydmljZS51cGRhdGVBdXRvbWF0aW9uKHZtLmF1dG9tYXRpb24pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2VzcykgewogICAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoImxvYWRpbmciLCAiaGlkZSIpOwogICAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoInN1Y2Nlc3NNZXNzYWdlIiwgIkhvb3JheSEgQXV0b21hdGlvbiBTYXZlZC4iKTsKICAgICAgICAgICAgdm0uY2xvc2VNb2RhbCgnU2F2ZWQnKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgibG9hZGluZyIsICJoaWRlIik7CiAgICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgiZXJyb3JNZXNzYWdlIiwgIlNvcnJ5LCBzb21ldGhpbmcgd2VudCB3cm9uZy4gUGxlYXNlIHRyeSBhZ2Fpbi4iKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHNwbGl0QW5kQ29udmVydE5hbWU6IGZ1bmN0aW9uIHNwbGl0QW5kQ29udmVydE5hbWUoZGF0YSkgewogICAgICByZXR1cm4gKGRhdGEuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBkYXRhLnN1YnN0cigxKSkucmVwbGFjZSgvKFtBLVpdKS9nLCAiICQxIikudHJpbSgpOwogICAgfSwKICAgIC8vIExvZ2ljIGJlbG93IGFsbG93aW5nIGFuIGFjdGlvbiB0byBjb250YWluIGEgbmV3IHNtcyBtZXNzYWdlLCBhZGp1c3QgdGhlID4gNyBpbiBvcmRlciB0byBjaGFuZ2UgdGltZSBmcmFtZSBkaWZmZXJlbmNlIHRvIGFsbG93IG1vcmUgb3IgbGVzcyB0aW1lIHRvIHBhc3MgYmV0d2VlbiB0ZXh0cy4KICAgIGNoZWNrVGltZTogZnVuY3Rpb24gY2hlY2tUaW1lKHRpbWUsIGluZGV4KSB7CiAgICAgIHZhciBuZXdBcnJheSA9IFtdOwogICAgICB0aGlzLmF1dG9tYXRpb24uYWN0aW9ucy5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgICBuZXdBcnJheS5wdXNoKGUudGltZSk7CiAgICAgIH0pOwogICAgICB2YXIgbmV3VGltZXMgPSBuZXdBcnJheS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgcmV0dXJuIGEgLSBiOwogICAgICB9KTsKCiAgICAgIGlmIChpbmRleCA9PSAwKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gZWxzZSBpZiAoaW5kZXggPiAwICYmIHRpbWUgPT0gMCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAobmV3VGltZXMuaW5kZXhPZih0aW1lKSA+IDApIHsKICAgICAgICAgIGlmIChNYXRoLmFicyh0aW1lIC0gbmV3VGltZXNbbmV3VGltZXMuaW5kZXhPZih0aW1lKSAtIDFdKSA+IDcpIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGNoZWNrTWluVGltZXM6IGZ1bmN0aW9uIGNoZWNrTWluVGltZXMoYWN0aW9uKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIHZhciBpbmRleCA9IHZtLnNlbGVjdGVkSW5kZXg7CgogICAgICBpZiAoaW5kZXggPT0gMCkgewogICAgICAgIHJldHVybiAwOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiB2bS5hdXRvbWF0aW9uLmFjdGlvbnNbaW5kZXggLSAxXS50aW1lOwogICAgICB9CiAgICB9LAogICAgYWRkQWN0aW9uOiBmdW5jdGlvbiBhZGRBY3Rpb24obG9jYXRpb24sIGluZGV4KSB7CiAgICAgIGlmICh0aGlzLmF1dG9tYXRpb25UeXBlID09ICJyZXZpZXdSZXF1ZXN0IikgewogICAgICAgIHZhciBuZXdBY3Rpb24gPSB7CiAgICAgICAgICB0aW1lOiAwLAogICAgICAgICAgZW1haWw6IHsKICAgICAgICAgICAgYWN0aXZlOiB0cnVlLAogICAgICAgICAgICBzdWJqZWN0OiAiIiwKICAgICAgICAgICAgZGVzaWduOiB7CiAgICAgICAgICAgICAgZGF0YTogIiIsCiAgICAgICAgICAgICAgZGVzaWduOiAiIgogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgc21zOiB7CiAgICAgICAgICAgIGFjdGl2ZTogdHJ1ZSwKICAgICAgICAgICAgcHJldmlldzogIiIsCiAgICAgICAgICAgIG1lc3NhZ2U6ICIiCiAgICAgICAgICB9LAogICAgICAgICAgbm90aWNlOiB7CiAgICAgICAgICAgIHBvdGVudGlhbE5lZ1JldjogdHJ1ZSwKICAgICAgICAgICAgYWN0dWFsTmVnUmV2OiB0cnVlLAogICAgICAgICAgICBwb3NpdGl2ZVJldjogdHJ1ZSwKICAgICAgICAgICAgcHJpdmF0ZVJldjogdHJ1ZQogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0gZWxzZSBpZiAodGhpcy5hdXRvbWF0aW9uVHlwZSA9PSAic3VydmV5IikgewogICAgICAgIHZhciBuZXdBY3Rpb24gPSB7CiAgICAgICAgICB0aW1lOiAwLAogICAgICAgICAgZW1haWw6IHsKICAgICAgICAgICAgYWN0aXZlOiB0cnVlLAogICAgICAgICAgICBzdWJqZWN0OiAiIiwKICAgICAgICAgICAgZGVzaWduOiB7CiAgICAgICAgICAgICAgZGF0YTogIiIsCiAgICAgICAgICAgICAgZGVzaWduOiAiIgogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgc21zOiB7CiAgICAgICAgICAgIGFjdGl2ZTogdHJ1ZSwKICAgICAgICAgICAgcHJldmlldzogIiIsCiAgICAgICAgICAgIG1lc3NhZ2U6ICIiCiAgICAgICAgICB9LAogICAgICAgICAgc3VydmV5UXVlc3Rpb25zOiBbXQogICAgICAgIH07CiAgICAgIH0gZWxzZSBpZiAodGhpcy5hdXRvbWF0aW9udHlwZSA9PSAibG95YWx0eSIpIHsKICAgICAgICB2YXIgbmV3QWN0aW9uID0gewogICAgICAgICAgdGltZTogMCwKICAgICAgICAgIGVtYWlsOiB7CiAgICAgICAgICAgIGFjdGl2ZTogdHJ1ZSwKICAgICAgICAgICAgc3ViamVjdDogIiIsCiAgICAgICAgICAgIGRlc2lnbjogewogICAgICAgICAgICAgIGRhdGE6ICIiLAogICAgICAgICAgICAgIGRlc2lnbjogIiIKICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIHNtczogewogICAgICAgICAgICBhY3RpdmU6IHRydWUsCiAgICAgICAgICAgIHByZXZpZXc6ICIiLAogICAgICAgICAgICBtZXNzYWdlOiAiIgogICAgICAgICAgfSwKICAgICAgICAgIGxveWFsdHlDb3Vwb246IHsKICAgICAgICAgICAgaW1hZ2U6ICcnLAogICAgICAgICAgICBpbWFnZVR5cGU6ICcnCiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgbmV3QWN0aW9uID0gewogICAgICAgICAgdGltZTogMCwKICAgICAgICAgIGVtYWlsOiB7CiAgICAgICAgICAgIGFjdGl2ZTogdHJ1ZSwKICAgICAgICAgICAgc3ViamVjdDogIiIsCiAgICAgICAgICAgIGRlc2lnbjogewogICAgICAgICAgICAgIGRhdGE6ICIiLAogICAgICAgICAgICAgIGRlc2lnbjogIiIKICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIHNtczogewogICAgICAgICAgICBhY3RpdmU6IHRydWUsCiAgICAgICAgICAgIHByZXZpZXc6ICIiLAogICAgICAgICAgICBtZXNzYWdlOiAiIgogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0KCiAgICAgIGlmIChsb2NhdGlvbiA9PSAiYmVsb3ciKSB7CiAgICAgICAgdGhpcy5hdXRvbWF0aW9uLmFjdGlvbnMuc3BsaWNlKGluZGV4ICsgMSwgMCwgbmV3QWN0aW9uKTsKICAgICAgfSBlbHNlIGlmIChsb2NhdGlvbiA9PSAiYWJvdmUiKSB7CiAgICAgICAgdGhpcy5hdXRvbWF0aW9uLmFjdGlvbnMuc3BsaWNlKGluZGV4LCAwLCBuZXdBY3Rpb24pOwogICAgICB9CiAgICB9LAogICAgYWRkTGFuZGluZ1BhZ2VEYXRhOiBmdW5jdGlvbiBhZGRMYW5kaW5nUGFnZURhdGEoKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIHZhciBzZWxlY3RlZExvY2F0aW9uID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xvY2F0aW9uSWQnKTsKICAgICAgdmFyIGxvY09wdGlvbnMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsb2NhdGlvbk9wdGlvbnMnKSk7CiAgICAgIGxvY09wdGlvbnMubWFwKGZ1bmN0aW9uIChsb2MpIHsKICAgICAgICBpZiAobG9jLmxvY2F0aW9uSWQgPT0gc2VsZWN0ZWRMb2NhdGlvbikgewogICAgICAgICAgdmFyIG1hdGNoZWRMb2NhdGlvbiA9IGxvYzsKICAgICAgICAgIHZtLmF1dG9tYXRpb25Mb2NhdGlvbk5hbWUgPSBsb2MuZGlzcGxheU5hbWU7CiAgICAgICAgfQoKICAgICAgICA7CiAgICAgIH0pOwogICAgfSwKICAgIGFkZFN1cnZleURhdGE6IGZ1bmN0aW9uIGFkZFN1cnZleURhdGEoKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CgogICAgICBpZiAodm0uYXV0b21hdGlvblR5cGUgPT0gInN1cnZleSIpIHsKICAgICAgICB2bS5hdXRvbWF0aW9uLmFjdGlvbnNbMF0uc3VydmV5UXVlc3Rpb25zID0gW107CiAgICAgIH0KICAgIH0sCiAgICBhZGRMb3lhbHR5Q291cG9uOiBmdW5jdGlvbiBhZGRMb3lhbHR5Q291cG9uKCkgewogICAgICB2YXIgdm0gPSB0aGlzOwoKICAgICAgaWYgKHZtLmF1dG9tYXRpb25UeXBlID09ICdsb3lhbHR5JykgewogICAgICAgIHZtLmF1dG9tYXRpb24uYWN0aW9uc1swXS5sb3lhbHR5Q291cG9uID0gewogICAgICAgICAgaW1hZ2U6ICcnLAogICAgICAgICAgaW1hZ2VUeXBlOiAnJwogICAgICAgIH07CiAgICAgIH0KICAgIH0sCiAgICByZW1vdmVBY3Rpb246IGZ1bmN0aW9uIHJlbW92ZUFjdGlvbihpbmRleCkgewogICAgICB0aGlzLmF1dG9tYXRpb24uYWN0aW9ucy5zcGxpY2UoaW5kZXgsIDEpOwogICAgfSwKICAgIHByZXZpZXdFbWFpbDogZnVuY3Rpb24gcHJldmlld0VtYWlsKGFjdGlvbikgewogICAgICB2YXIgdm0gPSB0aGlzOyAvLyBSZW1vdmVzIGFueSBvdGhlciBlZGl0aW5nIHNvIHRoYXQgb3RoZXIgZW1haWwgcHJldmlld3MgZG9uJ3QgaW50ZXJmZXJlLgoKICAgICAgdm0uY2xvc2VBbGxFZGl0aW5nKCk7CiAgICAgIHZtLnNlbGVjdGVkQWN0aW9uID0gYWN0aW9uOwogICAgICB2bS5lbWFpbFByZXZpZXcgPSB0cnVlOyAvLyB2bS5zcGlubmVyQWN0aXZlID0gdHJ1ZTsKICAgICAgLy8gQ2hlY2tzIGZvciBwcm9wZXIgaW5mb3JtYXRpb24gaW4gb3JkZXIgdG8gcGFzcyBjb3JyZWN0IGRhdGEgdG8gbWFpbGNoaW1wIGZvciB0ZXN0aW5nLgoKICAgICAgaWYgKGNvbmZpZy5zdWJEb21haW4pIHsKICAgICAgICB2YXIgc3ViRG9tYWluID0gY29uZmlnLnN1YkRvbWFpbjsKICAgICAgfQoKICAgICAgaWYgKGNvbmZpZy5iYXNlVXJsKSB7CiAgICAgICAgdmFyIGJhc2VVcmwgPSBjb25maWcuYmFzZVVybDsKICAgICAgfSAvLyBUaW1lb3V0IGlzIHNldCB0byBiZSBtYW5pcHVsYXRlZCBpZiB3ZSBuZWVkIG1vcmUgdGltZSBsYXRlciBpbiBhIHNpbmdsZSB2YXJpYWJsZS4KCgogICAgICB2YXIgdGltZU91dCA9IDIwMDsgLy8gQ2hlY2sgaWYgdGhlIGFjdGlvbiBwYXNzZWQgaW50byB0aGUgZnVuY3Rpb24gYWxyZWFkeSBoYXMgYmVlbiBzYXZlZCwgc28gdGhhdCBpdCBpcyBub3Qgb3ZlcndyaXR0ZW4gaWYgaXQgaXMuCgogICAgICBpZiAodm0uY2FtcGFpZ24uZW1haWxEZXRhaWxzLmRlc2lnbi5kZXNpZ24pIHsKICAgICAgICAvLyBDcmVhdGUgdGhlIHNjcmlwdCBhbmQgaWZyYW1lIHRvIGJlIHVzZWQgdG8gZWRpdCB0aGUgZW1haWwuCiAgICAgICAgdm0uJHVubGF5ZXJTY3JpcHQgPSB7CiAgICAgICAgICBpZDogImVtYWlsLWVkaXRvciIsCiAgICAgICAgICBwcm9qZWN0SWQ6IDE3NzcsCiAgICAgICAgICBkaXNwbGF5TW9kZTogImVtYWlsIgogICAgICAgIH07CiAgICAgICAgdmFyIGQgPSBkb2N1bWVudDsKICAgICAgICB2YXIgcyA9IGQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7CiAgICAgICAgcy50eXBlID0gInRleHQvamF2YXNjcmlwdCI7CiAgICAgICAgcy5kZWZlciA9IHRydWU7CiAgICAgICAgcy5zcmMgPSAiLy9lZGl0b3IudW5sYXllci5jb20vZW1iZWQuanMiOwogICAgICAgIHZhciB0ID0gZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgic2NyaXB0IilbMF07CiAgICAgICAgdC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShzLCB0KTsgLy8gQWN0dWFsbHkgbG9hZCB0aGUgZXhpc3RpbmcgZGVzaWduIGluIHRoZSBhY3Rpb24sIGNoZWNrIGZvciBpbml0aWFsaXplZFVubGF5ZXIgZXhpc3RzIGFzIGZhaWxzYWZlIGZvciB0aGUgaWZyYW1lIG5vdCBiZWluZyByZXNldCBwcm9wZXJseS4KCiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpZiAoIXZtLmluaXRpYWxpemVkVW5sYXllcikgewogICAgICAgICAgICB1bmxheWVyLmluaXQodm0uJHVubGF5ZXJTY3JpcHQpOwogICAgICAgICAgICB2bS5pbml0aWFsaXplZFVubGF5ZXIgPSB0cnVlOwogICAgICAgICAgICB1bmxheWVyLmxvYWREZXNpZ24odm0uY2FtcGFpZ24uZW1haWxEZXRhaWxzLmRlc2lnbi5kZXNpZ24pOwogICAgICAgICAgfQogICAgICAgIH0sIHRpbWVPdXQpOyAvLyB2bS5zcGlubmVyQWN0aXZlID0gZmFsc2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gSWYgZW1haWwgZGVzaWduIGRvZXNuJ3QgZXhpc3QgZm9yIHRoZSBzZWxlY3RlZCBhY3Rpb24sIGNyZWF0ZSBhbGwgbmVjZXNzYXJ5IGZpZWxkcyB0byBwYXNzIGFzIGRlc2lnblRhZ3MgYW5kIHNldCB0aGUgaW5pdGlhbCBkZXNpZ24uCiAgICAgICAgTG9jYXRpb25TZXJ2aWNlLmdldExvY2F0aW9uKHZtLmNhbXBhaWduLmxvY2F0aW9uSWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuZGlzcGxheU5hbWUpIHsKICAgICAgICAgICAgdm0uYXV0b21hdGlvbkxvY2F0aW9uTmFtZSA9IHJlc3BvbnNlLmRpc3BsYXlOYW1lOwogICAgICAgICAgICB2bS5hZGRMYW5kaW5nUGFnZURhdGEoKTsKICAgICAgICAgICAgdmFyIGxvY2F0aW9uTmFtZSA9IHJlc3BvbnNlLmRpc3BsYXlOYW1lOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdmFyIGxvY2F0aW9uTmFtZSA9IHJlc3BvbnNlLm5hbWU7CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIHN0eWxlID0gcmVzcG9uc2UubG9jYXRpb25TdHlsZTsKICAgICAgICAgIHZhciBsb2dvID0gc3R5bGUubG9nbzsKICAgICAgICAgIHZhciBjb2xvcnMgPSBzdHlsZS5idXR0b25Db2xvciB8fCAiIzRmY2JjNSI7CiAgICAgICAgICB2YXIgYnV0dG9uQ29sb3JzID0gdm0uZ2VuZXJhdGVCdXR0b25Db2xvcnMoY29sb3JzKTsKICAgICAgICAgIHZhciBhdXRvbWF0aW9uSWQgPSAnQVUnICsgdm0uZ2VuZXJhdGVBdXRvSWQoJzAnLCAxMSk7CiAgICAgICAgICB2bS5hdXRvbWF0aW9uLmF1dG9tYXRpb25JZCA9IGF1dG9tYXRpb25JZDsKICAgICAgICAgIHZtLiR1bmxheWVyU2NyaXB0ID0gewogICAgICAgICAgICBpZDogImVtYWlsLWVkaXRvciIsCiAgICAgICAgICAgIHByb2plY3RJZDogMTc3NywKICAgICAgICAgICAgZGlzcGxheU1vZGU6ICJlbWFpbCIsCiAgICAgICAgICAgIGRlc2lnblRhZ3M6IHsKICAgICAgICAgICAgICBsb2NhdGlvbl9uYW1lOiBsb2NhdGlvbk5hbWUsCiAgICAgICAgICAgICAgLy8gVXBkYXRlIHdoZW4gYXV0b21hdGlvbiBpZGVudGlmaWVyIGlzIGNyZWF0ZWQuCiAgICAgICAgICAgICAgLy8gdGVtcGxhdGVfaWQ6IHZtLmF1dG9tYXRpb24ubmFtZSwKICAgICAgICAgICAgICByZXZpZXdfdXJsOiAiaHR0cHM6Ly8iICsgc3ViRG9tYWluICsgIi5vcGluaWlvbi5jb20vYXV0b21hdGlvblJldmlld0VtYWlsLyIgKyB2bS5sb2NhdGlvbklkICsgJy8nICsgYXV0b21hdGlvbklkICsgJzonICsgJyp8YWlkfCovKnxjaWR8KicsCiAgICAgICAgICAgICAgZGlzcGxheV91cmw6ICJodHRwczovLyIgKyBzdWJEb21haW4gKyAiLm9waW5paW9uLmNvbS9sZWF2ZUZlZWRiYWNrLyIgKyB2bS5sb2NhdGlvbklkICsgJy8qfGNpZHwqL0VtYWlsJywKICAgICAgICAgICAgICB1bnN1YnNjcmliZV91cmw6ICJodHRwczovLyIgKyBzdWJEb21haW4gKyAiLm9waW5paW9uLmNvbS91bnN1YnNjcmliZT9jaWQ9KnxjaWR8KiIsCiAgICAgICAgICAgICAgaW1hZ2VfdXJsOiBiYXNlVXJsICsgImxvY2F0aW9uL3Nob3dJbWFnZS8iICsgdm0ubG9jYXRpb25JZCwKICAgICAgICAgICAgICBzdXJ2ZXlfdXJsOiBiYXNlVXJsICsgJ3N1cnZleVJlc3BvbnNlLycsCiAgICAgICAgICAgICAgYnV0dG9uX2NvbG9yXzA6IGJ1dHRvbkNvbG9yc1swXSwKICAgICAgICAgICAgICBidXR0b25fY29sb3JfMTogYnV0dG9uQ29sb3JzWzFdLAogICAgICAgICAgICAgIGJ1dHRvbl9jb2xvcl8yOiBidXR0b25Db2xvcnNbMl0sCiAgICAgICAgICAgICAgYnV0dG9uX2NvbG9yXzM6IGJ1dHRvbkNvbG9yc1szXSwKICAgICAgICAgICAgICBidXR0b25fY29sb3JfNDogYnV0dG9uQ29sb3JzWzRdLAogICAgICAgICAgICAgIGZvb3Rlcl9jb2xvcjogc3R5bGUuZm9vdGVyQ29sb3IgfHwgImxpZ2h0Z3JleSIKICAgICAgICAgICAgfQogICAgICAgICAgfTsKCiAgICAgICAgICBpZiAodm0uYXV0b21hdGlvblR5cGUgPT0gImNhbXBhaWduIikgewogICAgICAgICAgICB2bS4kdW5sYXllclNjcmlwdC50ZW1wbGF0ZUlkID0gNDk3NzsKICAgICAgICAgIH0gZWxzZSBpZiAodm0uYXV0b21hdGlvblR5cGUgPT0gInN1cnZleSIpIHsKICAgICAgICAgICAgdm0uJHVubGF5ZXJTY3JpcHQudGVtcGxhdGVJZCA9IDQ5NzY7CiAgICAgICAgICB9IGVsc2UgaWYgKHZtLmF1dG9tYXRpb25UeXBlID09ICJsb3lhbHR5IikgewogICAgICAgICAgICB2bS4kdW5sYXllclNjcmlwdC50ZW1wbGF0ZUlkID0gNTI4NDsKICAgICAgICAgIH0gZWxzZSBpZiAodm0uYXV0b21hdGlvblR5cGUgPT0gInJldmlld1JlcXVlc3QiKSB7CiAgICAgICAgICAgIHZtLiR1bmxheWVyU2NyaXB0LnRlbXBsYXRlSWQgPSA1MzA3OwoKICAgICAgICAgICAgaWYgKHZtLnRlbXBsYXRlVHlwZSA9PSAic3RhbmRhcmQiIHx8ICF2bS50ZW1wbGF0ZVR5cGUpIHsKICAgICAgICAgICAgICB2bS4kdW5sYXllclNjcmlwdC5kZXNpZ25UYWdzLm1lc3NhZ2VfYmxvY2sgPSAiVGhhbmsgeW91IHNvIG11Y2ggZm9yIGNob29zaW5nICIgKyBsb2NhdGlvbk5hbWUgKyAiISBZb3VyIHNhdGlzZmFjdGlvbiBpcyBvdXIgdG9wIHByaW9yaXR5LCBhbmQgd2UnZCBsb3ZlIHRvIGhlYXIgZnJvbSB5b3UuIFBsZWFzZSB0YWtlIGEgZmV3IHNlY29uZHMgdG8gbGV0IHVzIGtub3cgaG93IHdlJ3JlIGRvaW5nLiI7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodm0udGVtcGxhdGVUeXBlID09ICJwcm9wZXJ0eSIpIHsKICAgICAgICAgICAgICB2bS4kdW5sYXllclNjcmlwdC5kZXNpZ25UYWdzLm1lc3NhZ2VfYmxvY2sgPSAiVGhhbmtzIGZvciBqb2luaW5nIHVzISBZb3VyIHNhdGlzZmFjdGlvbiBpcyBvdXIgdG9wIHByaW9yaXR5LCBhbmQgd2UnZCBsb3ZlIHRvIGhlYXIgZnJvbSB5b3UuIFBsZWFzZSB0YWtlIGEgZmV3IHNlY29uZHMgdG8gcmF0ZSB5b3VyIGV4cGVyaWVuY2UuIjsKICAgICAgICAgICAgfSBlbHNlIGlmICh2bS50ZW1wbGF0ZVR5cGUgPT0gInNlcnZpY2UiKSB7CiAgICAgICAgICAgICAgdm0uJHVubGF5ZXJTY3JpcHQuZGVzaWduVGFncy5tZXNzYWdlX2Jsb2NrID0gIlRoYW5rIHlvdSBzbyBtdWNoIGZvciBjaG9vc2luZyAiICsgbG9jYXRpb25OYW1lICsgIiEgWW91ciBzYXRpc2ZhY3Rpb24gaXMgb3VyIHRvcCBwcmlvcml0eSwgYW5kIHdlJ2QgbG92ZSB0byBoZWFyIGZyb20geW91LiBQbGVhc2UgdGFrZSBhIGZldyBzZWNvbmRzIHRvIGxldCB1cyBrbm93IGhvdyB3ZSdyZSBkb2luZy4iOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHZtLiR1bmxheWVyU2NyaXB0LmRlc2lnblRhZ3MubWVzc2FnZV9ibG9jayA9ICJUaGFuayB5b3Ugc28gbXVjaCBmb3IgY2hvb3NpbmcgIiArIGxvY2F0aW9uTmFtZSArICIhIFlvdXIgc2F0aXNmYWN0aW9uIGlzIG91ciB0b3AgcHJpb3JpdHksIGFuZCB3ZSdkIGxvdmUgdG8gaGVhciBmcm9tIHlvdS4gUGxlYXNlIHRha2UgYSBmZXcgc2Vjb25kcyB0byBsZXQgdXMga25vdyBob3cgd2UncmUgZG9pbmcuIjsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIHZhciBkID0gZG9jdW1lbnQ7CiAgICAgICAgICB2YXIgcyA9IGQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7CiAgICAgICAgICBzLnR5cGUgPSAidGV4dC9qYXZhc2NyaXB0IjsKICAgICAgICAgIHMuZGVmZXIgPSB0cnVlOwogICAgICAgICAgcy5zcmMgPSAiLy9lZGl0b3IudW5sYXllci5jb20vZW1iZWQuanMiOwogICAgICAgICAgdmFyIHQgPSBkLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzY3JpcHQiKVswXTsKICAgICAgICAgIHQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUocywgdCk7CiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYgKCF2bS5pbml0aWFsaXplZFVubGF5ZXIpIHsKICAgICAgICAgICAgICB2bS5pbml0aWFsaXplZFVubGF5ZXIgPSB0cnVlOwogICAgICAgICAgICAgIHVubGF5ZXIuaW5pdCh2bS4kdW5sYXllclNjcmlwdCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIHRpbWVPdXQpOyAvLyB2bS5zcGlubmVyQWN0aXZlID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICAvLyBzYXZlRW1haWxEZXNpZ24oKSB7CiAgICAvLyAgIGxldCB2bSA9IHRoaXM7CiAgICAvLyAgIGlmICh2bS5pbml0aWFsaXplZFVubGF5ZXIpIHsKICAgIC8vICAgICB1bmxheWVyLmV4cG9ydEh0bWwoZnVuY3Rpb24oZGF0YSkgewogICAgLy8gICAgICAgdm0uc2VsZWN0ZWRBY3Rpb24uZW1haWwuZGVzaWduID0gewogICAgLy8gICAgICAgICBkYXRhOiBkYXRhLmh0bWwsCiAgICAvLyAgICAgICAgIGRlc2lnbjogZGF0YS5kZXNpZ24KICAgIC8vICAgICAgIH07CiAgICAvLyAgICAgICB2bS5yZW1vdmVJZnJhbWUoKTsKICAgIC8vICAgICB9KTsKICAgIC8vICAgfQogICAgLy8gICAvLyBjb25zb2xlLmxvZyh2bS5zZWxlY3RlZEFjdGlvbi5lbWFpbCk7CiAgICAvLyB9LAogICAgcHJldmlld1NNUzogZnVuY3Rpb24gcHJldmlld1NNUyhhY3Rpb24sIGkpIHsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgdm0uc2VsZWN0ZWRBY3Rpb24gPSBhY3Rpb247CiAgICAgIHZtLnRlbXBNZXNzYWdlID0gYWN0aW9uLnNtcy5tZXNzYWdlOyAvLyBBZGQgbG9naWMgZm9yIG9wZW5pbmcgb25seSBpZiBpbmRleCA9PSAwIG9yIGRpc3BsYXkgYWdyZWVtZW50LgogICAgICAvLyBpZigowqBpID09IDAgJiYgdm0uYXV0b21hdGlvbi5hY3Rpb25zLmxlbmd0aCAmJiB2bS5hdXRvbWF0aW9uLmFjdGlvbnMubGVuZ3RoID09IDEpIHx8IHZtLmFncmVlbWVudCkgewoKICAgICAgdm0uY2xvc2VBbGxFZGl0aW5nKCk7CiAgICAgIHZtLnNtc1ByZXZpZXcgPSB0cnVlOyAvLyB9IGVsc2UgewogICAgICAvLyAgIHZtLnRjcGFDb21wbGlhbmNlT3BlbiA9IHRydWU7CiAgICAgIC8vIH0KICAgIH0sCiAgICBjaGFuZ2VBZ3JlZW1lbnQ6IGZ1bmN0aW9uIGNoYW5nZUFncmVlbWVudCgpIHsKICAgICAgdGhpcy5hZ3JlZW1lbnQgPSB0cnVlOyAvLyBBY3RpdmF0ZSB0aGlzIGxpbmUgb2YgY29kZSBvbmNlIGJhY2sgZW5kIGlzIHB1c2hlZC4KCiAgICAgIExvY2F0aW9uU2VydmljZS5zZXRUQ1BBQWdyZWVtZW50KHRoaXMubG9jYXRpb25JZCwgdGhpcy51c2VyRGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHt9KTsKICAgICAgdGhpcy50Y3BhQ29tcGxpYW5jZU9wZW4gPSBmYWxzZTsKICAgICAgdGhpcy5wcmV2aWV3U01TKHRoaXMuc2VsZWN0ZWRBY3Rpb24pOwogICAgfSwKICAgIGNhbmNlbFNNUzogZnVuY3Rpb24gY2FuY2VsU01TKCkgewogICAgICB0aGlzLnRjcGFDb21wbGlhbmNlT3BlbiA9IGZhbHNlOwogICAgICB0aGlzLnRlbXBNZXNzYWdlID0gJyc7CiAgICAgIHRoaXMuc21zUHJldmlldyA9IGZhbHNlOwogICAgfSwKICAgIGdlbmVyYXRlQXV0b0lkOiBmdW5jdGlvbiBnZW5lcmF0ZUF1dG9JZChwb3NzSXRlbXMsIGxlbmd0aCkgewogICAgICB2YXIgdGV4dCA9ICcnOwogICAgICB2YXIgb3B0aW9ucyA9ICcnOwogICAgICBpZiAocG9zc0l0ZW1zLmluZGV4T2YoJzAnKSA+IC0xKSBvcHRpb25zICs9ICcwMTIzNDU2Nzg5JzsKICAgICAgaWYgKHBvc3NJdGVtcy5pbmRleE9mKCdhJykgPiAtMSkgb3B0aW9ucyArPSAnYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXonOwogICAgICBpZiAocG9zc0l0ZW1zLmluZGV4T2YoJ0EnKSA+IC0xKSBvcHRpb25zICs9ICdBQkNERUZHSElrTE1OT1BRUlNUVVZXWFlaJzsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoICYmIG9wdGlvbnMubGVuZ3RoID4gMDsgaSsrKSB7CiAgICAgICAgdGV4dCArPSBvcHRpb25zLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBvcHRpb25zLmxlbmd0aCkpOwogICAgICB9CgogICAgICByZXR1cm4gdGV4dDsKICAgIH0sCiAgICBlZGl0VGltZUNvbmRpdGlvbjogZnVuY3Rpb24gZWRpdFRpbWVDb25kaXRpb24oYWN0aW9uLCBpbmRleCkgewogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICB2bS5jbG9zZUFsbEVkaXRpbmcoKTsKICAgICAgdm0uc2VsZWN0ZWRBY3Rpb24gPSBhY3Rpb247CiAgICAgIHZtLnNlbGVjdGVkSW5kZXggPSBpbmRleDsKICAgICAgdm0uZWRpdGluZ1RpbWVDb25kaXRpb24gPSB0cnVlOwogICAgfSwKICAgIGVkaXRMYW5kaW5nUGFnZTogZnVuY3Rpb24gZWRpdExhbmRpbmdQYWdlKGFjdGlvbikgewogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICB2bS5jbG9zZUFsbEVkaXRpbmcoKTsKICAgICAgdm0uZWRpdGluZ0xhbmRpbmdQYWdlID0gdHJ1ZTsgLy8gaWYoYWN0aW9uLmVtYWlsLnN1YmplY3QpIHsKICAgICAgLy8gICB2bS5jbG9zZUFsbEVkaXRpbmcoKTsKICAgICAgLy8gICB2bS5zZWxlY3RlZEFjdGlvbiA9IGFjdGlvbjsKICAgICAgLy8gICB2bS5lZGl0aW5nTGFuZGluZ1BhZ2UgPSB0cnVlOwogICAgICAvLyAgIHZtLmxhbmRpbmdNZXNzYWdlID0gJ0VkaXQgTGFuZGluZyBQYWdlIERldGFpbHMnCiAgICAgIC8vIH0gZWxzZSB7CiAgICAgIC8vICAgdm0ubGFuZGluZ01lc3NhZ2UgPSAnUGxlYXNlIGNyZWF0ZSBhbiBlbWFpbCBiZWZvcmUgZGVzaWduaW5nIHRoZSBsYW5kaW5nIHBhZ2UuJwogICAgICAvLyB9CiAgICB9LAogICAgZWRpdFN1cnZleTogZnVuY3Rpb24gZWRpdFN1cnZleShhY3Rpb24pIHsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgdm0uY2xvc2VBbGxFZGl0aW5nKCk7CiAgICAgIHZtLnNlbGVjdGVkQWN0aW9uID0gYWN0aW9uOwogICAgICB2bS5lZGl0aW5nU3VydmV5ID0gdHJ1ZTsKICAgIH0sCiAgICBlZGl0TG95YWx0eUNvdXBvbjogZnVuY3Rpb24gZWRpdExveWFsdHlDb3Vwb24oYWN0aW9uKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIHZtLmNsb3NlQWxsRWRpdGluZygpOwogICAgICB2bS5zZWxlY3RlZEFjdGlvbiA9IGFjdGlvbjsKICAgICAgdm0uYWRkaW5nTG95YWx0eUNvdXBvbiA9IHRydWU7CiAgICB9LAogICAgb3BlblByZXZpZXdNb2RhbDogZnVuY3Rpb24gb3BlblByZXZpZXdNb2RhbCgpIHsKICAgICAgLy8gY29uc29sZS5sb2codGhpcy5sYW5kaW5nUGFnZSk7CiAgICAgIHRyeSB7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2F1dG9tYXRpb25UeXBlJywgJ3Jldmlld1JlcXVlc3QnKTsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncHJldmlld0RhdGEnLCB0aGlzLmxhbmRpbmdQYWdlKTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0KCiAgICAgIHZhciByb3V0ZSA9IHRoaXMuJHJvdXRlci5yZXNvbHZlKHsKICAgICAgICBuYW1lOiAnUHJldmlldyBMYW5kaW5nJwogICAgICB9KTsKICAgICAgd2luZG93Lm9wZW4ocm91dGUuaHJlZiwgJ19ibGFuaycpOwogICAgfSwKICAgIHNhdmVTTVM6IGZ1bmN0aW9uIHNhdmVTTVMoKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIHZtLnNlbGVjdGVkQWN0aW9uLnNtcy5tZXNzYWdlID0gdm0udGVtcE1lc3NhZ2U7CiAgICAgIHZtLmNsb3NlQWxsRWRpdGluZygpOwogICAgfSwKICAgIGNsb3NlQWxsRWRpdGluZzogZnVuY3Rpb24gY2xvc2VBbGxFZGl0aW5nKCkgewogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICB2bS5zYXZlRW1haWxEZXNpZ24oKTsKICAgICAgdm0uZW1haWxQcmV2aWV3ID0gZmFsc2U7CiAgICAgIHZtLnNtc1ByZXZpZXcgPSBmYWxzZTsKICAgICAgdm0uZWRpdGluZ1RpbWVDb25kaXRpb24gPSBmYWxzZTsKICAgICAgdm0uZWRpdGluZ0xhbmRpbmdQYWdlID0gZmFsc2U7CiAgICAgIHZtLmVkaXRpbmdTdXJ2ZXkgPSBmYWxzZTsKICAgICAgdm0uYWRkaW5nTG95YWx0eUNvdXBvbiA9IGZhbHNlOwogICAgICB2bS5zZWxlY3RlZEluZGV4ID0gbnVsbDsKICAgIH0sCiAgICBjYW5jZWxFbWFpbEVkaXQ6IGZ1bmN0aW9uIGNhbmNlbEVtYWlsRWRpdCgpIHsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgdm0ucmVtb3ZlSWZyYW1lKCk7CiAgICAgIHZtLmVtYWlsUHJldmlldyA9IGZhbHNlOwogICAgICB2bS5zbXNQcmV2aWV3ID0gZmFsc2U7CiAgICAgIHZtLmVkaXRpbmdUaW1lQ29uZGl0aW9uID0gZmFsc2U7CiAgICAgIHZtLmVkaXRpbmdMYW5kaW5nUGFnZSA9IGZhbHNlOwogICAgICB2bS5lZGl0aW5nU3VydmV5ID0gZmFsc2U7CiAgICAgIHZtLmFkZGluZ0xveWFsdHlDb3Vwb24gPSBmYWxzZTsKICAgIH0sCiAgICByZW1vdmVJZnJhbWU6IGZ1bmN0aW9uIHJlbW92ZUlmcmFtZSgpIHsKICAgICAgdmFyIHZtID0gdGhpczsKCiAgICAgIGlmICh2bS5pbml0aWFsaXplZFVubGF5ZXIpIHsKICAgICAgICB2YXIgeCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpZnJhbWUiKVswXTsKICAgICAgICB2YXIgZCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzY3JpcHQiKVswXTsKCiAgICAgICAgaWYgKHgpIHsKICAgICAgICAgIHgucmVtb3ZlKCk7CiAgICAgICAgfQoKICAgICAgICBpZiAoZCkgewogICAgICAgICAgZC5yZW1vdmUoKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHZtLmluaXRpYWxpemVkVW5sYXllciA9IGZhbHNlOwogICAgfSwKICAgIGFkZEFuc3dlcjogZnVuY3Rpb24gYWRkQW5zd2VyKHF1ZXN0aW9uKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIHF1ZXN0aW9uLmFuc3dlck9wdGlvbnMucHVzaChxdWVzdGlvbi5uZXdPcHRpb24pOwogICAgICBxdWVzdGlvbi5uZXdPcHRpb24gPSAnJzsKICAgICAgdm0ucmVmcmVzaFF1ZXN0aW9ucygpOwogICAgfSwKICAgIHJlbW92ZUFuc3dlcjogZnVuY3Rpb24gcmVtb3ZlQW5zd2VyKHF1ZXN0aW9uLCBhbnN3ZXIpIHsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgcXVlc3Rpb24uYW5zd2VyT3B0aW9ucy5zcGxpY2UocXVlc3Rpb24uYW5zd2VyT3B0aW9ucy5pbmRleE9mKGFuc3dlciksIDEpOwogICAgICB2bS5yZWZyZXNoUXVlc3Rpb25zKCk7CiAgICB9LAogICAgY2xvc2VQcmV2aWV3TW9kYWw6IGZ1bmN0aW9uIGNsb3NlUHJldmlld01vZGFsKCkgewogICAgICB0aGlzLm9wZW5QcmV2aWV3Q2FtcGFpZ24gPSBmYWxzZTsKICAgIH0sCiAgICBjaGFuZ2VRdWVzdGlvbnM6IGZ1bmN0aW9uIGNoYW5nZVF1ZXN0aW9ucygpIHsKICAgICAgdmFyIHZtID0gdGhpczsKCiAgICAgIGlmICh2bS5zZWxlY3RlZEFjdGlvbi5zdXJ2ZXlUZW1wbGF0ZSA9PSAibm9uZSIpIHsKICAgICAgICB2bS5zZWxlY3RlZEFjdGlvbi5zdXJ2ZXlRdWVzdGlvbnMgPSBbXTsKICAgICAgfSBlbHNlIGlmICh2bS5zZWxlY3RlZEFjdGlvbi5zdXJ2ZXlUZW1wbGF0ZSA9PSAiMSIpIHsKICAgICAgICB2bS5zZWxlY3RlZEFjdGlvbi5zdXJ2ZXlRdWVzdGlvbnMgPSBbewogICAgICAgICAgb3JkZXI6IDEsCiAgICAgICAgICB0eXBlOiAiMXRvNSIsCiAgICAgICAgICBleHBsYWluOiB0cnVlLAogICAgICAgICAgdGl0bGU6ICJXaXRoIDEgYmVpbmcgbG93ZXN0IGFuZCA1IGJlaW5nIGhpZ2hlc3Q6ICIsCiAgICAgICAgICBxdWVzdGlvbjogIkhvdyB3b3VsZCB5b3UgcmF0ZSBvdXIgd29yayBjdWx0dXJlPyIKICAgICAgICB9LCB7CiAgICAgICAgICBvcmRlcjogMiwKICAgICAgICAgIHR5cGU6ICJzZWxlY3RBbnkiLAogICAgICAgICAgZXhwbGFpbjogdHJ1ZSwKICAgICAgICAgIHRpdGxlOiAiU2VsZWN0IEFsbCBUaGF0IEFwcGx5OiIsCiAgICAgICAgICBxdWVzdGlvbjogIldoYXQgZG8geW91IGVuam95IG1vc3QgYWJvdXQgd29ya2luZyBoZXJlPyIsCiAgICAgICAgICBhbnN3ZXJPcHRpb25zOiBbXQogICAgICAgIH0sIHsKICAgICAgICAgIG9yZGVyOiAzLAogICAgICAgICAgdHlwZTogInNlbGVjdEFueSIsCiAgICAgICAgICBleHBsYWluOiB0cnVlLAogICAgICAgICAgdGl0bGU6ICJTZWxlY3QgQWxsIFRoYXQgQXBwbHk6IiwKICAgICAgICAgIHF1ZXN0aW9uOiAiV2hhdCBkbyB5b3UgZW5qb3kgbGVhc3QgYWJvdXQgd29ya2luZyBoZXJlPyIsCiAgICAgICAgICBhbnN3ZXJPcHRpb25zOiBbXQogICAgICAgIH1dOwogICAgICB9IGVsc2UgaWYgKHZtLnNlbGVjdGVkQWN0aW9uLnN1cnZleVRlbXBsYXRlID09ICIyIikgewogICAgICAgIHZtLnNlbGVjdGVkQWN0aW9uLnN1cnZleVF1ZXN0aW9ucyA9IFt7CiAgICAgICAgICBvcmRlcjogMSwKICAgICAgICAgIHR5cGU6ICIxdG81IiwKICAgICAgICAgIGV4cGxhaW46IHRydWUsCiAgICAgICAgICB0aXRsZTogIldpdGggMSBiZWluZyBsb3dlc3QgYW5kIDUgYmVpbmcgaGlnaGVzdDogIiwKICAgICAgICAgIHF1ZXN0aW9uOiAiSG93IHdvdWxkIHlvdSByYXRlIG91ciBmYWNpbHRpZXM/IgogICAgICAgIH0sIHsKICAgICAgICAgIG9yZGVyOiAyLAogICAgICAgICAgdHlwZTogInNlbGVjdEFueSIsCiAgICAgICAgICBleHBsYWluOiB0cnVlLAogICAgICAgICAgdGl0bGU6ICJTZWxlY3QgQWxsIFRoYXQgQXBwbHk6IiwKICAgICAgICAgIHF1ZXN0aW9uOiAiV2hhdCBkbyB5b3UgZW5qb3kgbW9zdCBhYm91dCBsaXZpbmcgaGVyZT8iLAogICAgICAgICAgYW5zd2VyT3B0aW9uczogW10KICAgICAgICB9LCB7CiAgICAgICAgICBvcmRlcjogMywKICAgICAgICAgIHR5cGU6ICJzZWxlY3RBbnkiLAogICAgICAgICAgZXhwbGFpbjogdHJ1ZSwKICAgICAgICAgIHRpdGxlOiAiU2VsZWN0IEFsbCBUaGF0IEFwcGx5OiIsCiAgICAgICAgICBxdWVzdGlvbjogIldoYXQgZG8geW91IGVuam95IGxlYXN0IGFib3V0IGxpdmluZyBoZXJlPyIsCiAgICAgICAgICBhbnN3ZXJPcHRpb25zOiBbXQogICAgICAgIH1dOwogICAgICB9IGVsc2UgaWYgKHZtLnNlbGVjdGVkQWN0aW9uLnN1cnZleVRlbXBsYXRlID09ICIzIikgewogICAgICAgIHZtLnNlbGVjdGVkQWN0aW9uLnN1cnZleVF1ZXN0aW9ucyA9IFt7CiAgICAgICAgICBvcmRlcjogMSwKICAgICAgICAgIHR5cGU6ICIxdG81IiwKICAgICAgICAgIGV4cGxhaW46IHRydWUsCiAgICAgICAgICB0aXRsZTogIldpdGggMSBiZWluZyBsb3dlc3QgYW5kIDUgYmVpbmcgaGlnaGVzdDogIiwKICAgICAgICAgIHF1ZXN0aW9uOiAiSG93IHdvdWxkIHlvdSByYXRlIG91ciBzZXJ2aWNlPyIKICAgICAgICB9LCB7CiAgICAgICAgICBvcmRlcjogMiwKICAgICAgICAgIHR5cGU6ICJzZWxlY3RBbnkiLAogICAgICAgICAgZXhwbGFpbjogdHJ1ZSwKICAgICAgICAgIHRpdGxlOiAiU2VsZWN0IEFsbCBUaGF0IEFwcGx5OiIsCiAgICAgICAgICBxdWVzdGlvbjogIldoYXQgZG8gd2UgZG8gd2VsbD8iLAogICAgICAgICAgYW5zd2VyT3B0aW9uczogW10KICAgICAgICB9LCB7CiAgICAgICAgICBvcmRlcjogMywKICAgICAgICAgIHR5cGU6ICJzZWxlY3RBbnkiLAogICAgICAgICAgZXhwbGFpbjogdHJ1ZSwKICAgICAgICAgIHRpdGxlOiAiU2VsZWN0IEFsbCBUaGF0IEFwcGx5OiIsCiAgICAgICAgICBxdWVzdGlvbjogIldoYXQgY291bGQgd2UgaW1wcm92ZSBvbj8iLAogICAgICAgICAgYW5zd2VyT3B0aW9uczogW10KICAgICAgICB9XTsKICAgICAgfQogICAgfSwKICAgIGVuY29kZUltYWdlRmlsZUFzVVJMOiBmdW5jdGlvbiBlbmNvZGVJbWFnZUZpbGVBc1VSTChldmVudCkgewogICAgICB2YXIgZmlsZXNMaXN0ID0gZXZlbnQudGFyZ2V0LmZpbGVzWzBdOwogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKCiAgICAgIHJlYWRlci5vbmxvYWRlbmQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKHJlYWRlci5yZXN1bHQubGVuZ3RoID4gNTAwMDAwICogMS4zNikgewogICAgICAgICAgdm0uc2hvd0xvZ29TaXplRXJyb3IgPSB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2bS5zZWxlY3RlZEFjdGlvbi5sb3lhbHR5Q291cG9uLmltYWdlID0gcmVhZGVyLnJlc3VsdDsKICAgICAgICAgIHZhciBzZWxlY3Rpb24gPSByZWFkZXIucmVzdWx0LnN1YnN0cigwLCAyNSk7CiAgICAgICAgICB2bS5zZWxlY3RlZEFjdGlvbi5sb3lhbHR5Q291cG9uLmltYWdlVHlwZSA9IHNlbGVjdGlvbi5zdWJzdHIoc2VsZWN0aW9uLmluZGV4T2YoIi8iKSArIDEsIHNlbGVjdGlvbi5pbmRleE9mKCc7JykgLSAxIC0gc2VsZWN0aW9uLmluZGV4T2YoIi8iKSk7CiAgICAgICAgICB2bS5hZGRpbmdMb3lhbHR5Q291cG9uID0gZmFsc2U7CiAgICAgICAgICB2bS5hZGRpbmdMb3lhbHR5Q291cG9uID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH07CgogICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlc0xpc3QpOwogICAgfSwKICAgIGFwcGVuZEltYWdlSGVhZGVyOiBmdW5jdGlvbiBhcHBlbmRJbWFnZUhlYWRlcihpbWdUZXh0KSB7CiAgICAgIGlmIChpbWdUZXh0KSB7CiAgICAgICAgcmV0dXJuIGltZ1RleHQ7CiAgICAgIH0KICAgIH0sCiAgICBnZW5lcmF0ZUJ1dHRvbkNvbG9yczogZnVuY3Rpb24gZ2VuZXJhdGVCdXR0b25Db2xvcnMoaW5pdGlhbENvbG9yKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIHJldHVybiBbdm0ubGlnaHRlbkNvbG9yKGluaXRpYWxDb2xvciwgNDApLCB2bS5saWdodGVuQ29sb3IoaW5pdGlhbENvbG9yLCAzMCksIHZtLmxpZ2h0ZW5Db2xvcihpbml0aWFsQ29sb3IsIDIwKSwgdm0ubGlnaHRlbkNvbG9yKGluaXRpYWxDb2xvciwgMTApLCBpbml0aWFsQ29sb3JdOwogICAgfSwKICAgIGxpZ2h0ZW5Db2xvcjogZnVuY3Rpb24gbGlnaHRlbkNvbG9yKGluaXRpYWxDb2xvciwgYW10KSB7CiAgICAgIHZhciBjb2wgPSBpbml0aWFsQ29sb3Iuc2xpY2UoMSk7CiAgICAgIHZhciBudW0gPSBwYXJzZUludChjb2wsIDE2KTsKICAgICAgdmFyIHIgPSAobnVtID4+IDE2KSArIGFtdDsKICAgICAgaWYgKHIgPiAyNTUpIHIgPSAyNTU7ZWxzZSBpZiAociA8IDApIHIgPSAwOwogICAgICB2YXIgYiA9IChudW0gPj4gOCAmIDB4MDBmZikgKyBhbXQ7CiAgICAgIGlmIChiID4gMjU1KSBiID0gMjU1O2Vsc2UgaWYgKGIgPCAwKSBiID0gMDsKICAgICAgdmFyIGcgPSAobnVtICYgMHgwMDAwZmYpICsgYW10OwogICAgICBpZiAoZyA+IDI1NSkgZyA9IDI1NTtlbHNlIGlmIChnIDwgMCkgZyA9IDA7CiAgICAgIHJldHVybiAiIyIgKyBTdHJpbmcoIjAwMDAwMCIgKyAoZyB8IGIgPDwgOCB8IHIgPDwgMTYpLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTYpOwogICAgfSwKICAgIGFkZFN1cnZleVF1ZXN0aW9uOiBmdW5jdGlvbiBhZGRTdXJ2ZXlRdWVzdGlvbigpIHsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgdmFyIG5ld09yZGVyID0gdm0uc2VsZWN0ZWRBY3Rpb24uc3VydmV5UXVlc3Rpb25zLmxlbmd0aCArIDE7CiAgICAgIHZtLnNlbGVjdGVkQWN0aW9uLnN1cnZleVF1ZXN0aW9ucy5wdXNoKHsKICAgICAgICBvcmRlcjogbmV3T3JkZXIsCiAgICAgICAgdHlwZTogIiIsCiAgICAgICAgdGl0bGU6ICIiLAogICAgICAgIHF1ZXN0aW9uOiAiIgogICAgICB9KTsKICAgICAgdm0ucmVmcmVzaFF1ZXN0aW9ucygpOwogICAgfSwKICAgIHJlZnJlc2hRdWVzdGlvbnM6IGZ1bmN0aW9uIHJlZnJlc2hRdWVzdGlvbnMoKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIHZtLmVkaXRpbmdTdXJ2ZXkgPSBmYWxzZTsKICAgICAgdm0uZWRpdGluZ1N1cnZleSA9IHRydWU7CiAgICB9LAogICAgcmVtb3ZlU3VydmV5UXVlc3Rpb246IGZ1bmN0aW9uIHJlbW92ZVN1cnZleVF1ZXN0aW9uKGluZGV4KSB7CiAgICAgIHRoaXMuc2VsZWN0ZWRBY3Rpb24uc3VydmV5UXVlc3Rpb25zLnNwbGljZShpbmRleCwgMSk7CiAgICAgIHRoaXMucmVmcmVzaFF1ZXN0aW9ucygpOwogICAgfSwKICAgIGRyYWdTdGFydDogZnVuY3Rpb24gZHJhZ1N0YXJ0KGV2ZW50KSB7CiAgICAgIHRoaXMuZHJhZ2dpbmcgPSB0cnVlOwogICAgICB2YXIgZHQgPSBldmVudC5kYXRhVHJhbnNmZXI7CiAgICAgIGR0LnNldERhdGEoInRleHQvcGxhaW4iLCBldmVudC50YXJnZXQuaWQpOwogICAgICB2YXIgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJkaXNhYmxlLW9uLWRyYWciKTsKICAgICAgdmFyIGk7CgogICAgICBmb3IgKGkgPSAwOyBpIDwgZWwubGVuZ3RoOyBpKyspIHsKICAgICAgICBlbFtpXS5kaXNhYmxlZCA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgICBkcmFnT3ZlcjogZnVuY3Rpb24gZHJhZ092ZXIoZXZlbnQpIHsKICAgICAgZXZlbnQuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSAibW92ZSI7CiAgICB9LAogICAgZHJvcFF1ZXN0aW9uOiBmdW5jdGlvbiBkcm9wUXVlc3Rpb24oZXZlbnQpIHsKICAgICAgdmFyIGR0ID0gZXZlbnQuZGF0YVRyYW5zZmVyOwogICAgICB2YXIgZGF0YSA9IGV2ZW50LmRhdGFUcmFuc2Zlci5nZXREYXRhKCJ0ZXh0L3BsYWluIik7CiAgICAgIHRoaXMuc3RhcnRQb3NpdGlvbiA9IGRhdGE7CiAgICAgIHRoaXMuZW5kUG9zaXRpb24gPSBldmVudC50YXJnZXQuaWQ7CiAgICB9LAogICAgZHJhZ0VuZDogZnVuY3Rpb24gZHJhZ0VuZChldmVudCkgewogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICB2YXIgc3RhcnQgPSB0aGlzLnN0YXJ0UG9zaXRpb247CiAgICAgIHZhciBlbmQgPSB0aGlzLmVuZFBvc2l0aW9uOwogICAgICB2YXIgbmV3QXJyYXkgPSBbXTsKCiAgICAgIGlmIChzdGFydCAmJiBlbmQgJiYgc3RhcnQgIT0gZW5kKSB7CiAgICAgICAgdm0uc2VsZWN0ZWRBY3Rpb24uc3VydmV5UXVlc3Rpb25zLm1hcChmdW5jdGlvbiAocXVlc3Rpb24sIGkpIHsKICAgICAgICAgIGlmIChpID09IHN0YXJ0KSB7CiAgICAgICAgICAgIGkgPSBlbmQ7CiAgICAgICAgICAgIG5ld0FycmF5W2ldID0gcXVlc3Rpb247CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAoZW5kID4gc3RhcnQpIHsKICAgICAgICAgICAgICBpZiAoaSA+IHN0YXJ0ICYmIGkgPD0gZW5kKSB7CiAgICAgICAgICAgICAgICBpID0gaSAtIDE7CiAgICAgICAgICAgICAgICBuZXdBcnJheVtpXSA9IHF1ZXN0aW9uOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBuZXdBcnJheVtpXSA9IHF1ZXN0aW9uOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIGlmIChlbmQgPCBzdGFydCkgewogICAgICAgICAgICAgIGlmIChpIDwgc3RhcnQgJiYgaSA+PSBlbmQpIHsKICAgICAgICAgICAgICAgIGkgPSBpICsgMTsKICAgICAgICAgICAgICAgIG5ld0FycmF5W2ldID0gcXVlc3Rpb247CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIG5ld0FycmF5W2ldID0gcXVlc3Rpb247CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgdm0uc2VsZWN0ZWRBY3Rpb24uc3VydmV5UXVlc3Rpb25zID0gbmV3QXJyYXk7CiAgICAgIH0KCiAgICAgIHZhciBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImRpc2FibGUtb24tZHJhZyIpOwogICAgICB2YXIgaTsKCiAgICAgIGZvciAoaSA9IDA7IGkgPCBlbC5sZW5ndGg7IGkrKykgewogICAgICAgIGVsW2ldLmRpc2FibGVkID0gZmFsc2U7CiAgICAgIH0KCiAgICAgIHZtLmRyYWdnaW5nID0gZmFsc2U7CiAgICB9LAogICAgY2xvc2VNb2RhbDogZnVuY3Rpb24gY2xvc2VNb2RhbChtc2cpIHsKICAgICAgaWYgKG1zZykgewogICAgICAgIHRoaXMuJGVtaXQoImNsb3NlTW9kYWwiKTsKICAgICAgICB0aGlzLmF1dG9tYXRpb24gPSB7fTsKICAgICAgICB0aGlzLnNlbGVjdGVkQWN0aW9uID0ge307CiAgICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KCJsb2FkaW5nIiwgImhpZGUiKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoY29uZmlybSgnQXJlIHlvdSBzdXJlIHlvdSB3b3VsZCBsaWtlIHRvIGV4aXQgd2l0aG91dCBzYXZpbmc/JykpIHsKICAgICAgICAgIHRoaXMuJGVtaXQoImNsb3NlTW9kYWwiKTsKICAgICAgICAgIHRoaXMuYXV0b21hdGlvbiA9IHt9OwogICAgICAgICAgdGhpcy5zZWxlY3RlZEFjdGlvbiA9IHt9OwogICAgICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KCJsb2FkaW5nIiwgImhpZGUiKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["AddNewAutomation.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <transition name=\"modal\">\n    <div class=\"modal-mask\" @click=\"closeModal()\">\n      <div class=\"automation-container\" @click.stop>\n        <header>\n          <span>{{pageAction}} {{displayName}}</span>\n          <i class=\"fal fa-times\" @click=\"closeModal()\"></i>\n        </header>\n        <div class=\"automations-style-container\">\n          <div class=\"main-display\" v-if=\"!editingLandingPage && !emailPreview && !smsPreview\">\n            <div class=\"automation-name\">\n              <span class=\"initial-trigger\"> Automation Name </span>\n              <input class=\"input-name\" type=\"text\" v-model=\"automation.name\" placeholder=\"\">\n            </div>\n            <div class=\"automation-id\">\n              <div class=\"id-container\">\n                <span class=\"initial-trigger\"> Automation ID <i class=\"fal fa-info-circle\" title=\"Custom Identifier for Adding Customers to this Automation\"></i></span>\n                <input class=\"input-id\" type=\"text\" :class=\"{'duplicate':duplicateId}\" v-model=\"automation.identifier\" @change=\"validateID(automation.identifier)\" placeholder=\"EG: 1, 'move-in'\">\n                <span v-if=\"duplicateId\" class=\"error-message\">Identifier Already Exists for This Location</span>\n              </div>\n              <div class=\"id-container\" style=\"margin: 0 5px;\">\n                <label style=\"margin-bottom: 10px;\">Allow Resend When Customer Is Re-Added </label>\n                <select v-model=\"automation.autoResend\">\n                  <option value=\"never\">Never</option>\n                  <option value=\"2592000000\">1 Month</option>\n                  <option value=\"7776000000\">3 Months</option>\n                  <option value=\"15724800000\">6 Months</option>\n                  <option value=\"31536000000\">1 Year</option>\n                  <option value=\"always\">Always</option>\n                </select>\n              </div>\n              <div class=\"landing-page-edit-button\">\n                <span class=\"action-landing-button\" v-if=\"!initializedUnlayer\" @click=\"editLandingPage()\"> <i class=\"fas fa-columns\"></i>Edit Landing Page</span>\n                <!-- <i class=\"fal fa-pencil\" v-if=\"!initializedUnlayer\"  title=\"Edit Landing Page Details\"></i> -->\n              </div>\n            </div>\n            <div class=\"action-container\">\n              <div class=\"automation-actions-list\" v-for=\"(action, i) in automation.actions\">\n                <!-- <div>Interaction {{i+1}} </div> -->\n                <i class=\"fas fa-plus-circle top\" @click=\"addAction('above', i)\" title=\"Add Action Here\"></i>\n                <div class=\"automation-action\">\n\n                  <!-- Segment displaying current automation actions for Time -->\n                  <div class=\"automation-action-instance\">\n                    <div class=\"action-info-row\">\n                      <span class=\"action-method-selector hidden\">Active</span>\n                      <span class=\"action-image-title\"><i class=\"far fa-clock\"></i> Time Delay</span>\n                      <span class=\"action-input\"><input type=\"number\" v-model=\"action.time\"></span>\n                      <span class=\"preview-link titled\" title=\"Delay after a customer is created until they receive this message.\">Hours</span>\n                    </div>\n                    <div class=\"action-info-row\">\n                      <span class=\"action-method-selector\" :class=\"{'empty-top': !action.email.active && !action.sms.active}\"> <input type=\"checkbox\" v-model=\"action.email.active\" /> </span>\n                      <span class=\"action-image-title\"><i class=\"far fa-envelope\"></i> Email Subject</span>\n                      <span class=\"action-input\"><input type=\"text\" v-model=\"action.email.subject\" :disabled=\"!action.email.active\"></span>\n                      <span class=\"preview-link\" @click=\"previewEmail(action)\">Preview</span>\n                    </div>\n                    <div class=\"action-info-row\">\n                      <span class=\"action-method-selector\" :class=\"{'empty-bottom': !action.email.active && !action.sms.active}\"> <input type=\"checkbox\" v-model=\"action.sms.active\" /> </span>\n                      <span class=\"action-image-title\"><i class=\"fas fa-mobile-alt\"></i> SMS Preview </span>\n                      <span class=\"action-input\"><input type=\"text\" v-model=\"action.sms.preview\" :disabled=\"!action.sms.active\"></span>\n                      <span class=\"preview-link\" @click=\"previewSMS(action)\">Preview</span>\n                    </div>\n                    <!-- <div class=\"action-info-row\" v-if=\"automationType == 'loyalty'\">\n                      <span class=\"action-method-selector\"> <input type=\"checkbox\" v-model=\"action.sms.active\" /> </span>\n                      <span class=\"action-image-title\"><i class=\"fas fa-mobile-alt\"></i> SMS /Something\\ </span>\n                      <span class=\"action-input\"><input type=\"text\" v-model=\"action.loyalty.coupon\"></span>\n                      <span class=\"preview-link\" @click=\"editLoyaltyCoupon(action)\">Preview</span>\n                    </div> -->\n                    <div class=\"action-info-row\" v-if=\"automationType == 'survey'\">\n                      <span class=\"action-method-selector\" hidden>Active </span>\n                      <span class=\"action-image-title\"><i class=\"fas fa-mobile-alt\"></i> Survey Title </span>\n                      <span class=\"action-input\"><input type=\"text\" v-model=\"action.survey.surveyTitle\"></span>\n                      <span class=\"preview-link\" @click=\"editSurvey(action)\">Set Questions</span>\n                    </div>\n                    <span class=\"remove-action\" v-if=\"automation.actions.length > 1 || i != 0\"> <i class=\"fal fa-times-circle\" @click=\"removeAction(i)\" title=\"Remove Action\"></i> </span>\n                  </div>\n                  <i class=\"fas fa-plus-circle bottom\" v-if=\"i == automation.actions.length - 1\" @click=\"addAction('below', i)\" title=\"Add Action Below\"></i>\n                </div>\n              </div>\n            </div>\n            <div class=\"bottom-container\">\n              <span class=\"cancel-button\" @click=\"closeModal()\">Cancel</span>\n              <button class=\"save-button\" :disabled=\"duplicateId || duplicateKey || !automation.name || !automation.locationId || !automation.identifier || !automation.type\" @click.once=\"saveAutomation()\">Save Automation</button>\n            </div>\n          </div>\n          <!-- Email -->\n          <div class=\"email-editor-display\" v-show=\"emailPreview\">\n            <div class=\"header-container\">\n              <span><span class=\"cancel-button\" @click=\"cancelEmailEdit()\">Cancel</span><button class=\"save-button\" @click=\"closeAllEditing()\">Save Email</button></span>\n              <span class=\"message-editor-header\">\n                <label>Subject: </label>\n                {{selectedAction.email.subject}}\n                <span class=\"error-message\" v-if=\"!selectedAction.email.subject\">No subject entered, please add a subject line.</span>\n              </span>\n            </div>\n            <!-- <div class=\"spinner\" v-if=\"spinnerActive\"><i class=\"far fa-hourglass\"></i></div> -->\n            <div class=\"campaign-email-editor\" id=\"email-editor\"></div>\n          </div>\n          <!-- SMS -->\n          <div class=\"sms-editor-display\" v-if=\"smsPreview\">\n            <div class=\"header-container\">\n              <span><span class=\"cancel-button\" @click=\"cancelSMS()\">Cancel</span><button class=\"save-button\" @click=\"saveSMS()\">Save SMS</button></span>\n            </div>\n            <div class=\"sms-design\">\n              <div class=\"phone-background\">\n                <img src=\"../assets/img/phone-background.svg\" />\n              </div>\n              <div class=\"phone-message\" v-if=\"tempMessage.length > 0\">{{tempMessage.substr(0, 135)}}</div>\n              <div class=\"phone-message\" v-if=\"tempMessage.length > 135\">{{tempMessage.substr(135, 270)}}</div>\n            </div>\n            <div class=\"sms-message\">\n              <label>Enter Your Message</label>\n              <textarea class=\"sms-text-box\" maxlength=\"270\" v-model=\"tempMessage\"></textarea>\n              <span class=\"sms-length-tracker\">{{tempMessage.length}}</span>\n            </div>\n          </div>\n          <!-- Landing Page -->\n          <div class=\"landing-page-display\" v-if=\"editingLandingPage\">\n            <div class=\"header-container landing\">\n              <!-- <button @click=\"openPreviewModal()\">Preview Landing Page</button> -->\n              <button @click=\"closeAllEditing()\">Save Landing Page</button>\n            </div>\n            <div id=\"landing-editor\">\n              <!-- <h4>Receive Notifications For: </h4>\n              <div class=\"landing-detail\">\n                <label>Potential Negative Reviews</label><input type=\"checkbox\" v-model=\"selectedAction.notice.potentialNegRev\">\n              </div>\n              <div class=\"landing-detail\">\n                <label>Actual Negative Reviews</label><input type=\"checkbox\" v-model=\"selectedAction.notice.actualNegRev\">\n              </div>\n              <div class=\"landing-detail\">\n                <label>Positive Reviews</label><input type=\"checkbox\" v-model=\"selectedAction.notice.positiveRev\">\n              </div>\n              <div class=\"landing-detail\">\n                <label>Private Feedback</label><input type=\"checkbox\" v-model=\"selectedAction.notice.privateRev\">\n              </div> -->\n              <div class=\"landing-page-details-container\">\n                <div class=\"landing-subheader\">Landing Page</div>\n                <div class=\"modal-landing-page-details\">\n                  <div class=\"landing-detail\"><label>Header </label><input v-model=\"automation.landingPage.lp1\" placeholder=\"Landing Page Title\" /></div><br />\n                  <div class=\"landing-detail\"><label>Sub Header </label><input v-model=\"automation.landingPage.lp2\" placeholder=\"Landing Page Subtitle\" /></div><br />\n                  <div class=\"landing-textarea\"><label>Message </label><textarea v-model=\"automation.landingPage.lp3\" placeholder=\"Landing Page Message\" ></textarea> </div><br />\n                <div class=\"landing-subheader\">Feedback Page</div>\n                  <div class=\"landing-detail\"><label>Header </label><input v-model=\"automation.landingPage.rp1\" placeholder=\"Review Page Title\" /></div><br />\n                  <div class=\"landing-detail\"><label>Sub Header </label><input v-model=\"automation.landingPage.rp2\" placeholder=\"Review Page Subtitle\" /></div><br />\n                  <div class=\"landing-textarea\"><label>Message </label><textarea v-model=\"automation.landingPage.rp3\" placeholder=\"Neg Feedback Content\" ></textarea></div><br/>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script>\nimport { EventService } from \"../main\";\nimport AutomationService from \"./../services/AutomationService\";\nimport config from \"../config.js\";\nimport LocationService from \"./../services/LocationService.js\";\nimport PreviewLanding from \"./PreviewLanding\";\nimport TCPACompliance from \"./TCPACompliance\";\nimport UserService from './../services/UserService';\n\nexport default {\n  name: \"addAutomation\",\n  props: [\"selectedAutomation\", \"automationType\"],\n  components: {\n    PreviewLanding, TCPACompliance\n  },\n  data: function() {\n    return {\n      pageAction: \"Add New\",\n      displayName: \"\",\n      locationId: \"\",\n      automationLocationName: '',\n      userData: '',\n      newOption: '',\n      tempMessage: '',\n      landingMessage: 'Edit Landing Page',\n      emailPreview: false,\n      smsPreview: false,\n      duplicateId: false,\n      duplicateKey: false,\n      editingTimeCondition: false,\n      editingLandingPage: false,\n      editingSurvey: false,\n      addingLoyaltyCoupon: false,\n      openPreviewCampaign: false,\n      tcpaComplianceOpen: false,\n      agreement: false,\n      initializedUnlayer: false,\n      spinnerActive: false,\n      startPosition: null,\n      endPosition: null,\n      dragging: false,\n      templateType: \"\",\n      selectedIndex: null,\n      selectedAction: {\n        time: 0,\n        email: {\n          active: '',\n          subject: \"\",\n          design: {\n            data: \"\",\n            design: \"\"\n          }\n        },\n        sms: {\n          active: '',\n          preview: \"\",\n          message: \"\"\n        },\n        surveyQuestions: []\n        // restriction: ''\n      },\n      automation: {\n        name: \"\",\n        automationId: '',\n        locationId: '',\n        type: \"\",\n        language: 'en',\n        identifier: '',\n        triggerEvent: \"\",\n        autoResend: '15724800000',\n        keyword: '',\n        landingPage: {\n          lp1: '',\n          lp2: '',\n          lp3: '',\n          rp1: '',\n          rp2: '',\n          rp3: ''\n        },\n        actions: [\n          {\n            time: 0,\n            email: {\n              active: true,\n              subject: \"\",\n              design: {\n                data: \"\",\n                design: \"\"\n              }\n            },\n            sms: {\n              active: true,\n              preview: \"\",\n              message:\n                \"\"\n            },\n            restriction: \"\"\n          }\n        ]\n      }\n    };\n  },\n  created() {\n    this.setInitialData();\n    let x = document.getElementsByClassName('titled');\n  },\n  computed: {\n    landingPage() {\n      return {\n        lp1: \"How Are We Doing?\",\n        lp2: \"Please Rate Your Experience\",\n        lp3: \"At \" + this.automationLocationName + \", we care about your experience and want to hear about it. Please take a moment to let us know how we're doing!\",\n        rp1: \"We're Sorry To Hear That\",\n        rp2: \"Please Tell Us More\",\n        rp3:\n        \"We take our customer feedback very seriously - please let us know how your experience was less than ideal so we can improve in the future. In order to better address the issue, please provide specifics. We appreciate your feedback!\"\n      }\n    },\n    displayOverview() {\n      if( this.emailPreview == false &&\n          this.smsPreview == false &&\n          this.editingTimeCondition == false &&\n          this.editingLandingPage == false &&\n          this.editingSurvey == false &&\n          this.addingLoyaltyCoupon == false &&\n          this.openPreviewCampaign == false &&\n          this.initializedUnlayer == false ) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n    saveSurveyDisabled() {\n      // Needs some sort of trigger in order to refresh the result after one of its dependents is changed... unsure at this time how to trigger that.\n      let vm = this;\n      let test = vm.selectedAction.surveyQuestions;\n       return(test.map(e => {\n        return Object.entries(e).map(x => {\n          return (x[1].length == 0 && (typeof x[1] != 'boolean' || typeof x[1] != 'number') );\n        })\n      })).map(h => {\n        return h.includes(true)\n      })\n      this.$forceUpdate();\n    }\n  },\n  methods: {\n    setInitialData() {\n      this.locationId = localStorage.getItem(\"locationId\");\n      this.automation.locationId = this.locationId;\n      this.displayName = this.automationType;\n      this.automation.type = this.automationType;\n      this.addLandingPageData();\n      this.addSurveyData();\n      this.addLoyaltyCoupon();\n      this.displayName = this.splitAndConvertName(this.displayName);\n      if(this.selectedAutomation) {\n        this.pageAction = 'Update';\n        this.automation = this.selectedAutomation;\n      }\n      this.getUserData();\n      this.checkAgreement();\n    },\n    checkAgreement() {\n      let vm = this;\n      if(vm.locationId) {\n        LocationService.getLocation(vm.locationId).then(response => {\n          if(response.tcpaAgreement) {\n            this.agreement = response.tcpaAgreement.consent;\n          }\n        })\n      }\n    },\n    convertToCaps() {\n      let vm = this;\n      if(vm.automation && vm.automation.keyword) vm.automation.keyword = vm.automation.keyword.toUpperCase().replace(/\\s+/g, '');\n      let allKeys = []\n      AutomationService.getAutomationByType(null, 'loyalty').then(response => {\n        response.results.map(auto => {\n          allKeys.push(auto.keyword)\n        })\n        vm.duplicateKey = allKeys.includes(vm.automation.keyword) ? true : false;\n      })\n    },\n    getUserData() {\n      let vm = this;\n      vm.userData = JSON.parse(localStorage.getItem('currentUser'));\n    },\n    validateID(id) {\n      let vm = this;\n      AutomationService.getAutomationsByLocation(vm.locationId, vm.automation.type).then(response => {\n        let locationAutos = response.result\n        let allIds = []\n        locationAutos.map(auto => {\n          if(auto.status != 'deleted') {\n            if(typeof auto.identifier != 'string') {\n              allIds.push(JSON.stringify(auto.identifier));\n            } else {\n              allIds.push(auto.identifier);\n            }\n          }\n        })\n        vm.duplicateId = allIds.includes(id);\n      })\n    },\n    saveAutomation() {\n      EventService.$emit(\"loading\", \"show\");\n      let vm = this;\n      if(vm.pageAction == 'Add New') {\n        AutomationService.saveAutomation(vm.automation).then(response => {\n          if(response.success) {\n            EventService.$emit(\"loading\", \"hide\");\n            EventService.$emit(\n              \"successMessage\",\n              \"Hooray! Automation Saved.\"\n            );\n            vm.closeModal('Saved');\n          } else {\n            EventService.$emit(\"loading\", \"hide\");\n            EventService.$emit(\n              \"errorMessage\",\n              \"Sorry, something went wrong. Please try again.\"\n            );\n          }\n        })\n      } else {\n        AutomationService.updateAutomation(vm.automation).then(response => {\n          if(response.success) {\n            EventService.$emit(\"loading\", \"hide\");\n            EventService.$emit(\n              \"successMessage\",\n              \"Hooray! Automation Saved.\"\n            );\n            vm.closeModal('Saved');\n          } else {\n            EventService.$emit(\"loading\", \"hide\");\n            EventService.$emit(\n              \"errorMessage\",\n              \"Sorry, something went wrong. Please try again.\"\n            );\n          }\n        })\n      }\n    },\n    splitAndConvertName(data) {\n      return (data.charAt(0).toUpperCase() + data.substr(1)).replace(/([A-Z])/g, \" $1\").trim();\n    },\n\n    // Logic below allowing an action to contain a new sms message, adjust the > 7 in order to change time frame difference to allow more or less time to pass between texts.\n\n    checkTime(time, index) {\n      let newArray = [];\n      this.automation.actions.map(e => {\n        newArray.push(e.time);\n      })\n      let newTimes = newArray.sort( ( a, b ) => a - b );\n      if(index == 0) {\n        return true;\n      } else if (index > 0 && time == 0){\n        return false\n      } else {\n        if(newTimes.indexOf(time) > 0) {\n          if(Math.abs(time - newTimes[newTimes.indexOf(time)-1]) > 7) {\n            return true;\n          } else {\n            return false;\n          }\n        } else  {\n          return true;\n        }\n      }\n    },\n    checkMinTimes(action){\n      let vm = this;\n      let index = vm.selectedIndex;\n      if(index == 0 ) {\n        return 0;\n      } else {\n        return vm.automation.actions[index-1].time;\n      }\n    },\n    addAction(location, index) {\n      if (this.automationType == \"reviewRequest\") {\n        var newAction = {\n          time: 0,\n          email: {\n            active: true,\n            subject: \"\",\n            design: {\n              data: \"\",\n              design: \"\"\n            }\n          },\n          sms: {\n            active: true,\n            preview: \"\",\n            message: \"\"\n          },\n          notice: {\n            potentialNegRev: true,\n            actualNegRev: true,\n            positiveRev: true,\n            privateRev: true\n          },\n\n        };\n      } else if (this.automationType == \"survey\") {\n        var newAction = {\n          time: 0,\n          email: {\n            active: true,\n            subject: \"\",\n            design: {\n              data: \"\",\n              design: \"\"\n            }\n          },\n          sms: {\n            active: true,\n            preview: \"\",\n            message: \"\"\n          },\n          surveyQuestions: []\n        };\n      } else if (this.automationtype == \"loyalty\") {\n        var newAction = {\n          time: 0,\n          email: {\n            active: true,\n            subject: \"\",\n            design: {\n              data: \"\",\n              design: \"\"\n            }\n          },\n          sms: {\n            active: true,\n            preview: \"\",\n            message: \"\"\n          },\n          loyaltyCoupon: {\n            image: '',\n            imageType: ''\n          }\n        };\n      } else {\n        var newAction = {\n          time: 0,\n          email: {\n            active: true,\n            subject: \"\",\n            design: {\n              data: \"\",\n              design: \"\"\n            }\n          },\n          sms: {\n            active: true,\n            preview: \"\",\n            message: \"\"\n          }\n        };\n      }\n      if (location == \"below\") {\n        this.automation.actions.splice(index + 1, 0, newAction);\n      } else if (location == \"above\") {\n        this.automation.actions.splice(index, 0, newAction);\n      }\n    },\n    addLandingPageData() {\n      let vm = this;\n      let selectedLocation = localStorage.getItem('locationId');\n      let locOptions = JSON.parse(localStorage.getItem('locationOptions'));\n      locOptions.map(loc => {\n        if(loc.locationId == selectedLocation) {\n          let matchedLocation = loc;\n          vm.automationLocationName = loc.displayName;\n        };\n      })\n    },\n    addSurveyData() {\n      let vm = this;\n      if (vm.automationType == \"survey\") {\n        vm.automation.actions[0].surveyQuestions = [];\n      }\n    },\n    addLoyaltyCoupon() {\n      let vm = this;\n      if(vm.automationType == 'loyalty') {\n        vm.automation.actions[0].loyaltyCoupon = {\n          image: '',\n          imageType: '',\n        }\n      }\n    },\n    removeAction(index) {\n      this.automation.actions.splice(index, 1);\n    },\n\n    previewEmail(action) {\n      let vm = this;\n      // Removes any other editing so that other email previews don't interfere.\n      vm.closeAllEditing();\n      vm.selectedAction = action;\n      vm.emailPreview = true;\n      // vm.spinnerActive = true;\n      // Checks for proper information in order to pass correct data to mailchimp for testing.\n      if (config.subDomain) {\n        var subDomain = config.subDomain;\n      }\n      if (config.baseUrl) {\n        var baseUrl = config.baseUrl;\n      }\n      // Timeout is set to be manipulated if we need more time later in a single variable.\n      var timeOut = 200;\n      // Check if the action passed into the function already has been saved, so that it is not overwritten if it is.\n      if (vm.campaign.emailDetails.design.design) {\n        // Create the script and iframe to be used to edit the email.\n        vm.$unlayerScript = {\n          id: \"email-editor\",\n          projectId: 1777,\n          displayMode: \"email\"\n        };\n\n        var d = document;\n        var s = d.createElement(\"script\");\n        s.type = \"text/javascript\";\n        s.defer = true;\n        s.src = \"//editor.unlayer.com/embed.js\";\n        var t = d.getElementsByTagName(\"script\")[0];\n        t.parentNode.insertBefore(s, t);\n        // Actually load the existing design in the action, check for initializedUnlayer exists as failsafe for the iframe not being reset properly.\n        setTimeout(() => {\n          if (!vm.initializedUnlayer) {\n            unlayer.init(vm.$unlayerScript);\n            vm.initializedUnlayer = true;\n            unlayer.loadDesign(vm.campaign.emailDetails.design.design);\n          }\n        }, timeOut);\n        // vm.spinnerActive = false;\n      } else {\n        // If email design doesn't exist for the selected action, create all necessary fields to pass as designTags and set the initial design.\n        LocationService.getLocation(vm.campaign.locationId).then(response => {\n          if (response.displayName) {\n            vm.automationLocationName = response.displayName;\n            vm.addLandingPageData();\n            var locationName = response.displayName;\n          } else {\n            var locationName = response.name;\n          }\n          var style = response.locationStyle;\n          var logo = style.logo;\n          var colors = style.buttonColor || \"#4fcbc5\";\n          var buttonColors = vm.generateButtonColors(colors);\n          var automationId = 'AU' + vm.generateAutoId('0', 11);\n          vm.automation.automationId = automationId;\n\n          vm.$unlayerScript = {\n            id: \"email-editor\",\n            projectId: 1777,\n            displayMode: \"email\",\n            designTags: {\n              location_name: locationName,\n              // Update when automation identifier is created.\n              // template_id: vm.automation.name,\n              review_url: \"https://\" + subDomain + \".opiniion.com/automationReviewEmail/\" + vm.locationId + '/' + automationId+ ':' + '*|aid|*/*|cid|*',\n              display_url: \"https://\" + subDomain + \".opiniion.com/leaveFeedback/\" + vm.locationId + '/*|cid|*/Email',\n              unsubscribe_url: \"https://\" + subDomain + \".opiniion.com/unsubscribe?cid=*|cid|*\",\n              image_url: baseUrl + `location\\/showImage\\/` + vm.locationId,\n              survey_url: baseUrl + 'surveyResponse/',\n              button_color_0: buttonColors[0],\n              button_color_1: buttonColors[1],\n              button_color_2: buttonColors[2],\n              button_color_3: buttonColors[3],\n              button_color_4: buttonColors[4],\n              footer_color: style.footerColor || \"lightgrey\"\n            }\n          };\n\n          if (vm.automationType == \"campaign\") {\n            vm.$unlayerScript.templateId = 4977;\n          } else if (vm.automationType == \"survey\") {\n            vm.$unlayerScript.templateId = 4976;\n          } else if (vm.automationType == \"loyalty\") {\n            vm.$unlayerScript.templateId = 5284;\n          } else if (vm.automationType == \"reviewRequest\") {\n            vm.$unlayerScript.templateId = 5307;\n            if (vm.templateType == \"standard\" || !vm.templateType) {\n              vm.$unlayerScript.designTags.message_block =\n                \"Thank you so much for choosing \" +\n                locationName +\n                \"! Your satisfaction is our top priority, and we'd love to hear from you. Please take a few seconds to let us know how we're doing.\";\n            } else if (vm.templateType == \"property\") {\n              vm.$unlayerScript.designTags.message_block =\n                \"Thanks for joining us! Your satisfaction is our top priority, and we'd love to hear from you. Please take a few seconds to rate your experience.\";\n            } else if (vm.templateType == \"service\") {\n              vm.$unlayerScript.designTags.message_block =\n                \"Thank you so much for choosing \" +\n                locationName +\n                \"! Your satisfaction is our top priority, and we'd love to hear from you. Please take a few seconds to let us know how we're doing.\";\n            } else {\n              vm.$unlayerScript.designTags.message_block =\n                \"Thank you so much for choosing \" +\n                locationName +\n                \"! Your satisfaction is our top priority, and we'd love to hear from you. Please take a few seconds to let us know how we're doing.\";\n            }\n          }\n\n          var d = document;\n          var s = d.createElement(\"script\");\n          s.type = \"text/javascript\";\n          s.defer = true;\n          s.src = \"//editor.unlayer.com/embed.js\";\n          var t = d.getElementsByTagName(\"script\")[0];\n          t.parentNode.insertBefore(s, t);\n          setTimeout(() => {\n            if (!vm.initializedUnlayer) {\n              vm.initializedUnlayer = true;\n              unlayer.init(vm.$unlayerScript);\n            }\n          }, timeOut);\n        // vm.spinnerActive = false;\n        });\n      }\n    },\n    // saveEmailDesign() {\n    //   let vm = this;\n    //   if (vm.initializedUnlayer) {\n    //     unlayer.exportHtml(function(data) {\n    //       vm.selectedAction.email.design = {\n    //         data: data.html,\n    //         design: data.design\n    //       };\n    //       vm.removeIframe();\n    //     });\n    //   }\n    //   // console.log(vm.selectedAction.email);\n    // },\n    previewSMS(action, i) {\n      let vm = this;\n      vm.selectedAction = action;\n      vm.tempMessage = action.sms.message;\n      // Add logic for opening only if index == 0 or display agreement.\n      // if(( i == 0 && vm.automation.actions.length && vm.automation.actions.length == 1) || vm.agreement) {\n      vm.closeAllEditing();\n      vm.smsPreview = true;\n      // } else {\n      //   vm.tcpaComplianceOpen = true;\n      // }\n    },\n    changeAgreement() {\n      this.agreement = true;\n      // Activate this line of code once back end is pushed.\n      LocationService.setTCPAAgreement(this.locationId, this.userData).then(response => {\n      })\n      this.tcpaComplianceOpen = false;\n      this.previewSMS(this.selectedAction);\n    },\n    cancelSMS() {\n      this.tcpaComplianceOpen = false;\n      this.tempMessage = '';\n      this.smsPreview = false;\n    },\n    generateAutoId(possItems, length) {\n      var text = '';\n      var options = '';\n      if (possItems.indexOf('0') > -1) options += '0123456789';\n      if (possItems.indexOf('a') > -1) options += 'abcdefghijklmnopqrstuvwxyz';\n      if (possItems.indexOf('A') > -1) options += 'ABCDEFGHIkLMNOPQRSTUVWXYZ';\n      for (var i=0; i<length && options.length>0; i++) {\n        text += options.charAt(Math.floor(Math.random() * options.length));\n      }\n      return text;\n    },\n    editTimeCondition(action, index) {\n      let vm = this;\n      vm.closeAllEditing();\n      vm.selectedAction = action;\n      vm.selectedIndex = index;\n      vm.editingTimeCondition = true;\n    },\n    editLandingPage(action) {\n      let vm = this;\n      vm.closeAllEditing();\n      vm.editingLandingPage = true;\n      // if(action.email.subject) {\n      //   vm.closeAllEditing();\n      //   vm.selectedAction = action;\n      //   vm.editingLandingPage = true;\n      //   vm.landingMessage = 'Edit Landing Page Details'\n      // } else {\n      //   vm.landingMessage = 'Please create an email before designing the landing page.'\n      // }\n    },\n    editSurvey(action) {\n      let vm = this;\n      vm.closeAllEditing();\n      vm.selectedAction = action;\n      vm.editingSurvey = true;\n    },\n    editLoyaltyCoupon(action) {\n      let vm = this;\n      vm.closeAllEditing();\n      vm.selectedAction = action;\n      vm.addingLoyaltyCoupon = true;\n    },\n    openPreviewModal() {\n      // console.log(this.landingPage);\n      try {\n        localStorage.setItem('automationType', 'reviewRequest');\n        localStorage.setItem('previewData', this.landingPage);\n      } catch (error) {\n        console.log(error)\n      }\n      let route = this.$router.resolve({name: 'Preview Landing'});\n      window.open(route.href, '_blank');\n    },\n    saveSMS() {\n      let vm = this;\n      vm.selectedAction.sms.message = vm.tempMessage;\n      vm.closeAllEditing();\n    },\n    closeAllEditing() {\n      let vm = this;\n      vm.saveEmailDesign();\n      vm.emailPreview = false;\n      vm.smsPreview = false;\n      vm.editingTimeCondition = false;\n      vm.editingLandingPage = false;\n      vm.editingSurvey = false;\n      vm.addingLoyaltyCoupon = false;\n      vm.selectedIndex = null;\n    },\n    cancelEmailEdit() {\n      let vm = this;\n      vm.removeIframe();\n      vm.emailPreview = false;\n      vm.smsPreview = false;\n      vm.editingTimeCondition = false;\n      vm.editingLandingPage = false;\n      vm.editingSurvey = false;\n      vm.addingLoyaltyCoupon = false;\n    },\n    removeIframe() {\n      let vm = this;\n      if (vm.initializedUnlayer) {\n        var x = document.getElementsByTagName(\"iframe\")[0];\n        var d = document.getElementsByTagName(\"script\")[0];\n        if (x) {\n          x.remove();\n        }\n        if (d) {\n          d.remove();\n        }\n      }\n      vm.initializedUnlayer = false;\n    },\n    addAnswer(question) {\n      let vm = this;\n      question.answerOptions.push(question.newOption);\n      question.newOption = '';\n      vm.refreshQuestions();\n    },\n    removeAnswer(question, answer) {\n      let vm = this;\n      question.answerOptions.splice(question.answerOptions.indexOf(answer), 1);\n      vm.refreshQuestions();\n    },\n    closePreviewModal() {\n      this.openPreviewCampaign = false;\n    },\n    changeQuestions() {\n      let vm = this;\n      if (vm.selectedAction.surveyTemplate == \"none\") {\n        vm.selectedAction.surveyQuestions = [];\n      } else if (vm.selectedAction.surveyTemplate == \"1\") {\n        vm.selectedAction.surveyQuestions = [\n          { order: 1, type: \"1to5\", explain: true, title: \"With 1 being lowest and 5 being highest: \", question: \"How would you rate our work culture?\" },\n          { order: 2, type: \"selectAny\", explain: true, title: \"Select All That Apply:\", question: \"What do you enjoy most about working here?\", answerOptions:[] },\n          { order: 3, type: \"selectAny\", explain: true, title: \"Select All That Apply:\", question: \"What do you enjoy least about working here?\", answerOptions:[] },\n        ];\n      } else if (vm.selectedAction.surveyTemplate == \"2\") {\n        vm.selectedAction.surveyQuestions = [\n          { order: 1, type: \"1to5\", explain: true, title: \"With 1 being lowest and 5 being highest: \", question: \"How would you rate our facilties?\" },\n          { order: 2, type: \"selectAny\", explain: true, title: \"Select All That Apply:\", question: \"What do you enjoy most about living here?\", answerOptions:[] },\n          { order: 3, type: \"selectAny\", explain: true, title: \"Select All That Apply:\", question: \"What do you enjoy least about living here?\", answerOptions:[] },\n        ];\n      } else if (vm.selectedAction.surveyTemplate == \"3\") {\n        vm.selectedAction.surveyQuestions = [\n          { order: 1, type: \"1to5\", explain: true, title: \"With 1 being lowest and 5 being highest: \", question: \"How would you rate our service?\" },\n          { order: 2, type: \"selectAny\", explain: true, title: \"Select All That Apply:\", question: \"What do we do well?\", answerOptions:[] },\n          { order: 3, type: \"selectAny\", explain: true, title: \"Select All That Apply:\", question: \"What could we improve on?\", answerOptions:[] },\n        ];\n      }\n    },\n    encodeImageFileAsURL(event) {\n      let filesList = event.target.files[0];\n      let vm = this;\n      let reader = new FileReader();\n      reader.onloadend = function() {\n        if (reader.result.length > 500000 * 1.36) {\n          vm.showLogoSizeError = true;\n        } else {\n          vm.selectedAction.loyaltyCoupon.image = reader.result;\n          let selection = reader.result.substr(0, 25);\n          vm.selectedAction.loyaltyCoupon.imageType = selection.substr((selection.indexOf(\"/\")+1), (selection.indexOf(';')-1 - selection.indexOf(\"/\")));\n          vm.addingLoyaltyCoupon = false;\n          vm.addingLoyaltyCoupon = true;\n        }\n      };\n      reader.readAsDataURL(filesList);\n    },\n    appendImageHeader(imgText) {\n      if (imgText) {\n        return imgText;\n      }\n    },\n    generateButtonColors(initialColor) {\n      let vm = this;\n      return [\n        vm.lightenColor(initialColor, 40),\n        vm.lightenColor(initialColor, 30),\n        vm.lightenColor(initialColor, 20),\n        vm.lightenColor(initialColor, 10),\n        initialColor\n      ];\n    },\n    lightenColor(initialColor, amt) {\n      var col = initialColor.slice(1);\n\n      var num = parseInt(col, 16);\n\n      var r = (num >> 16) + amt;\n\n      if (r > 255) r = 255;\n      else if (r < 0) r = 0;\n\n      var b = ((num >> 8) & 0x00ff) + amt;\n\n      if (b > 255) b = 255;\n      else if (b < 0) b = 0;\n\n      var g = (num & 0x0000ff) + amt;\n\n      if (g > 255) g = 255;\n      else if (g < 0) g = 0;\n\n      return (\n        \"#\" +\n        String(\"000000\" + (g | (b << 8) | (r << 16)).toString(16)).slice(-6)\n      );\n    },\n    addSurveyQuestion() {\n      let vm = this;\n      let newOrder = vm.selectedAction.surveyQuestions.length + 1;\n      vm.selectedAction.surveyQuestions.push({\n        order: newOrder,\n        type: \"\",\n        title: \"\",\n        question: \"\"\n      });\n      vm.refreshQuestions();\n    },\n    refreshQuestions() {\n      let vm = this;\n      vm.editingSurvey = false;\n      vm.editingSurvey = true;\n    },\n    removeSurveyQuestion(index) {\n      this.selectedAction.surveyQuestions.splice(index, 1);\n      this.refreshQuestions();\n    },\n    dragStart(event) {\n      this.dragging = true;\n      let dt = event.dataTransfer;\n      dt.setData(\"text/plain\", event.target.id);\n      var el = document.getElementsByClassName(\"disable-on-drag\");\n      var i;\n      for (i = 0; i < el.length; i++) {\n        el[i].disabled = true;\n      }\n    },\n    dragOver(event) {\n      event.dataTransfer.dropEffect = \"move\";\n    },\n    dropQuestion(event) {\n      let dt = event.dataTransfer;\n      var data = event.dataTransfer.getData(\"text/plain\");\n      this.startPosition = data;\n      this.endPosition = event.target.id;\n    },\n    dragEnd(event) {\n      let vm = this;\n      let start = this.startPosition;\n      let end = this.endPosition;\n      var newArray = [];\n      if ((start && end) && start != end) {\n        vm.selectedAction.surveyQuestions.map((question, i) => {\n          if (i == start) {\n            i = end;\n            newArray[i] = question;\n          } else {\n            if (end > start) {\n              if (i > start && i <= end) {\n                i = i - 1;\n                newArray[i] = question;\n              } else {\n                newArray[i] = question;\n              }\n            } else if (end < start) {\n              if (i < start && i >= end) {\n                i = i + 1;\n                newArray[i] = question;\n              } else {\n                newArray[i] = question;\n              }\n            }\n          }\n        });\n        vm.selectedAction.surveyQuestions = newArray;\n      }\n      var el = document.getElementsByClassName(\"disable-on-drag\");\n      var i;\n      for (i = 0; i < el.length; i++) {\n        el[i].disabled = false;\n      }\n      vm.dragging = false;\n    },\n    closeModal(msg) {\n      if(msg) {\n        this.$emit(\"closeModal\");\n        this.automation = {};\n        this.selectedAction = {};\n        EventService.$emit(\"loading\", \"hide\");\n      } else {\n        if(confirm('Are you sure you would like to exit without saving?')) {\n        this.$emit(\"closeModal\");\n        this.automation = {};\n        this.selectedAction = {};\n        EventService.$emit(\"loading\", \"hide\");\n        }\n      }\n    }\n  }\n};\n</script>\n\n\n<style scoped>\n.modal-mask {\n  height: auto;\n}\n\n.automation-container {\n  width: calc(100% - 75px);\n  /* min-width: 1430px; */\n  min-height: calc(100% - 100px);\n  margin: 55px 0 0 55px;\n  background: white;\n}\n\nheader {\n  border-bottom: 2px solid lightgrey;\n  display: flex;\n  justify-content: space-between;\n  align-content: center;\n  align-items: center;\n  font-size: 25px;\n  text-transform: capitalize;\n}\n\nheader span {\n  margin-left: 25px;\n}\n\nheader i {\n  margin-right: 25px;\n}\n\n.automations-style-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.main-display {\n  min-width: 50%;\n}\n\n.automation-name {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-top: 15px;\n}\n\n.input-name {\n  border: 1px solid lightgrey;\n  border-radius: 5px;\n  width: 250px;\n  margin-top: 15px;\n}\n\n.automation-id {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  align-self: center;\n  margin: 10px 0;\n}\n\n.id-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.input-id {\n  border: 1px solid lightgrey;\n  border-radius: 5px;\n}\n\n.landing-page-edit-button {\n  display: flex;\n  align-items: center;\n}\n\n.action-landing-button {\n  border: 1px solid lightgrey;\n  border-radius: 5px;\n  padding: 7px 10px;\n  margin-right: 10px;\n  display: flex;\n  min-width: 160px;\n  cursor: pointer;\n}\n\n.action-landing-button i {\n  margin-right: 8px;\n  color: #4fcbc5;\n  font-size: 18px;\n}\n\n.action-container {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n}\n\n.automation-action {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n}\n\n.automation-actions-list {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n}\n\n.automation-action-instance {\n  border: 1px solid lightgrey;\n  border-radius: 5px;\n  padding: 20px;\n  position: relative;\n}\n\n.action-info-row {\n  display: flex;\n  justify-content: space-between;\n  align-content: center;\n  align-items: center;\n}\n\n.action-info-row span {\n  margin-bottom: 5px;\n}\n\n.action-method-selector {\n  margin-right: 5px;\n  width: 20px;\n  transform: translateY(3px);\n}\n\n.action-image-title {\n  width: 150px;\n}\n\n.action-input {\n  width: 200px;\n  border: 1px solid lightgrey;\n  border-radius: 5px;\n  margin-right: 10px;\n}\n\n.action-input input {\n  /* height: 20px; */\n  border: none;\n}\n\n.far, .fas {\n  color: #4fcbc5;\n}\n\n.preview-link {\n  cursor: pointer;\n  color: #4fcbc5;\n  width: 60px;\n}\n\n.titled {\n  cursor: help;\n  color: black;\n}\n\n.hidden {\n  opacity: 0;\n}\n\n.fa-plus-circle {\n  font-size: 30px;\n  color: #4fcbc5;\n  cursor: pointer;\n}\n\n.top {\n  margin: 20px 0;\n}\n\n.bottom {\n  margin-top: 20px;\n}\n\n.empty-top::before {\n  content: '';\n  border-left: 2px solid red;\n  display: inline-block;\n  height: 11px;\n  transform: translateY(1px);\n}\n\n.empty-bottom::before {\n  content: '';\n  border-left: 2px solid red;\n  display: inline-block;\n  height: 11px;\n  transform: translateY(1px);\n}\n\n.remove-action {\n  position: absolute;\n  right: 5px;\n  cursor: pointer;\n}\n\n/* Email Editor */\n\n.error-message {\n  color: red;\n}\n\n.email-editor-display {\n  height: 700px;\n  width: 95%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n\n.campaign-email-editor {\n  height: 600px;\n}\n\n.header-container {\n  text-align: center;\n  display: flex;\n  flex-direction: column;\n}\n\n.message-editor-header {\n  margin-bottom: 10px;\n  text-align: left;\n  font-size: 22px;\n}\n/*\n@keyframes spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n.spinner {\n  text-align: center;\n  animation: spin 3s infinite;\n} */\n\n/* SMS Editor */\n\n.sms-editor-display {\n  padding: 30px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  text-align: center;\n}\n\n.sms-design {\n  position: relative;\n}\n\n.phone-background {\n  color: grey;\n}\n\n.phone-message {\n  position: absolute;\n  top: 70px;\n  left: 200px;\n  font-size: 15px;\n  background: #d3d3d3;\n  max-width: 125px;\n  font-family: Arial, Helvetica, sans-serif;\n  padding: 5px 8px;\n  border-radius: 15px;\n  text-align: left;\n}\n\n.phone-message::after {\n  position: absolute;\n  content: '';\n  bottom: 2px;\n  left: 6px;\n  width: 0;\n  height: 0;\n  border: 10px solid transparent;\n  border-top-color: #d3d3d3;\n  border-bottom: 0;\n  border-left: 0;\n  margin-bottom: -9px;\n}\n\n.phone-message:nth-child(3) {\n  transform: translateY(178px);\n}\n\n.sms-message {\n  display: flex;\n  flex-direction: column;\n}\n\n.sms-message label {\n  font-size: 20px;\n  margin: 10px;\n}\n\n.sms-message span {\n  font-size: 12px;\n  margin: 3px;\n}\n\n.sms-text-box {\n  width: 550px;\n  max-width: 550px;\n  min-width: 550px;\n  height: 50px;\n  max-height: 50px;\n  min-height: 50px;\n}\n\n.sms-length-tracker {\n  text-align: left;\n}\n\n/* Landing */\n\n.landing {\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  margin: 10px 0;\n}\n\n.landing button {\n  background: #4fcbc5;\n  color: white;\n  margin-right: 20px;\n  padding: 5px 10px;\n  cursor: pointer;\n}\n\n.landing-page-details-container {\n  margin-bottom: 20px;\n}\n\n.landing-subheader {\n  margin-bottom: 10px;\n  font-size: 20px;\n  font-weight: 600;\n}\n\n.landing-detail {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.landing-detail input {\n  width: 300px;\n  border: 1px solid lightgrey;\n  border-radius: 5px;\n}\n\n.landing-textarea {\n  display: flex;\n  flex-direction: column;\n  text-align: center;\n}\n\n.landing-textarea label {\n  margin-bottom: 5px;\n\n}\n\n.landing-textarea textarea{\n  width: 500px;\n  height: 75px;\n  min-width: 500px;\n  min-height: 75px;\n  max-width: 500px;\n  max-height: 75px;\n}\n\n\n/* Bottom Container */\n\n.bottom-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: 30px;\n  padding-bottom: 20px;\n}\n\n.cancel-button {\n  color: orange;\n  cursor: pointer;\n}\n\n.save-button {\n  background: #4fcbc5;\n  color: white;\n  cursor: pointer;\n  padding: 10px 15px;\n  border-radius: 3px;\n  margin-left: 10px;\n}\n\n</style>"],"sourceRoot":"src/components"}]}