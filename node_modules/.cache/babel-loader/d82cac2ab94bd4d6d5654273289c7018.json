{"remainingRequest":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/babel-loader/lib/index.js!/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js??vue-loader-options!/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/src/components/ReviewRequestList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/src/components/ReviewRequestList.vue","mtime":1581270622000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/package.json","mtime":1587799327166},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LnJlZ2V4cC5yZXBsYWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LmZ1bmN0aW9uLm5hbWUiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBFdmVudFNlcnZpY2UgfSBmcm9tICIuLi9tYWluLmpzIjsKaW1wb3J0IExvY2F0aW9uU2VydmljZSBmcm9tICIuLi9zZXJ2aWNlcy9Mb2NhdGlvblNlcnZpY2UuanMiOwppbXBvcnQgQXV0b21hdGlvblNlcnZpY2UgZnJvbSAiLi4vc2VydmljZXMvQXV0b21hdGlvblNlcnZpY2UuanMiOwppbXBvcnQgQWRkQXV0b21hdGlvbiBmcm9tICIuL0FkZEF1dG9tYXRpb24iOwppbXBvcnQgQWRkTmV3QXV0b21hdGlvbiBmcm9tICIuL0FkZE5ld0F1dG9tYXRpb24iOwppbXBvcnQgQXV0b21hdGlvbkRldGFpbHMgZnJvbSAiLi9BdXRvbWF0aW9uRGV0YWlscyI7CmltcG9ydCBUZXN0TWVzc2FnZSBmcm9tICIuL1Rlc3RNZXNzYWdlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJyZXZpZXdSZXF1ZXN0TGlzdCIsCiAgY29tcG9uZW50czogewogICAgQWRkQXV0b21hdGlvbjogQWRkQXV0b21hdGlvbiwKICAgIEF1dG9tYXRpb25EZXRhaWxzOiBBdXRvbWF0aW9uRGV0YWlscywKICAgIFRlc3RNZXNzYWdlOiBUZXN0TWVzc2FnZSwKICAgIEFkZE5ld0F1dG9tYXRpb246IEFkZE5ld0F1dG9tYXRpb24KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb2NhdGlvbklkOiAnJywKICAgICAgcmVxdWVzdExpc3Q6IFtdLAogICAgICBzZWFyY2hUZXh0OiAnJywKICAgICAgc2VsZWN0ZWRBdXRvbWF0aW9uOiAnJywKICAgICAgYXV0b21hdGlvbk1vZGFsOiBmYWxzZSwKICAgICAgYXV0b21hdGlvbkRldGFpbHNNb2RhbDogZmFsc2UsCiAgICAgIGRpc3BsYXllZFRlc3Q6IGZhbHNlLAogICAgICBhdXRvbWF0aW9uVHlwZTogJ3Jldmlld1JlcXVlc3QnCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGZpbHRlcmVkUmV2aWV3UmVxdWVzdHM6IGZ1bmN0aW9uIGZpbHRlcmVkUmV2aWV3UmVxdWVzdHMoKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CgogICAgICBpZiAodm0ucmVxdWVzdExpc3QgJiYgdm0ucmVxdWVzdExpc3QubGVuZ3RoID4gMCkgewogICAgICAgIHZhciBmaWx0ZXJlZExpc3QgPSB2bS5yZXF1ZXN0TGlzdC5maWx0ZXIoZnVuY3Rpb24gKHJldmlld1JlcXVlc3QpIHsKICAgICAgICAgIHZhciBtYXRjaEZpbHRlciA9IGZhbHNlOwogICAgICAgICAgbWF0Y2hGaWx0ZXIgPSBtYXRjaEZpbHRlciB8fCByZXZpZXdSZXF1ZXN0Lm5hbWUudG9Mb3dlckNhc2UoKS5pbmRleE9mKHZtLnNlYXJjaFRleHQudG9Mb3dlckNhc2UoKSkgPiAtMTsKICAgICAgICAgIG1hdGNoRmlsdGVyID0gbWF0Y2hGaWx0ZXIgfHwgcmV2aWV3UmVxdWVzdC50eXBlLnRvTG93ZXJDYXNlKCkuaW5kZXhPZih2bS5zZWFyY2hUZXh0LnRvTG93ZXJDYXNlKCkpID4gLTE7IC8vIG1hdGNoRmlsdGVyID0gbWF0Y2hGaWx0ZXIgfHwgcmV2aWV3UmVxdWVzdC5kZXNjcmlwdGlvbi50b0xvd2VyQ2FzZSgpLmluZGV4T2Yodm0uc2VhcmNoVGV4dC50b0xvd2VyQ2FzZSgpKSA+IC0xOwoKICAgICAgICAgIHJldHVybiBtYXRjaEZpbHRlcjsKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gZmlsdGVyZWRMaXN0OwogICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5sb2NhdGlvbklkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oImxvY2F0aW9uSWQiKTsKICAgIHRoaXMuZ2V0UmV2aWV3c0xpc3QoKTsKICAgIEV2ZW50U2VydmljZS4kb24oJ2xvY2F0aW9uQ2hhbmdlJywgdGhpcy5nZXRSZXZpZXdzTGlzdCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRSZXZpZXdzTGlzdDogZnVuY3Rpb24gZ2V0UmV2aWV3c0xpc3QoKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIHZtLmxvY2F0aW9uSWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgibG9jYXRpb25JZCIpOwogICAgICBBdXRvbWF0aW9uU2VydmljZS5nZXRBdXRvbWF0aW9uQnlUeXBlKHZtLmxvY2F0aW9uSWQsICdyZXZpZXdSZXF1ZXN0JykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICB2bS5yZXF1ZXN0TGlzdCA9IHJlc3BvbnNlLnJlc3VsdHM7CiAgICAgIH0pOwogICAgfSwKICAgIGFkanVzdFR5cGU6IGZ1bmN0aW9uIGFkanVzdFR5cGUodHlwZSkgewogICAgICByZXR1cm4gKHR5cGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB0eXBlLnN1YnN0cigxKSkucmVwbGFjZSgvKFtBLVpdKS9nLCAiICQxIikudHJpbSgpOwogICAgfSwKICAgIGNoYW5nZVN0YXR1czogZnVuY3Rpb24gY2hhbmdlU3RhdHVzKGF1dG9tYXRpb25JZCwgc3RhdHVzKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CgogICAgICBpZiAoc3RhdHVzICE9ICdkZWxldGVkJykgewogICAgICAgIEF1dG9tYXRpb25TZXJ2aWNlLmNoYW5nZUF1dG9tYXRpb25TdGF0dXMoYXV0b21hdGlvbklkLCBzdGF0dXMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3VjY2VzcykgewogICAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoJ3N1Y2Nlc3NNZXNzYWdlJywgIkF1dG9tYXRpb24gU3RhdHVzIGhhcyBiZWVuIHVwZGF0ZWQhIik7CiAgICAgICAgICAgIHZtLmdldFJldmlld3NMaXN0KCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKHdpbmRvdy5jb25maXJtKCdBcmUgeW91IGNlcnRhaW4geW91IHdpc2ggdG8gZGVsZXRlIHRoaXMgYXV0b21hdGlvbj8nKSkgewogICAgICAgICAgQXV0b21hdGlvblNlcnZpY2UuY2hhbmdlQXV0b21hdGlvblN0YXR1cyhhdXRvbWF0aW9uSWQsIHN0YXR1cykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoJ3N1Y2Nlc3NNZXNzYWdlJywgIkF1dG9tYXRpb24gU3RhdHVzIGhhcyBiZWVuIHVwZGF0ZWQhIik7CiAgICAgICAgICAgICAgdm0uZ2V0UmV2aWV3c0xpc3QoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgYWRkTmV3OiBmdW5jdGlvbiBhZGROZXcoYXV0b21hdGlvbikgewogICAgICB2YXIgdm0gPSB0aGlzOwoKICAgICAgaWYgKGF1dG9tYXRpb24pIHsKICAgICAgICB2bS5zZWxlY3RlZEF1dG9tYXRpb24gPSBhdXRvbWF0aW9uOwogICAgICB9CgogICAgICB2bS5hdXRvbWF0aW9uTW9kYWwgPSB0cnVlOwogICAgfSwKICAgIGRpc3BsYXlUZXN0OiBmdW5jdGlvbiBkaXNwbGF5VGVzdChhdXRvbWF0aW9uKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKGF1dG9tYXRpb24pOwogICAgICB0aGlzLmRpc3BsYXllZFRlc3QgPSB0cnVlOwogICAgICB0aGlzLnNlbGVjdGVkQXV0b21hdGlvbiA9IGF1dG9tYXRpb247CiAgICB9LAogICAgdmlld0RldGFpbHM6IGZ1bmN0aW9uIHZpZXdEZXRhaWxzKGF1dG9tYXRpb24pIHsKICAgICAgdmFyIHZtID0gdGhpczsKCiAgICAgIGlmIChhdXRvbWF0aW9uKSB7CiAgICAgICAgdm0uc2VsZWN0ZWRBdXRvbWF0aW9uID0gYXV0b21hdGlvbjsKICAgICAgICB2bS5hdXRvbWF0aW9uRGV0YWlsc01vZGFsID0gdHJ1ZTsKICAgICAgfQogICAgfSwKICAgIGNsb3NlTW9kYWw6IGZ1bmN0aW9uIGNsb3NlTW9kYWwoKSB7CiAgICAgIHRoaXMuc2VsZWN0ZWRBdXRvbWF0aW9uID0gJyc7CiAgICAgIHRoaXMuYXV0b21hdGlvbkRldGFpbHNNb2RhbCA9IGZhbHNlOwogICAgICB0aGlzLmF1dG9tYXRpb25Nb2RhbCA9IGZhbHNlOwogICAgICB0aGlzLmRpc3BsYXllZFRlc3QgPSBmYWxzZTsKICAgICAgdGhpcy5nZXRSZXZpZXdzTGlzdCgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["ReviewRequestList.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"reviews-request-container\">\n    <header class=\"review-requests-header\">\n      Review Requests\n    </header>\n    <div class=\"review-action-container\">\n      <div class=\"button-container\">\n        <button @click=\"addNew()\">Add New Review Request</button>\n      </div>\n      <div class=\"search-container\">\n        <i class=\"fal fa-search\"></i><input placeholder=\"Search Automations...\" type=\"search\" class=\"search-review\" v-model=\"searchText\">\n      </div>\n    </div>\n    <div class=\"review-requests\" v-if=\"locationId\">\n      <div class=\"review-request-box\" v-for=\"reviewRequest in filteredReviewRequests\" v-if=\"reviewRequest.status != 'deleted'\">\n        <span class=\"title\" >\n          <div class=\"info-header\">\n            <span class=\"request-info detail\" @click=\"viewDetails(reviewRequest)\" :title=\"reviewRequest.name\">{{reviewRequest.name}} </span>\n            <span class=\"request-info subtype\">{{adjustType(reviewRequest.type)}} </span>\n          </div>\n          <div class=\"identifier\">\n            q = {{reviewRequest.identifier}}\n          </div>\n          <div class=\"description\">\n            <span class=\"request-info\" v-for=\"action in reviewRequest.actions\">\n              <span v-if=\"action && action.time == 0\">Immediately</span> <span v-if=\"action.time != 0\" > {{action.time}} hour<span v-if=\"action.time > 1 || action.time == 0\">s</span></span> after a customer is added,\n              <span class=\"action-line\" v-if=\"action && action.email && action.email.subject\"> <label>send them the email: \"{{action.email.subject}}\"</label></span>\n              <span class=\"action-line\" v-if=\"action && action.sms && action.sms.preview\"> <label><span v-if=\"!action.email.subject\">send them </span><span v-if=\"action.email.subject\" > and </span>a text.</label></span>\n            </span>\n          </div>\n\n          <div class=\"request-action-container\">\n            <span class=\"action-box\" @click=\"addNew(reviewRequest)\"><i class=\"fal fa-edit\" title=\"Edit Workflow\"></i><span>Edit</span></span>\n            <span class=\"action-box\" @click=\"displayTest(reviewRequest)\"><i class=\"far fa-check-double\" title=\"Test Workflow\"></i><span>Test</span></span>\n            <span class=\"action-box\" v-if=\"reviewRequest.status != 'active'\" @click=\"changeStatus(reviewRequest.automationId, 'active')\"><i class=\"fal fa-unlock\" title=\"Activate Automation\"></i><span >Activate</span></span>\n            <span class=\"action-box\" v-if=\"reviewRequest.status == 'active'\" @click=\"changeStatus(reviewRequest.automationId, 'inactive')\"><i class=\"fal fa-ban\"  title=\"Deactivate Automation\"></i><span >Deactivate</span></span>\n            <span class=\"action-box\" @click=\"changeStatus(reviewRequest.automationId, 'deleted')\"><i class=\"fal fa-times\" title=\"Delete Automation\"></i><span>Delete</span></span>\n          </div>\n        </span>\n      </div>\n      <span class=\"title spread\" v-if=\"!filteredReviewRequests || (filteredReviewRequests && filteredReviewRequests.length < 1)\">\n      Sorry, there are no automations to display.\n      </span>\n    </div>\n    <!-- <add-automation v-if=\"automationModal\" :selectedAutomation=\"selectedAutomation\" :automationType=\"automationType\" v-on:closeModal=\"closeModal()\"></add-automation> -->\n\n    <add-new-automation v-if=\"automationModal\" :selectedAutomation=\"selectedAutomation\" :automationType=\"automationType\" v-on:closeModal=\"closeModal()\"></add-new-automation>\n    \n    <automation-details v-if=\"automationDetailsModal\" :selectedAutomation=\"selectedAutomation\" v-on:closeModal=\"closeModal()\"></automation-details>\n\n    <test-message v-if=\"displayedTest\" :selectedAutomation=\"selectedAutomation\" v-on:closeModal=\"closeModal()\"></test-message>\n  </div>\n</template>\n\n\n<script>\nimport {EventService} from '../main.js';\nimport LocationService from '../services/LocationService.js';\nimport AutomationService from '../services/AutomationService.js';\nimport AddAutomation from './AddAutomation';\nimport AddNewAutomation from './AddNewAutomation';\nimport AutomationDetails from './AutomationDetails';\nimport TestMessage from './TestMessage';\n\nexport default {\n  name: \"reviewRequestList\",\n  components: {\n    AddAutomation, AutomationDetails, TestMessage, AddNewAutomation\n  },\n  data: function() {\n    return {\n      locationId: '',\n      requestList: [ ],\n      searchText: '',\n      selectedAutomation: '',\n      automationModal: false,\n      automationDetailsModal: false,\n      displayedTest: false,\n      automationType: 'reviewRequest'\n    }\n  },\n  computed: {\n    filteredReviewRequests() {\n      let vm = this;\n      if(vm.requestList && vm.requestList.length > 0) {\n        let filteredList = vm.requestList.filter(reviewRequest => {\n          let matchFilter = false;\n          matchFilter = matchFilter || reviewRequest.name.toLowerCase().indexOf(vm.searchText.toLowerCase()) > -1;\n          matchFilter = matchFilter || reviewRequest.type.toLowerCase().indexOf(vm.searchText.toLowerCase()) > -1;\n          // matchFilter = matchFilter || reviewRequest.description.toLowerCase().indexOf(vm.searchText.toLowerCase()) > -1;\n          return matchFilter;\n        });\n        return filteredList;\n      }\n    }\n  },\n  created() {\n    this.locationId = localStorage.getItem(\"locationId\");\n    this.getReviewsList();\n    EventService.$on('locationChange', this.getReviewsList);\n  },\n  methods: {\n    getReviewsList() {\n      let vm = this;\n      vm.locationId = localStorage.getItem(\"locationId\");\n      AutomationService.getAutomationByType(vm.locationId, 'reviewRequest').then(response => {\n        vm.requestList = response.results;\n      })\n    },\n    adjustType(type) {\n      return (type.charAt(0).toUpperCase() + type.substr(1)).replace(/([A-Z])/g, \" $1\").trim();\n    },\n    changeStatus(automationId, status) {\n      let vm = this;\n      if(status != 'deleted') {\n        AutomationService.changeAutomationStatus(automationId, status).then(response => {\n          if(response.success) {\n            EventService.$emit('successMessage', \"Automation Status has been updated!\")\n            vm.getReviewsList();\n          }\n        })\n      } else {\n        if (window.confirm('Are you certain you wish to delete this automation?') ){\n          AutomationService.changeAutomationStatus(automationId, status).then(response => {\n            if(response.success) {\n              EventService.$emit('successMessage', \"Automation Status has been updated!\")\n              vm.getReviewsList();\n            }\n          })\n        }\n      }\n    },\n    addNew(automation) {\n      let vm = this;\n      if(automation) {\n        vm.selectedAutomation = automation;\n      }\n      vm.automationModal = true;\n    },\n    displayTest(automation) {\n      // console.log(automation);\n      this.displayedTest = true;\n      this.selectedAutomation = automation;\n    },\n    viewDetails(automation) {\n      let vm = this;\n      if(automation) {\n        vm.selectedAutomation = automation;\n        vm.automationDetailsModal = true;\n      }\n    },\n    closeModal() {\n      this.selectedAutomation = '';\n      this.automationDetailsModal = false;\n      this.automationModal = false;\n      this.displayedTest = false;\n      this.getReviewsList();\n    }\n  }\n}\n</script>\n\n<style scoped>\n\nheader {\n  font-size: 45px;\n  text-transform: uppercase;\n  margin-left: 25px;\n}\n\n.search-container {\n  border: 1px solid lightgrey;\n  padding-left: 20px;\n  padding-top: 5px;\n}\n\n.search-container i {\n  margin-right: 20px;\n  margin-top: 15px;\n}\n.search-container input {\n  margin-right: 20px;\n  width: 300px;\n  border: none;\n}\n\n.button-container button {\n  background: #4fcbc5;\n  padding: 10px 20px;\n  color: white;\n  border-radius: 2px;\n  cursor: pointer;\n}\n\n.review-requests {\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.review-request-box {\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  width: 30%;\n  height: 250px;\n  background: white;\n  margin: 10px;\n  box-shadow: 2px 2px 2px rgba(0,0,0,.25);\n}\n\n.review-action-container {\n  background: white;\n  padding: 10px 20px;\n  margin-bottom: 20px;\n  display: flex;\n  justify-content: space-between;\n  align-content: center;\n  align-items: center;\n}\n\n.title {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-content: center;\n  align-items: center;\n  background: white;\n  padding: 25px;\n  margin-bottom: 2px;\n}\n\n.info-header {\n  display: flex;\n  justify-content: space-between;\n  min-width: 300px;\n  max-width: 100%;\n  border-bottom: 1px solid lightgrey;\n  margin-bottom: 15px;\n  padding-bottom: 15px;\n}\n\n.identifier {\n  margin-bottom: 10px;\n}\n\n.description {\n  max-width: 400px;\n  margin-bottom: 30px;\n  max-height: 70px;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  text-align: center;\n}\n\n.request-action-container {\n  position: absolute;\n  bottom: 20px;\n  font-size: 14px;\n}\n\n.request-action-container i {\n  margin: 5px;\n  font-size: 14px;\n}\n\n.detail {\n  cursor: pointer;\n  color: #4fcbc5;\n  font-size: 25px;\n  width: 175px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.subtype {\n  transform: translateY(7px);\n}\n\n.action-box {\n  cursor: pointer;\n  border: 1px solid lightgrey;\n  padding: 10px 15px;\n}\n\n.spread {\n  width: 100%;\n}\n\n.identifier {\n  margin-bottom: 10px;\n}\n\n</style>\n"],"sourceRoot":"src/components"}]}