{"remainingRequest":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/babel-loader/lib/index.js!/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js??vue-loader-options!/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/src/components/CreateMailbox.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/src/components/CreateMailbox.vue","mtime":1581270622000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/package.json","mtime":1587799327166},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM3LmFycmF5LmluY2x1ZGVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LnN0cmluZy5pbmNsdWRlcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBMb2NhdGlvblNlcnZpY2UgZnJvbSAiLi8uLi9zZXJ2aWNlcy9Mb2NhdGlvblNlcnZpY2UiOwppbXBvcnQgeyBFdmVudFNlcnZpY2UgfSBmcm9tICIuLi9tYWluIjsKaW1wb3J0IGNvbmZpZyBmcm9tICIuLi9jb25maWcuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImNyZWF0ZU1haWxib3giLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb2NhdGlvbnM6IFtdLAogICAgICBkb21haW46ICcnCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0TG9jYXRpb25zKCk7CiAgICB0aGlzLmRvbWFpbiA9IGNvbmZpZy5zdWJEb21haW47CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRMb2NhdGlvbnM6IGZ1bmN0aW9uIGdldExvY2F0aW9ucygpIHsKICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KCJsb2FkaW5nIiwgInNob3ciKTsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgTG9jYXRpb25TZXJ2aWNlLmdldExvY2F0aW9ucygpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgdm0ubG9jYXRpb25zID0gcmVzcG9uc2UucmVzdWx0czsKICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoImxvYWRpbmciLCAiaGlkZSIpOwogICAgICB9KTsKICAgIH0sCiAgICBzYXZlTWFpbGJveDogZnVuY3Rpb24gc2F2ZU1haWxib3gobG9jYXRpb25JZCwgaW5jb21pbmdFbWFpbCkgewogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICB2YXIgc3VmZml4OwoKICAgICAgaWYgKHZtLmRvbWFpbiA9PSAnZGVtbycgfHwgdm0uZG9tYWluID09ICdsb2NhbGhvc3QnIHx8ICF2bS5kb21haW4pIHsKICAgICAgICBzdWZmaXggPSAnQGRlbW9tYWlsLm9waW5paW9uLmNvbSc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc3VmZml4ID0gJ0BsaXZlbWFpbC5vcGluaWlvbi5jb20nOwogICAgICB9CgogICAgICB2YXIgZnVsbEFkZHJlc3M7CgogICAgICBpZiAoaW5jb21pbmdFbWFpbC5pbmNsdWRlcygnLm9waW5paW9uLmNvbScpKSB7CiAgICAgICAgZnVsbEFkZHJlc3MgPSBpbmNvbWluZ0VtYWlsOwogICAgICB9IGVsc2UgewogICAgICAgIGZ1bGxBZGRyZXNzID0gaW5jb21pbmdFbWFpbCArIHN1ZmZpeDsKICAgICAgfSAvLyBjb25zb2xlLmxvZyhsb2NhdGlvbklkLCBmdWxsQWRkcmVzcyk7CgoKICAgICAgTG9jYXRpb25TZXJ2aWNlLnNldExvY2F0aW9uTWFpbGJveChsb2NhdGlvbklkLCBmdWxsQWRkcmVzcykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICB2bS5nZXRMb2NhdGlvbnMoKTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["CreateMailbox.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAgBA,OAAA,eAAA;AACA,SAAA,YAAA;AACA,OAAA,MAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,eADA;AAGA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,EADA;AAEA,MAAA,MAAA,EAAA;AAFA,KAAA;AAIA,GARA;AASA,EAAA,OATA,qBASA;AACA,SAAA,YAAA;AACA,SAAA,MAAA,GAAA,MAAA,CAAA,SAAA;AACA,GAZA;AAaA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,0BACA;AACA,MAAA,YAAA,CAAA,KAAA,CAAA,SAAA,EAAA,MAAA;AACA,UAAA,EAAA,GAAA,IAAA;AACA,MAAA,eAAA,CAAA,YAAA,GAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,QAAA,EAAA,CAAA,SAAA,GAAA,QAAA,CAAA,OAAA;AACA,QAAA,YAAA,CAAA,KAAA,CAAA,SAAA,EAAA,MAAA;AACA,OAHA;AAIA,KARA;AASA,IAAA,WATA,uBASA,UATA,EASA,aATA,EASA;AACA,UAAA,EAAA,GAAA,IAAA;AACA,UAAA,MAAA;;AACA,UAAA,EAAA,CAAA,MAAA,IAAA,MAAA,IAAA,EAAA,CAAA,MAAA,IAAA,WAAA,IAAA,CAAA,EAAA,CAAA,MAAA,EAAA;AACA,QAAA,MAAA,GAAA,wBAAA;AACA,OAFA,MAEA;AACA,QAAA,MAAA,GAAA,wBAAA;AACA;;AACA,UAAA,WAAA;;AACA,UAAA,aAAA,CAAA,QAAA,CAAA,eAAA,CAAA,EAAA;AACA,QAAA,WAAA,GAAA,aAAA;AACA,OAFA,MAEA;AACA,QAAA,WAAA,GAAA,aAAA,GAAA,MAAA;AACA,OAbA,CAcA;;;AACA,MAAA,eAAA,CAAA,kBAAA,CAAA,UAAA,EAAA,WAAA,EAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,QAAA,EAAA,CAAA,YAAA;AACA,OAFA;AAGA;AA3BA;AAbA,CAAA","sourcesContent":["<template>\n  <div class=\"creation-container\">\n    <div class=\"location-container\" v-for=\"location in locations\">\n      <span>\n        <div class=\"details\">{{location.name}} {{location.locationId}}</div>\n        <span><input type=\"text\" v-model=\"location.incomingEmail\" /> \n        <span v-if=\"!location.incomingEmail\">@livemail.opiniion.com</span>\n        <span v-if=\"location.incomingEmail\" style=\"opacity: 0;\">thisisaspacertofillthegap</span>\n        </span>\n        <button @click=\"saveMailbox(location.locationId, location.incomingEmail)\">Save Mailbox</button>\n      </span>\n    </div>\n  </div>\n</template>\n\n<script>\nimport LocationService from \"./../services/LocationService\";\nimport { EventService } from \"../main\";\nimport config from '../config.js';\n\nexport default {\n  name: \"createMailbox\",\n\n  data: function() {\n    return {\n      locations: [],\n      domain: ''\n    };\n  },\n  created() {\n    this.getLocations();\n    this.domain = config.subDomain;\n  },\n  methods: {\n    getLocations() {\n      EventService.$emit(\"loading\", \"show\");   \n      let vm = this;\n      LocationService.getLocations().then(response => {\n        vm.locations = response.results;\n        EventService.$emit(\"loading\", \"hide\");   \n      })\n    },\n    saveMailbox(locationId, incomingEmail) {\n      let vm = this;\n      let suffix;\n      if(vm.domain == 'demo' || vm.domain == 'localhost' || !vm.domain) {\n        suffix = '@demomail.opiniion.com'\n      } else {\n        suffix = '@livemail.opiniion.com'\n      }\n      let fullAddress\n      if(incomingEmail.includes('.opiniion.com')) {\n        fullAddress = incomingEmail;\n      } else {\n        fullAddress = incomingEmail+suffix;\n      }\n      // console.log(locationId, fullAddress);\n      LocationService.setLocationMailbox(locationId, fullAddress).then(response => {\n        vm.getLocations();\n      })\n    }\n  }\n};\n</script>\n\n<style scoped>\n\n.creation-container {\n  background: white;\n  width: 100%;\n}\n\n.location-container {\n  display: flex;\n  flex-direction: column;\n  padding-left: 10px;\n  padding-top: 7px;\n  justify-content: space-between;\n}\n\n.location-container span {\n  display: flex;\n  justify-content: space-between;\n  margin: 0 20px 0 10px;\n}\n\n.details {\n  width: 300px;\n}\n\ninput {\n  width: 300px;\n}\n\nbutton {\n  box-shadow: 0px 2px 4px slategrey;\n  padding: 5px 10px;\n  background: #4fcbc5;\n  color: white;\n  cursor: pointer;\n}\n\n</style>\n"],"sourceRoot":"src/components"}]}