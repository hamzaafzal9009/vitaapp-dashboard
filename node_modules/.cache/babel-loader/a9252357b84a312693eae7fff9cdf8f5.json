{"remainingRequest":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/babel-loader/lib/index.js!/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js??vue-loader-options!/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/src/components/Automations.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/src/components/Automations.vue","mtime":1581270622000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/package.json","mtime":1587799327166},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgRXZlbnRTZXJ2aWNlIH0gZnJvbSAiLi4vbWFpbi5qcyI7CmltcG9ydCBMb2NhdGlvblNlcnZpY2UgZnJvbSAiLi4vc2VydmljZXMvTG9jYXRpb25TZXJ2aWNlLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJhdXRvbWF0aW9ucyIsCiAgY29tcG9uZW50czoge30sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxvY2F0aW9uSWQ6ICcnLAogICAgICBhdXRvbWF0aW9uczogW10KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRMb2NhdGlvbigpOwogICAgRXZlbnRTZXJ2aWNlLiRvbignbG9jYXRpb25DaGFuZ2UnLCB0aGlzLmdldExvY2F0aW9uKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHRvZ2dsZUFjdGl2ZUF1dG9tYXRpb246IGZ1bmN0aW9uIHRvZ2dsZUFjdGl2ZUF1dG9tYXRpb24oYXV0b21hdGlvbikgewogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICBhdXRvbWF0aW9uLmFjdGl2ZSA9ICFhdXRvbWF0aW9uLmFjdGl2ZTsKICAgICAgTG9jYXRpb25TZXJ2aWNlLnNldEF1dG9tYXRpb25zKHZtLmxvY2F0aW9uSWQsIHZtLmF1dG9tYXRpb25zKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGlmICghcmVzcG9uc2Uuc3VjY2Vzcykgey8vIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGdldExvY2F0aW9uOiBmdW5jdGlvbiBnZXRMb2NhdGlvbigpIHsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgdmFyIHRvdGFsQXV0b21hdGlvbnMgPSA0OwogICAgICB2bS5sb2NhdGlvbklkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oImxvY2F0aW9uSWQiKTsgLy8gRXZlbnRTZXJ2aWNlLiRlbWl0KCJsb2FkaW5nIiwgInNob3ciKTsKCiAgICAgIGlmICh2bS5sb2NhdGlvbklkKSB7CiAgICAgICAgTG9jYXRpb25TZXJ2aWNlLmdldExvY2F0aW9uQXV0b21hdGlvbnModm0ubG9jYXRpb25JZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIHZhciByZXMgPSByZXNwb25zZVswXS5hdXRvbWF0aW9uczsKCiAgICAgICAgICBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2UubGVuZ3RoID4gMCAmJiByZXMgJiYgcmVzLmxlbmd0aCA9PSB0b3RhbEF1dG9tYXRpb25zKSB7CiAgICAgICAgICAgIHZtLmF1dG9tYXRpb25zID0gcmVzOwogICAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoImxvYWRpbmciLCAiaGlkZSIpOwogICAgICAgICAgfSAvLyBVbmNvbW1lbnQgaW4gdGhlIHNpdHVhdGlvbiBvZiBhZGRpbmcgbmV3IGF1dG9tYXRpb25zIGFuZCBhZGQgdGhvc2UgdG8gdGhlIG9wdGlvbnMgYmVsb3cgKGNoYW5nZSAiWCIgdG8gYmUgdGhlIHRvdGFsIG51bWJlciBvZiBhdmFpbGFibGUgYXV0b21hdGlvbnMpLiBUaGlzIGZ1bmN0aW9uIHdpbGwgYXV0b21hdGljYWxseSBzaG93IGFsbCBhdmFpbGFibGUgb3B0aW9ucyBvbiB0aGUgZnJvbnQgZW5kLCBhbmQgb24gdGFraW5nIGFueSBhY3Rpb25zIHRvIHRoaXMgcGFnZSwgdXBkYXRlcyB0aGUgZW50aXJlIHJlY29yZCBvbiB0aGUgYmFjayBlbmQuCiAgICAgICAgICBlbHNlIGlmIChyZXNwb25zZSAmJiByZXNwb25zZS5sZW5ndGggPiAwICYmIHJlcyAmJiByZXMubGVuZ3RoID4gMCAmJiByZXMubGVuZ3RoIDwgdG90YWxBdXRvbWF0aW9ucykgewogICAgICAgICAgICAgIHZhciBuZXdPcHRpb25zID0gW3sKICAgICAgICAgICAgICAgIG5hbWU6ICdBcHBvaW50bWVudHMnLAogICAgICAgICAgICAgICAgdHlwZTogJ2FwcG9pbnRtZW50TGlzdCcsCiAgICAgICAgICAgICAgICBhY3RpdmU6IGZhbHNlLAogICAgICAgICAgICAgICAgY3VzdG9taXphYmxlOiB0cnVlCiAgICAgICAgICAgICAgfV07CiAgICAgICAgICAgICAgdm0uYXV0b21hdGlvbnMgPSByZXMuY29uY2F0KG5ld09wdGlvbnMpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHZtLmF1dG9tYXRpb25zID0gW3sKICAgICAgICAgICAgICAgIG5hbWU6ICdSZXZpZXdzJywKICAgICAgICAgICAgICAgIHR5cGU6ICdyZXZpZXdSZXF1ZXN0c0xpc3QnLAogICAgICAgICAgICAgICAgYWN0aXZlOiBmYWxzZSwKICAgICAgICAgICAgICAgIGN1c3RvbWl6YWJsZTogdHJ1ZQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAvKntuYW1lOiAnTG95YWx0eScsIHR5cGU6ICdsb3lhbHR5TGlzdCcsIGFjdGl2ZTogZmFsc2UsIGN1c3RvbWl6YWJsZTogdHJ1ZX0sCiAgICAgICAgICAgICAge25hbWU6ICdTdXJ2ZXknLCB0eXBlOiAnc3VydmV5TGlzdCcsIGFjdGl2ZTogZmFsc2UsIGN1c3RvbWl6YWJsZTogdHJ1ZX0sCiAgICAgICAgICAgICAge25hbWU6ICdBcHBvaW50bWVudHMnLCB0eXBlOiAnYXBwb2ludG1lbnRMaXN0JywgYWN0aXZlOiBmYWxzZSwgY3VzdG9taXphYmxlOiB0cnVlfSwqLwogICAgICAgICAgICAgIF07CiAgICAgICAgICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KCJsb2FkaW5nIiwgImhpZGUiKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgibG9hZGluZyIsICJoaWRlIik7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["Automations.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA,SAAA,YAAA;AACA,OAAA,eAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,aADA;AAEA,EAAA,UAAA,EAAA,EAFA;AAKA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,EADA;AAEA,MAAA,WAAA,EAAA;AAFA,KAAA;AAIA,GAVA;AAWA,EAAA,OAXA,qBAWA;AACA,SAAA,WAAA;AACA,IAAA,YAAA,CAAA,GAAA,CAAA,gBAAA,EAAA,KAAA,WAAA;AACA,GAdA;AAeA,EAAA,OAAA,EAAA;AACA,IAAA,sBADA,kCACA,UADA,EACA;AACA,UAAA,EAAA,GAAA,IAAA;AACA,MAAA,UAAA,CAAA,MAAA,GAAA,CAAA,UAAA,CAAA,MAAA;AACA,MAAA,eAAA,CAAA,cAAA,CAAA,EAAA,CAAA,UAAA,EAAA,EAAA,CAAA,WAAA,EAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,YAAA,CAAA,QAAA,CAAA,OAAA,EAAA,CACA;AACA;AACA,OAJA;AAKA,KATA;AAUA,IAAA,WAVA,yBAUA;AACA,UAAA,EAAA,GAAA,IAAA;AACA,UAAA,gBAAA,GAAA,CAAA;AACA,MAAA,EAAA,CAAA,UAAA,GAAA,YAAA,CAAA,OAAA,CAAA,YAAA,CAAA,CAHA,CAIA;;AACA,UAAA,EAAA,CAAA,UAAA,EAAA;AACA,QAAA,eAAA,CAAA,sBAAA,CAAA,EAAA,CAAA,UAAA,EAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,cAAA,GAAA,GAAA,QAAA,CAAA,CAAA,CAAA,CAAA,WAAA;;AACA,cAAA,QAAA,IAAA,QAAA,CAAA,MAAA,GAAA,CAAA,IAAA,GAAA,IAAA,GAAA,CAAA,MAAA,IAAA,gBAAA,EAAA;AACA,YAAA,EAAA,CAAA,WAAA,GAAA,GAAA;AACA,YAAA,YAAA,CAAA,KAAA,CAAA,SAAA,EAAA,MAAA;AACA,WAHA,CAIA;AAJA,eAKA,IAAA,QAAA,IAAA,QAAA,CAAA,MAAA,GAAA,CAAA,IAAA,GAAA,IAAA,GAAA,CAAA,MAAA,GAAA,CAAA,IAAA,GAAA,CAAA,MAAA,GAAA,gBAAA,EAAA;AACA,kBAAA,UAAA,GAAA,CACA;AAAA,gBAAA,IAAA,EAAA,cAAA;AAAA,gBAAA,IAAA,EAAA,iBAAA;AAAA,gBAAA,MAAA,EAAA,KAAA;AAAA,gBAAA,YAAA,EAAA;AAAA,eADA,CAAA;AAGA,cAAA,EAAA,CAAA,WAAA,GAAA,GAAA,CAAA,MAAA,CAAA,UAAA,CAAA;AACA,aALA,MAMA;AACA,cAAA,EAAA,CAAA,WAAA,GAAA,CACA;AAAA,gBAAA,IAAA,EAAA,SAAA;AAAA,gBAAA,IAAA,EAAA,oBAAA;AAAA,gBAAA,MAAA,EAAA,KAAA;AAAA,gBAAA,YAAA,EAAA;AAAA;AACA;;;AAFA,eAAA;AAMA,cAAA,YAAA,CAAA,KAAA,CAAA,SAAA,EAAA,MAAA;AACA;AACA,SAtBA;AAuBA,OAxBA,MAwBA;AACA,QAAA,YAAA,CAAA,KAAA,CAAA,SAAA,EAAA,MAAA;AACA;AACA;AA1CA;AAfA,CAAA","sourcesContent":["<template>\n  <div class=\"automations-container\">\n    <header class=\"automations-header\">\n      Automations\n    </header>\n    <div class=\"automations\" v-if=\"locationId\">\n      <div class=\"automation-box\" v-for=\"automation in automations\" >\n        <span class=\"title\">\n          {{automation.name}}\n        </span>\n        <div class=\"toggle\" v-if=\"automation.type == 'reviewRequestsList'\">\n          <label class=\"switch\">\n            <input type=\"checkbox\" v-model=\"automation.active\" @click=\"toggleActiveAutomation(automation)\">\n            <span class=\"slider round\"></span>\n          </label>\n        </div>\n        <div class=\"customize\" v-if=\"automation.type == 'reviewRequestsList'\">\n          <span class=\"customize-link\" v-if=\"automation.active\">\n            <router-link :to=\"'/' + automation.type \" >Customize</router-link>\n          </span>\n        </div>\n        <div class=\"soon-message\" v-if=\"automation.type != 'reviewRequestsList'\">\n          Coming soon!\n        </div>\n      </div>\n    </div>\n    <div class=\"no-location-display\" v-if=\"!locationId\" >\n      <span class=\"automations-missing-message\">Please Select A Location To Manage Automations</span>\n    </div>\n  </div>\n</template>\n\n\n<script>\nimport {EventService} from '../main.js'\nimport LocationService from '../services/LocationService.js';\n\nexport default {\n  name: \"automations\",\n  components: {\n\n  },\n  data: function() {\n    return {\n      locationId: '',\n      automations: []\n    }\n  },\n  created() {\n    this.getLocation();\n    EventService.$on('locationChange', this.getLocation);\n  },\n  methods: {\n    toggleActiveAutomation(automation) {\n      let vm = this;\n      automation.active = !automation.active;\n      LocationService.setAutomations(vm.locationId, vm.automations).then(response => {\n        if(!response.success) {\n          // console.log(response);\n        }\n      })\n    },\n    getLocation() {\n      let vm = this;\n      var totalAutomations = 4;\n      vm.locationId = localStorage.getItem(\"locationId\");\n      // EventService.$emit(\"loading\", \"show\");\n      if(vm.locationId) {\n        LocationService.getLocationAutomations(vm.locationId).then(response => {\n          let res = response[0].automations;\n          if(response && response.length > 0 && res && res.length == totalAutomations) {\n            vm.automations = res;\n            EventService.$emit(\"loading\", \"hide\");\n          }\n          // Uncomment in the situation of adding new automations and add those to the options below (change \"X\" to be the total number of available automations). This function will automatically show all available options on the front end, and on taking any actions to this page, updates the entire record on the back end.\n          else if(response && response.length > 0 && res && res.length > 0 && res.length < totalAutomations) {\n            var newOptions = [\n              {name: 'Appointments', type: 'appointmentList', active: false, customizable: true},\n            ]\n            vm.automations = res.concat(newOptions)\n          }\n           else {\n            vm.automations = [\n              {name: 'Reviews', type: 'reviewRequestsList', active: false, customizable: true},\n              /*{name: 'Loyalty', type: 'loyaltyList', active: false, customizable: true},\n              {name: 'Survey', type: 'surveyList', active: false, customizable: true},\n              {name: 'Appointments', type: 'appointmentList', active: false, customizable: true},*/\n            ]\n            EventService.$emit(\"loading\", \"hide\");\n          }\n        })\n      } else {\n        EventService.$emit(\"loading\", \"hide\");\n      }\n    },\n\n  }\n}\n</script>\n\n<style scoped>\n\nheader {\n  font-size: 45px;\n  text-transform: uppercase;\n  margin-left: 25px;\n}\n\n.automations {\n  display: flex;\n  flex-direction: row;\n  margin-left: 50px;\n  flex-wrap: wrap;\n}\n\n.automation-box {\n  background: white;\n  box-shadow: 2px 2px 2px rgba(0,0,0,.25);\n  min-width: 25vw;\n  width: 25vw;\n  height: 25vh;\n  margin: 25px;\n  padding: 10px;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  align-content: center;\n  align-items: center;\n  justify-content: center;\n}\n\n.title {\n  font-size: 40px;\n  text-transform: uppercase;\n  margin-bottom: 20px;\n}\n.switch {\n  position: relative;\n  display: inline-block;\n  width: 100px;\n  height: 54px;\n}\n\n/* Hide default HTML checkbox */\n.switch input {\n  opacity: 0;\n  width: 0;\n  height: 0;\n}\n\n/* The slider */\n.slider {\n  position: absolute;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: #ccc;\n  -webkit-transition: .4s;\n  transition: .4s;\n}\n\n.slider:before {\n  position: absolute;\n  content: \"\";\n  height: 46px;\n  width: 46px;\n  left: 4px;\n  bottom: 4px;\n  background-color: white;\n  -webkit-transition: .4s;\n  transition: .4s;\n}\n\ninput:checked + .slider {\n  background-color: #2196F3;\n}\n\ninput:checked + .slider:before {\n  -webkit-transform: translateX(46px);\n  -ms-transform: translateX(46px);\n  transform: translateX(46px);\n}\n\n/* Rounded sliders */\n.slider.round {\n  border-radius: 34px;\n}\n\n.slider.round:before {\n  border-radius: 50%;\n}\n\n.customize {\n  display: flex;\n  justify-content: flex-end;\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  margin-right: 50px;\n  margin-bottom: 20px;\n  font-size: 18px;\n  width: 100%;\n}\n\n.customize-link {\n  cursor: pointer;\n}\n\n.no-location-display {\n  display: flex;\n  font-size: 25px;\n  justify-content: center;\n  align-content: center;\n  align-items: center;\n  margin-top: 15%;\n  background: white;\n  box-shadow: 2px 2px 2px rgba(0,0,0,.25);\n  padding: 50px;\n}\n\n.soon-message {\n  font-size: 20px;\n  color: #4fcbc5;\n}\n\n</style>\n"],"sourceRoot":"src/components"}]}