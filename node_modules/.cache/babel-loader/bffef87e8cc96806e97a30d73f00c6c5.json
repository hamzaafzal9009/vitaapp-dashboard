{"remainingRequest":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/babel-loader/lib/index.js!/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/src/components/CSVOld.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/src/components/CSVOld.vue","mtime":1581270622000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/package.json","mtime":1587799327166},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LnJlZ2V4cC5yZXBsYWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LmFycmF5LmZpbmQiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgQ3VzdG9tZXJTZXJ2aWNlIGZyb20gIi4vLi4vc2VydmljZXMvQ3VzdG9tZXJTZXJ2aWNlIjsKaW1wb3J0IENhbXBhaWduU2VydmljZSBmcm9tICIuLy4uL3NlcnZpY2VzL0NhbXBhaWduU2VydmljZSI7CmltcG9ydCBVc2VyU2VydmljZSBmcm9tICIuLy4uL3NlcnZpY2VzL1VzZXJTZXJ2aWNlIjsKaW1wb3J0IHsgRXZlbnRTZXJ2aWNlIH0gZnJvbSAiLi4vbWFpbiI7CmltcG9ydCB2U2VsZWN0IGZyb20gIi4uLy4uL25vZGVfbW9kdWxlcy92dWUtc2VsZWN0L3NyYy9jb21wb25lbnRzL1NlbGVjdC52dWUiOwppbXBvcnQgVXBsb2FkU2VydmljZSBmcm9tICIuLi9zZXJ2aWNlcy9VcGxvYWRTZXJ2aWNlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJjc3ZQcmV2aWV3IiwKICBwcm9wczogWyJyYXdEYXRhIiwgImZpbGVOYW1lIl0sCiAgY29tcG9uZW50czogewogICAgdlNlbGVjdDogdlNlbGVjdAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNzdjogW10sCiAgICAgIGN1c3RvbWVyOiB7CiAgICAgICAgY291bnRyeTogIisxIiwKICAgICAgICB0ZW1wbGF0ZTogIiIsCiAgICAgICAgc3RhdHVzOiAiYWN0aXZlIiwKICAgICAgICBsb2NhdGlvbklkOiAnJwogICAgICB9LAogICAgICBjc3ZPcGVuOiB0cnVlLAogICAgICBsb2NhdGlvbk9wdGlvbnM6IFtdLAogICAgICBjdXN0b21lcnNMaXN0OiBbXSwKICAgICAgcmVhZHk6IGZhbHNlLAogICAgICBjc3ZEYXRhOiBbXSwKICAgICAgc3RhdHVzT3B0aW9uczogW3sKICAgICAgICBsYWJlbDogJ1N1YnNjcmliZWQnLAogICAgICAgIHZhbHVlOiAiYWN0aXZlIgogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICdVbnN1YnNjcmliZWQnLAogICAgICAgIHZhbHVlOiAiaW5hY3RpdmUiCiAgICAgIH1dLAogICAgICB0ZW1wbGF0ZU9wdGlvbnM6IFsiZGVmYXVsdCIsICJRMSIsICJRMiIsICJRMyIsICJRNCJdLAogICAgICBjb3VudHJ5T3B0aW9uczogW3sKICAgICAgICBjb3VudHJ5OiAnVVNBIC8gQ2FuYWRhJywKICAgICAgICBjb2RlOiAnKzEnCiAgICAgIH0sIHsKICAgICAgICBjb3VudHJ5OiAnUGhpbGxpcGluZXMnLAogICAgICAgIGNvZGU6ICcrNjMnCiAgICAgIH0sIHsKICAgICAgICBjb3VudHJ5OiAnVUFFJywKICAgICAgICBjb2RlOiAnKzk3MScKICAgICAgfSwgewogICAgICAgIGNvdW50cnk6ICdBdXN0cmFsaWEnLAogICAgICAgIGNvZGU6ICcrNjEnCiAgICAgIH1dLAogICAgICBpbnZhbGlkUmVjb3JkczogMCwKICAgICAgaGVhZGVyczogW10sCiAgICAgIGN1c3RvbWVySGVhZGVyOiBbImZpcnN0TmFtZSIsICJsYXN0TmFtZSIsICJwaG9uZSIsICJlbWFpbCIsICJub3RlcyJdLAogICAgICBpbmRleDE6IDAsCiAgICAgIGluZGV4MjogMSwKICAgICAgaW5kZXgzOiAyLAogICAgICBpbmRleDQ6IDMsCiAgICAgIGluZGV4NTogNCwKICAgICAgdXBkYXRlZE9uY2U6IGZhbHNlCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuc2VsZWN0ZWRMb2NhdGlvbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJsb2NhdGlvbklkIik7CiAgICB0aGlzLmxvY2F0aW9uT3B0aW9ucyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xvY2F0aW9uT3B0aW9ucycpKTsgLy8gdGhpcy5nZXRMb2NhdGlvbk9wdGlvbnMoKTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBpc1JlYWR5OiBmdW5jdGlvbiBpc1JlYWR5KCkgewogICAgICBpZiAodGhpcy5yYXdEYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICB0aGlzLmNzdkRhdGEgPSB0aGlzLnJhd0RhdGE7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmNzdkRhdGEgJiYgdGhpcy5jc3ZEYXRhLmxlbmd0aCA9PSB0aGlzLnJhd0RhdGEubGVuZ3RoKSB7CiAgICAgICAgaWYgKHRoaXMuaGVhZGVycy5sZW5ndGggPCAxKSB7CiAgICAgICAgICB0aGlzLmhlYWRlcnMgPSB0aGlzLmNzdkRhdGEuc2hpZnQoKTsKICAgICAgICB9CgogICAgICAgIGlmICh0aGlzLmhlYWRlcnMpIHsKICAgICAgICAgIHRoaXMubWFwSGVhZGVycygpOwogICAgICAgICAgdGhpcy5tYXBEYXRhKCk7CiAgICAgICAgICB0aGlzLnVwZGF0ZWRPbmNlID0gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIHRoaXMucmVhZHkgPSB0cnVlOwogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGlzUmVhZHk6IGZ1bmN0aW9uIGlzUmVhZHkobikgewogICAgICBpZiAobiA9PSB0cnVlKSB7CiAgICAgICAgLy8gY29uc29sZS5sb2cobik7CiAgICAgICAgbnVsbDsKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgcmVtb3ZlRHVwbGljYXRlczogZnVuY3Rpb24gcmVtb3ZlRHVwbGljYXRlcyhsaXN0KSB7CiAgICAgIHZhciB2bSA9IHRoaXM7IC8vIFJlbW92ZXMgInVuZGVmaW5lZCIgY3VzdG9tZXJzIHByaW9yIHRvIHNjcnViYmluZyBhZ2FpbnN0IHRoZSBjc3YgaXRzZWxmLgoKICAgICAgdmFyIGluaXRpYWxTY3J1Ykxpc3QgPSBsaXN0LmZpbHRlcihmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBlOwogICAgICB9KTsgLy8gUmVkdWNlIHRvIGEgbmV3IGFycmF5CgogICAgICB2YXIgZmlsdGVyZWRBcnIgPSBpbml0aWFsU2NydWJMaXN0LnJlZHVjZShmdW5jdGlvbiAoYWNjLCBjdXJyZW50KSB7CiAgICAgICAgLy8gQXMgbG9uZyBhcyB0aGUgY3VycmVudCBjdXN0b21lciByZWNvcmQgaGFzIGVpdGhlciBwaG9uZSBudW1iZXIgb3IgZW1haWwsIHByb2NlZWQgdG8gY2hlY2sgaXQgZm9yIGR1cGVzLCBvdGhlcndpc2UgbW92ZSBvbiB3aXRoIHRoZSBjdXJyZW50IGFjY3VtdWxhdG9yLgogICAgICAgIGlmIChjdXJyZW50LnBob25lIHx8IGN1cnJlbnQuZW1haWwpIHsKICAgICAgICAgIC8vIEZpbmQgd2hldGhlciBhbnkgY3VzdG9tZXJzIGluIHRoZSBsaXN0IHVwIHRvIHRoaXMgcG9pbnQgaGF2ZSBlaXRoZXIgdGhlIHNhbWUgZW1haWwsIG9yIGl0J3MgYmxhbmssIG9yIHRoZSBzYW1lIGZvciBwaG9uZSBudW1iZXIuCiAgICAgICAgICB2YXIgZm91bmQgPSBhY2MuZmluZChmdW5jdGlvbiAoY3VzdG9tZXIpIHsKICAgICAgICAgICAgcmV0dXJuIGN1c3RvbWVyLmVtYWlsID09IGN1cnJlbnQuZW1haWwgJiYgY3VycmVudC5lbWFpbCAhPSAnJyB8fCBjdXN0b21lci5waG9uZSA9PSBjdXJyZW50LnBob25lICYmIGN1cnJlbnQucGhvbmUgIT0gJyc7CiAgICAgICAgICB9KTsgLy8gSWYgdGhlcmUgaXNuJ3QgYW55dGhpbmcgZm91bmQgZm9yIGVpdGhlciBlbWFpbCBvciBwaG9uZSBidW1iZXIsIGFkZCBpdCB0byB0aGUgbGlzdCwgdW5sZXNzIHBob25lIGV4aXN0cyBhbmQgaXNuJ3QgMTAgZGlnaXRzLgoKICAgICAgICAgIGlmICghZm91bmQgJiYgKGN1cnJlbnQucGhvbmUgPT0gJycgfHwgY3VycmVudC5waG9uZS5sZW5ndGggPT0gMTApKSB7CiAgICAgICAgICAgIHJldHVybiBhY2MuY29uY2F0KFtjdXJyZW50XSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gYWNjOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gYWNjOwogICAgICAgIH0KICAgICAgfSwgW10pOwogICAgICByZXR1cm4gZmlsdGVyZWRBcnI7CiAgICB9LAogICAgbWFwSGVhZGVyczogZnVuY3Rpb24gbWFwSGVhZGVycygpIHsKICAgICAgaWYgKHRoaXMuaGVhZGVyc1swXSkgdGhpcy5jdXN0b21lckhlYWRlci5maXJzdE5hbWUgPSB0aGlzLmhlYWRlcnNbMF0udHJpbSgpOwogICAgICBpZiAodGhpcy5oZWFkZXJzWzFdKSB0aGlzLmN1c3RvbWVySGVhZGVyLmxhc3ROYW1lID0gdGhpcy5oZWFkZXJzWzFdLnRyaW0oKTsKICAgICAgaWYgKHRoaXMuaGVhZGVyc1syXSkgdGhpcy5jdXN0b21lckhlYWRlci5waG9uZSA9IHRoaXMuaGVhZGVyc1syXS50cmltKCk7CiAgICAgIGlmICh0aGlzLmhlYWRlcnNbM10pIHRoaXMuY3VzdG9tZXJIZWFkZXIuZW1haWwgPSB0aGlzLmhlYWRlcnNbM10udHJpbSgpOwogICAgICBpZiAodGhpcy5oZWFkZXJzWzRdKSB0aGlzLmN1c3RvbWVySGVhZGVyLm5vdGVzID0gdGhpcy5oZWFkZXJzWzRdLnRyaW0oKTsKCiAgICAgIGlmICghdGhpcy51cGRhdGVkT25jZSkgewogICAgICAgIHRoaXMuaGVhZGVycy5wdXNoKCJMZWF2ZSBCbGFuayIpOwogICAgICB9CiAgICB9LAogICAgbWFwRGF0YTogZnVuY3Rpb24gbWFwRGF0YSgpIHsKICAgICAgdGhpcy5jc3ZEYXRhLm1hcChmdW5jdGlvbiAoZSwgaSkgewogICAgICAgIGUubWFwKGZ1bmN0aW9uIChoLCBqKSB7CiAgICAgICAgICBoID0gaC50cmltKCk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGdldExvY2F0aW9uT3B0aW9uczogZnVuY3Rpb24gZ2V0TG9jYXRpb25PcHRpb25zKCkgewogICAgICB2YXIgdm0gPSB0aGlzOwoKICAgICAgaWYgKCF2bS5jdXN0b21lci5sb2NhdGlvbikgewogICAgICAgIGlmICh2bS5zZWxlY3RlZExvY2F0aW9uKSB7CiAgICAgICAgICB2bS5sb2NhdGlvbk9wdGlvbnMubWFwKGZ1bmN0aW9uIChlLCBpKSB7CiAgICAgICAgICAgIGlmIChlLnZhbHVlID09IHZtLnNlbGVjdGVkTG9jYXRpb24pIHsKICAgICAgICAgICAgICB2bS5jdXN0b21lci5sb2NhdGlvbklkID0gZTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgZ2V0TG9jYXRpb25UZW1wbGF0ZXM6IGZ1bmN0aW9uIGdldExvY2F0aW9uVGVtcGxhdGVzKCkgewogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICBDYW1wYWlnblNlcnZpY2UuZ2V0Q2FtcGFpZ25zQnlMb2NhdGlvbih2bS5jdXN0b21lci5sb2NhdGlvbklkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHZtLnRlbXBsYXRlT3B0aW9ucyA9IHJlc3BvbnNlLnJlc3VsdDsKICAgICAgfSk7CiAgICB9LAogICAgb25IZWFkZXJDaGFuZ2U6IGZ1bmN0aW9uIG9uSGVhZGVyQ2hhbmdlKGluZGV4TmFtZSwgdmFsdWUpIHsKICAgICAgdGhpc1tpbmRleE5hbWVdID0gdGhpcy5oZWFkZXJzLmluZGV4T2YodGhpcy5jdXN0b21lckhlYWRlclt2YWx1ZV0pOwogICAgfSwKICAgIGFkZEN1c3RvbWVyczogZnVuY3Rpb24gYWRkQ3VzdG9tZXJzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHZtID0gdGhpczsKCiAgICAgIGlmICh2bS5yZWFkeSA9PSB0cnVlKSB7CiAgICAgICAgdmFyIGFkZGluZ0N1c3RvbWVyc0xpc3QgPSB2bS5jc3ZEYXRhLm1hcChmdW5jdGlvbiAoZSwgaSkgewogICAgICAgICAgdmFyIGN1c3QgPSB7fTsKCiAgICAgICAgICBpZiAoZVt2bS5pbmRleDNdIHx8IGVbdm0uaW5kZXg0XSkgewogICAgICAgICAgICBlW3ZtLmluZGV4MV0gPyBjdXN0LmZpcnN0TmFtZSA9IGVbdm0uaW5kZXgxXS50cmltKCkgOiBjdXN0LmZpcnN0TmFtZSA9IGVbdm0uaW5kZXgxXTsKICAgICAgICAgICAgZVt2bS5pbmRleDJdID8gY3VzdC5sYXN0TmFtZSA9IGVbdm0uaW5kZXgyXS50cmltKCkgOiBjdXN0Lmxhc3ROYW1lID0gZVt2bS5pbmRleDJdOwogICAgICAgICAgICBlW3ZtLmluZGV4M10gPyBlW3ZtLmluZGV4M10uY2hhckF0KDApID09IDEgPyBjdXN0LnBob25lID0gZVt2bS5pbmRleDNdLnN1YnN0cigxKS5yZXBsYWNlKC9cRC9nLCAiIikgOiBjdXN0LnBob25lID0gZVt2bS5pbmRleDNdLnJlcGxhY2UoL1xEL2csICIiKSA6IGN1c3QucGhvbmUgPSBlW3ZtLmluZGV4M107CiAgICAgICAgICAgIGVbdm0uaW5kZXg0XSA/IGN1c3QuZW1haWwgPSBlW3ZtLmluZGV4NF0ucmVwbGFjZSgvXHMvZywgIiIpLnRvTG93ZXJDYXNlKCkgOiBjdXN0LmVtYWlsID0gZVt2bS5pbmRleDRdOwogICAgICAgICAgICBlW3ZtLmluZGV4NV0gPyBjdXN0Lm5vdGVzID0gZVt2bS5pbmRleDVdLnRyaW0gOiBjdXN0Lm5vdGVzID0gJyc7CiAgICAgICAgICAgIGN1c3QuY291bnRyeSA9IF90aGlzLmN1c3RvbWVyLmNvdW50cnk7CiAgICAgICAgICAgIHJldHVybiBjdXN0OwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY29uc29sZS5sb2coJ0ludmFsaWQgQ3VzdG9tZXIgUmVjb3JkIC0gbXVzdCBpbmNsdWRlIGVpdGhlciBlbWFpbCBvciBwaG9uZSBudW1iZXInKTsKICAgICAgICAgIH0KICAgICAgICB9KTsgLy8gUmVtb3ZlcyAidW5kZWZpbmVkIiBjdXN0b21lcnMgcHJpb3IgdG8gc2NydWJiaW5nIGFnYWluc3QgdGhlIGNzdiBpdHNlbGYuCgogICAgICAgIHZtLmN1c3RvbWVyc0xpc3QgPSB2bS5jdXN0b21lcnNMaXN0LmZpbHRlcihmdW5jdGlvbiAoZSkgewogICAgICAgICAgcmV0dXJuIGU7CiAgICAgICAgfSk7CiAgICAgICAgdm0uY3VzdG9tZXJzTGlzdCA9IHRoaXMucmVtb3ZlRHVwbGljYXRlcyh2bS5jdXN0b21lcnNMaXN0LCAiZW1haWwiKTsKICAgICAgICB2bS5jdXN0b21lcnNMaXN0ID0gdGhpcy5yZW1vdmVEdXBsaWNhdGVzKHZtLmN1c3RvbWVyc0xpc3QsICJwaG9uZSIpOwogICAgICAgIHZtLmN1c3RvbWVyc0xpc3QubWFwKGZ1bmN0aW9uIChlLCBpKSB7CiAgICAgICAgICBpZiAoZS5waG9uZS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIGlmIChlLnBob25lLmxlbmd0aCAhPT0gMTApIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygiSW52YWxpZCBSZWNvcmQgb3IgRHVwbGljYXRlIiwgZSk7CiAgICAgICAgICAgICAgdm0uaW52YWxpZFJlY29yZHMrKzsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pOyAvLyBCZWxvdyBub3cgdGFrZXMgY2FyZSBvZiBkdXBsaWNhdGVzIGJ5IHBob25lIG9yIGVtYWlsIGluIGEgc2luZ2xlIHN0ZXAsIGFzIHdlbGwgYXMgbGVuZ3RoIG9mIHBob25lIG51bWJlciBvciB3aGV0aGVyIHRoZXkgaGF2ZSBhbiBlbWFpbCBpbnN0ZWFkLgoKICAgICAgICBhZGRpbmdDdXN0b21lcnNMaXN0ID0gdGhpcy5yZW1vdmVEdXBsaWNhdGVzKGFkZGluZ0N1c3RvbWVyc0xpc3QpOyAvLyBjb25zb2xlLmxvZyhhZGRpbmdDdXN0b21lcnNMaXN0KTsKCiAgICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KCJsb2FkaW5nIiwgInNob3ciKTsKICAgICAgICB0aGlzLnNhdmVDdXN0b21lcih2bS5jdXN0b21lci5sb2NhdGlvbklkLCB2bS5jdXN0b21lci50ZW1wbGF0ZSwgdm0uY3VzdG9tZXIuc3RhdHVzLCBhZGRpbmdDdXN0b21lcnNMaXN0KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSwgZXJyb3IpIHsKICAgICAgICAgIGlmIChyZXNwb25zZSkgey8vIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsgICAgICAgICAgCiAgICAgICAgICB9IGVsc2UgaWYgKGVycm9yKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHNhdmVDdXN0b21lcjogZnVuY3Rpb24gc2F2ZUN1c3RvbWVyKGlkLCB0ZW1wbGF0ZSwgc3RhdHVzLCBkYXRhKSB7CiAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgibG9hZGluZyIsICJzaG93Iik7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIHZhciByZWNvcmQgPSB7CiAgICAgICAgcmVjb3JkTmFtZTogdm0uZmlsZU5hbWUsCiAgICAgICAgZmlsZVNpemU6IGRhdGEubGVuZ3RoIHx8ICdVbmtub3duJywKICAgICAgICBsb2NhdGlvbklkOiBpZCwKICAgICAgICBzdGF0dXM6ICdVcGxvYWRlZCcKICAgICAgfTsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICBpZiAoZGF0YS5sZW5ndGggPT09IDApIHsKICAgICAgICAgIHJlc29sdmUoJ2RvbmUhJyk7CiAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoIndhcm5pbmdNZXNzYWdlIiwgIk5vIHJlY29yZHMgd2VyZSBmb3VuZCB0byBhZGQgYWZ0ZXIgcmVtb3ZpbmcgZHVwbGljYXRlcy4iKTsKICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgibG9hZGluZyIsICJoaWRlIik7CiAgICAgICAgICBVcGxvYWRTZXJ2aWNlLnNhdmVVcGxvYWRSZWNvcmQoaWQsIHJlY29yZCk7CiAgICAgICAgICB2bS5jbG9zZU1vZGFsKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZhciBuZXdDdXN0b21lcnMgPSBkYXRhLnNwbGljZSgwLCAxMDApOwogICAgICAgICAgQ3VzdG9tZXJTZXJ2aWNlLnNhdmVNYW55Q3VzdG9tZXJzKGlkLCB0ZW1wbGF0ZSwgc3RhdHVzLCBuZXdDdXN0b21lcnMpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2bS5zYXZlQ3VzdG9tZXIoaWQsIHRlbXBsYXRlLCBzdGF0dXMsIGRhdGEpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoJ3N1Y2Vzc01lc3NhZ2UnLCAiQ3VzdG9tZXJzIGhhdmUgYmVlbiBhZGRlZC4iKTsKICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgcmVqZWN0KCk7CiAgICAgICAgICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KCdlcnJvck1lc3NhZ2UnLCAiU29ycnksIHNvbWV0aGluZyB3ZW50IHdyb25nLiBQbGVhc2UgdHJ5IGFnYWluLiIpOwogICAgICAgICAgICAgIHZtLmNsb3NlTW9kYWwoKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgcmVqZWN0KCk7CiAgICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgnZXJyb3JNZXNzYWdlJywgIlNvcnJ5LCBzb21ldGhpbmcgd2VudCB3cm9uZy4gUGxlYXNlIHRyeSBhZ2Fpbi4iKTsKICAgICAgICAgICAgdm0uY2xvc2VNb2RhbCgpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBjbG9zZU1vZGFsOiBmdW5jdGlvbiBjbG9zZU1vZGFsKCkgewogICAgICB0aGlzLiRlbWl0KCJjbG9zZU1vZGFsIik7CiAgICAgIHRoaXMuY3N2ID0gW107CiAgICAgIHRoaXMuY3N2RGF0YSA9IFtdOwogICAgICB0aGlzLmN1c3RvbWVyID0ge307CiAgICAgIHRoaXMubG9jYXRpb25PcHRpb25zID0gW107CiAgICAgIHRoaXMuY3VzdG9tZXJzTGlzdCA9IFtdOwogICAgICB0aGlzLmNzdk9wZW4gPSBmYWxzZTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["CSVOld.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <transition name=\"modal\">\n    <el-dialog class=\"preview-container\" :visible.sync=\"csvOpen\" :before-close=\"closeModal\" :show-close=\"false\" width=\"calc(75% - 100px)\" top=\"6.25vh\">    \n      <span class=\"dialogue-title\" slot=\"title\">Upload Preview of <span class=\"file-name\"> {{fileName}} </span></span>\n      <div class=\"select-group-container\">        \n        <div class=\"select-group-option\">\n        <label>Select Location: </label>\n          <el-select v-model=\"customer.locationId\" maxHeight=\"120px\" clearable filterable placeholder=\"Select\" @change=\"getLocationTemplates()\">\n            <el-option v-for=\"location in locationOptions\" :label=\"location.name\" :value=\"location.locationId\" :key=\"location.locationId\" >\n            </el-option>\n          </el-select>\n        </div>\n        <div class=\"select-group-option\" v-if=\"customer.locationId\">\n          <label>Message Template: </label>\n          <el-select v-model=\"customer.template\" >\n            <el-option v-for=\"(template, index) in templateOptions\" :key=\"index\" :label=\"template.name\" :value=\"template.campaignId\"></el-option>\n            <!-- <el-option v-if=\"customer.location\" :value=\"customer.location\">{{customer.location}}</el-option> -->\n          </el-select>\n        </div>\n      \n        <div class=\"select-group-option\">\n          <label>Customer Status: </label>\n          <el-select v-model=\"customer.status\" >\n            <el-option v-for=\"option in statusOptions\" :label=\"option.label\" :value=\"option.value\" :key=\"option.value\">                \n            </el-option>\n          </el-select>\n        </div>\n        <div class=\"select-group-option\">\n          <label>Customer Country: </label>\n          <el-select v-model=\"customer.country\" >\n            <el-option v-for=\"option in countryOptions\" :label=\"option.country\" :value=\"option.code\" :key=\"option.country\">\n              {{option.country}}\n            </el-option>\n          </el-select>\n        </div>\n      </div>\n      <el-divider></el-divider>\n      <div class=\"customer-table\">\n        <div class=\"customer-header-row\">\n          <div class=\"customer-table-cell-0\">\n            <span>First Name</span>\n          </div>\n          <div class=\"customer-table-cell-1\">\n            <span>Last Name</span>\n          </div>\n          <div class=\"customer-table-cell-2\">\n            <span>Phone Number</span>\n          </div>\n          <div class=\"customer-table-cell-2\">\n            <span>Email</span>\n          </div>\n          <div class=\"customer-table-cell-3\">\n            <span>Notes</span>\n          </div>\n        </div>\n        <div class=\"customer-row\">\n          <div class=\"customer-table-cell-0\">\n            <el-select size=\"mini\" v-model=\"customerHeader.firstName\" @change=\"onHeaderChange('index1', 'firstName')\">\n              <el-option v-for=\"(header1) in headers\" :value=\"header1\" :key=\"header1\">{{header1}}</el-option>\n            </el-select>\n          </div>\n          <div class=\"customer-table-cell-1\">\n            <el-select size=\"mini\" v-model=\"customerHeader.lastName\" @change=\"onHeaderChange('index2', 'lastName')\">\n              <el-option v-for=\"(header2) in headers\" :value=\"header2\" :key=\"header2\">{{header2}}</el-option>\n            </el-select>\n          </div>\n          <div class=\"customer-table-cell-2\">\n            <el-select size=\"mini\" v-model=\"customerHeader.phone\" @change=\"onHeaderChange('index3', 'phone')\">\n              <el-option v-for=\"(header3) in headers\" :value=\"header3\" :key=\"header3\">{{header3}}</el-option>\n            </el-select>\n          </div>\n          <div class=\"customer-table-cell-2\">\n            <el-select size=\"mini\" v-model=\"customerHeader.email\" @change=\"onHeaderChange('index4', 'email')\">\n              <el-option v-for=\"(header4) in headers\" :value=\"header4\" :key=\"header4\">{{header4}}</el-option>\n            </el-select>\n          </div>\n          <div class=\"customer-table-cell-3\">\n            <el-select size=\"mini\" v-model=\"customerHeader.notes\" @change=\"onHeaderChange('index5', 'notes')\">\n              <el-option v-for=\"(header5) in headers\" :value=\"header5\" :key=\"header5\">{{header5}}</el-option>\n            </el-select>\n          </div>\n        </div>\n        <div class=\"customer-row quick-transition\" v-for=\"(customer, csvindex) in csvData\" :key=\"csvindex\" >\n          <el-input size=\"mini\" class=\"customer-table-cell-0 inputs\" v-model=\"customer[index1]\" :disabled=\"customerHeader.firstName == 'Leave Blank'\" ></el-input>\n          <el-input size=\"mini\" class=\"customer-table-cell-1 inputs\" v-model=\"customer[index2]\" :disabled=\"customerHeader.lastName == 'Leave Blank'\" ></el-input>\n          <el-input size=\"mini\" class=\"customer-table-cell-2 inputs\" v-model=\"customer[index3]\" :disabled=\"customerHeader.phone == 'Leave Blank'\" ></el-input>\n          <el-input size=\"mini\" class=\"customer-table-cell-5 inputs\" v-model=\"customer[index4]\" :disabled=\"customerHeader.email == 'Leave Blank'\" ></el-input>\n          <el-input size=\"mini\" class=\"customer-table-cell-3 inputs\" v-model=\"customer[index5]\" :disabled=\"customerHeader.notes == 'Leave Blank' || !customerHeader.notes\" ></el-input>\n        </div>\n      </div>\n      <div class=\"modal-footer text-right\">\n        <span class=\"secondary clickable\"  @click=\"closeModal()\">\n          Cancel\n        </span>\n        <el-button type=\"primary\"  @click=\"addCustomers()\" :disabled=\"!ready && customer.locationId\">\n          Accept\n        </el-button>\n      </div>\n    </el-dialog>\n  </transition>\n</template>\n<script>\nimport CustomerService from \"./../services/CustomerService\";\nimport CampaignService from \"./../services/CampaignService\";\nimport UserService from \"./../services/UserService\";\nimport { EventService } from \"../main\";\nimport vSelect from \"../../node_modules/vue-select/src/components/Select.vue\";\nimport UploadService from '../services/UploadService';\n\nexport default {\n  name: \"csvPreview\",\n  props: [\"rawData\", \"fileName\"],\n  components: {\n    vSelect\n  },\n  data: function() {\n    return {\n      csv: [],\n      customer: {\n        country: \"+1\",\n        template: \"\",\n        status: \"active\",\n        locationId: '',\n      },\n      csvOpen: true,\n      locationOptions: [],\n      customersList: [],\n      ready: false,\n      csvData: [],\n      statusOptions: [\n       { label: 'Subscribed', value: \"active\"}, \n       { label: 'Unsubscribed', value: \"inactive\"}\n      ],\n      templateOptions: [\"default\", \"Q1\", \"Q2\", \"Q3\", \"Q4\"],\n      countryOptions: [\n        {country: 'USA / Canada', code: '+1'},\n        {country: 'Phillipines', code: '+63'},\n        {country: 'UAE', code: '+971'},\n        {country: 'Australia', code: '+61'}\n      ],\n      invalidRecords: 0,\n      headers: [],\n      customerHeader: [\"firstName\", \"lastName\", \"phone\", \"email\", \"notes\"],\n      index1: 0,\n      index2: 1,\n      index3: 2,\n      index4: 3,\n      index5: 4,\n      updatedOnce: false\n    };\n  },\n  created() {\n    this.selectedLocation = localStorage.getItem(\"locationId\");\n    this.locationOptions = JSON.parse(localStorage.getItem('locationOptions'));\n    // this.getLocationOptions();\n  },\n\n  computed: {\n    isReady() {\n      if (this.rawData.length > 0) {\n        this.csvData = this.rawData;\n      }\n      if (this.csvData && this.csvData.length == this.rawData.length) {\n        if (this.headers.length < 1) {\n          this.headers = this.csvData.shift();\n        }\n        if (this.headers) {\n          this.mapHeaders();\n          this.mapData();\n          this.updatedOnce = true;\n        }\n        this.ready = true;\n        return true;\n      } else {\n        return false;\n      }\n    }\n  },\n  watch: {\n    isReady(n) {\n      if (n == true) {\n        // console.log(n);\n        null;\n      }\n    }\n  },\n  methods: {\n    removeDuplicates(list) {\n      let vm = this;\n      // Removes \"undefined\" customers prior to scrubbing against the csv itself.\n      let initialScrubList = list.filter(e => e);\n      // Reduce to a new array\n      let filteredArr = initialScrubList.reduce((acc, current) => {\n        // As long as the current customer record has either phone number or email, proceed to check it for dupes, otherwise move on with the current accumulator.\n        if(current.phone || current.email) {\n          // Find whether any customers in the list up to this point have either the same email, or it's blank, or the same for phone number.\n          let found = acc.find(customer => { return (customer.email == current.email && current.email != '') || (customer.phone == current.phone && current.phone != '') })\n          // If there isn't anything found for either email or phone bumber, add it to the list, unless phone exists and isn't 10 digits.\n          if(!found && ( current.phone == '' || current.phone.length == 10 )) {\n            return acc.concat([current]);\n          } else {\n            return acc\n          }\n        } else {\n          return acc;\n        }\n      }, [])\n      return filteredArr;\n    },\n    mapHeaders() {\n      if(this.headers[0]) this.customerHeader.firstName = this.headers[0].trim();\n      if(this.headers[1]) this.customerHeader.lastName = this.headers[1].trim();\n      if(this.headers[2]) this.customerHeader.phone = this.headers[2].trim();\n      if(this.headers[3]) this.customerHeader.email = this.headers[3].trim();\n      if(this.headers[4]) this.customerHeader.notes = this.headers[4].trim();\n      if (!this.updatedOnce) {\n        this.headers.push(\"Leave Blank\");\n      }\n    },\n    mapData() {\n      this.csvData.map((e, i) => {\n        e.map((h, j) => {\n          h = h.trim();\n        });\n      });\n    },\n    getLocationOptions() {\n      let vm = this;\n      if (!vm.customer.location) {\n        if (vm.selectedLocation) {\n          vm.locationOptions.map((e, i) => {\n            if (e.value == vm.selectedLocation) {\n              vm.customer.locationId = e;\n            }\n          });\n        }\n      }\n    },\n    getLocationTemplates() {\n      let vm = this;\n      CampaignService.getCampaignsByLocation(vm.customer.locationId).then(response => {        \n        vm.templateOptions = response.result;\n      })\n    },\n    onHeaderChange(indexName, value) {\n      this[indexName] = this.headers.indexOf(this.customerHeader[value]);\n    },\n    addCustomers() {\n      let vm = this;\n      if (vm.ready == true) {\n        let addingCustomersList = vm.csvData.map((e, i) => {\n          let cust = {};\n          if ( e[vm.index3] || e[vm.index4]) {\n            e[vm.index1] ? cust.firstName = e[vm.index1].trim() : cust.firstName = e[vm.index1];\n            e[vm.index2] ? cust.lastName = e[vm.index2].trim() : cust.lastName = e[vm.index2];\n            e[vm.index3] ? e[vm.index3].charAt(0) == 1 ? cust.phone = e[vm.index3].substr(1).replace(/\\D/g, \"\") : cust.phone = e[vm.index3].replace(/\\D/g, \"\") : cust.phone = e[vm.index3];\n            e[vm.index4] ? cust.email = e[vm.index4].replace(/\\s/g, \"\").toLowerCase() : cust.email = e[vm.index4];\n            e[vm.index5] ? cust.notes = e[vm.index5].trim : cust.notes = '';\n            cust.country = this.customer.country;\n            return cust\n          } else {\n            console.log('Invalid Customer Record - must include either email or phone number');\n          }\n        });\n        // Removes \"undefined\" customers prior to scrubbing against the csv itself.\n        vm.customersList = vm.customersList.filter(e => e);\n        vm.customersList = this.removeDuplicates(vm.customersList, \"email\");\n        vm.customersList = this.removeDuplicates(vm.customersList, \"phone\");\n        vm.customersList.map((e, i) => {\n          if (e.phone.length > 0) {\n            if (e.phone.length !== 10) {\n              console.log(\"Invalid Record or Duplicate\", e);\n              vm.invalidRecords++;\n            }\n          }\n        });\n        \n        // Below now takes care of duplicates by phone or email in a single step, as well as length of phone number or whether they have an email instead.\n        addingCustomersList = this.removeDuplicates(addingCustomersList);\n        \n        // console.log(addingCustomersList);\n        \n        EventService.$emit(\"loading\", \"show\");\n        this.saveCustomer(\n          vm.customer.locationId,\n          vm.customer.template,\n          vm.customer.status,\n          addingCustomersList\n        ).then((response, error) => {\n          if(response) {\n            // console.log(response);          \n          } else if(error) {\n            console.log(error);            \n          }\n        })\n      }\n    },\n    saveCustomer(id, template, status, data) {\n      EventService.$emit(\"loading\", \"show\");\n      let vm = this;\n      let record = {\n        recordName: vm.fileName,\n        fileSize: data.length || 'Unknown',\n        locationId: id,\n        status: 'Uploaded'\n      }\n      return new Promise(function(resolve, reject) {\n        if (data.length === 0) {\n          resolve('done!');\n          EventService.$emit(\"warningMessage\", \"No records were found to add after removing duplicates.\");\n          EventService.$emit(\"loading\", \"hide\");\n          UploadService.saveUploadRecord(id, record);\n          vm.closeModal();\n        } else {\n          var newCustomers = data.splice(0, 100);\n          CustomerService.saveManyCustomers(id, template, status, newCustomers).then(function() {\n            vm.saveCustomer(id, template, status, data).then(function() {\n              resolve();\n              EventService.$emit('sucessMessage', \"Customers have been added.\")\n            }, function(error) {\n              reject();\n              EventService.$emit('errorMessage', \"Sorry, something went wrong. Please try again.\")\n              vm.closeModal();\n            });\n          }, function(error) {\n            reject();\n            EventService.$emit('errorMessage', \"Sorry, something went wrong. Please try again.\")\n            vm.closeModal();\n          });\n        }\n      })\n    },\n    closeModal() {\n      this.$emit(\"closeModal\");\n      this.csv = [];\n      this.csvData = [];\n      this.customer = {};\n      this.locationOptions = [];\n      this.customersList = [];\n      this.csvOpen = false;\n    }\n  }\n};\n</script>\n\n<style scoped>\n\n.select-group-container {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  width: 100%;\n}\n\n.select-group-option {\n  display: flex;\n  flex-direction: column;\n}\n\n.select-group-option label {\n  font-size: 11px;\n  margin-bottom: 5px;\n  color: #9a9a9a;\n}\n\n.capitalize {\n  text-transform: capitalize;\n}\n\n\n.customer-table {\n  background: white;\n  font-size: 14px;\n  padding: 10px;\n  clear: both;\n  overflow-y: scroll;\n  height: 50vh;\n}\n\ndiv.customer-table div.superadmin-row {\n  background: #ffff00;\n}\n\nselect {\n  margin-top: 10px;\n}\noption {\n  margin-left: 10px;\n}\n\n.select-locations {\n  width: 60%;\n}\n\n.customer-header-row {\n  width: calc(100% - 20px);\n  font-weight: bold;\n  padding: 10px;\n  border-top: 1px solid #efefef;\n  border-bottom: 1px solid #efefef;\n  height: 14px;\n  color: #757575;\n  text-transform: uppercase;  \n  display: flex;\n  flex-wrap: nowrap;\n  justify-content: space-evenly;\n  cursor: pointer;\n}\n\n.customer-header-row div,\n.customer-row div {\n  margin: auto;\n}\n\n.customer-row {\n  width: calc(100% - 20px);\n  clear: both;\n  padding: 0px 10px;\n  border-bottom: 1px solid #efefef;\n  height: auto;\n  display: flex;\n  flex-wrap: nowrap;\n  justify-content: space-evenly;\n}\n\n.customer-row div {\n  width: 100%;\n}\n\n.customer-row:nth-child(even) {\n  /* background: #efefef; */\n}\n\n.customer-row input {\n  flex: 0 0 100px;\n  background: transparent;\n}\n\n.customer-row:hover {\n  background: #dfdfdf;\n}\n\n.customer-table-cell-details {\n  flex: 0 0 150px;\n}\n\n.customer-table-cell-0 {\n  padding: 5px;\n  flex: 0 0 180px;\n  /* cursor: pointer; */\n}\n\n.customer-table-cell-1 {\n  padding: 5px;\n  flex: 0 0 180px;\n  text-transform: capitalize;\n}\n\n.customer-table-cell-2 {\n  padding: 5px;\n  flex: 1 1 180px;\n  /* cursor: pointer; */\n}\n.customer-table-cell-5 {\n  padding: 5px;\n  flex: 1 1 180px;\n  /* cursor: pointer; */\n}\n\n.customer-table-cell-3 {\n  padding: 5px;\n  flex: 2 2 180px;\n}\n\n.customer-table-cell-4 {\n  padding: 5px;\n  flex: 0 0 100px;\n  text-align: center;\n}\n\n.customer-table-cell-4 span {\n  margin-right: 5px;\n  cursor: pointer;\n}\n\n.modal-header h3 span {\n  font-size: 14px;\n  float: right;\n  margin-right: 50px;\n}\n\n.modal-footer {\n  clear: both;\n  text-align: right;\n  margin-top: 20px;\n  margin-right: 20px;\n}\n\n.modal-footer .el-button {\n  width: 170px;\n}\n\n.dialogue-title {\n  font-size: 22px;\n}\n\n.file-name {\n  font-size: 14px;\n  font-style: italic;\n}\n\n.modal-default-button {\n  cursor: pointer;\n}\n\n.inputs {\n  width: 125px;\n}\n\noption {\n  text-transform: capitalize;\n}\n\n.secondary {\n  font-weight: 500;\n  margin: 0 50px;\n}\n\n</style>\n"],"sourceRoot":"src/components"}]}