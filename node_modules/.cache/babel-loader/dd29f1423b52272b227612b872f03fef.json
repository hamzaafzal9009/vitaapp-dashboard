{"remainingRequest":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/babel-loader/lib/index.js!/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js??vue-loader-options!/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/src/components/LeaveReviewEmail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/src/components/LeaveReviewEmail.vue","mtime":1581270622000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/package.json","mtime":1587799327166},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LnJlZ2V4cC5yZXBsYWNlIjsKLy8KLy8KLy8KLy8KaW1wb3J0IEZlZWRiYWNrU2VydmljZSBmcm9tICIuLy4uL3NlcnZpY2VzL0ZlZWRiYWNrU2VydmljZSI7CmltcG9ydCBMb2NhdGlvblNlcnZpY2UgZnJvbSAiLi8uLi9zZXJ2aWNlcy9Mb2NhdGlvblNlcnZpY2UiOwppbXBvcnQgeyBFdmVudFNlcnZpY2UgfSBmcm9tICIuLi9tYWluIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdsZWF2ZVJldmlldycsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7fTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmZvcndhcmRUb1JldmlldygpOwogIH0sCiAgbWV0aG9kczogewogICAgZm9yd2FyZFRvUmV2aWV3OiBmdW5jdGlvbiBmb3J3YXJkVG9SZXZpZXcoKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIEZlZWRiYWNrU2VydmljZS5sZWF2ZVByaXZhdGVGZWVkYmFjayh2bS4kcm91dGUucGFyYW1zLmxvYywgdm0uJHJvdXRlLnBhcmFtcy5jaWQsIHZtLiRyb3V0ZS5wYXJhbXMucmF0aW5nLCAnRW1haWwnLCB2bS4kcm91dGUucGFyYW1zLnRlbXBsYXRlKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGlmIChyZXNwb25zZS5yb3RhdG9ySW5kZXggIT0gJ25vbmUnKSB7CiAgICAgICAgICB2YXIgcmVwbGFjZW1lbnRVcmwgPSAnL3Jldmlld1JlZGlyZWN0LycgKyB2bS4kcm91dGUucGFyYW1zLmxvYyArICcvJyArIHZtLiRyb3V0ZS5wYXJhbXMuY2lkICsgJy8nICsgcmVzcG9uc2Uucm90YXRvckluZGV4ICsgJy8nICsgcmVzcG9uc2UuZGF0ZTsKICAgICAgICAgIGlmICh2bS4kcm91dGUucGFyYW1zLnRlbXBsYXRlICYmIHZtLiRyb3V0ZS5wYXJhbXMudGVtcGxhdGUgIT0gJ3VuZGVmaW5lZCcpIHJlcGxhY2VtZW50VXJsICs9ICcvJyArIHZtLiRyb3V0ZS5wYXJhbXMudGVtcGxhdGU7CiAgICAgICAgICByZXBsYWNlbWVudFVybCArPSAnP3I9JyArIHZtLiRyb3V0ZS5wYXJhbXMucmF0aW5nOwogICAgICAgICAgdm0uJHJvdXRlci5yZXBsYWNlKHJlcGxhY2VtZW50VXJsKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmFyIHJlcGxhY2VtZW50VXJsID0gJy9sZWF2ZVJldmlldy8nICsgdm0uJHJvdXRlLnBhcmFtcy5sb2MgKyAnLycgKyB2bS4kcm91dGUucGFyYW1zLmNpZDsKICAgICAgICAgIGlmICh2bS4kcm91dGUucGFyYW1zLnJhdGluZyAmJiB2bS4kcm91dGUucGFyYW1zLnJhdGluZyAhPSAndW5kZWZpbmVkJykgcmVwbGFjZW1lbnRVcmwgKz0gJy8nICsgdm0uJHJvdXRlLnBhcmFtcy5yYXRpbmc7CiAgICAgICAgICBpZiAodm0uJHJvdXRlLnBhcmFtcy50ZW1wbGF0ZSAmJiB2bS4kcm91dGUucGFyYW1zLnRlbXBsYXRlICE9ICd1bmRlZmluZWQnKSByZXBsYWNlbWVudFVybCArPSAnLycgKyB2bS4kcm91dGUucGFyYW1zLnRlbXBsYXRlOwogICAgICAgICAgcmVwbGFjZW1lbnRVcmwgKz0gJy8nICsgcmVzcG9uc2UuZGF0ZTsKICAgICAgICAgIHZtLiRyb3V0ZXIucmVwbGFjZShyZXBsYWNlbWVudFVybCk7CiAgICAgICAgfQogICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["LeaveReviewEmail.vue"],"names":[],"mappings":";;;;;AAKA,OAAA,eAAA;AACA,OAAA,eAAA;AACA,SAAA,YAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,aADA;AAEA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA,EAAA;AAEA,GALA;AAMA,EAAA,OANA,qBAMA;AACA,SAAA,eAAA;AACA,GARA;AASA,EAAA,OAAA,EAAA;AACA,IAAA,eADA,6BACA;AACA,UAAA,EAAA,GAAA,IAAA;AACA,MAAA,eAAA,CAAA,oBAAA,CAAA,EAAA,CAAA,MAAA,CAAA,MAAA,CAAA,GAAA,EAAA,EAAA,CAAA,MAAA,CAAA,MAAA,CAAA,GAAA,EAAA,EAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,EAAA,OAAA,EAAA,EAAA,CAAA,MAAA,CAAA,MAAA,CAAA,QAAA,EAAA,IAAA,CACA,UAAA,QAAA,EAAA;AACA,YAAA,QAAA,CAAA,YAAA,IAAA,MAAA,EAAA;AACA,cAAA,cAAA,GAAA,qBAAA,EAAA,CAAA,MAAA,CAAA,MAAA,CAAA,GAAA,GAAA,GAAA,GAAA,EAAA,CAAA,MAAA,CAAA,MAAA,CAAA,GAAA,GAAA,GAAA,GAAA,QAAA,CAAA,YAAA,GAAA,GAAA,GAAA,QAAA,CAAA,IAAA;AACA,cAAA,EAAA,CAAA,MAAA,CAAA,MAAA,CAAA,QAAA,IAAA,EAAA,CAAA,MAAA,CAAA,MAAA,CAAA,QAAA,IAAA,WAAA,EAAA,cAAA,IAAA,MAAA,EAAA,CAAA,MAAA,CAAA,MAAA,CAAA,QAAA;AACA,UAAA,cAAA,IAAA,QAAA,EAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA;AACA,UAAA,EAAA,CAAA,OAAA,CAAA,OAAA,CAAA,cAAA;AACA,SALA,MAKA;AACA,cAAA,cAAA,GAAA,kBAAA,EAAA,CAAA,MAAA,CAAA,MAAA,CAAA,GAAA,GAAA,GAAA,GAAA,EAAA,CAAA,MAAA,CAAA,MAAA,CAAA,GAAA;AACA,cAAA,EAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,IAAA,EAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,IAAA,WAAA,EAAA,cAAA,IAAA,MAAA,EAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA;AACA,cAAA,EAAA,CAAA,MAAA,CAAA,MAAA,CAAA,QAAA,IAAA,EAAA,CAAA,MAAA,CAAA,MAAA,CAAA,QAAA,IAAA,WAAA,EAAA,cAAA,IAAA,MAAA,EAAA,CAAA,MAAA,CAAA,MAAA,CAAA,QAAA;AACA,UAAA,cAAA,IAAA,MAAA,QAAA,CAAA,IAAA;AAEA,UAAA,EAAA,CAAA,OAAA,CAAA,OAAA,CAAA,cAAA;AACA;AACA,OAfA,EAeA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,OAjBA;AAkBA;AArBA;AATA,CAAA","sourcesContent":["<template>\n  <div class=\"review-page\">Please wait while your response is recorded...&nbsp;&nbsp;<i class=\"spinner fas fa-circle-notch fa-spin\"></i></div>\n</template>\n\n<script>\nimport FeedbackService from './../services/FeedbackService'\nimport LocationService from './../services/LocationService'\nimport {EventService} from '../main'\n\nexport default {\n  name: 'leaveReview',\n  data: function() {\n    return {\n    }\n  },\n  created() {\n    this.forwardToReview();\n  },\n  methods: {\n    forwardToReview() {\n      var vm = this;\n      FeedbackService.leavePrivateFeedback(vm.$route.params.loc, vm.$route.params.cid, vm.$route.params.rating, 'Email', vm.$route.params.template).then(\n        function(response) {\n          if (response.rotatorIndex != 'none') {\n            var replacementUrl = '/reviewRedirect/' + vm.$route.params.loc + '/' + vm.$route.params.cid + '/' + response.rotatorIndex + '/' + response.date;\n            if (vm.$route.params.template && vm.$route.params.template != 'undefined') replacementUrl += '/' + vm.$route.params.template;\n            replacementUrl += '?r=' + vm.$route.params.rating;\n            vm.$router.replace(replacementUrl);\n          } else {\n            var replacementUrl = '/leaveReview/' + vm.$route.params.loc + '/' + vm.$route.params.cid;\n            if (vm.$route.params.rating && vm.$route.params.rating != 'undefined') replacementUrl += '/' + vm.$route.params.rating;\n            if (vm.$route.params.template && vm.$route.params.template != 'undefined') replacementUrl += '/' + vm.$route.params.template;\n            replacementUrl += '/' + response.date;\n\n            vm.$router.replace(replacementUrl);\n          }\n        }, function (error) {\n          console.log(error);\n      });\n    }\n  }\n}\n</script>\n\n<style scoped>\n.review-page {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  background: #f2f2f2;\n  height: auto;\n  font-size: 14px;\n  padding: 20px;\n  box-sizing: border-box;\n  color: #757575;\n}\n.spinner {\n  font-size:24px;\n  color: #4fcbc5;\n}\n</style>\n"],"sourceRoot":"src/components"}]}