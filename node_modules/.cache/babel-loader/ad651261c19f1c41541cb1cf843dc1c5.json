{"remainingRequest":"/Library/WebServer/Documents/Projects/Vite Dashboard/node_modules/babel-loader/lib/index.js!/Library/WebServer/Documents/Projects/Vite Dashboard/src/services/AuthService.js","dependencies":[{"path":"/Library/WebServer/Documents/Projects/Vite Dashboard/src/services/AuthService.js","mtime":1581270622000},{"path":"/Library/WebServer/Documents/Projects/Vite Dashboard/package.json","mtime":1587799327166},{"path":"/Library/WebServer/Documents/Projects/Vite Dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/Vite Dashboard/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGh0dHAgZnJvbSAiLi9odHRwLWNvbW1vbiI7CmV4cG9ydCBkZWZhdWx0IHsKICBsb2dpbjogZnVuY3Rpb24gbG9naW4oZW1haWwsIHBhc3N3b3JkKSB7CiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgidG9rZW4iKTsKICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJzcG9vZmluZyIpOwoKICAgIGlmIChlbWFpbCkgewogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIGh0dHAucG9zdCgnL2F1dGgvbG9naW4nLCB7CiAgICAgICAgICBlbWFpbDogZW1haWwsCiAgICAgICAgICBwYXNzd29yZDogcGFzc3dvcmQKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgaHR0cC5wb3N0KCcvYXV0aC9sb2dpbicsIHt9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgcmVzb2x2ZShyZXNwb25zZSk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9LAogIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KCkgewogICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oInRva2VuIik7CiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgidXNlcklkIik7CiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgibG9jYXRpb25JZCIpOwogICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oInNwb29maW5nIik7CiAgICB3aW5kb3cubG9jYXRpb24gPSAnL2xvZ2luJzsKICAgIHJldHVybjsKICB9LAogIGlkbGVMb2dvdXQ6IGZ1bmN0aW9uIGlkbGVMb2dvdXQoKSB7CiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgidG9rZW4iKTsKICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJ1c2VySWQiKTsKICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJsb2NhdGlvbklkIik7CiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgic3Bvb2ZpbmciKTsKICAgIHdpbmRvdy5sb2NhdGlvbiA9ICcvbG9naW4vaWRsZSc7CiAgICByZXR1cm47CiAgfSwKICBzZXRQYXNzd29yZDogZnVuY3Rpb24gc2V0UGFzc3dvcmQodXNlcklkLCB0b2tlbiwgcGFzc3dvcmQpIHsKICAgIHJldHVybiBodHRwLnBvc3QoJy9hdXRoL3NldFBhc3N3b3JkJywgewogICAgICB1c2VySWQ6IHVzZXJJZCwKICAgICAgdG9rZW46IHRva2VuLAogICAgICBwYXNzd29yZDogcGFzc3dvcmQKICAgIH0pOwogIH0sCiAgcmVmcmVzaEFjdGl2aXR5OiBmdW5jdGlvbiByZWZyZXNoQWN0aXZpdHkoKSB7CiAgICByZXR1cm4gaHR0cC5nZXQoJy9hdXRoL3JlZnJlc2hBY3Rpdml0eScpOwogIH0KfTs="},{"version":3,"sources":["/Library/WebServer/Documents/Projects/Vite Dashboard/src/services/AuthService.js"],"names":["http","login","email","password","localStorage","removeItem","Promise","resolve","reject","post","then","response","catch","error","console","log","logout","window","location","idleLogout","setPassword","userId","token","refreshActivity","get"],"mappings":"AAAA,OAAOA,IAAP;AAEA,eAAe;AACbC,EAAAA,KADa,iBACPC,KADO,EACAC,QADA,EACU;AACrBC,IAAAA,YAAY,CAACC,UAAb,CAAwB,OAAxB;AACAD,IAAAA,YAAY,CAACC,UAAb,CAAwB,UAAxB;;AACA,QAAIH,KAAJ,EAAW;AACT,aAAO,IAAII,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;AAC3CR,QAAAA,IAAI,CAACS,IAAL,CAAU,aAAV,EAAyB;AAACP,UAAAA,KAAK,EAAEA,KAAR;AAAeC,UAAAA,QAAQ,EAAEA;AAAzB,SAAzB,EACGO,IADH,CACQ,UAASC,QAAT,EAAmB;AACvBJ,UAAAA,OAAO,CAACI,QAAD,CAAP;AACD,SAHH,EAGKC,KAHL,CAGW,UAASC,KAAT,EAAgB;AACvBC,UAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACAL,UAAAA,MAAM,CAACK,KAAD,CAAN;AACD,SANH;AAOD,OARM,CAAP;AASD,KAVD,MAUO;AACL,aAAO,IAAIP,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;AAC3CR,QAAAA,IAAI,CAACS,IAAL,CAAU,aAAV,EAAyB,EAAzB,EACGC,IADH,CACQ,UAASC,QAAT,EAAmB;AACvBJ,UAAAA,OAAO,CAACI,QAAD,CAAP;AACD,SAHH,EAGKC,KAHL,CAGW,UAASC,KAAT,EAAgB;AACvBL,UAAAA,MAAM,CAACK,KAAD,CAAN;AACD,SALH;AAMD,OAPM,CAAP;AAQD;AACF,GAxBY;AAyBbG,EAAAA,MAzBa,oBAyBJ;AACPZ,IAAAA,YAAY,CAACC,UAAb,CAAwB,OAAxB;AACAD,IAAAA,YAAY,CAACC,UAAb,CAAwB,QAAxB;AACAD,IAAAA,YAAY,CAACC,UAAb,CAAwB,YAAxB;AACAD,IAAAA,YAAY,CAACC,UAAb,CAAwB,UAAxB;AACAY,IAAAA,MAAM,CAACC,QAAP,GAAkB,QAAlB;AACA;AACD,GAhCY;AAiCbC,EAAAA,UAjCa,wBAiCA;AACXf,IAAAA,YAAY,CAACC,UAAb,CAAwB,OAAxB;AACAD,IAAAA,YAAY,CAACC,UAAb,CAAwB,QAAxB;AACAD,IAAAA,YAAY,CAACC,UAAb,CAAwB,YAAxB;AACAD,IAAAA,YAAY,CAACC,UAAb,CAAwB,UAAxB;AACAY,IAAAA,MAAM,CAACC,QAAP,GAAkB,aAAlB;AACA;AACD,GAxCY;AAyCbE,EAAAA,WAzCa,uBAyCDC,MAzCC,EAyCOC,KAzCP,EAyCcnB,QAzCd,EAyCwB;AACnC,WAAOH,IAAI,CAACS,IAAL,CAAU,mBAAV,EAA+B;AAACY,MAAAA,MAAM,EAAEA,MAAT;AAAiBC,MAAAA,KAAK,EAAEA,KAAxB;AAA+BnB,MAAAA,QAAQ,EAAEA;AAAzC,KAA/B,CAAP;AACD,GA3CY;AA4CboB,EAAAA,eA5Ca,6BA4CK;AAChB,WAAOvB,IAAI,CAACwB,GAAL,CAAS,uBAAT,CAAP;AACD;AA9CY,CAAf","sourcesContent":["import http from './http-common'\n\nexport default {\n  login(email, password) {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"spoofing\");\n    if (email) {\n      return new Promise(function(resolve, reject) {\n        http.post('/auth/login', {email: email, password: password})\n          .then(function(response) {\n            resolve(response);\n          }).catch(function(error) {\n            console.log(error);\n            reject(error);\n          });\n      });\n    } else {\n      return new Promise(function(resolve, reject) {\n        http.post('/auth/login', {})\n          .then(function(response) {\n            resolve(response);\n          }).catch(function(error) {\n            reject(error);\n          });\n      });\n    }\n  },\n  logout() {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"userId\");\n    localStorage.removeItem(\"locationId\");\n    localStorage.removeItem(\"spoofing\");\n    window.location = '/login';\n    return;\n  },\n  idleLogout() {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"userId\");\n    localStorage.removeItem(\"locationId\");\n    localStorage.removeItem(\"spoofing\");\n    window.location = '/login/idle';\n    return;\n  },\n  setPassword(userId, token, password) {\n    return http.post('/auth/setPassword', {userId: userId, token: token, password: password})\n  },\n  refreshActivity() {\n    return http.get('/auth/refreshActivity')\n  }\n}"]}]}