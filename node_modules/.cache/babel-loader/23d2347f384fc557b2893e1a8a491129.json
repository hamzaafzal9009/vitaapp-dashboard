{"remainingRequest":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/babel-loader/lib/index.js!/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js??vue-loader-options!/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/src/components/Reports/NewFunnel.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/src/components/Reports/NewFunnel.vue","mtime":1581270622000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/package.json","mtime":1587799327166},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFJlcG9ydFNlcnZpY2UgZnJvbSAiLi8uLi8uLi9zZXJ2aWNlcy9SZXBvcnRTZXJ2aWNlIjsKaW1wb3J0IHsgRXZlbnRTZXJ2aWNlIH0gZnJvbSAiLi4vLi4vbWFpbiI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnbmV3RnVubmVsJywKICBwcm9wczogWyJmdW5uZWxEYXRhIl0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHJlcG9ydDogW10sCiAgICAgIG1heFNpemU6IDAKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5nZXREYXRhU2V0c0FuZExhYmVscygpOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0RGF0YVNldHNBbmRMYWJlbHM6IGZ1bmN0aW9uIGdldERhdGFTZXRzQW5kTGFiZWxzKCkgewogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICB2YXIgZGF0YXNldHMgPSBbXTsKICAgICAgdmFyIGJhY2tncm91bmRzID0gWydvcmFuZ2UnLCAnIzRmY2JjNScsICcjNDI4N2Y1JywgJ3llbGxvdyddOwogICAgICB2YXIgdGVtcEluZGV4ID0gMDsKICAgICAgdmFyIHRlbXBTaXplID0gMDsKICAgICAgdmFyIGN1cnJlbnRXaWR0aCA9IDIwMDsgLy8gY29uc29sZS5sb2codm0uZnVubmVsRGF0YSk7CgogICAgICBmb3IgKHZhciBpIGluIHZtLmZ1bm5lbERhdGEuZGF0YSkgewogICAgICAgIHZhciBkb2VzVHJhbnNmb3JtID0gZmFsc2U7CiAgICAgICAgdmFyIG5ld0RhdGEgPSB2bS5mdW5uZWxEYXRhLmRhdGFbaV07IC8vIGlmKG5ld0RhdGEgPiB2bS5tYXhTaXplKSB7CiAgICAgICAgLy8gICB0ZW1wU2l6ZSA9IG5ld0RhdGE7CiAgICAgICAgLy8gICB2bS5tYXhTaXplID0gbmV3RGF0YTsKICAgICAgICAvLyB9CgogICAgICAgIGlmICh0ZW1wSW5kZXggPiAwKSB7CiAgICAgICAgICAvLyAgIGlmKG5ld0RhdGEgPCB0ZW1wU2l6ZSApIHsKICAgICAgICAgIGN1cnJlbnRXaWR0aCA9IE1hdGguZmxvb3IoY3VycmVudFdpZHRoICogLjg0KTsgLy8gdGVtcFNpemUgPSBuZXdEYXRhCiAgICAgICAgICAvLyAgIH0gZWxzZSB7CiAgICAgICAgICAvLyAgICAgY3VycmVudFdpZHRoID0gY3VycmVudFdpZHRoICogLjk0OwogICAgICAgICAgLy8gZG9lc1RyYW5zZm9ybSA9IHRydWU7CiAgICAgICAgICAvLyAgIH0KICAgICAgICB9CgogICAgICAgIGRhdGFzZXRzLnB1c2goewogICAgICAgICAgZGF0YTogbmV3RGF0YSwKICAgICAgICAgIGxhYmVsOiBpLAogICAgICAgICAgYmFja2dyb3VuZDogYmFja2dyb3VuZHNbdGVtcEluZGV4XSwKICAgICAgICAgIHdpZHRoOiBjdXJyZW50V2lkdGggKyAncHgnLAogICAgICAgICAgdHJhbnNmb3JtOiBkb2VzVHJhbnNmb3JtCiAgICAgICAgfSk7IC8vIGNvbnNvbGUubG9nKGRhdGFzZXRzKTsKCiAgICAgICAgdGVtcEluZGV4Kys7CiAgICAgIH0KCiAgICAgIHZtLnJlcG9ydCA9IGRhdGFzZXRzOwogICAgfSwKICAgIHJldHVybldpZHRoOiBmdW5jdGlvbiByZXR1cm5XaWR0aChzaXplLCBpbmRleCkgewogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICB2YXIgbmV3V2lkdGg7CgogICAgICBpZiAoaW5kZXggPT0gMCkgewogICAgICAgIG5ld1dpZHRoID0gMjAwOwogICAgICB9IGVsc2UgaWYgKHNpemUgPCB2bS5yZXBvcnRbaW5kZXggLSAxXS5kYXRhKSB7CiAgICAgICAgbmV3V2lkdGggPSAyMDAgKiAuOTsKICAgICAgfSBlbHNlIHsKICAgICAgICBuZXdXaWR0aCA9IDIwMDsKICAgICAgfSAvLyBjb25zb2xlLmxvZyhuZXdXaWR0aCk7CgoKICAgICAgcmV0dXJuIG5ld1dpZHRoICsgJ3B4JzsKICAgIH0sCiAgICByZW1vdmVSZXBvcnQ6IGZ1bmN0aW9uIHJlbW92ZVJlcG9ydChkYXRhKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEpOwogICAgICB0aGlzLiRlbWl0KCdyZW1vdmVSZXBvcnQnLCBkYXRhLmkpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["NewFunnel.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAsBA,OAAA,aAAA;AACA,SAAA,YAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,KAAA,EAAA,CAAA,YAAA,CAFA;AAGA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,EADA;AAEA,MAAA,OAAA,EAAA;AAFA,KAAA;AAIA,GARA;AASA,EAAA,OATA,qBASA;AACA,SAAA,oBAAA;AACA,GAXA;AAYA,EAAA,OAAA,EAAA;AACA,IAAA,oBADA,kCACA;AACA,UAAA,EAAA,GAAA,IAAA;AACA,UAAA,QAAA,GAAA,EAAA;AACA,UAAA,WAAA,GAAA,CAAA,QAAA,EAAA,SAAA,EAAA,SAAA,EAAA,QAAA,CAAA;AACA,UAAA,SAAA,GAAA,CAAA;AACA,UAAA,QAAA,GAAA,CAAA;AACA,UAAA,YAAA,GAAA,GAAA,CANA,CAOA;;AAEA,WAAA,IAAA,CAAA,IAAA,EAAA,CAAA,UAAA,CAAA,IAAA,EAAA;AACA,YAAA,aAAA,GAAA,KAAA;AACA,YAAA,OAAA,GAAA,EAAA,CAAA,UAAA,CAAA,IAAA,CAAA,CAAA,CAAA,CAFA,CAGA;AACA;AACA;AACA;;AACA,YAAA,SAAA,GAAA,CAAA,EAAA;AACA;AACA,UAAA,YAAA,GAAA,IAAA,CAAA,KAAA,CAAA,YAAA,GAAA,GAAA,CAAA,CAFA,CAGA;AACA;AACA;AACA;AACA;AACA;;AAEA,QAAA,QAAA,CAAA,IAAA,CACA;AAAA,UAAA,IAAA,EAAA,OAAA;AAAA,UAAA,KAAA,EAAA,CAAA;AAAA,UAAA,UAAA,EAAA,WAAA,CAAA,SAAA,CAAA;AAAA,UAAA,KAAA,EAAA,YAAA,GAAA,IAAA;AAAA,UAAA,SAAA,EAAA;AAAA,SADA,EAjBA,CAoBA;;AAEA,QAAA,SAAA;AACA;;AACA,MAAA,EAAA,CAAA,MAAA,GAAA,QAAA;AAEA,KApCA;AAqCA,IAAA,WArCA,uBAqCA,IArCA,EAqCA,KArCA,EAqCA;AACA,UAAA,EAAA,GAAA,IAAA;AACA,UAAA,QAAA;;AACA,UAAA,KAAA,IAAA,CAAA,EAAA;AACA,QAAA,QAAA,GAAA,GAAA;AACA,OAFA,MAEA,IAAA,IAAA,GAAA,EAAA,CAAA,MAAA,CAAA,KAAA,GAAA,CAAA,EAAA,IAAA,EAAA;AACA,QAAA,QAAA,GAAA,MAAA,EAAA;AACA,OAFA,MAEA;AACA,QAAA,QAAA,GAAA,GAAA;AACA,OATA,CAUA;;;AAEA,aAAA,QAAA,GAAA,IAAA;AACA,KAlDA;AAmDA,IAAA,YAnDA,wBAmDA,IAnDA,EAmDA;AACA;AACA,WAAA,KAAA,CAAA,cAAA,EAAA,IAAA,CAAA,CAAA;AACA;AAtDA;AAZA,CAAA","sourcesContent":["<template>\n  <div class=\"report-container\">\n    <div class=\"report-title\">\n      <span class=\"title\">{{funnelData.title}}</span>\n      <span class=\"remove-report\"><i class=\"fal fa-times\" @click=\"removeReport(funnelData)\"></i></span>\n    </div>\n    <div class=\"report-data\" >\n      <div class=\"report-separation\" v-for=\"(data, index) in report\">\n        <div class=\"leftsid\">\n          <div class=\"report-line\" :style=\"{'background': data.background, 'width': data.width }\" :class=\"{'no-transform': data.transform}\">\n            {{data.data}} \n          </div>\n        </div>\n        <span class=\"report-label\">\n          <div class=\"label-color\" :style=\"{'background': data.background}\"></div>{{data.label}}\n        </span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport ReportService from './../../services/ReportService'\nimport {EventService} from '../../main'\n\nexport default {\n  name: 'newFunnel',\n  props: [\"funnelData\"],\n  data: function() {\n    return {\n      report:[],\n      maxSize: 0\n    }\n  },\n  mounted() {\n    this.getDataSetsAndLabels();\n  },\n  methods: {\n    getDataSetsAndLabels(){\n      let vm = this;\n      let datasets = []\n      let backgrounds = ['orange', '#4fcbc5', '#4287f5', 'yellow'];\n      let tempIndex = 0;\n      let tempSize = 0;\n      let currentWidth = 200;\n      // console.log(vm.funnelData);\n\n      for(var i in vm.funnelData.data) {\n        let doesTransform = false;\n        let newData = vm.funnelData.data[i];\n        // if(newData > vm.maxSize) {\n        //   tempSize = newData;\n        //   vm.maxSize = newData;\n        // }\n        if(tempIndex > 0) {\n        //   if(newData < tempSize ) {\n            currentWidth = Math.floor(currentWidth * .84);\n            // tempSize = newData\n        //   } else {\n        //     currentWidth = currentWidth * .94;\n            // doesTransform = true;\n        //   }\n        }\n\n        datasets.push(\n          {data: newData, label: i, background: backgrounds[tempIndex], width: currentWidth + 'px', transform: doesTransform }\n          );\n      // console.log(datasets);\n          \n        tempIndex++\n      }\n      vm.report = datasets;\n      \n    },\n    returnWidth(size, index){\n      let vm = this;\n      let newWidth;\n      if(index == 0) {\n        newWidth = 200\n      } else if(size < vm.report[index-1].data) {\n        newWidth = 200 * .9;\n      } else {\n        newWidth = 200;\n      }\n      // console.log(newWidth);\n      \n      return newWidth+'px';\n    },\n    removeReport(data){\n      // console.log(data);\n      this.$emit('removeReport', data.i)\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n.report-container {\n  width: 100%;\n  height: 320px;\n  background: white;\n  box-shadow: 1px 0px 5px rgba(0,0,0,.35);\n  border-radius: 5px;\n  margin: 20px;\n  display: flex;\n  flex-direction: column;\n  align-content: center;\n  align-items: center;\n  position: relative;\n}\n\n.report-title {\n  width: 90%;\n  display: flex;\n  justify-content: space-between;\n  /* padding-bottom: 10px; */\n  padding-top: 10px;\n  margin-bottom: 15%;\n}\n\n.report-title span {\n  margin: 10px;\n  font-weight: bolder;\n}\n\n.title {\n  font-size: 18px;\n}\n\n.remove-report {\n  cursor: pointer;\n  color: #dadada;\n  position: absolute;\n  right: 0;\n  font-size: 25px;\n}\n\n.remove-report i {\n  transform: translateY(-10px);\n  margin-right: 5px;\n}\n\n.report-data {\n  margin-top: 0;\n  padding-bottom: 2px;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  justify-content: center;\n}\n\n.report-separation {\n  display: flex;\n  width: 100%;\n  justify-content: space-between;\n}\n\n\n.leftsid {\n  display: flex;\n  justify-content: center;\n  width: 100%;\n}\n\n.report-line {\n  width: 200px;\n  display: flex;\n  justify-content: center;\n  color: black;\n  margin: 0;\n  padding: 10px;\n  transform: perspective(9px) rotateX(-2deg);\n}\n\n.report-label {\n  width: 170px;\n  margin-top: 10px;\n  margin-right: 10px;\n  display: flex;\n}\n\n.label-color {\n  height: 10px;\n  width: 10px;\n  border-radius: 50%;\n  margin-right: 5px;\n  transform: translateY(5px);\n}\n\n.no-transform {\n  transform: translateY(-1px);\n}\n\n</style>\n"],"sourceRoot":"src/components/Reports"}]}