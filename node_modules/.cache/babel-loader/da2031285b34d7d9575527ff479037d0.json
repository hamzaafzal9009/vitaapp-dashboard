{"remainingRequest":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/babel-loader/lib/index.js!/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/src/components/SetPassword.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/src/components/SetPassword.vue","mtime":1581270622000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/package.json","mtime":1587799327166},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LnJlZ2V4cC5yZXBsYWNlIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEF1dGhTZXJ2aWNlIGZyb20gIi4vLi4vc2VydmljZXMvQXV0aFNlcnZpY2UiOwppbXBvcnQgVXNlclNlcnZpY2UgZnJvbSAiLi8uLi9zZXJ2aWNlcy9Vc2VyU2VydmljZSI7CmltcG9ydCB7IEV2ZW50U2VydmljZSB9IGZyb20gIi4uL21haW4iOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2xvZ2luJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICBwYXNzd29yZDI6ICcnLAogICAgICB1c2VyOiB7fSwKICAgICAgcmVzZXRFcnJvcjogbnVsbAogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFVzZXIoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHNldFBhc3N3b3JkOiBmdW5jdGlvbiBzZXRQYXNzd29yZCgpIHsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgdGhpcy5yZXNldEVycm9yID0gbnVsbDsKCiAgICAgIGlmICh0aGlzLnBhc3N3b3JkICE9IHRoaXMucGFzc3dvcmQyKSB7CiAgICAgICAgdGhpcy5yZXNldEVycm9yID0gIlBhc3N3b3JkcyBkbyBub3QgbWF0Y2giOwogICAgICB9IGVsc2UgewogICAgICAgIEF1dGhTZXJ2aWNlLnNldFBhc3N3b3JkKHRoaXMudXNlci51c2VySWQsIHRoaXMuJHJvdXRlLnBhcmFtcy50b2tlbiwgdGhpcy5wYXNzd29yZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7CiAgICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgic3VjY2Vzc01lc3NhZ2UiLCAiU3VjY2VzcyEgWW91ciBwYXNzd29yZCBoYXMgYmVlbiB1cGRhdGVkISAgWW91IHdpbGwgbm93IGJlIHRha2VuIHRvIHRoZSBsb2dpbiBzY3JlZW4gdG8gdXNlIHlvdXIgbmV3IHBhc3N3b3JkLiIpOwogICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICB2bS4kcm91dGVyLnJlcGxhY2UoJy9sb2dpbicpOwogICAgICAgICAgICB9LCAzMDAwKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZtLnJlc2V0RXJyb3IgPSAnRXJyb3Igc2V0dGluZyBwYXNzd29yZC4gIFBsZWFzZSB0cnkgYWdhaW4uICBJZiB0aGlzIGtlZXBzIGhhcHBlbmluZywgY29udGFjdCBzdXBwb3J0Lic7CiAgICAgICAgICB9CiAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICB2bS5yZXNldEVycm9yID0gJ1Vua25vd24gZXJyb3IgZW5jb3VudGVyZWQuICBQbGVhc2UgdHJ5IGFnYWluLic7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBnZXRVc2VyOiBmdW5jdGlvbiBnZXRVc2VyKCkgewogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICBVc2VyU2VydmljZS5nZXRVc2VyQnlSZXNldCh0aGlzLiRyb3V0ZS5wYXJhbXMudG9rZW4pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgdm0udXNlciA9IHJlc3BvbnNlOwogICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICB2bS4kcm91dGVyLnJlcGxhY2UoJy9sb2dpbicpOwogICAgICB9KTsKICAgIH0sCiAgICBnb1RvV1dXOiBmdW5jdGlvbiBnb1RvV1dXKCkgewogICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICdodHRwOi8vd3d3Lm9waW5paW9uLmNvbSc7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["SetPassword.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA,OAAA,WAAA;AACA,OAAA,WAAA;AACA,SAAA,YAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,SAAA,EAAA,EAFA;AAGA,MAAA,IAAA,EAAA,EAHA;AAIA,MAAA,UAAA,EAAA;AAJA,KAAA;AAMA,GATA;AAUA,EAAA,OAVA,qBAUA;AACA,SAAA,OAAA;AACA,GAZA;AAaA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AACA,UAAA,EAAA,GAAA,IAAA;AACA,WAAA,UAAA,GAAA,IAAA;;AACA,UAAA,KAAA,QAAA,IAAA,KAAA,SAAA,EAAA;AACA,aAAA,UAAA,GAAA,wBAAA;AACA,OAFA,MAEA;AACA,QAAA,WAAA,CAAA,WAAA,CAAA,KAAA,IAAA,CAAA,MAAA,EAAA,KAAA,MAAA,CAAA,MAAA,CAAA,KAAA,EAAA,KAAA,QAAA,EAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,cAAA,QAAA,CAAA,OAAA,EAAA;AACA,YAAA,YAAA,CAAA,KAAA,CACA,gBADA,EAEA,+GAFA;AAIA,YAAA,UAAA,CAAA,YAAA;AACA,cAAA,EAAA,CAAA,OAAA,CAAA,OAAA,CAAA,QAAA;AACA,aAFA,EAEA,IAFA,CAAA;AAGA,WARA,MAQA;AACA,YAAA,EAAA,CAAA,UAAA,GAAA,uFAAA;AACA;AACA,SAZA,EAYA,UAAA,KAAA,EAAA;AACA,UAAA,EAAA,CAAA,UAAA,GAAA,+CAAA;AACA,SAdA;AAeA;AACA,KAvBA;AAwBA,IAAA,OAxBA,qBAwBA;AACA,UAAA,EAAA,GAAA,IAAA;AACA,MAAA,WAAA,CAAA,cAAA,CAAA,KAAA,MAAA,CAAA,MAAA,CAAA,KAAA,EAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,QAAA,EAAA,CAAA,IAAA,GAAA,QAAA;AACA,OAFA,EAEA,UAAA,KAAA,EAAA;AACA,QAAA,EAAA,CAAA,OAAA,CAAA,OAAA,CAAA,QAAA;AACA,OAJA;AAKA,KA/BA;AAgCA,IAAA,OAhCA,qBAgCA;AACA,MAAA,MAAA,CAAA,QAAA,CAAA,IAAA,GAAA,yBAAA;AACA;AAlCA;AAbA,CAAA","sourcesContent":["<template>\n  <div class=\"wrapper\">\n    <div class=\"header\">\n      <div class=\"row\">\n        <img src=\"../assets/img/logo-white.svg\" alt=\"Opiniion\" />\n        <div>\n          <div class=\"left-header float-right clickable\" @click=\"goToWWW()\">\n            <i class=\"fa fa-angle-left\"></i>Go to www.opiniion.com\n          </div>\n        </div>\n      </div>\n    </div>\n     <div class=\"content\">\n      <el-card class=\"card vertical-centered\">\n        <div class=\"card-content-wrapper\">\n          <span class=\"login-header horizontal-centered\">New Password</span>\n          <el-input class=\"login-input\" v-model=\"password\" @change=\"resetError = null\" prefix-icon=\"fal fa-key\" placeholder=\"New Password\" type=\"password\" show-password></el-input>\n          <el-input class=\"login-input\" v-model=\"password2\" @change=\"resetError = null\" prefix-icon=\"fal fa-key\" placeholder=\"Retype New Password\" type=\"password\" show-password></el-input>\n          <span class=\"login-error\" v-show=\"resetError\">{{resetError}}</span>\n          <el-button class=\"login-button\" type=\"primary\" round @click=\"setPassword\">Change Password</el-button>\n        </div>\n      </el-card>\n    </div>\n    <footer class=\"footer\">\n      <div class=\"login-bottom-nav\">\n        <div class=\"flex-center\">\n          <div class=\"credits ml-auto\">\n            <div\n              class=\"copyright\"\n            >&copy; {{new Date().getFullYear()}} Opiniion Inc. All Rights Reserved</div>\n          </div>\n        </div>\n      </div>\n    </footer>\n  </div>\n</template>\n\n<script>\nimport AuthService from './../services/AuthService';\nimport UserService from './../services/UserService';\nimport { EventService } from \"../main\";\n\nexport default {\n  name: 'login',\n  data: function() {\n    return {\n      password: '',\n      password2: '',\n      user: {},\n      resetError: null\n    }\n  },\n  created() {\n    this.getUser();\n  },\n  methods: {\n    setPassword() {\n      var vm = this;\n      this.resetError = null;\n      if (this.password != this.password2) {\n        this.resetError = \"Passwords do not match\";\n      } else {\n        AuthService.setPassword(this.user.userId, this.$route.params.token, this.password).then(function(response) {\n          if (response.success) {\n            EventService.$emit(\n              \"successMessage\",\n              \"Success! Your password has been updated!  You will now be taken to the login screen to use your new password.\"\n            );\n            setTimeout(function() {\n              vm.$router.replace('/login');\n            }, 3000);\n          } else {\n            vm.resetError = 'Error setting password.  Please try again.  If this keeps happening, contact support.';\n          }\n        }, function(error) {\n          vm.resetError = 'Unknown error encountered.  Please try again.';\n        });\n      }\n    },\n    getUser() {\n      var vm = this;\n      UserService.getUserByReset(this.$route.params.token).then(function(response) {\n        vm.user = response;\n      }, function(error) {\n        vm.$router.replace('/login');\n      });\n    },\n    goToWWW() {\n      window.location.href = 'http://www.opiniion.com';\n    }\n  }\n}\n</script>\n\n<style scoped>\n.wrapper {\n  height: 100vh;\n  width: 100vw;\n  background: -webkit-linear-gradient(300deg, #22c6c7 60%, #f2f2f2 60%);\n}\n\n.header {\n  height: 130px;\n  padding: 20px;\n}\n\n.header > .row {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: 10px 25px;\n}\n\n.row > img {\n  width: 170px;\n}\n\n.left-header {\n  font-size: 15px !important;\n  color: white;\n}\n\n.login-button {\n  width: 100%;\n  margin-top: 10px;\n}\n\n.content {\n  width: 100vw;\n  height: 100vh;\n  margin: auto;\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0;\n  margin: auto;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.card {\n  animation: .35s ease slideFadeFromBottom;\n  position: relative;\n  width: 440px;\n  max-width: 90%;\n  height: 260px;\n}\n.card-content-wrapper {\n  width: 90%;\n  margin: auto;\n}\n\n.login-header {\n  margin: 0 0 40px 0;\n  font-size: 30px;\n}\n\n.remember-container {\n  margin: 20px 0px 20px 0px;\n}\n\n.fp {\n  text-decoration: none;\n  font-size: 12px;\n}\n\n.agreement-container {\n  font-size: 12px;\n  width: 65%;\n  text-align: center;\n  margin: 20px auto;\n  line-height: 1.5;\n}\n\nfooter {\n  position: absolute;\n  width: 100%;\n  bottom: 10px;\n  font-size: 12px;\n  color: #757575;\n}\n\n.login-bottom-nav {\n  margin: 30px 50px;\n}\n\n.router-links {\n  width: 200px;\n}\n\n.fc {\n  color: white;\n  text-decoration: none;\n}\n\n.fa-angle-left {\n  margin-right: 8px;\n}\n\n.error-message {\n  color: #DD2C00;\n  width: 100%;\n  text-align: left;\n  margin-bottom: 5px;\n}\n\n@media screen and (max-width: 500px) {\n  .header > .row {\n    flex-direction: column;\n    justify-content: center;\n  }\n  .header > .row > div {\n    margin-top: 10px;\n  }\n}\n</style>\n"],"sourceRoot":"src/components"}]}