{"remainingRequest":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/babel-loader/lib/index.js!/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js??vue-loader-options!/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/src/components/AutomationDetails.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/src/components/AutomationDetails.vue","mtime":1581270622000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/package.json","mtime":1587799327166},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IEV2ZW50U2VydmljZSB9IGZyb20gIi4uL21haW4uanMiOwppbXBvcnQgQXV0b21hdGlvblNlcnZpY2UgZnJvbSAiLi4vc2VydmljZXMvQXV0b21hdGlvblNlcnZpY2UuanMiOwppbXBvcnQgSG9yekJhckNoYXJ0IGZyb20gIi4vQ2hhcnRzL0hvcnpCYXJDaGFydCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnYXV0b21hdGlvbkRldGFpbHMnLAogIGNvbXBvbmVudHM6IHsKICAgIEhvcnpCYXJDaGFydDogSG9yekJhckNoYXJ0CiAgfSwKICBwcm9wczogWydzZWxlY3RlZEF1dG9tYXRpb24nXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYXV0b21hdGlvbjoge30sCiAgICAgIGF1dG9tYXRpb25Mb2dzOiBbewogICAgICAgIGFjdGlvbjogJzEnLAogICAgICAgIGFjdGlvbnRpbWU6IDAsCiAgICAgICAgZW1haWxTZW50OiAyNTAsCiAgICAgICAgc21zU2VudDogMjUwLAogICAgICAgIGVtYWlsc09wZW5lZDogMTUwLAogICAgICAgIGVtYWlsQ2xpY2tzOiA1MCwKICAgICAgICBzbXNDbGlja3M6IDEyNQogICAgICB9XSwKICAgICAgZXhhbXBsZTogewogICAgICAgIGFjdGlvbjogJzEnLAogICAgICAgIGFjdGlvbnRpbWU6IDAsCiAgICAgICAgZW1haWxTZW50OiAyNTAsCiAgICAgICAgc21zU2VudDogMjUwLAogICAgICAgIGVtYWlsc09wZW5lZDogMTUwLAogICAgICAgIGVtYWlsQ2xpY2tzOiA1MCwKICAgICAgICBzbXNDbGlja3M6IDEyNQogICAgICB9LAogICAgICBjb3VudGVyOiAwLAogICAgICBzZWxlY3RlZEFjdGlvbjogbnVsbCwKICAgICAgYmFyQ2hhcnRPcHRpb25zOiB7CiAgICAgICAgbWFpbnRhaW5Bc3BlY3RSYXRpbzogZmFsc2UsCiAgICAgICAgYmFyUGVyY2VudGFnZTogMC44LAogICAgICAgIHNjYWxlczogewogICAgICAgICAgeEF4ZXM6IFt7CiAgICAgICAgICAgIHRpY2tzOiB7CiAgICAgICAgICAgICAgbWluOiAwCiAgICAgICAgICAgIH0KICAgICAgICAgIH1dCiAgICAgICAgfSwKICAgICAgICBsZWdlbmQ6IHsKICAgICAgICAgIGRpc3BsYXk6IGZhbHNlCiAgICAgICAgfQogICAgICB9CiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuYXV0b21hdGlvbiA9IHRoaXMuc2VsZWN0ZWRBdXRvbWF0aW9uOwogICAgdGhpcy5zZXRBdXRvbWF0aW9uTG9nc0V4YW1wbGUoKTsgLy8gdGhpcy5zZWxlY3RlZEFjdGlvbiA9IHRoaXMuYXV0b21hdGlvbkxvZ3NbMF07CiAgfSwKICBjb21wdXRlZDogewogICAgcmVwb3J0RGF0YTogZnVuY3Rpb24gcmVwb3J0RGF0YSgpIHsKICAgICAgdmFyIHZtID0gdGhpczsKCiAgICAgIGlmICh2bS5zZWxlY3RlZEFjdGlvbikgewogICAgICAgIHZhciBkYXRhU2V0ID0gW107IC8vIGNvbnNvbGUubG9nKHRoaXMuc2VsZWN0ZWRBY3Rpb24pOwoKICAgICAgICBPYmplY3Qua2V5cyh2bS5zZWxlY3RlZEFjdGlvbikuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHsKICAgICAgICAgIGlmICgiIi5jb25jYXQoZWwpICE9ICdhY3Rpb24nICYmICIiLmNvbmNhdChlbCkgIT0gJ2FjdGlvbnRpbWUnKSB7CiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHBhcnNlSW50KGAke3ZtLnNlbGVjdGVkQWN0aW9uW2VsXX1gKSk7CiAgICAgICAgICAgIGRhdGFTZXQucHVzaChwYXJzZUludCgiIi5jb25jYXQodm0uc2VsZWN0ZWRBY3Rpb25bZWxdKSkpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHJldHVybiB7CiAgICAgICAgICBsYWJlbHM6IFsnRW1haWxzIFNlbnQnLCAnU01TIFNlbnQnLCAnRW1haWxzIE9wZW5lZCcsICdFbWFpbHMgQ2xpY2tlZCcsICdTTVMgQ2xpY2tlZCddLAogICAgICAgICAgZGF0YXNldHM6IFt7CiAgICAgICAgICAgIGRhdGE6IGRhdGFTZXQgfHwgW10sCiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogWydyZ2JhKDc5LCAyMDMsIDE5NywgMSknLCAncmdiYSg3OSwgMTUwLCAxOTcsIDEpJywgJ3JnYmEoNzksIDIwLCA1NSwgMSknLCAncmdiYSgxNjYsIDM0LCAxOTcsIDEpJywgJ3JnYmEoMjUwLCAxLCAxOTcsIDEpJ10KICAgICAgICAgIH1dCiAgICAgICAgfTsKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgc2VsZWN0QWN0aW9uOiBmdW5jdGlvbiBzZWxlY3RBY3Rpb24oYWN0aW9uKSB7CiAgICAgIHRoaXMuc2VsZWN0ZWRBY3Rpb24gPSBhY3Rpb247CiAgICB9LAogICAgc2V0QXV0b21hdGlvbkxvZ3NFeGFtcGxlOiBmdW5jdGlvbiBzZXRBdXRvbWF0aW9uTG9nc0V4YW1wbGUoKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CgogICAgICBpZiAodm0uY291bnRlciA8IDQpIHsKICAgICAgICB2YXIgdGVzdCA9IHt9OwogICAgICAgIE9iamVjdC5rZXlzKHZtLmV4YW1wbGUpLmZvckVhY2goZnVuY3Rpb24gKGVsLCBpKSB7CiAgICAgICAgICBpZiAoIiIuY29uY2F0KGVsKSA9PSAnYWN0aW9uJykgewogICAgICAgICAgICB0ZXN0W2VsXSA9IHBhcnNlSW50KCIiLmNvbmNhdCh2bS5leGFtcGxlW2VsXSkpICsgMTsKICAgICAgICAgIH0gZWxzZSBpZiAoIiIuY29uY2F0KGVsKSA9PSAnYWN0aW9udGltZScpIHsKICAgICAgICAgICAgdGVzdFtlbF0gPSBwYXJzZUludCgiIi5jb25jYXQodm0uZXhhbXBsZVtlbF0pKSArIDI7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0ZXN0W2VsXSA9IE1hdGguY2VpbCgiIi5jb25jYXQodm0uZXhhbXBsZVtlbF0gKiBNYXRoLnJhbmRvbSgpKSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgdm0uZXhhbXBsZSA9IHRlc3Q7CiAgICAgICAgdm0uYXV0b21hdGlvbkxvZ3MucHVzaCh0ZXN0KTsKICAgICAgICB2bS5jb3VudGVyKys7CiAgICAgICAgdm0uc2V0QXV0b21hdGlvbkxvZ3NFeGFtcGxlKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc29sZS5sb2coJ0RvbmUhJyk7CiAgICAgIH0KICAgIH0sCiAgICBjbG9zZU1vZGFsOiBmdW5jdGlvbiBjbG9zZU1vZGFsKCkgewogICAgICB0aGlzLiRlbWl0KCJjbG9zZU1vZGFsIik7CiAgICAgIHRoaXMuYXV0b21hdGlvbiA9IHt9OwogICAgICBFdmVudFNlcnZpY2UuJGVtaXQoImxvYWRpbmciLCAiaGlkZSIpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["AutomationDetails.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <transition name=\"modal\">\n    <div class=\"modal-mask\" @click=\"closeModal()\">\n      <div class=\"automation-report\" @click.stop>\n        <header>\n          <span>{{automation.name}}</span>\n          <i class=\"fal fa-times\" @click=\"closeModal()\"></i>\n        </header>\n        <div class=\"automation-graphic-reports\">\n          <div v-if=\"!selectedAction\">Select an action to get funnel report on that message's conversion.</div>\n          <div class=\"funnel-report\">\n              <horz-bar-chart :chart-data=\"reportData\" :options=\"barChartOptions\" height=\"300\" style=\"padding: 0; margin: 0;\" />\n          </div>\n        </div>\n        <div class=\"automation-analytics\" v-for=\"log in automationLogs\">\n          <div class=\"action-grouping\">\n            <span class=\"analytic-row\"><label>Action: </label><span class=\"selectable\" :class=\"{'selected': log == selectedAction}\" @click=\"selectAction(log)\">{{log.action}}</span> </span>\n            <span class=\"analytic-row\"><label>Time Delay: </label><span>{{log.actiontime}}</span> </span>\n            <span class=\"analytic-row\"><label>Emails Sent: </label><span>{{log.emailSent}}</span> </span>\n            <span class=\"analytic-row\"><label>SMS Sent: </label><span>{{log.smsSent}}</span> </span>\n            <span class=\"analytic-row\"><label>Emails Opened: </label><span>{{log.emailsOpened}}</span> </span>\n            <span class=\"analytic-row\"><label>Emails Clicked: </label><span>{{log.emailClicks}}</span> </span>\n            <span class=\"analytic-row\"><label>SMS Clicked: </label><span>{{log.smsClicks}}</span> </span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script>\nimport {EventService} from '../main.js';\nimport AutomationService from '../services/AutomationService.js';\nimport HorzBarChart from './Charts/HorzBarChart';\n\nexport default {\n  name: 'automationDetails',\n  components: { HorzBarChart },\n  props: ['selectedAutomation'],\n  data: function() {\n    return {\n      automation: {},\n      automationLogs: [{action : '1', actiontime : 0, emailSent : 250, smsSent : 250, emailsOpened : 150, emailClicks : 50, smsClicks : 125}],\n      example: {action : '1', actiontime : 0, emailSent : 250, smsSent : 250, emailsOpened : 150, emailClicks : 50, smsClicks : 125},\n      counter: 0,\n      selectedAction: null,\n      barChartOptions: {\n        maintainAspectRatio: false,\n        barPercentage: 0.8,\n        scales: {\n          xAxes: [{\n            ticks: {\n              min: 0\n            }\n          }]\n        },\n        legend: {\n          display: false\n        }\n      }\n    }\n  },\n  created() {\n    this.automation = this.selectedAutomation;\n    this.setAutomationLogsExample();\n    // this.selectedAction = this.automationLogs[0];\n  },\n  computed: {\n    reportData() {\n      let vm = this;\n      if(vm.selectedAction){\n        let dataSet = [];\n          // console.log(this.selectedAction);\n        Object.keys(vm.selectedAction).forEach(el => {\n          if(`${el}` != 'action' && `${el}` != 'actiontime') {\n            // console.log(parseInt(`${vm.selectedAction[el]}`));\n            dataSet.push(parseInt(`${vm.selectedAction[el]}`));\n          } \n        })\n        return {\n          labels: ['Emails Sent', 'SMS Sent', 'Emails Opened', 'Emails Clicked', 'SMS Clicked'],\n          datasets: [\n            {\n              data: dataSet || [],\n              backgroundColor: [\n                'rgba(79, 203, 197, 1)',\n                'rgba(79, 150, 197, 1)',\n                'rgba(79, 20, 55, 1)',\n                'rgba(166, 34, 197, 1)',\n                'rgba(250, 1, 197, 1)'\n              ]\n            }\n          ]\n        }              \n      }\n    }\n  },\n  methods: {\n    selectAction(action) {\n      this.selectedAction = action;\n    },\n    setAutomationLogsExample() {\n      let vm = this;\n      if(vm.counter < 4) {\n        let test = {};\n      Object.keys(vm.example).forEach((el, i) => {\n        if(`${el}` == 'action') {\n          test[el] = (parseInt(`${vm.example[el]}`) + 1);\n        } else if(`${el}` == 'actiontime') {        \n          test[el] = (parseInt(`${vm.example[el]}`)+ 2);\n        } else {\n          test[el] = Math.ceil(`${vm.example[el]*(Math.random())}`);\n        }\n      })\n      vm.example = test;\n      vm.automationLogs.push(test);\n      vm.counter++\n      vm.setAutomationLogsExample();\n      } else {\n        console.log('Done!');\n      }\n    },\n    closeModal() {\n      this.$emit(\"closeModal\");\n      this.automation = {};\n      EventService.$emit(\"loading\", \"hide\");\n    }\n  }\n}\n</script>\n\n\n<style scoped>\n\n.automation-report {\n  display: flex;\n  flex-direction: column;\n  background: white;\n  width: 80%;\n  height: 700px;\n  margin-top: 60px;\n  margin-left: 50%;\n  transform: translateX(-50%);\n}\n\nheader {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 15px 30px;\n  font-size: 25px;\n  border-bottom: 1px solid lightgrey;\n  margin-bottom: 30px;\n}\n\nheader i {\n  cursor: pointer;\n  color: grey;\n}\n\n.automation-graphic-reports {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-content: center;\n  align-items: center;\n}\n\n.automation-analytics {\n  display: flex;\n  flex-direction: column;\n}\n\n.action-grouping {\n  display: flex;\n  justify-content: space-around;\n}\n\n.analytic-row {\n  margin-top: 20px;\n}\n\n.selectable {\n  cursor: pointer;\n  color: #4fcbc5;\n}\n\n.selected {\n  color: #f48d46;\n  cursor: unset;\n}\n\n</style>\n"],"sourceRoot":"src/components"}]}