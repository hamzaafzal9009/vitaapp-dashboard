{"remainingRequest":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/babel-loader/lib/index.js!/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js??vue-loader-options!/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/src/components/Reports/ReviewsByYearReport.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/src/components/Reports/ReviewsByYearReport.vue","mtime":1581270622000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/package.json","mtime":1587799327166},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYucmVnZXhwLnRvLXN0cmluZyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IEV2ZW50U2VydmljZSB9IGZyb20gIi4uLy4uL21haW4iOwppbXBvcnQgUmVwb3J0U2VydmljZSBmcm9tICIuLy4uLy4uL3NlcnZpY2VzL1JlcG9ydFNlcnZpY2UiOwppbXBvcnQgVXNlclNlcnZpY2UgZnJvbSAiLi8uLi8uLi9zZXJ2aWNlcy9Vc2VyU2VydmljZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnUmV2aWV3c0J5WWVhclJlcG9ydCcsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHJldmlld0RhdGE6IG51bGwsCiAgICAgIHNlbGVjdGVkWWVhcjogJycsCiAgICAgIHllYXJPcHRpb25zOiBbXSwKICAgICAgcHJpb3JEYXRhOiBbXSwKICAgICAgcHJpb3JHb29nbGVEYXRhOiB7CiAgICAgICAgcHJpb3JSZXZpZXdzOiAwLAogICAgICAgIHByaW9yUmF0aW5nOiAwLjAKICAgICAgfSwKICAgICAgcHJpb3JGYWNlYm9va0RhdGE6IHsKICAgICAgICBwcmlvclJldmlld3M6IDAsCiAgICAgICAgcHJpb3JSYXRpbmc6IDAuMAogICAgICB9LAogICAgICBwcmlvclllbHBEYXRhOiB7CiAgICAgICAgcHJpb3JSZXZpZXdzOiAwLAogICAgICAgIHByaW9yUmF0aW5nOiAwLjAKICAgICAgfSwKICAgICAgcHJpb3JPcGluaWlvbkRhdGE6IHsKICAgICAgICBwcmlvclJldmlld3M6IDAsCiAgICAgICAgcHJpb3JSYXRpbmc6IDAuMAogICAgICB9LAogICAgICBkaXNwbGF5ZWRDYXJkczogW10sCiAgICAgIHllYXJJbmRleDogWydKYW4nLCAnRmViJywgJ01hcicsICdBcHInLCAnTWF5JywgJ0p1bicsICdKdWwnLCAnQXVnJywgJ1NlcCcsICdPY3QnLCAnTm92JywgJ0RlYyddCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGN1cnJlbnRNb250aDogZnVuY3Rpb24gY3VycmVudE1vbnRoKCkgewogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICB2YXIgbmV3RGF0ZSA9IG5ldyBEYXRlKCk7CiAgICAgIHZhciBjdXJyZW50TW9udGggPSBuZXdEYXRlLmdldE1vbnRoKCk7CiAgICAgIHJldHVybiB2bS55ZWFySW5kZXhbY3VycmVudE1vbnRoXTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnNldFllYXJPcHRpb25zKCk7CiAgICB0aGlzLmdldFJldmlld3NEYXRhKCk7CiAgICB0aGlzLmNoZWNrRm9yRGF0ZSgpOwogICAgRXZlbnRTZXJ2aWNlLiRvbignbG9jYXRpb25DaGFuZ2UnLCB0aGlzLmdldFJldmlld3NEYXRhKTsKICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICBFdmVudFNlcnZpY2UuJG9mZignbG9jYXRpb25DaGFuZ2UnLCB0aGlzLmdldFJldmlld3NEYXRhKTsKICB9LAogIGZpbHRlcnM6IHsKICAgIG9uZURlY2ltYWw6IGZ1bmN0aW9uIG9uZURlY2ltYWwodmFsdWUpIHsKICAgICAgcmV0dXJuIHZhbHVlLnRvRml4ZWQoMSk7CiAgICB9IC8vIGNvbW1hU2VwYXJhdGUodmFsdWUpIHsKICAgIC8vICAgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCkucmVwbGFjZSgvKFxkKSg/PShcZHszfSkrKD8hXGQpKS9nLCAnJDEsJyk7CiAgICAvLyB9CgogIH0sCiAgbWV0aG9kczogewogICAgc2V0WWVhck9wdGlvbnM6IGZ1bmN0aW9uIHNldFllYXJPcHRpb25zKCkgewogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICB2YXIgdGhpc1llYXIgPSBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCk7CgogICAgICBmb3IgKHZhciBpID0gMjAwMDsgaSA8IHRoaXNZZWFyICsgMTsgaSsrKSB7CiAgICAgICAgdm0ueWVhck9wdGlvbnMucHVzaChpLnRvU3RyaW5nKCkpOwogICAgICB9CgogICAgICB2bS5zZWxlY3RlZFllYXIgPSB0aGlzWWVhci50b1N0cmluZygpOwogICAgfSwKICAgIGdldFJldmlld3NEYXRhOiBmdW5jdGlvbiBnZXRSZXZpZXdzRGF0YShkYXRhKSB7CiAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgibG9hZGluZyIsICJzaG93Iik7CiAgICAgIHRoaXMucmV2aWV3RGF0YSA9IG51bGw7CiAgICAgIHZhciBsb2NhdGlvbklkQXJyYXkgPSBbXTsKICAgICAgdmFyIGxvY2F0aW9uSWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbG9jYXRpb25JZCcpOwoKICAgICAgaWYgKGxvY2F0aW9uSWQpIHsKICAgICAgICBsb2NhdGlvbklkQXJyYXkucHVzaChsb2NhdGlvbklkKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgbG9jT3B0aW9ucyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xvY2F0aW9uT3B0aW9ucycpKTsKICAgICAgICBsb2NPcHRpb25zLm1hcChmdW5jdGlvbiAoZWwpIHsKICAgICAgICAgIHJldHVybiBsb2NhdGlvbklkQXJyYXkucHVzaChlbC5sb2NhdGlvbklkKTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgUmVwb3J0U2VydmljZS5yZXZpZXdzQnlZZWFyKHZtLnNlbGVjdGVkWWVhciwgbG9jYXRpb25JZEFycmF5KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgibG9hZGluZyIsICJoaWRlIik7CiAgICAgICAgdm0ucmV2aWV3RGF0YSA9IHJlc3BvbnNlLnJlc3VsdDsKICAgICAgICB2YXIgZ29vZ2xlID0gW107CiAgICAgICAgdmFyIGZhY2Vib29rID0gW107CiAgICAgICAgdmFyIHllbHAgPSBbXTsKICAgICAgICB2YXIgb3Bpbmlpb24gPSBbXTsKICAgICAgICB2bS5yZXZpZXdEYXRhLm1hcChmdW5jdGlvbiAobW9udGgpIHsKICAgICAgICAgIG1vbnRoLm5ld1Jldmlld3MubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHsKICAgICAgICAgICAgdmFyIG5hbWUgPSBzb3VyY2Uuc291cmNlLnRvTG93ZXJDYXNlKCk7CgogICAgICAgICAgICBpZiAobmFtZSA9PSAnZ29vZ2xlJykgewogICAgICAgICAgICAgIGdvb2dsZS5wdXNoKHsKICAgICAgICAgICAgICAgIHNvdXJjZTogbmFtZSwKICAgICAgICAgICAgICAgIG1vbnRoOiBtb250aC5uYW1lLAogICAgICAgICAgICAgICAgYXZlcmFnZVJhdGluZzogc291cmNlLmF2ZXJhZ2VSYXRpbmcsCiAgICAgICAgICAgICAgICBjb3VudDogc291cmNlLmNvdW50CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAobmFtZSA9PSAnZmFjZWJvb2snKSB7CiAgICAgICAgICAgICAgZmFjZWJvb2sucHVzaCh7CiAgICAgICAgICAgICAgICBzb3VyY2U6IG5hbWUsCiAgICAgICAgICAgICAgICBtb250aDogbW9udGgubmFtZSwKICAgICAgICAgICAgICAgIGF2ZXJhZ2VSYXRpbmc6IHNvdXJjZS5hdmVyYWdlUmF0aW5nLAogICAgICAgICAgICAgICAgY291bnQ6IHNvdXJjZS5jb3VudAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgaWYgKG5hbWUgPT0gJ3llbHAnKSB7CiAgICAgICAgICAgICAgeWVscC5wdXNoKHsKICAgICAgICAgICAgICAgIHNvdXJjZTogbmFtZSwKICAgICAgICAgICAgICAgIG1vbnRoOiBtb250aC5uYW1lLAogICAgICAgICAgICAgICAgYXZlcmFnZVJhdGluZzogc291cmNlLmF2ZXJhZ2VSYXRpbmcsCiAgICAgICAgICAgICAgICBjb3VudDogc291cmNlLmNvdW50CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAobmFtZSA9PSAnb3Bpbmlpb24nKSB7CiAgICAgICAgICAgICAgb3Bpbmlpb24ucHVzaCh7CiAgICAgICAgICAgICAgICBzb3VyY2U6IG5hbWUsCiAgICAgICAgICAgICAgICBtb250aDogbW9udGgubmFtZSwKICAgICAgICAgICAgICAgIGF2ZXJhZ2VSYXRpbmc6IHNvdXJjZS5hdmVyYWdlUmF0aW5nLAogICAgICAgICAgICAgICAgY291bnQ6IHNvdXJjZS5jb3VudAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgICB2bS5yZXZpZXdEYXRhID0gW2dvb2dsZSwgZmFjZWJvb2ssIHllbHAsIG9waW5paW9uXTsKICAgICAgICB2bS5nZXRQcmlvckRhdGEoKTsKICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRQcmlvckRhdGE6IGZ1bmN0aW9uIGdldFByaW9yRGF0YSgpIHsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgdm0ucHJpb3JEYXRhID0gbnVsbDsKICAgICAgdm0ucHJpb3JHb29nbGVEYXRhID0gewogICAgICAgIHByaW9yUmV2aWV3czogMCwKICAgICAgICBwcmlvclJhdGluZzogMC4wCiAgICAgIH07CiAgICAgIHZtLnByaW9yRmFjZWJvb2tEYXRhID0gewogICAgICAgIHByaW9yUmV2aWV3czogMCwKICAgICAgICBwcmlvclJhdGluZzogMC4wCiAgICAgIH07CiAgICAgIHZtLnByaW9yWWVscERhdGEgPSB7CiAgICAgICAgcHJpb3JSZXZpZXdzOiAwLAogICAgICAgIHByaW9yUmF0aW5nOiAwLjAKICAgICAgfTsKICAgICAgdm0ucHJpb3JPcGluaWlvbkRhdGEgPSB7CiAgICAgICAgcHJpb3JSZXZpZXdzOiAwLAogICAgICAgIHByaW9yUmF0aW5nOiAwLjAKICAgICAgfTsKICAgICAgdmFyIGxvY2F0aW9uSWRBcnJheSA9IFtdOwogICAgICB2YXIgbG9jYXRpb25JZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsb2NhdGlvbklkJyk7CgogICAgICBpZiAobG9jYXRpb25JZCkgewogICAgICAgIGxvY2F0aW9uSWRBcnJheS5wdXNoKGxvY2F0aW9uSWQpOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBsb2NPcHRpb25zID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbG9jYXRpb25PcHRpb25zJykpOwogICAgICAgIGxvY09wdGlvbnMubWFwKGZ1bmN0aW9uIChlbCkgewogICAgICAgICAgcmV0dXJuIGxvY2F0aW9uSWRBcnJheS5wdXNoKGVsLmxvY2F0aW9uSWQpOwogICAgICAgIH0pOwogICAgICB9CgogICAgICBSZXBvcnRTZXJ2aWNlLnJldmlld3NQcmlvclRvWWVhcih2bS5zZWxlY3RlZFllYXIsIGxvY2F0aW9uSWRBcnJheSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UucmVzdWx0KSB7CiAgICAgICAgICB2bS5wcmlvckRhdGEgPSByZXNwb25zZS5yZXN1bHQ7CiAgICAgICAgICB2bS5wcmlvckRhdGEubWFwKGZ1bmN0aW9uIChlbCkgewogICAgICAgICAgICBpZiAoZWwuX2lkID09ICdHb29nbGUnKSB7CiAgICAgICAgICAgICAgdm0ucHJpb3JHb29nbGVEYXRhID0gewogICAgICAgICAgICAgICAgcHJpb3JSZXZpZXdzOiBlbC50b3RhbFJldmlld3MsCiAgICAgICAgICAgICAgICBwcmlvclJhdGluZzogZWwuYXZlcmFnZVJhdGluZwogICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0gZWxzZSBpZiAoZWwuX2lkID09ICdGYWNlYm9vaycpIHsKICAgICAgICAgICAgICB2bS5wcmlvckZhY2Vib29rRGF0YSA9IHsKICAgICAgICAgICAgICAgIHByaW9yUmV2aWV3czogZWwudG90YWxSZXZpZXdzLAogICAgICAgICAgICAgICAgcHJpb3JSYXRpbmc6IGVsLmF2ZXJhZ2VSYXRpbmcKICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9IGVsc2UgaWYgKGVsLl9pZCA9PSAnWWVscCcpIHsKICAgICAgICAgICAgICB2bS5wcmlvclllbHBEYXRhID0gewogICAgICAgICAgICAgICAgcHJpb3JSZXZpZXdzOiBlbC50b3RhbFJldmlld3MsCiAgICAgICAgICAgICAgICBwcmlvclJhdGluZzogZWwuYXZlcmFnZVJhdGluZwogICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0gZWxzZSBpZiAoZWwuX2lkID09ICdPcGluaWlvbicpIHsKICAgICAgICAgICAgICB2bS5wcmlvck9waW5paW9uRGF0YSA9IHsKICAgICAgICAgICAgICAgIHByaW9yUmV2aWV3czogZWwudG90YWxSZXZpZXdzLAogICAgICAgICAgICAgICAgcHJpb3JSYXRpbmc6IGVsLmF2ZXJhZ2VSYXRpbmcKICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKCiAgICAgICAgICBpZiAodm0ucHJpb3JHb29nbGVEYXRhLnByaW9yUmV2aWV3cyA9PSAwKSB7CiAgICAgICAgICAgIGlmICh2bS5yZXZpZXdEYXRhWzBdLnNvbWUoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGVsLmNvdW50ID4gMDsKICAgICAgICAgICAgfSkpIHsvLyBOb3RoaW5nIGhhcHBlbnMKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB2bS5yZXZpZXdEYXRhLnNwbGljZSgwLCAxKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIGlmICh2bS5wcmlvckZhY2Vib29rRGF0YS5wcmlvclJldmlld3MgPT0gMCkgewogICAgICAgICAgICBpZiAodm0ucmV2aWV3RGF0YVt2bS5yZXZpZXdEYXRhLmxlbmd0aCAtIDNdLnNvbWUoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGVsLmNvdW50ID4gMDsKICAgICAgICAgICAgfSkpIHsvLyBEbyBOb3RoaW5nCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdm0ucmV2aWV3RGF0YS5zcGxpY2Uodm0ucmV2aWV3RGF0YS5sZW5ndGggLSAzLCAxKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIGlmICh2bS5wcmlvclllbHBEYXRhLnByaW9yUmV2aWV3cyA9PSAwKSB7CiAgICAgICAgICAgIGlmICh2bS5yZXZpZXdEYXRhW3ZtLnJldmlld0RhdGEubGVuZ3RoIC0gMl0uc29tZShmdW5jdGlvbiAoZWwpIHsKICAgICAgICAgICAgICByZXR1cm4gZWwuY291bnQgPiAwOwogICAgICAgICAgICB9KSkgey8vIERvIE5vdGhpbmcKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB2bS5yZXZpZXdEYXRhLnNwbGljZSh2bS5yZXZpZXdEYXRhLmxlbmd0aCAtIDIsIDEpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHZtLnByaW9yT3Bpbmlpb25EYXRhLnByaW9yUmV2aWV3cyA9PSAwKSB7CiAgICAgICAgICAgIGlmICh2bS5yZXZpZXdEYXRhW3ZtLnJldmlld0RhdGEubGVuZ3RoIC0gMV0uc29tZShmdW5jdGlvbiAoZWwpIHsKICAgICAgICAgICAgICByZXR1cm4gZWwuY291bnQgPiAwOwogICAgICAgICAgICB9KSkgey8vIERvIE5vdGhpbmcKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB2bS5yZXZpZXdEYXRhLnNwbGljZSh2bS5yZXZpZXdEYXRhLmxlbmd0aCAtIDEsIDEpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBnZXRJY29uRm9yU291cmNlOiBmdW5jdGlvbiBnZXRJY29uRm9yU291cmNlKHNvdXJjZSkgewogICAgICBpZiAoc291cmNlID09ICJnb29nbGUiKSB7CiAgICAgICAgcmV0dXJuIHJlcXVpcmUoIi4uLy4uLy4uL3B1YmxpYy9pbWcvR29vZ2xlX0ljb24ucG5nIik7CiAgICAgIH0gZWxzZSBpZiAoc291cmNlID09ICJ5ZWxwIikgewogICAgICAgIHJldHVybiByZXF1aXJlKCIuLi8uLi8uLi9wdWJsaWMvaW1nL1llbHBfSWNvbi5wbmciKTsKICAgICAgfSBlbHNlIGlmIChzb3VyY2UgPT0gImZhY2Vib29rIikgewogICAgICAgIHJldHVybiByZXF1aXJlKCIuLi8uLi8uLi9wdWJsaWMvaW1nL0ZhY2Vib29rX0ljb24ucG5nIik7CiAgICAgIH0gZWxzZSBpZiAoc291cmNlID09ICJmb3Vyc3F1YXJlIikgewogICAgICAgIHJldHVybiByZXF1aXJlKCIuLi8uLi8uLi9wdWJsaWMvaW1nL0ZvdXJzcXVhcmVfSWNvbi5wbmciKTsKICAgICAgfSBlbHNlIGlmIChzb3VyY2UgPT0gImNpdHlzZWFyY2giKSB7CiAgICAgICAgcmV0dXJuIHJlcXVpcmUoIi4uLy4uLy4uL3B1YmxpYy9pbWcvQ2l0eXNlYXJjaF9JY29uLnBuZyIpOwogICAgICB9IGVsc2UgaWYgKHNvdXJjZSA9PSAieWVsbG93cGFnZXMiKSB7CiAgICAgICAgcmV0dXJuIHJlcXVpcmUoIi4uLy4uLy4uL3B1YmxpYy9pbWcvWVBfSWNvbi5wbmciKTsgLy8gfSBlbHNlIGlmIChzb3VyY2UgPT0gJ1RyaXBBZHZpc29yJykgewogICAgICAgIC8vICAgcmV0dXJuIHJlcXVpcmUoJy4uLy4uLy4uL3B1YmxpYy9pbWcvVHJpcEFkdmlzb3JfSWNvbi5wbmcnKTsKICAgICAgICAvLyB9IGVsc2UgaWYgKHNvdXJjZSA9PSAnQkJCJykgewogICAgICAgIC8vICAgcmV0dXJuIHJlcXVpcmUoJy4uLy4uLy4uL3B1YmxpYy9pbWcvQkJCX0ljb24ucG5nJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHJlcXVpcmUoIi4uLy4uLy4uL3B1YmxpYy9pbWcvT3Bpbmlpb25fSWNvbi5wbmciKTsKICAgICAgfQogICAgfSwKICAgIGdldFByaW9yQW1vdW50czogZnVuY3Rpb24gZ2V0UHJpb3JBbW91bnRzKGluZGV4LCBkYXRhKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIHJldHVybiBkYXRhLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBjdXJyLCBpKSB7CiAgICAgICAgaWYgKGkgPCBpbmRleCkgewogICAgICAgICAgcmV0dXJuIGFjYyArIGN1cnIuY291bnQ7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBhY2M7CiAgICAgICAgfQogICAgICB9LCAwKTsKICAgIH0sCiAgICBjaGVja0ZvckRhdGU6IGZ1bmN0aW9uIGNoZWNrRm9yRGF0ZShkYXRhcCkgewogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICB2YXIgdG9kYXkgPSBuZXcgRGF0ZSgpOwogICAgICB2YXIgdGhpc1llYXIgPSB0b2RheS5nZXRGdWxsWWVhcigpOwogICAgICB2YXIgc2VsWWVhciA9IHZtLnNlbGVjdGVkWWVhcjsKCiAgICAgIGlmICh0aGlzWWVhciA9PSBzZWxZZWFyKSB7CiAgICAgICAgaWYgKGRhdGFwICYmIGRhdGFwLm1vbnRoKSB7CiAgICAgICAgICB2YXIgdGhpc01vbnRoID0gdG9kYXkudG9TdHJpbmcoKS5zdWJzdHIoNCwgMyk7CiAgICAgICAgICB2YXIgZGF0YU1vbnRoID0gZGF0YXAubW9udGguc3Vic3RyKDAsIDMpOwoKICAgICAgICAgIGlmICh2bS55ZWFySW5kZXguaW5kZXhPZihkYXRhTW9udGgpID4gdm0ueWVhckluZGV4LmluZGV4T2YodGhpc01vbnRoKSkgewogICAgICAgICAgICByZXR1cm4gJy0nOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIGRhdGFwLmNvdW50OwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gJy0nOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gZGF0YXAuY291bnQ7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["ReviewsByYearReport.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div id=\"reviews-by-source-report-wrapper\">\n    <!-- <div id=\"report-header\">\n      <div id=\"report-name-wrapper\">\n        Reviews by Year\n      </div>\n      <div id=\"report-options-wrapper\">\n        <label>Selected Year</label>\n        <select v-model=\"selectedYear\" @change=\"getReviewsData()\">\n          <option :value=\"option\" v-for=\"option in yearOptions\">{{option}}</option>\n        </select>\n      </div>\n    </div> -->\n    <div id=\"report-header\" class=\"box-shadow\">\n      <div id=\"report-name-wrapper\">\n        Reviews by Year\n      </div>\n      <div id=\"report-options-wrapper\">\n        <el-date-picker\n          v-model=\"selectedYear\"\n          @input=\"getReviewsData\"\n          type=\"year\"\n          placeholder=\"Select year\"\n          value-format=\"yyyy\" />\n      </div>\n    </div>\n    <div id=\"report-body\">\n      <div v-if=\"reviewData && reviewData.length\" class=\"card-wrapper\">\n        <!-- <div class=\"report-data\" v-for=\"data in reviewData\">\n          <span class='source-name-icon'>\n            <img :src=\"getIconForSource(data[0].source)\" height=\"30\" style=\"padding: 0 10px 0 5px;\"/> {{data[0].source}}\n          </span>\n          <div class=\"labels\">\n            <span>Total Reviews</span>\n            <span>New Reviews</span>\n            <span>Monthly Rating</span>\n          </div>\n          <div class=\"report-box\" v-for=\"(datap, i) in data\">\n            <span>\n              {{datap.month.substr(0,3)}}\n            </span>\n            <span v-if=\"data[0].source == 'google'\">\n              {{datap.count + getPriorAmounts(i, data) + priorGoogleData.priorReviews}}\n            </span>\n            <span v-if=\"data[0].source == 'facebook'\">\n              {{datap.count + getPriorAmounts(i, data) + priorFacebookData.priorReviews}}\n            </span>\n            <span v-if=\"data[0].source == 'yelp'\">\n              {{datap.count + getPriorAmounts(i, data) + priorYelpData.priorReviews}}\n            </span>\n            <span v-if=\"data[0].source == 'opiniion'\">\n              {{datap.count + getPriorAmounts(i, data) + priorOpiniionData.priorReviews}}\n            </span>\n            <span>\n            {{checkForDate(datap)}}\n            </span>\n            <span v-if=\"!isNaN(datap.averageRating)\">\n            {{datap.averageRating}}\n            </span>\n            <span v-else>\n              -\n            </span>\n          </div>         \n        </div> -->\n        <div class=\"card-RbY \" v-for=\"(data, dataIndex) in reviewData\" :key=\"dataIndex\">\n              <el-card  class=\"box-card\">\n                  <el-row>\n                    <el-col :span=\"24\">\n                      <img class=\"cardIcons\" :src=\"getIconForSource(data[0].source)\" alt=\"Logo\"> <p  class=\"cardTitle\">{{data[0].source}}</p>\n                    </el-col>\n                    <!-- <el-col :span=\"5\">\n                      <el-select placeholder=\"Last 12 Months\">\n                      </el-select>\n                    </el-col> -->\n                  </el-row>\n                  <br>\n                  <el-row :gutter=\"20\">\n                    <el-col :span=\"4\">\n                      <div class=\"labels\">\n                        <span>Total Reviews</span>\n                        <span>New Reviews</span>\n                        <span>Monthly Rating</span>\n                      </div>\n                    </el-col>\n                    <el-col :span=\"18\" class=\"report-box-wrapper\">\n                      <div :class=\"['report-box', {'current-month': datap.month.substr(0,3) == currentMonth}]\" v-for=\"(datap, i) in data\" :key=\"i\">\n                        <span>\n                          {{datap.month.substr(0,3)}}\n                        </span>\n                        <span v-if=\"data[0].source == 'google'\">\n                          {{datap.count + getPriorAmounts(i, data) + priorGoogleData.priorReviews}}\n                        </span>\n                        <span v-if=\"data[0].source == 'facebook'\">\n                          {{datap.count + getPriorAmounts(i, data) + priorFacebookData.priorReviews}}\n                        </span>\n                        <span v-if=\"data[0].source == 'yelp'\">\n                          {{datap.count + getPriorAmounts(i, data) + priorYelpData.priorReviews}}\n                        </span>\n                        <span v-if=\"data[0].source == 'opiniion'\">\n                          {{datap.count + getPriorAmounts(i, data) + priorOpiniionData.priorReviews}}\n                        </span>\n                        <span>\n                        {{checkForDate(datap)}}\n                        </span>\n                        <span v-if=\"!isNaN(datap.averageRating)\">\n                        {{datap.averageRating}}\n                        </span>\n                        <span v-else>\n                          -\n                        </span>\n                      </div>         \n                    </el-col>\n                  </el-row>\n                  <!-- <el-divider></el-divider> -->\n                  <div class=\"cardFooter\">\n               <!-- <i class=\"el-icon-refresh\"></i> Updated in the last hour -->\n              </div>\n              </el-card>\n        </div>\n      </div>\n      <div v-if=\"!reviewData || !reviewData.length\" class=\"no-data\">\n        No data found for selected year.\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {EventService} from '../../main';\nimport ReportService from './../../services/ReportService'\nimport UserService from './../../services/UserService'\n\nexport default {\n  name: 'ReviewsByYearReport',\n  data: function() {\n    return {\n      reviewData: null,\n      selectedYear: '',\n      yearOptions: [],\n      priorData: [],\n      priorGoogleData: {priorReviews: 0, priorRating: 0.0},\n      priorFacebookData: {priorReviews: 0, priorRating: 0.0},\n      priorYelpData: {priorReviews: 0, priorRating: 0.0},\n      priorOpiniionData: {priorReviews: 0, priorRating: 0.0},\n      displayedCards: [],\n      yearIndex: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec' ]\n    }\n  },\n  computed: {\n    currentMonth () {\n      let vm = this;\n      let newDate = new Date();\n      let currentMonth = newDate.getMonth();\n      return vm.yearIndex[currentMonth];\n    }\n  },\n  created() {\n    this.setYearOptions()\n    this.getReviewsData();\n    this.checkForDate();\n    EventService.$on('locationChange', this.getReviewsData);\n  },\n  beforeDestroy: function () {\n    EventService.$off('locationChange', this.getReviewsData);\n  },\n  filters: {\n    oneDecimal(value) {\n      return (value).toFixed(1);\n    },\n    // commaSeparate(value) {\n    //   return value.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,');\n    // }\n  },\n  methods: {\n    setYearOptions() {\n      let vm = this;\n      var thisYear = new Date().getFullYear();\n      for(var i = 2000; i < thisYear+1; i++) {\n        vm.yearOptions.push(i.toString())\n      }\n      vm.selectedYear = thisYear.toString();\n    },\n    getReviewsData(data) {\n      EventService.$emit(\"loading\", \"show\");\n      this.reviewData = null;\n      var locationIdArray = [];\n      let locationId = localStorage.getItem('locationId');\n      if(locationId) {\n        locationIdArray.push(locationId);\n      } else {\n        let locOptions = JSON.parse(localStorage.getItem('locationOptions'));\n        locOptions.map(el => locationIdArray.push(el.locationId));\n      }\n      \n      var vm = this;\n      ReportService.reviewsByYear(vm.selectedYear, locationIdArray).then(\n        function(response) {\n          EventService.$emit(\"loading\", \"hide\");\n          vm.reviewData = response.result;\n          let google = [];\n          let facebook = [];\n          let yelp = [];\n          let opiniion = [];\n          vm.reviewData.map(month => {\n            month.newReviews.map(source => {\n              let name = source.source.toLowerCase();\n              if(name == 'google') {\n                google.push(\n                  {\n                    source: name,\n                    month: month.name,\n                    averageRating: source.averageRating,\n                    count: source.count\n                  }\n                )\n              } else if(name == 'facebook') {\n                facebook.push(\n                  {\n                    source: name,\n                    month: month.name,\n                    averageRating: source.averageRating,\n                    count: source.count\n                  }\n                )\n              } else if(name == 'yelp') {\n                yelp.push(\n                  {\n                    source: name,\n                    month: month.name,\n                    averageRating: source.averageRating,\n                    count: source.count\n                  }\n                )\n              } else if(name == 'opiniion') {\n                opiniion.push(\n                  {\n                    source: name,\n                    month: month.name,\n                    averageRating: source.averageRating,\n                    count: source.count\n                  }\n                )\n              }\n            })\n          })\n          vm.reviewData = [google, facebook, yelp, opiniion];\n          vm.getPriorData();\n        }, function(error) {\n          console.log(error);\n      });\n    },\n    getPriorData() {\n      let vm = this;\n      vm.priorData = null;\n      vm.priorGoogleData = {priorReviews: 0, priorRating: 0.0};\n      vm.priorFacebookData = {priorReviews: 0, priorRating: 0.0};\n      vm.priorYelpData = {priorReviews: 0, priorRating: 0.0};\n      vm.priorOpiniionData = {priorReviews: 0, priorRating: 0.0};\n      var locationIdArray = [];\n      let locationId = localStorage.getItem('locationId');\n      if(locationId) {\n        locationIdArray.push(locationId);\n      } else {\n        let locOptions = JSON.parse(localStorage.getItem('locationOptions'));\n        locOptions.map(el => locationIdArray.push(el.locationId));\n      }\n      ReportService.reviewsPriorToYear(vm.selectedYear, locationIdArray).then(response => {        \n        if(response.result) {\n          vm.priorData = response.result;\n          vm.priorData.map(el => {\n            if(el._id == 'Google') {\n              vm.priorGoogleData = {priorReviews: el.totalReviews, priorRating: el.averageRating}\n            } else if(el._id == 'Facebook') {\n              vm.priorFacebookData = {priorReviews: el.totalReviews, priorRating: el.averageRating};            \n            } else if(el._id == 'Yelp') {\n              vm.priorYelpData = {priorReviews: el.totalReviews, priorRating: el.averageRating};\n            } else if(el._id == 'Opiniion') {\n              vm.priorOpiniionData = {priorReviews: el.totalReviews, priorRating: el.averageRating};\n            }\n          })\n          if(vm.priorGoogleData.priorReviews == 0) {\n            if(vm.reviewData[0].some(el => {\n              return el.count > 0;\n            })) {\n              // Nothing happens\n            } else {\n              vm.reviewData.splice(0, 1);\n            }\n          } \n          if(vm.priorFacebookData.priorReviews == 0) {\n            if(vm.reviewData[vm.reviewData.length - 3].some(el => {\n              return el.count > 0;\n            })) {\n              // Do Nothing\n            } else {\n              vm.reviewData.splice(vm.reviewData.length - 3, 1);\n            }\n          } \n          if(vm.priorYelpData.priorReviews == 0) {\n            if(vm.reviewData[vm.reviewData.length - 2].some(el => {\n              return el.count > 0;\n            })) {\n              // Do Nothing\n            } else {\n              vm.reviewData.splice(vm.reviewData.length - 2, 1);\n            }\n          }\n          if(vm.priorOpiniionData.priorReviews == 0) {\n            if(vm.reviewData[vm.reviewData.length - 1].some(el => {\n              return el.count > 0;\n            })) {\n              // Do Nothing\n            } else {\n              vm.reviewData.splice(vm.reviewData.length - 1, 1);            \n            }\n          }\n        }\n      })\n    },\n    getIconForSource(source) {\n      if (source == \"google\") {\n        return require(\"../../../public/img/Google_Icon.png\");\n      } else if (source == \"yelp\") {\n        return require(\"../../../public/img/Yelp_Icon.png\");\n      } else if (source == \"facebook\") {\n        return require(\"../../../public/img/Facebook_Icon.png\");\n      } else if (source == \"foursquare\") {\n        return require(\"../../../public/img/Foursquare_Icon.png\");\n      } else if (source == \"citysearch\") {\n        return require(\"../../../public/img/Citysearch_Icon.png\");\n      } else if (source == \"yellowpages\") {\n        return require(\"../../../public/img/YP_Icon.png\");\n        // } else if (source == 'TripAdvisor') {\n        //   return require('../../../public/img/TripAdvisor_Icon.png');\n        // } else if (source == 'BBB') {\n        //   return require('../../../public/img/BBB_Icon.png');\n      } else {\n        return require(\"../../../public/img/Opiniion_Icon.png\");\n      }\n    },\n    getPriorAmounts(index, data) {\n      let vm = this;\n      return data.reduce((acc, curr, i) => {\n        if(i < index) {\n          return acc + curr.count\n        } else {\n          return acc;\n        }\n      }, 0)\n    },\n    checkForDate(datap) {\n      let vm = this;\n      let today = new Date();\n      let thisYear = today.getFullYear();\n      let selYear = vm.selectedYear;\n      if(thisYear == selYear) {        \n        if(datap && datap.month) {\n          let thisMonth = today.toString().substr(4,3)\n          let dataMonth = datap.month.substr(0,3);\n          if(vm.yearIndex.indexOf(dataMonth) > vm.yearIndex.indexOf(thisMonth)) {\n            return '-';\n          } else {\n            return datap.count;\n          }        \n        } else {\n          return '-'\n        }\n      } else {\n        return datap.count;\n      }\n    }\n  }\n}\n</script>\n\n\n<style scoped>\n.current-month {\n  color: var(--opiniionblue);\n}\n.current-month.report-box span:nth-child(n+2) {\n  background: #E9F9F9;\n  color: var(--opiniionblue);\n  font-weight: bolder;\n  transition: all .2s ease;\n  -webkit-transition: all .2s ease;\n}\n.current-month.report-box span:nth-child(n+2):hover {\n  background: #B1E8E8;\n  color: white;\n}\n#report-header {\n    background: white;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-left: 2px;\n    height: 66px;\n    color: #545454;\n  }\n\n  #report-content-wrapper {\n    width: 100%;\n  }\n\n  #report-name-wrapper {\n    font-size: 24px;\n    padding: 20px 0 20px 20px;\n    font-weight: 700;\n  }\n\n  .card-wrapper {\n    display: flex;\n    flex-wrap: wrap;\n    padding: 5px;\n  }\n\n  #report-options-wrapper {\n    font-size: 20px;\n    padding: 20px 20px 10px 0;\n    display: flex;\n    align-items: baseline;\n  }\n\n  #report-options-wrapper > div {\n    margin-right: 20px;\n  }\n\n  .card {\n    width: 20vw;\n    background: white;\n    margin: 5px;\n  }\n\n  .card-title {\n    width: auto;\n    display: flex;\n    padding: 10px 5px;\n    border-bottom: .5px solid lightgray;\n    align-items: center;\n    font-weight: 600;\n    font-size: 14px;\n  }\n\n  .card-body {\n    display: flex;\n    justify-content: space-evenly;\n    padding: 10px 0 36px;\n  }\n\n  .total-reviews-wrapper,\n  .average-rating-wrapper {\n    text-align: center;\n    display: flex;\n    flex-direction: column;\n    margin: 7px 0;\n  }\n\n  .total-reviews-header,\n  .average-rating-header {\n    font-size: 12px;\n  }\n\n  .total-reviews-body,\n  .average-rating-body {\n    border: 1px solid black;\n    font-size: 30px;\n    font-weight: bold;\n    align-self: center;\n    margin-top: 5px;\n  }\n\n  .total-reviews-body {\n    padding: 20px;\n  }\n\n  .average-rating-body {\n    padding: 15px;\n  }\n\n  .report-body {\n    display: flex;\n    flex-direction: row;\n  }\n\n  .report-data {\n    width: 100%;\n    position: relative;\n    display: flex;\n    margin: 20px;\n    padding: 20px;\n    padding-top: 80px;\n    padding-bottom: 50px;\n    background: white;\n    box-shadow: 0 4px 8px rgba(0,0,0,.15);\n    justify-content: center;\n  }\n\n  .source-name-icon {\n    text-transform: capitalize;\n    position: absolute;\n    top: 5px;\n    left: 0;\n    display: flex;\n    align-items: center;\n    width: 100%;\n    border-bottom: 1px solid lightgrey;\n    padding-bottom: 5px;\n    font-weight: 800;\n  }\n\n  .report-box-wrapper {\n    display: flex;\n    width: 880px;\n    height: 225px;\n    overflow-x: auto;\n    overflow-y: hidden;\n  }\n\n  .report-box {\n    display: flex;\n    flex-direction: column;\n    text-align: center;\n    width: 100%;\n  }\n\n  .report-box span:nth-child(1) {\n    margin-bottom: 10px;\n    font-weight: 600;\n    font-size: 14px;\n  }\n\n  .report-box span:nth-child(n+2) {\n    border: 1px solid #eeecec;\n    padding: 20px 5px;\n    font-weight: 600;\n    box-sizing: border-box;\n    transition: all .2s ease;\n    -webkit-transition: all .2s ease;\n  }\n  .report-box span:nth-child(n+2):hover {\n    background: #fafafa;\n  }\n\n  .labels {\n    text-align: right;\n    font-size: 14px;\n    font-weight: 600;\n  }\n\n  .labels span {\n    display: block;\n    /* margin: 25px 15px 35px 0; */\n    /* margin-top: 38px */\n    margin-top: 45px;\n  }\n\n  #report-header {\n    background: transparent;\n    display: flex;\n    justify-content: space-between;\n    margin-left: 2px;\n    height: 66px;\n    box-shadow: transparent;\n    color: #545454;\n  }\n  .card-RbY {\n    /* width: 90%; */\n    /* margin-top: 75px; */\n    /* margin-left: 5% */\n    margin-top: 40px;\n    padding-left: 30px;\n    /* width: 80%; */\n    width: 90%;\n    max-width: 1200px;\n  }\n  .cardIcons {\n    float: left;\n    height: 25px;\n  }\n  .cardTitle {\n    float: left;\n    text-transform:capitalize;\n    margin-top: 5px;\n    margin-left: 10px\n\n  }\n\n  .cardFooter {\n    font-size: 14px;\n    padding-top: 20px;\n  }\n  .export-btn {\n    margin-top: -10px;\n    margin-left: 20px;\n    background-color: #66615B;\n    border: none\n  }\n  .export-btn:hover {\n    background-color: #66615B\n  }\n</style>\n"],"sourceRoot":"src/components/Reports"}]}