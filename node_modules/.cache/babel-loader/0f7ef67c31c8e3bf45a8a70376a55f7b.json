{"remainingRequest":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/babel-loader/lib/index.js!/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/src/components/ParsingRules.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/src/components/ParsingRules.vue","mtime":1581270622000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/package.json","mtime":1587799327166},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LnJlZ2V4cC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYuYXJyYXkuZmlsbCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5yZWdleHAucmVwbGFjZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5yZWdleHAuc3BsaXQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvaGFtemFhZnphbC9PTEQgREFUQS9NYWMgSG9tZS92dWVKUy9PUElOSUlPTiBGSU5BTC9vcGluaWlvbnY0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS1jb3JlanMyL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LnR5cGVkLnVpbnQ4LWFycmF5IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5hcnJheS5mcm9tIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM3LmFycmF5LmluY2x1ZGVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LnN0cmluZy5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5mdW5jdGlvbi5uYW1lIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGNvbmZpZyBmcm9tICIuLi9jb25maWcuanMiOwppbXBvcnQgeyBFdmVudFNlcnZpY2UgfSBmcm9tICIuLi9tYWluIjsKaW1wb3J0IFBhcGEgZnJvbSAiLi4vLi4vbm9kZV9tb2R1bGVzL3BhcGFwYXJzZS9wYXBhcGFyc2UuanMiOwppbXBvcnQgUGFyc2luZ1NlcnZpY2UgZnJvbSAiLi4vc2VydmljZXMvUGFyc2luZ1NlcnZpY2UuanMiOwppbXBvcnQgVXNlclNlcnZpY2UgZnJvbSAiLi4vc2VydmljZXMvVXNlclNlcnZpY2UuanMiOwppbXBvcnQgTG9jYXRpb25TZXJ2aWNlIGZyb20gIi4uL3NlcnZpY2VzL0xvY2F0aW9uU2VydmljZS5qcyI7CmltcG9ydCBYTFNYIGZyb20gInhsc3giOwppbXBvcnQgY29udmVydEZyb21YTUwgZnJvbSAieG1sLWpzIjsKaW1wb3J0IHZTZWxlY3QgZnJvbSAiLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1zZWxlY3Qvc3JjL2NvbXBvbmVudHMvU2VsZWN0LnZ1ZSI7CmltcG9ydCBBdXRvbWF0aW9uU2VydmljZSBmcm9tICIuLi9zZXJ2aWNlcy9BdXRvbWF0aW9uU2VydmljZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiY3N2UHJldmlldyIsCiAgY29tcG9uZW50czogewogICAgdlNlbGVjdDogdlNlbGVjdAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNzdjogW10sCiAgICAgIHhtbDogW10sCiAgICAgIHNhbXBsZUVtYWlsczogW10sCiAgICAgIGZpbGVPcHRpb25zOiBbImNzdiIsICJ4bWwiLCAieGxzIiwgInhsc3giLCAidHh0Il0sCiAgICAgIGluZGljYXRvcnM6IFsic3ViamVjdCIsICJmcm9tTmFtZSIsICJib2R5Il0sCiAgICAgIGZpbGVOYW1lOiAiIiwKICAgICAgZmlsZUV4aXN0czogZmFsc2UsCiAgICAgIGRpc3BsYXlTYW1wbGVzOiBmYWxzZSwKICAgICAgbmV3RmlsZTogIiIsCiAgICAgIHRyaWdnZXI6ICIiLAogICAgICBwYXJzZUZpbGVUeXBlOiAiIiwKICAgICAgcGFyc2VGaWxlTmFtZTogIiIsCiAgICAgIHNlbGVjdGVkRmlsZTogJycsCiAgICAgIG1haWxib3g6ICIiLAogICAgICBqc29uOiAiIiwKICAgICAgZG9tYWluOiAiIiwKICAgICAgYWN0aXZlTG9jYXRpb246ICIiLAogICAgICBsb2NhdGlvbk9wdGlvbnM6IFtdLAogICAgICBydWxlTmFtZTogIiIsCiAgICAgIHJ1bGVzOiBbewogICAgICAgIGRhdGE6ICIiLAogICAgICAgIG9wdGlvbjogImludGlhbERhdGEiCiAgICAgIH1dLAogICAgICBxU2VsZWN0aW9uOiBbJ2RlZmF1bHQnLCAxLCAyLCAzXSwKICAgICAgYWxsUnVsZU5hbWVzOiBbXSwKICAgICAgZHVwZU5hbWU6IGZhbHNlLAogICAgICBpbmNsdWRlc0Rhc2g6IGZhbHNlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CgogICAgICBpZiAodm0uanNvbikgewogICAgICAgIHJldHVybiB2bS5qc29uLnNwbGljZSgxLCAxMSk7CiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICBpZiAodGhpcy4kcm91dGUucGFyYW1zLnBhcnNlcikgewogICAgICB0aGlzLmdldFBhcnNpbmdSdWxlKCk7CiAgICB9CgogICAgdGhpcy5zZWxlY3RlZExvY2F0aW9uID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oImxvY2F0aW9uSWQiKTsKICAgIHRoaXMuZ2V0QWxsUGFyc2luZ1J1bGVOYW1lcygpOwogICAgdGhpcy5nZXRMb2NhdGlvbk9wdGlvbnMoKTsKICAgIHRoaXMuZ2V0U2FtcGxlTWFpbCgpOwogICAgdGhpcy5kb21haW4gPSBjb25maWcuc3ViRG9tYWluOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0QWxsUGFyc2luZ1J1bGVOYW1lczogZnVuY3Rpb24gZ2V0QWxsUGFyc2luZ1J1bGVOYW1lcygpIHsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgUGFyc2luZ1NlcnZpY2UuZ2V0UGFyc2luZ1J1bGVzKCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICByZXNwb25zZS5yZXNwb25zZS5tYXAoZnVuY3Rpb24gKHJ1bGUpIHsKICAgICAgICAgIHZtLmFsbFJ1bGVOYW1lcy5wdXNoKHJ1bGUucGFyc2luZ1J1bGVzLm5hbWUpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICAvLyBldmFsdWF0ZURhdGEoZGF0YSkgewogICAgLy8gICBkYXRhLm1hcChsaW5lID0+IHsKICAgIC8vICAgICBjb25zb2xlLmxvZyhsaW5lLmxlbmd0aCk7CiAgICAvLyAgIH0pCiAgICAvLyAgIHJldHVybiBkYXRhWzBdCiAgICAvLyB9LAogICAgZXZhbE5hbWU6IGZ1bmN0aW9uIGV2YWxOYW1lKCkgewogICAgICB2YXIgdm0gPSB0aGlzOwoKICAgICAgaWYgKHZtLmFsbFJ1bGVOYW1lcy5pbmNsdWRlcyh2bS5ydWxlTmFtZSkpIHsKICAgICAgICB2bS5kdXBlTmFtZSA9IHRydWU7CiAgICAgIH0gZWxzZSBpZiAodm0ucnVsZU5hbWUuaW5jbHVkZXMoIi0iKSkgewogICAgICAgIHZtLmluY2x1ZGVzRGFzaCA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdm0uaW5jbHVkZXNEYXNoID0gZmFsc2U7CiAgICAgICAgdm0uZHVwZU5hbWUgPSBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIG1heENvbHVtbjogZnVuY3Rpb24gbWF4Q29sdW1uKGRhdGEsIGNvbmNhdCkgewogICAgICB2YXIgbGluZUxlbmd0aCA9IDA7CiAgICAgIGRhdGEubWFwKGZ1bmN0aW9uIChsaW5lKSB7CiAgICAgICAgaWYgKGxpbmUubGVuZ3RoID4gbGluZUxlbmd0aCkgbGluZUxlbmd0aCA9IGxpbmUubGVuZ3RoOwogICAgICB9KTsKCiAgICAgIGlmIChjb25jYXQpIHsKICAgICAgICByZXR1cm4gQXJyYXkuZnJvbShuZXcgQXJyYXkobGluZUxlbmd0aCksIGZ1bmN0aW9uICh2YWwsIGluZGV4KSB7CiAgICAgICAgICByZXR1cm4gaW5kZXg7CiAgICAgICAgfSkuY29uY2F0KGNvbmNhdCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20obmV3IEFycmF5KGxpbmVMZW5ndGgpLCBmdW5jdGlvbiAodmFsLCBpbmRleCkgewogICAgICAgICAgcmV0dXJuIGluZGV4OwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgZ2V0UGFyc2luZ1J1bGU6IGZ1bmN0aW9uIGdldFBhcnNpbmdSdWxlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgUGFyc2luZ1NlcnZpY2UuZ2V0UGFyc2luZ1J1bGUodGhpcy4kcm91dGUucGFyYW1zLnBhcnNlcikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICB2bS5zZWxlY3RlZFJ1bGUgPSByZXNwb25zZS5yZXN1bHRbMF07CgogICAgICAgIGlmICghX3RoaXMuJHJvdXRlLnBhcmFtcy5hY3Rpb24pIHsKICAgICAgICAgIHZtLnJ1bGVOYW1lID0gdm0uc2VsZWN0ZWRSdWxlLnBhcnNpbmdSdWxlcy5uYW1lOwogICAgICAgICAgdm0ubWFpbGJveCA9IHZtLnNlbGVjdGVkUnVsZS5tYWlsYm94LnN1YnN0cigwLCB2bS5zZWxlY3RlZFJ1bGUubWFpbGJveC5pbmRleE9mKCdAJykpOwogICAgICAgIH0KCiAgICAgICAgdm0ucnVsZXMgPSB2bS5zZWxlY3RlZFJ1bGUucGFyc2luZ1J1bGVzLnJ1bGVzOwogICAgICAgIHZtLnRyaWdnZXIgPSB2bS5zZWxlY3RlZFJ1bGUucGFyc2luZ1J1bGVzLnRyaWdnZXI7CiAgICAgICAgdm0ucGFyc2VGaWxlVHlwZSA9IHZtLnNlbGVjdGVkUnVsZS5wYXJzaW5nUnVsZXMuZmlsZVR5cGU7CiAgICAgICAgdm0uZmlsZUV4aXN0cyA9IHRydWU7CgogICAgICAgIGlmICh2bS50cmlnZ2VyID09ICdzdWJqZWN0JykgewogICAgICAgICAgdm0uZmlsZU5hbWUgPSB2bS5zZWxlY3RlZFJ1bGUucGFyc2luZ1J1bGVzLnZhbHVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2bS5wYXJzZUZpbGVOYW1lID0gdm0uc2VsZWN0ZWRSdWxlLnBhcnNpbmdSdWxlcy5wYXJzZUZpbGVOYW1lOwogICAgICAgIH0KCiAgICAgICAgdm0ucnVsZXMubWFwKGZ1bmN0aW9uIChydWxlKSB7CiAgICAgICAgICBpZiAocnVsZS5jaGVjayAmJiBydWxlLmNoZWNrID09ICdjdXN0b21lckNyZWF0ZScpIHsKICAgICAgICAgICAgcnVsZS5hY3RpdmVMb2NhdGlvbiA9IHJ1bGUuaW5wdXQubG9jYXRpb247CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGdldExvY2F0aW9uT3B0aW9uczogZnVuY3Rpb24gZ2V0TG9jYXRpb25PcHRpb25zKCkgewogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICBVc2VyU2VydmljZS5nZXRBbGxVc2VyTG9jYXRpb25zKCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICByZXNwb25zZS5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHZhciBzaW5nbGVMb2NhdGlvbiA9IHsKICAgICAgICAgICAgbGFiZWw6IGUubmFtZSwKICAgICAgICAgICAgdmFsdWU6IGUubG9jYXRpb25JZCwKICAgICAgICAgICAgYXBpOiBlLmFwaUtleSwKICAgICAgICAgICAgcXNFbmFibGVkOiBlLnByb3AKICAgICAgICAgIH07CiAgICAgICAgICB2bS5sb2NhdGlvbk9wdGlvbnMucHVzaChzaW5nbGVMb2NhdGlvbik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGdldFNhbXBsZU1haWw6IGZ1bmN0aW9uIGdldFNhbXBsZU1haWwoKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIFBhcnNpbmdTZXJ2aWNlLmdldFNhbXBsZU1haWwoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHZtLnNhbXBsZUVtYWlscyA9IHJlc3BvbnNlLnJlc3BvbnNlOyAvLyBjb25zb2xlLmxvZyh2bS5zYW1wbGVFbWFpbHMpOwogICAgICB9KTsKICAgIH0sCiAgICBhZGRGaWxlOiBmdW5jdGlvbiBhZGRGaWxlKGZpbGUpIHsKICAgICAgdmFyIHZtID0gdGhpczsgLy8gRXZlbnRTZXJ2aWNlLiRlbWl0KCJsb2FkaW5nIiwgInNob3ciKTsKCiAgICAgIGlmIChmaWxlKSB7CiAgICAgICAgdm0uZmlsZUV4aXN0cyA9IHRydWU7CiAgICAgICAgdm0uZGlzcGxheVNhbXBsZXMgPSBmYWxzZTsKICAgICAgICB2bS5zZWxlY3RlZEZpbGUgPSBmaWxlOwogICAgICAgIHZhciBleGFtcGxlRmlsZSA9IGZpbGU7CiAgICAgICAgdmFyIGZpbGVOYW1lOwoKICAgICAgICBpZiAoZXhhbXBsZUZpbGUuZmlsZW5hbWUuaW5jbHVkZXMoJy56aXAnKSkgewogICAgICAgICAgZmlsZU5hbWUgPSBleGFtcGxlRmlsZS5maWxlbmFtZS5zdWJzdHIoMCwgZXhhbXBsZUZpbGUuZmlsZW5hbWUubGFzdEluZGV4T2YoJy4nKSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGZpbGVOYW1lID0gZXhhbXBsZUZpbGUuZmlsZW5hbWU7CiAgICAgICAgfQoKICAgICAgICB2YXIgZmlsZVR5cGUgPSBmaWxlTmFtZS5zdWJzdHIoZmlsZU5hbWUubGFzdEluZGV4T2YoIi4iKSArIDEpOwoKICAgICAgICBpZiAoZmlsZVR5cGUgPT0gInhsc3giIHx8IGZpbGVUeXBlID09ICJ4bHMiKSB7CiAgICAgICAgICB2YXIgckFCUyA9IHRydWU7CiAgICAgICAgICB2YXIgZGF0YSA9IGF0b2IoZXhhbXBsZUZpbGUuY29udGVudCk7CiAgICAgICAgICBpZiAoIXJBQlMpIGRhdGEgPSBuZXcgVWludDhBcnJheShkYXRhKTsKICAgICAgICAgIHZhciB3b3JrYm9vayA9IFhMU1gucmVhZChkYXRhLCB7CiAgICAgICAgICAgIHR5cGU6IHJBQlMgPyAiYmluYXJ5IiA6ICJhcnJheSIKICAgICAgICAgIH0pOwogICAgICAgICAgdmFyIHByb2Nlc3NlZFhMUyA9IFhMU1gudXRpbHMuc2hlZXRfdG9fanNvbih3b3JrYm9vay5TaGVldHNbd29ya2Jvb2suU2hlZXROYW1lc1swXV0sIHsKICAgICAgICAgICAgaGVhZGVyOiAxCiAgICAgICAgICB9KS5maWx0ZXIoZnVuY3Rpb24gKHJvdykgewogICAgICAgICAgICByZXR1cm4gcm93Lmxlbmd0aCA+IDA7CiAgICAgICAgICB9KTsKICAgICAgICAgIHZhciBtYXhTaXplID0gMDsKICAgICAgICAgIHByb2Nlc3NlZFhMUy5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgaWYgKGUubGVuZ3RoID4gbWF4U2l6ZSkgbWF4U2l6ZSA9IGUubGVuZ3RoOwogICAgICAgICAgfSk7CiAgICAgICAgICB2YXIgZGlmZiA9IG1heFNpemUgLSBwcm9jZXNzZWRYTFNbMF0ubGVuZ3RoOwoKICAgICAgICAgIHdoaWxlIChkaWZmID4gMCkgewogICAgICAgICAgICBwcm9jZXNzZWRYTFNbMF0ucHVzaCgnLScpOwogICAgICAgICAgICBkaWZmID0gbWF4U2l6ZSAtIHByb2Nlc3NlZFhMU1swXS5sZW5ndGg7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHByb2Nlc3NlZFhMUy5sZW5ndGggPiAyMCkgewogICAgICAgICAgICB2bS5ydWxlc1swXS5kYXRhID0gcHJvY2Vzc2VkWExTLnNwbGljZSgwLCAxMSkuY29uY2F0KHByb2Nlc3NlZFhMUy5zcGxpY2UoLTEwKSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB2bS5ydWxlc1swXS5kYXRhID0gcHJvY2Vzc2VkWExTOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoZmlsZVR5cGUgPT0gImNzdiIpIHsKICAgICAgICAgIHZhciBwcm9jZXNzZWRDU1Y7CiAgICAgICAgICBQYXBhLnBhcnNlKGF0b2IoZXhhbXBsZUZpbGUuY29udGVudCksIHsKICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uIGNvbXBsZXRlKHJlc3VsdHMpIHsKICAgICAgICAgICAgICBwcm9jZXNzZWRDU1YgPSByZXN1bHRzLmRhdGE7CgogICAgICAgICAgICAgIGlmIChwcm9jZXNzZWRDU1YubGVuZ3RoID4gMjApIHsKICAgICAgICAgICAgICAgIHZtLnJ1bGVzWzBdLmRhdGEgPSBwcm9jZXNzZWRDU1Yuc3BsaWNlKDAsIDExKS5jb25jYXQocHJvY2Vzc2VkQ1NWLnNwbGljZSgtMTApKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdm0ucnVsZXNbMF0uZGF0YSA9IHByb2Nlc3NlZENTVjsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSBpZiAoZmlsZVR5cGUgPT0gInhtbCIpIHsKICAgICAgICAgIHZhciBkYXRhID0gYXRvYihleGFtcGxlRmlsZS5jb250ZW50KTsKICAgICAgICAgIHZtLmNvbnZlcnRYTUwoZGF0YSk7CiAgICAgICAgfSBlbHNlIGlmIChmaWxlVHlwZSA9PSAidHh0IikgewogICAgICAgICAgdmFyIGRhdGEgPSBhdG9iKGV4YW1wbGVGaWxlLmNvbnRlbnQpOwogICAgICAgICAgdmFyIHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTsKICAgICAgICAgIHZhciBuZXdEb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKEpTT04ucGFyc2UoZGF0YSksICJ0ZXh0L2h0bWwiKTsKICAgICAgICAgIHZhciB0ZXN0ID0gbmV3RG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0ciIpOwoKICAgICAgICAgIHZhciBuZXdBcnIgPSBfdG9Db25zdW1hYmxlQXJyYXkodGVzdCk7CgogICAgICAgICAgdmFyIGN1c3RvbWVyTGlzdCA9IFtdOwogICAgICAgICAgdmFyIGhlYWRlckFyciA9IFtdOwogICAgICAgICAgbmV3QXJyLm1hcChmdW5jdGlvbiAoZykgewogICAgICAgICAgICB2YXIgaGVhZGVycyA9IGcuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRoIik7CgogICAgICAgICAgICBpZiAoaGVhZGVycy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgaGVhZGVyQXJyLnB1c2goX3RvQ29uc3VtYWJsZUFycmF5KGhlYWRlcnMpKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgICB2YXIgaGVhZGVyc0xpc3QgPSBbXTsKICAgICAgICAgIGhlYWRlckFyci5tYXAoZnVuY3Rpb24gKGgpIHsKICAgICAgICAgICAgaC5tYXAoZnVuY3Rpb24gKGcpIHsKICAgICAgICAgICAgICBoZWFkZXJzTGlzdC5wdXNoKGcuaW5uZXJIVE1MKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICAgIHZhciBuZXh0QXJyID0gW107CiAgICAgICAgICBuZXdBcnIubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHZhciB0ZXN0aW5nID0gZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGQiKTsKICAgICAgICAgICAgdmFyIGN1c3RvbWVyID0ge307CgogICAgICAgICAgICB2YXIgbmV4dEFycmF5ID0gX3RvQ29uc3VtYWJsZUFycmF5KHRlc3RpbmcpOwoKICAgICAgICAgICAgbmV4dEFycmF5Lm1hcChmdW5jdGlvbiAoZiwgaSkgewogICAgICAgICAgICAgIHZhciBoZWFkZXIgPSBoZWFkZXJzTGlzdFtpXTsKICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBmLnRleHRDb250ZW50OwogICAgICAgICAgICAgIGN1c3RvbWVyW2hlYWRlcl0gPSB2YWx1ZTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoY3VzdG9tZXIpLmxlbmd0aCA+IDMpIHsKICAgICAgICAgICAgICBjdXN0b21lckxpc3QucHVzaChjdXN0b21lcik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgICAgdmFyIGNzdlZlcnNpb24gPSBQYXBhLnVucGFyc2UoY3VzdG9tZXJMaXN0KTsKICAgICAgICAgIHZhciBqc29uVmVyc2lvbiA9IFBhcGEucGFyc2UoY3N2VmVyc2lvbik7CiAgICAgICAgICBqc29uVmVyc2lvbiA9IGpzb25WZXJzaW9uLmRhdGE7CgogICAgICAgICAgaWYgKGpzb25WZXJzaW9uLmxlbmd0aCA+IDIwKSB7CiAgICAgICAgICAgIHZtLnJ1bGVzWzBdLmRhdGEgPSBqc29uVmVyc2lvbi5zcGxpY2UoMCwgMTEpLmNvbmNhdChqc29uVmVyc2lvbi5zcGxpY2UoLTEwKSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB2bS5ydWxlc1swXS5kYXRhID0ganNvblZlcnNpb247CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCJFcnJvciwgdGhpcyBoYXMgYmVlbiByZWplY3RlZCBmb3IgaW5jb3JyZWN0IGZpbGUgdHlwZS4iKTsKICAgICAgICB9CgogICAgICAgIGlmICh2bS5ydWxlcyAmJiB2bS5ydWxlcy5sZW5ndGggPiAxKSB7CiAgICAgICAgICB2bS5ydWxlcy5tYXAoZnVuY3Rpb24gKHJ1bGUsIGkpIHsKICAgICAgICAgICAgaWYgKGkgPiAwKSB7CiAgICAgICAgICAgICAgcnVsZS5kYXRhLm1hcChmdW5jdGlvbiAoZGF0YXNldCkgewogICAgICAgICAgICAgICAgaWYgKGRhdGFzZXQgJiYgZGF0YXNldC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgIHZtLmNoYW5nZUZpbHRlcihpLCBydWxlLm9wdGlvbiwgcnVsZS5pbnB1dCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIHBhcnNlQm9keTogZnVuY3Rpb24gcGFyc2VCb2R5KGVtYWlsKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIHZtLmZpbGVFeGlzdHMgPSB0cnVlOwogICAgICB2bS5kaXNwbGF5U2FtcGxlcyA9IGZhbHNlOwogICAgICB2bS5zZWxlY3RlZEZpbGUgPSBlbWFpbDsKICAgICAgdmFyIHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTsKICAgICAgdmFyIGh0bWxEb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKGVtYWlsLCAndGV4dC9odG1sJyk7CiAgICAgIHZhciBwQXJyYXkgPSBBcnJheS5mcm9tKGh0bWxEb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3AnKSk7CiAgICAgIHZhciB1c2FibGVEYXRhID0gcEFycmF5WzRdLmlubmVySFRNTC5zcGxpdCgnJmx0OycpOwogICAgICB2YXIgY3VzdG9tZXJzTGlzdCA9IFtdOwogICAgICB1c2FibGVEYXRhLm1hcChmdW5jdGlvbiAocHRhZywgaSkgewogICAgICAgIGN1c3RvbWVyc0xpc3QucHVzaChwdGFnLnN1YnN0cmluZyhwdGFnLmluZGV4T2YoJzxicj4nKSkucmVwbGFjZSgvPGEgaHJlZj0ibWFpbHRvOi9naSwgJycpLnJlcGxhY2UoJyI+JywgJyAnKS5yZXBsYWNlKC88XC9hPi9naSwgJycpLnJlcGxhY2UoLyAtL2dpLCAnJykucmVwbGFjZSgvLS9naSwgJycpLnJlcGxhY2UoLyA8YnI+L2dpLCAnJykucmVwbGFjZSgvPGJyPi9naSwgJycpLnJlcGxhY2UoLyAmYW1wOy9naSwgJycpLnJlcGxhY2UoLyZhbXA7L2dpLCAnJykuc3BsaXQoJyAnKSk7IC8vIGNvbnNvbGUubG9nKHR5cGVvZiBwdGFnLCBwdGFnKTsKICAgICAgfSk7CgogICAgICBpZiAoY3VzdG9tZXJzTGlzdC5sZW5ndGggPiAxMDApIHsKICAgICAgICB2bS5ydWxlc1swXS5kYXRhID0gY3VzdG9tZXJzTGlzdC5zcGxpY2UoMCwgNTApLmNvbmNhdChjdXN0b21lcnNMaXN0LnNwbGljZSgtNTApKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2bS5ydWxlc1swXS5kYXRhID0gY3VzdG9tZXJzTGlzdDsKICAgICAgfSAvLyBsZXQgcGFyc2VkQ3VzdG9tZXJzID0gW107CiAgICAgIC8vIGxldCBwYXJzZWREYXRhID0gUGFwYS5wYXJzZShlbWFpbCwge2RlbGltZXRlcjogJ1xcbid9KTsKICAgICAgLy8gbGV0IHVucGFyc2VkRGF0YSA9IFBhcGEudW5wYXJzZShwYXJzZWREYXRhLmRhdGEpOwogICAgICAvLyBsZXQgbmV3UGFyc2VEYXRhID0gdW5wYXJzZWREYXRhLnNwbGl0KCdcbicpOwogICAgICAvLyBsZXQgY3VzdG9tZXJzTGlzdCA9IFtdOwogICAgICAvLyBuZXdQYXJzZURhdGEubWFwKGUgPT4gewogICAgICAvLyAgIGUgPSBlLnJlcGxhY2UoJ1xuJywgJycpCiAgICAgIC8vICAgbGV0IGRhdGEgPSBlLnNwbGl0KCcgJyk7CiAgICAgIC8vICAgaWYoZGF0YS5sZW5ndGggPiAzKSB7CiAgICAgIC8vICAgICBjdXN0b21lcnNMaXN0LnB1c2goZGF0YSk7CiAgICAgIC8vICAgfQogICAgICAvLyB9KTsKICAgICAgLy8gLy8gY29uc29sZS5sb2cocGFyc2VkQ3VzdG9tZXJzKTsKICAgICAgLy8gaWYgKGN1c3RvbWVyc0xpc3QubGVuZ3RoID4gMTAwKSB7CiAgICAgIC8vICAgdm0ucnVsZXNbMF0uZGF0YSA9IGN1c3RvbWVyc0xpc3QKICAgICAgLy8gICAgIC5zcGxpY2UoMCwgNTApCiAgICAgIC8vICAgICAuY29uY2F0KGN1c3RvbWVyc0xpc3Quc3BsaWNlKC01MCkpOwogICAgICAvLyB9IGVsc2UgewogICAgICAvLyAgIHZtLnJ1bGVzWzBdLmRhdGEgPSBjdXN0b21lcnNMaXN0OwogICAgICAvLyB9CiAgICAgIC8vIGJhY2sgZW5kIHBvdGVudGlhbCBwcm9jZXNzLgogICAgICAvLyBsZXQgbGluZXMgPSBlbWFpbC5zcGxpdCgnXFxuJyk7CiAgICAgIC8vIGxldCBwYXJzZWRMaW5lcyA9IFtdCiAgICAgIC8vIGxpbmVzLm1hcCgobCkgPT4gewogICAgICAvLyAgIGlmIChsLmxlbmd0aCA+IDEwKSB7CiAgICAgIC8vICAgICBsZXQgc3BsaXRMaW5lID0gbC5zcGxpdCgnICcpOwogICAgICAvLyAgICAgbGV0IHBhcnNlZExpbmUgPSBbXTsKICAgICAgLy8gICAgIHNwbGl0TGluZS5tYXAoKHMpID0+IHsKICAgICAgLy8gICAgICAgaWYgKHMgJiYgcy5sZW5ndGggPiAyKSB7CiAgICAgIC8vICAgICAgICAgcGFyc2VkTGluZS5wdXNoKHMpOwogICAgICAvLyAgICAgICB9CiAgICAgIC8vICAgICB9KQogICAgICAvLyAgICAgcGFyc2VkTGluZXMucHVzaChwYXJzZWRMaW5lKTsKICAgICAgLy8gICB9CiAgICAgIC8vIH0pCiAgICAgIC8vICAgaWYgKHBhcnNlZExpbmVzLmxlbmd0aCA+IDEwMCkgewogICAgICAvLyAgICAgdm0ucnVsZXNbMF0uZGF0YSA9IHBhcnNlZExpbmVzCiAgICAgIC8vICAgICAgIC5zcGxpY2UoMCwgNTApCiAgICAgIC8vICAgICAgIC5jb25jYXQocGFyc2VkTGluZXMuc3BsaWNlKC01MCkpOwogICAgICAvLyAgIH0gZWxzZSB7CiAgICAgIC8vICAgICB2bS5ydWxlc1swXS5kYXRhID0gcGFyc2VkTGluZXM7CiAgICAgIC8vICAgfQoKICAgIH0sCiAgICBjb252ZXJ0WE1MOiBmdW5jdGlvbiBjb252ZXJ0WE1MKHhtbCkgewogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICB2YXIgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICB2YXIgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyh4bWwsICJ0ZXh0L3htbCIpOwogICAgICB2YXIgeG1sQXJyID0geG1sRG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJSb3ciKTsKCiAgICAgIHZhciBuZXdYTUxBcnIgPSBfdG9Db25zdW1hYmxlQXJyYXkoeG1sQXJyKTsKCiAgICAgIHZhciBjdXN0b21lckxpc3QgPSBbXTsKICAgICAgbmV3WE1MQXJyLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgIHZhciBjdXN0b21lciA9IHt9OwoKICAgICAgICB2YXIgdGVzdCA9IF90b0NvbnN1bWFibGVBcnJheShlLmF0dHJpYnV0ZXMpOwoKICAgICAgICB0ZXN0Lm1hcChmdW5jdGlvbiAoZikgewogICAgICAgICAgdmFyIGhlYWRlciA9IGYubmFtZTsKICAgICAgICAgIHZhciB2YWx1ZSA9IGYubm9kZVZhbHVlOwogICAgICAgICAgY3VzdG9tZXJbaGVhZGVyXSA9IHZhbHVlOwogICAgICAgIH0pOwogICAgICAgIGN1c3RvbWVyTGlzdC5wdXNoKGN1c3RvbWVyKTsKICAgICAgfSk7CiAgICAgIHZhciBjc3ZWZXJzaW9uID0gUGFwYS51bnBhcnNlKGN1c3RvbWVyTGlzdCk7CiAgICAgIHZhciBqc29uVmVyc2lvbiA9IFBhcGEucGFyc2UoY3N2VmVyc2lvbik7CiAgICAgIGpzb25WZXJzaW9uID0ganNvblZlcnNpb24uZGF0YTsKCiAgICAgIGlmIChqc29uVmVyc2lvbi5sZW5ndGggPiAyMCkgewogICAgICAgIHZtLnJ1bGVzWzBdLmRhdGEgPSBqc29uVmVyc2lvbi5zcGxpY2UoMCwgMTEpLmNvbmNhdChqc29uVmVyc2lvbi5zcGxpY2UoLTEwKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdm0ucnVsZXNbMF0uZGF0YSA9IGpzb25WZXJzaW9uOwogICAgICB9CiAgICB9LAogICAgYWRkUnVsZTogZnVuY3Rpb24gYWRkUnVsZShpbmRleCkgewogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICB2bS5ydWxlcy5zcGxpY2UoaW5kZXggKyAxLCAwLCB7CiAgICAgICAgZGF0YTogW10sCiAgICAgICAgb3B0aW9uOiAiIiwKICAgICAgICBpbnB1dDoge30KICAgICAgfSk7CiAgICB9LAogICAgYWRkQ3VzdG9tZXJSdWxlOiBmdW5jdGlvbiBhZGRDdXN0b21lclJ1bGUoKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIHZtLnJ1bGVzLnB1c2goewogICAgICAgIHJ1bGU6IHZtLnJ1bGVzLmxlbmd0aCArIDEsCiAgICAgICAgY2hlY2s6ICJjdXN0b21lckNyZWF0ZSIsCiAgICAgICAgZGF0YTogW10sCiAgICAgICAgb3B0aW9uOiAicHJvY2Vzc0N1c3RvbWVycyIsCiAgICAgICAgaW5wdXQ6IHt9CiAgICAgIH0pOwogICAgfSwKICAgIHJlbW92ZVJ1bGU6IGZ1bmN0aW9uIHJlbW92ZVJ1bGUoaW5kZXgpIHsKICAgICAgdGhpcy5ydWxlcy5zcGxpY2UoaW5kZXgsIDEpOwogICAgfSwKICAgIGNoYW5nZUxvY2F0aW9uOiBmdW5jdGlvbiBjaGFuZ2VMb2NhdGlvbihpbmRleCwgbG9jYXRpb25EYXRhKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CgogICAgICBpZiAodm0ucnVsZXNbaW5kZXhdLmlucHV0LmxvY2F0aW9uICE9IGxvY2F0aW9uRGF0YSkgewogICAgICAgIHZtLnJ1bGVzW2luZGV4XS5pbnB1dC5sb2NhdGlvbiA9IGxvY2F0aW9uRGF0YTsKCiAgICAgICAgaWYgKGxvY2F0aW9uRGF0YSAmJiBsb2NhdGlvbkRhdGEucXNFbmFibGVkKSB7CiAgICAgICAgICBBdXRvbWF0aW9uU2VydmljZS5nZXRBdXRvbWF0aW9uc0J5TG9jYXRpb24obG9jYXRpb25EYXRhLnZhbHVlKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICB2YXIgcVNlbGVjdCA9IFtdOwogICAgICAgICAgICByZXNwb25zZS5yZXN1bHQubWFwKGZ1bmN0aW9uIChhdXRvKSB7CiAgICAgICAgICAgICAgcVNlbGVjdC5wdXNoKGF1dG8uaWRlbnRpZmllcik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB2bS5xU2VsZWN0aW9uID0gcVNlbGVjdDsKICAgICAgICAgIH0pOyAvLyBMb2NhdGlvblNlcnZpY2UuZ2V0TG9jYXRpb24obG9jYXRpb25EYXRhLnZhbHVlKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgIC8vIGxldCB0b3RhbFFzID0gcmVzcG9uc2UucXVlc3Rpb24KICAgICAgICAgIC8vIGxldCBhdXRvbWF0aW9ucyA9IHJlc3BvbnNlLmF1dG9tYXRpb25zOwogICAgICAgICAgLy8gYXV0b21hdGlvbnMubWFwKGF1dG8gPT4gewogICAgICAgICAgLy8gICB2bS5xU2VsZWN0aW9uLnB1c2goYXV0b21hdGlvbi5pZGVudGlmaWVyKQogICAgICAgICAgLy8gfSkKICAgICAgICAgIC8vIH0pCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgY2hhbmdlRmlsdGVyOiBmdW5jdGlvbiBjaGFuZ2VGaWx0ZXIoaW5kZXgsIG9wdGlvbiwgaW5wdXQpIHsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgdmFyIHByZXZpb3VzRGF0YTsKCiAgICAgIGlmICh2bS5ydWxlc1tpbmRleCAtIDFdLmNoZWNrICYmIHZtLnJ1bGVzW2luZGV4IC0gMV0uY2hlY2sgPT0gImN1c3RvbWVyQ3JlYXRlIikgewogICAgICAgIHByZXZpb3VzRGF0YSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodm0ucnVsZXNbMF0uZGF0YSkpOwogICAgICB9IGVsc2UgewogICAgICAgIHByZXZpb3VzRGF0YSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodm0ucnVsZXNbaW5kZXggLSAxXS5kYXRhKSk7CiAgICAgIH0gLy8gY29uc29sZS5sb2coLi4uYXJndW1lbnRzKTsKCgogICAgICBzd2l0Y2ggKG9wdGlvbikgewogICAgICAgIGNhc2UgInJvd0J5VmFsIjoKICAgICAgICAgIGlmIChpbnB1dCAmJiBpbnB1dC52YWx1ZTEgJiYgaW5wdXQudHlwZSAmJiBpbnB1dC52YWx1ZTIpIHsKICAgICAgICAgICAgaWYgKGlucHV0LnR5cGUgPT0gImNvblRlcm0iKSB7CiAgICAgICAgICAgICAgdm0ucnVsZXNbaW5kZXhdLmRhdGEgPSBwcmV2aW91c0RhdGEuZmlsdGVyKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZVtpbnB1dC52YWx1ZTFdLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXModHlwZW9mIGlucHV0LnZhbHVlMiA9PSAnc3RyaW5nJyA/IGlucHV0LnZhbHVlMi50b0xvd2VyQ2FzZSgpIDogaW5wdXQudmFsdWUyKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dC50eXBlID09ICJub0NvblRlcm0iKSB7CiAgICAgICAgICAgICAgMDsKICAgICAgICAgICAgICB2bS5ydWxlc1tpbmRleF0uZGF0YSA9IHByZXZpb3VzRGF0YS5maWx0ZXIoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgIHJldHVybiAhZVtpbnB1dC52YWx1ZTFdLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXModHlwZW9mIGlucHV0LnZhbHVlMiA9PSAnc3RyaW5nJyA/IGlucHV0LnZhbHVlMi50b0xvd2VyQ2FzZSgpIDogaW5wdXQudmFsdWUyKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIGlmIChpbnB1dCAmJiBpbnB1dC52YWx1ZTEgJiYgaW5wdXQudHlwZSkgewogICAgICAgICAgICBpZiAoaW5wdXQudHlwZSA9PSAiaGFzVmFsIikgewogICAgICAgICAgICAgIHZtLnJ1bGVzW2luZGV4XS5kYXRhID0gcHJldmlvdXNEYXRhLmZpbHRlcihmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGVbaW5wdXQudmFsdWUxXTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dC50eXBlID09ICJpc1dvcmQiKSB7CiAgICAgICAgICAgICAgdm0ucnVsZXNbaW5kZXhdLmRhdGEgPSBwcmV2aW91c0RhdGEuZmlsdGVyKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAvLyBOZWVkcyBtb3JlIHdvcmsgdG8gZGV0ZXJtaW5lIGlmIHN0cmluZyBvciBub3QuCiAgICAgICAgICAgICAgICByZXR1cm4gZVtpbnB1dC52YWx1ZTFdICYmIHR5cGVvZiBlW2lucHV0LnZhbHVlMV0gPT0gInN0cmluZyIgJiYgZVtpbnB1dC52YWx1ZTFdLnRyaW0oKS5pbmRleE9mKCIgIikgPT0gLTE7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5wdXQudHlwZSA9PSAiaXNOdW0iKSB7CiAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocHJldmlvdXNEYXRhKTsKICAgICAgICAgICAgICB2bS5ydWxlc1tpbmRleF0uZGF0YSA9IHByZXZpb3VzRGF0YS5maWx0ZXIoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUludChlW2lucHV0LnZhbHVlMV0pOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB2bS5ydWxlc1tpbmRleF0uZGF0YSA9IHByZXZpb3VzRGF0YTsKICAgICAgICAgIH0KCiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAicm93QnlMZW4iOgogICAgICAgICAgaWYgKGlucHV0ICYmIGlucHV0LnZhbHVlKSB7CiAgICAgICAgICAgIHZtLnJ1bGVzW2luZGV4XS5kYXRhID0gcHJldmlvdXNEYXRhLmZpbHRlcihmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgIGlmIChlKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZS5sZW5ndGggPT0gaW5wdXQudmFsdWU7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZtLnJ1bGVzW2luZGV4XS5kYXRhID0gcHJldmlvdXNEYXRhOwogICAgICAgICAgfQoKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJyb3dCeVZhbExlbiI6CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAicm93QnlDb2xMZW4iOgogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgInJvd1JhbmdlIjoKICAgICAgICAgIGlmIChpbnB1dCAmJiBpbnB1dC50eXBlKSB7CiAgICAgICAgICAgIGlmIChpbnB1dC50eXBlID09ICJyZW1vdmUiKSB7CiAgICAgICAgICAgICAgaWYgKGlucHV0LnZhbHVlMSAmJiBpbnB1dC52YWx1ZTIpIHsKICAgICAgICAgICAgICAgIHZhciBuZXdWYWx1ZXMgPSBwcmV2aW91c0RhdGEuc2xpY2UoaW5wdXQudmFsdWUxLCB2bS5ydWxlc1tpbmRleCAtIDFdLmRhdGEubGVuZ3RoIC0gaW5wdXQudmFsdWUyKTsKICAgICAgICAgICAgICAgIHZtLnJ1bGVzW2luZGV4XS5kYXRhID0gbmV3VmFsdWVzOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dC50eXBlID09ICJmaXgiKSB7CiAgICAgICAgICAgICAgaWYgKGlucHV0LnZhbHVlMSAmJiBpbnB1dC52YWx1ZTIpIHsKICAgICAgICAgICAgICAgIHZhciBfbmV3VmFsdWVzID0gcHJldmlvdXNEYXRhLnNsaWNlKGlucHV0LnZhbHVlMSwgaW5wdXQudmFsdWUyIC0gaW5wdXQudmFsdWUxICsgMSk7CgogICAgICAgICAgICAgICAgdm0ucnVsZXNbaW5kZXhdLmRhdGEgPSBfbmV3VmFsdWVzOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdm0ucnVsZXNbaW5kZXhdLmRhdGEgPSBwcmV2aW91c0RhdGE7CiAgICAgICAgICB9CgogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgImNvbFJhbmdlIjoKICAgICAgICAgIGlmIChpbnB1dCAmJiBpbnB1dC50eXBlKSB7CiAgICAgICAgICAgIGlmIChpbnB1dC50eXBlID09ICJyZW1vdmUiKSB7CiAgICAgICAgICAgICAgaWYgKGlucHV0LnZhbHVlMSAmJiBpbnB1dC52YWx1ZTIpIHsKICAgICAgICAgICAgICAgIHZhciBfbmV3VmFsdWVzMiA9IFtdOwogICAgICAgICAgICAgICAgdm0ucnVsZXNbaW5kZXggLSAxXS5kYXRhLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICBfbmV3VmFsdWVzMi5wdXNoKGUuc2xpY2UoaW5wdXQudmFsdWUxLCBlLmxlbmd0aCAtIGlucHV0LnZhbHVlMikpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB2bS5ydWxlc1tpbmRleF0uZGF0YSA9IF9uZXdWYWx1ZXMyOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dC50eXBlID09ICJmaXgiKSB7CiAgICAgICAgICAgICAgaWYgKGlucHV0LnZhbHVlMSAmJiBpbnB1dC52YWx1ZTIpIHsKICAgICAgICAgICAgICAgIHZhciBfbmV3VmFsdWVzMyA9IFtdOwogICAgICAgICAgICAgICAgdm0ucnVsZXNbaW5kZXggLSAxXS5kYXRhLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICBfbmV3VmFsdWVzMy5wdXNoKGUuc2xpY2UoaW5wdXQudmFsdWUxLCBpbnB1dC52YWx1ZTIpKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgdm0ucnVsZXNbaW5kZXhdLmRhdGEgPSBfbmV3VmFsdWVzMzsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZtLnJ1bGVzW2luZGV4XS5kYXRhID0gcHJldmlvdXNEYXRhOwogICAgICAgICAgfQoKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJyZW1Db2wiOgogICAgICAgICAgaWYgKGlucHV0ICYmIChpbnB1dC52YWx1ZTEgfHwgaW5wdXQudmFsdWUyIHx8IGlucHV0LnZhbHVlMyB8fCBpbnB1dC52YWx1ZTQgfHwgaW5wdXQudmFsdWU1KSkgewogICAgICAgICAgICB2YXIgX25ld1ZhbHVlczQgPSB2bS5ydWxlc1tpbmRleCAtIDFdLmRhdGE7CiAgICAgICAgICAgIHZhciBpbnB1dEtleXMgPSBPYmplY3Qua2V5cyhpbnB1dCk7CiAgICAgICAgICAgIGlucHV0S2V5cy5tYXAoZnVuY3Rpb24gKGlucHV0VmFsLCBnKSB7CiAgICAgICAgICAgICAgX25ld1ZhbHVlczQgPSBfbmV3VmFsdWVzNC5tYXAoZnVuY3Rpb24gKGUsIGkpIHsKICAgICAgICAgICAgICAgIHJldHVybiBlLmZpbHRlcihmdW5jdGlvbiAoeCwgaikgewogICAgICAgICAgICAgICAgICByZXR1cm4gaiAhPSBwYXJzZUludChpbnB1dFtpbnB1dFZhbF0pOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB2bS5ydWxlc1tpbmRleF0uZGF0YSA9IF9uZXdWYWx1ZXM0OwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdm0ucnVsZXNbaW5kZXhdLmRhdGEgPSBwcmV2aW91c0RhdGE7CiAgICAgICAgICB9CgogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgInJlbVJvdyI6CiAgICAgICAgICBpZiAoaW5wdXQgJiYgKGlucHV0LnZhbHVlMSB8fCBpbnB1dC52YWx1ZTIgfHwgaW5wdXQudmFsdWUzIHx8IGlucHV0LnZhbHVlNCB8fCBpbnB1dC52YWx1ZTUpKSB7CiAgICAgICAgICAgIHZhciBuZXdEYXRhID0gcHJldmlvdXNEYXRhOwoKICAgICAgICAgICAgdmFyIF9pbnB1dEtleXMgPSBPYmplY3Qua2V5cyhpbnB1dCk7CgogICAgICAgICAgICBfaW5wdXRLZXlzLm1hcChmdW5jdGlvbiAoaW5wdXRWYWwpIHsKICAgICAgICAgICAgICBuZXdEYXRhID0gbmV3RGF0YS5maWx0ZXIoZnVuY3Rpb24gKGUsIGkpIHsKICAgICAgICAgICAgICAgIHJldHVybiBpICE9IHBhcnNlSW50KGlucHV0W2lucHV0VmFsXSk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgdm0ucnVsZXNbaW5kZXhdLmRhdGEgPSBuZXdEYXRhOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdm0ucnVsZXNbaW5kZXhdLmRhdGEgPSBwcmV2aW91c0RhdGE7CiAgICAgICAgICB9CgogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgImV4cGxvZGVDb2wiOgogICAgICAgICAgaWYgKGlucHV0ICYmIGlucHV0LnR5cGUgJiYgaW5wdXQudmFsdWUpIHsKICAgICAgICAgICAgdmFyIGNvbExlbmd0aHMgPSBbXTsKICAgICAgICAgICAgdm0ucnVsZXNbaW5kZXggLSAxXS5kYXRhLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgIGlmIChlW2lucHV0LnR5cGVdKSB7CiAgICAgICAgICAgICAgICBjb2xMZW5ndGhzLnB1c2goZVtpbnB1dC50eXBlXS5zcGxpdChpbnB1dC52YWx1ZSkubGVuZ3RoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB2YXIgbmV3Q29sTnVtID0gTWF0aC5tYXguYXBwbHkoTWF0aCwgY29sTGVuZ3Rocyk7CiAgICAgICAgICAgIHZhciBfbmV3VmFsdWVzNSA9IHByZXZpb3VzRGF0YTsKCiAgICAgICAgICAgIF9uZXdWYWx1ZXM1Lm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgIGlmIChlW2lucHV0LnR5cGVdKSB7CiAgICAgICAgICAgICAgICB2YXIgbmV3Q29sdW1ucyA9IGVbaW5wdXQudHlwZV0uc3BsaXQoaW5wdXQudmFsdWUpOwoKICAgICAgICAgICAgICAgIGlmIChuZXdDb2x1bW5zLmxlbmd0aCAhPSBuZXdDb2xOdW0pIHsKICAgICAgICAgICAgICAgICAgbmV3Q29sdW1ucy5sZW5ndGggPSBuZXdDb2xOdW07CiAgICAgICAgICAgICAgICAgIG5ld0NvbHVtbnMuZmlsbCgwLCBuZXdDb2x1bW5zLmxlbmd0aCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZS5zcGxpY2UuYXBwbHkoZSwgW2lucHV0LnR5cGUsIDFdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkobmV3Q29sdW1ucykpKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgdm0ucnVsZXNbaW5kZXhdLmRhdGEgPSBfbmV3VmFsdWVzNTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZtLnJ1bGVzW2luZGV4XS5kYXRhID0gdm0ucnVsZXNbaW5kZXggLSAxXS5kYXRhOwogICAgICAgICAgfQoKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJtZXJnZUNvbCI6CiAgICAgICAgICBpZiAoaW5wdXQgJiYgaW5wdXQudmFsdWUxICYmIGlucHV0LnZhbHVlMikgewogICAgICAgICAgICB2YXIgaW5wdXQxID0gcGFyc2VJbnQoaW5wdXQudmFsdWUxKTsKICAgICAgICAgICAgdmFyIGlucHV0MiA9IHBhcnNlSW50KGlucHV0LnZhbHVlMik7CiAgICAgICAgICAgIHZhciBuZXdBcnJheSA9IFtdOwogICAgICAgICAgICB2YXIgX25ld1ZhbHVlczYgPSBwcmV2aW91c0RhdGE7CgogICAgICAgICAgICBfbmV3VmFsdWVzNi5tYXAoZnVuY3Rpb24gKHgpIHsKICAgICAgICAgICAgICB2YXIgbmV3SXRlbSA9IHguc2xpY2UoaW5wdXQxLCBpbnB1dDIgKyAxKS5qb2luKCkucmVwbGFjZSgiLCIsICIsICIpOwogICAgICAgICAgICAgIHguc3BsaWNlKGlucHV0MSwgaW5wdXQyICsgMSAtIGlucHV0MSwgbmV3SXRlbSk7CiAgICAgICAgICAgICAgbmV3QXJyYXkucHVzaCh4KTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICB2bS5ydWxlc1tpbmRleF0uZGF0YSA9IG5ld0FycmF5OwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdm0ucnVsZXNbaW5kZXhdLmRhdGEgPSB2bS5ydWxlc1tpbmRleCAtIDFdLmRhdGE7CiAgICAgICAgICB9CgogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgInNlYXJjaFJlcGxhY2UiOgogICAgICAgICAgaWYgKGlucHV0ICYmIGlucHV0LnZhbHVlMSAmJiBpbnB1dC52YWx1ZTIpIHsKICAgICAgICAgICAgdmFyIF9pbnB1dCA9IHBhcnNlSW50KGlucHV0LnZhbHVlMSk7CgogICAgICAgICAgICBpZiAoIWlucHV0LnZhbHVlMykgaW5wdXQudmFsdWUzID0gIiI7CiAgICAgICAgICAgIHZhciBfbmV3VmFsdWVzNyA9IHByZXZpb3VzRGF0YTsKCiAgICAgICAgICAgIF9uZXdWYWx1ZXM3Lm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgIGVbX2lucHV0XSA9IGVbX2lucHV0XS50b1N0cmluZygpLnJlcGxhY2UoaW5wdXQudmFsdWUyLCBpbnB1dC52YWx1ZTMpOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIHZtLnJ1bGVzW2luZGV4XS5kYXRhID0gX25ld1ZhbHVlczc7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB2bS5ydWxlc1tpbmRleF0uZGF0YSA9IHZtLnJ1bGVzW2luZGV4IC0gMV0uZGF0YTsKICAgICAgICAgIH0KCiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAiZm9ybURhdGVzIjoKICAgICAgICAgIGlmIChpbnB1dCAmJiBpbnB1dC52YWx1ZTEgJiYgaW5wdXQudmFsdWUyKSB7CiAgICAgICAgICAgIGFsZXJ0KCJDYW4ndCBkbyB0aGlzIG9wZXJhdGlvbiBhdCB0aGlzIHRpbWUgdW50aWwgd2Ugc3RhbmRhcmRpemUgd2hhdCBkYXRlcyB3ZSB3YW50IGNvbWluZyBpbiwgaWYgd2UgZG8gd2FudCB0byBjYXB0dXJlIHRoYXQgZGF0YS4iKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZtLnJ1bGVzW2luZGV4XS5kYXRhID0gdm0ucnVsZXNbaW5kZXggLSAxXS5kYXRhOwogICAgICAgICAgfQoKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICJwcm9jZXNzQ3VzdG9tZXJzIjoKICAgICAgICAgIGlmIChpbnB1dC5lbWFpbCB8fCBpbnB1dC5waG9uZSkgewogICAgICAgICAgICB2YXIgZGF0YSA9IHByZXZpb3VzRGF0YTsKICAgICAgICAgICAgdmFyIGN1c3RvbWVyTGlzdCA9IFtdOwogICAgICAgICAgICBkYXRhLm1hcChmdW5jdGlvbiAoY3VzdG9tZXIpIHsKICAgICAgICAgICAgICB2YXIgbmV3Q3VzdG9tZXIgPSB7CiAgICAgICAgICAgICAgICBmaXJzdG5hbWU6IGlucHV0LmZpcnN0bmFtZSA/IGN1c3RvbWVyW2lucHV0LmZpcnN0bmFtZV0gOiAiIiwKICAgICAgICAgICAgICAgIGxhc3RuYW1lOiBpbnB1dC5sYXN0bmFtZSA/IGN1c3RvbWVyW2lucHV0Lmxhc3RuYW1lXSA6ICIiLAogICAgICAgICAgICAgICAgZW1haWw6IGlucHV0LmVtYWlsID8gY3VzdG9tZXJbaW5wdXQuZW1haWxdIDogIiIsCiAgICAgICAgICAgICAgICBwaG9uZTogaW5wdXQucGhvbmUgPyBjdXN0b21lcltpbnB1dC5waG9uZV0gOiAiIiwKICAgICAgICAgICAgICAgIG5vdGVzOiBpbnB1dC5ub3RlcyA/IGN1c3RvbWVyW2lucHV0Lm5vdGVzXSA6ICIiCiAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgaWYgKGlucHV0Lm5vdGVzID09ICdDdXN0b20nKSB7CiAgICAgICAgICAgICAgICBuZXdDdXN0b21lci5ub3RlcyA9IGlucHV0LmN1c3RvbU5vdGU7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjdXN0b21lckxpc3QucHVzaChuZXdDdXN0b21lcik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB2bS5ydWxlc1tpbmRleF0uZGF0YSA9IGN1c3RvbWVyTGlzdDsKICAgICAgICAgIH0KCiAgICAgICAgICBicmVhazsKCiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIGlmIChpbnB1dCAmJiBpbnB1dC52YWx1ZSkgewogICAgICAgICAgICBjb25zb2xlLmxvZyhpbnB1dC52YWx1ZSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB2bS5ydWxlc1tpbmRleF0uZGF0YSA9IHZtLnJ1bGVzW2luZGV4IC0gMV0uZGF0YTsKICAgICAgICAgIH0KCiAgICAgIH0KCiAgICAgIGlmIChpbmRleCAhPSB2bS5ydWxlcy5sZW5ndGggLSAxKSB7CiAgICAgICAgdm0ucnVsZXMubWFwKGZ1bmN0aW9uIChlLCBpKSB7CiAgICAgICAgICBpZiAoaSA+IGluZGV4KSB7CiAgICAgICAgICAgIHZtLmNoYW5nZUZpbHRlcihpLCBlLm9wdGlvbiwgZS5pbnB1dCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBtYXBEYXRhOiBmdW5jdGlvbiBtYXBEYXRhKCkgewogICAgICB0aGlzLmNzdkRhdGEubWFwKGZ1bmN0aW9uIChlLCBpKSB7CiAgICAgICAgZS5tYXAoZnVuY3Rpb24gKGgsIGopIHsKICAgICAgICAgIGggPSBoLnRyaW0oKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgYWRkTWFudWFsRmlsZTogZnVuY3Rpb24gYWRkTWFudWFsRmlsZShldmVudCkgewogICAgICB2YXIgdm0gPSB0aGlzOyAvLyBFdmVudFNlcnZpY2UuJGVtaXQoImxvYWRpbmciLCAic2hvdyIpOwoKICAgICAgaWYgKGV2ZW50LnRhcmdldC5maWxlc1swXSkgewogICAgICAgIHZtLmZpbGVFeGlzdHMgPSB0cnVlOwogICAgICAgIHZhciBleGFtcGxlRmlsZSA9IGV2ZW50LnRhcmdldC5maWxlc1swXTsKICAgICAgICB2YXIgZmlsZU5hbWUgPSBleGFtcGxlRmlsZS5uYW1lOwogICAgICAgIHZhciBmaWxlVHlwZSA9IGZpbGVOYW1lLnN1YnN0cihmaWxlTmFtZS5pbmRleE9mKCIuIikgKyAxKTsKCiAgICAgICAgaWYgKGZpbGVUeXBlID09ICJ4bHN4IiB8fCBmaWxlVHlwZSA9PSAieGxzIikgewogICAgICAgICAgdmFyIHJBQlMgPSB0cnVlOwogICAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CgogICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHZhciBkYXRhID0gZS50YXJnZXQucmVzdWx0OwogICAgICAgICAgICBpZiAoIXJBQlMpIGRhdGEgPSBuZXcgVWludDhBcnJheShkYXRhKTsKICAgICAgICAgICAgdmFyIHdvcmtib29rID0gWExTWC5yZWFkKGRhdGEsIHsKICAgICAgICAgICAgICB0eXBlOiByQUJTID8gImJpbmFyeSIgOiAiYXJyYXkiCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB2YXIgcHJvY2Vzc2VkWExTID0gWExTWC51dGlscy5zaGVldF90b19qc29uKHdvcmtib29rLlNoZWV0c1t3b3JrYm9vay5TaGVldE5hbWVzWzBdXSwgewogICAgICAgICAgICAgIGhlYWRlcjogMQogICAgICAgICAgICB9KS5maWx0ZXIoZnVuY3Rpb24gKHJvdykgewogICAgICAgICAgICAgIHJldHVybiByb3cubGVuZ3RoID4gMDsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIDsKICAgICAgICAgICAgdmFyIG1heFNpemUgPSAwOwogICAgICAgICAgICBwcm9jZXNzZWRYTFMubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgaWYgKGUubGVuZ3RoID4gbWF4U2l6ZSkgbWF4U2l6ZSA9IGUubGVuZ3RoOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdmFyIGRpZmYgPSBtYXhTaXplIC0gcHJvY2Vzc2VkWExTWzBdLmxlbmd0aDsKCiAgICAgICAgICAgIHdoaWxlIChkaWZmID4gMCkgewogICAgICAgICAgICAgIHByb2Nlc3NlZFhMU1swXS5wdXNoKCctJyk7CiAgICAgICAgICAgICAgZGlmZiA9IG1heFNpemUgLSBwcm9jZXNzZWRYTFNbMF0ubGVuZ3RoOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAocHJvY2Vzc2VkWExTLmxlbmd0aCA+IDIwKSB7CiAgICAgICAgICAgICAgdm0ucnVsZXNbMF0uZGF0YSA9IHByb2Nlc3NlZFhMUy5zcGxpY2UoMCwgMTEpLmNvbmNhdChwcm9jZXNzZWRYTFMuc3BsaWNlKC0xMCkpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHZtLnJ1bGVzWzBdLmRhdGEgPSBwcm9jZXNzZWRYTFM7CiAgICAgICAgICAgIH0KICAgICAgICAgIH07CgogICAgICAgICAgaWYgKHJBQlMpIHJlYWRlci5yZWFkQXNCaW5hcnlTdHJpbmcoZXhhbXBsZUZpbGUpO2Vsc2UgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGV4YW1wbGVGaWxlKTsKICAgICAgICB9IGVsc2UgaWYgKGZpbGVUeXBlID09ICJjc3YiKSB7CiAgICAgICAgICB2YXIgcHJvY2Vzc2VkQ1NWOwogICAgICAgICAgUGFwYS5wYXJzZShleGFtcGxlRmlsZSwgewogICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gY29tcGxldGUocmVzdWx0cykgewogICAgICAgICAgICAgIHByb2Nlc3NlZENTViA9IHJlc3VsdHMuZGF0YTsKCiAgICAgICAgICAgICAgaWYgKHByb2Nlc3NlZENTVi5sZW5ndGggPiAyMCkgewogICAgICAgICAgICAgICAgdm0ucnVsZXNbMF0uZGF0YSA9IHByb2Nlc3NlZENTVi5zcGxpY2UoMCwgMTEpLmNvbmNhdChwcm9jZXNzZWRDU1Yuc3BsaWNlKC0xMCkpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB2bS5ydWxlc1swXS5kYXRhID0gcHJvY2Vzc2VkQ1NWOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIGlmIChmaWxlVHlwZSA9PSAieG1sIikgewogICAgICAgICAgdmFyIF9yZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwoKICAgICAgICAgIF9yZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgdmFyIGRhdGEgPSBlLnRhcmdldC5yZXN1bHQ7CiAgICAgICAgICAgIHZtLmNvbnZlcnRNYW51YWxYTUwoZGF0YSk7CiAgICAgICAgICB9OwoKICAgICAgICAgIF9yZWFkZXIucmVhZEFzVGV4dChleGFtcGxlRmlsZSk7CiAgICAgICAgfSBlbHNlIGlmIChmaWxlVHlwZSA9PSAidHh0IikgewogICAgICAgICAgdmFyIF9yZWFkZXIyID0gbmV3IEZpbGVSZWFkZXIoKTsKCiAgICAgICAgICBfcmVhZGVyMi5vbmxvYWQgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICB2YXIgZGF0YSA9IGUudGFyZ2V0LnJlc3VsdDsKICAgICAgICAgICAgdmFyIHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTsKICAgICAgICAgICAgdmFyIG5ld0RvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoSlNPTi5wYXJzZShkYXRhKSwgInRleHQvaHRtbCIpOwogICAgICAgICAgICB2YXIgdGVzdCA9IG5ld0RvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgidHIiKTsKCiAgICAgICAgICAgIHZhciBuZXdBcnIgPSBfdG9Db25zdW1hYmxlQXJyYXkodGVzdCk7CgogICAgICAgICAgICB2YXIgY3VzdG9tZXJMaXN0ID0gW107CiAgICAgICAgICAgIHZhciBoZWFkZXJBcnIgPSBbXTsKICAgICAgICAgICAgbmV3QXJyLm1hcChmdW5jdGlvbiAoZykgewogICAgICAgICAgICAgIHZhciBoZWFkZXJzID0gZy5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGgiKTsKCiAgICAgICAgICAgICAgaWYgKGhlYWRlcnMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgaGVhZGVyQXJyLnB1c2goX3RvQ29uc3VtYWJsZUFycmF5KGhlYWRlcnMpKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB2YXIgaGVhZGVyc0xpc3QgPSBbXTsKICAgICAgICAgICAgaGVhZGVyQXJyLm1hcChmdW5jdGlvbiAoaCkgewogICAgICAgICAgICAgIGgubWFwKGZ1bmN0aW9uIChnKSB7CiAgICAgICAgICAgICAgICBoZWFkZXJzTGlzdC5wdXNoKGcuaW5uZXJIVE1MKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHZhciBuZXh0QXJyID0gW107CiAgICAgICAgICAgIG5ld0Fyci5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICB2YXIgdGVzdGluZyA9IGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRkIik7CiAgICAgICAgICAgICAgdmFyIGN1c3RvbWVyID0ge307CgogICAgICAgICAgICAgIHZhciBuZXh0QXJyYXkgPSBfdG9Db25zdW1hYmxlQXJyYXkodGVzdGluZyk7CgogICAgICAgICAgICAgIG5leHRBcnJheS5tYXAoZnVuY3Rpb24gKGYsIGkpIHsKICAgICAgICAgICAgICAgIHZhciBoZWFkZXIgPSBoZWFkZXJzTGlzdFtpXTsKICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGYudGV4dENvbnRlbnQ7CiAgICAgICAgICAgICAgICBjdXN0b21lcltoZWFkZXJdID0gdmFsdWU7CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhjdXN0b21lcikubGVuZ3RoID4gMykgewogICAgICAgICAgICAgICAgY3VzdG9tZXJMaXN0LnB1c2goY3VzdG9tZXIpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHZhciBjc3ZWZXJzaW9uID0gUGFwYS51bnBhcnNlKGN1c3RvbWVyTGlzdCk7CiAgICAgICAgICAgIHZhciBqc29uVmVyc2lvbiA9IFBhcGEucGFyc2UoY3N2VmVyc2lvbik7CiAgICAgICAgICAgIGpzb25WZXJzaW9uID0ganNvblZlcnNpb24uZGF0YTsgLy8gY29uc29sZS5sb2coanNvblZlcnNpb24pOwoKICAgICAgICAgICAgaWYgKGpzb25WZXJzaW9uLmxlbmd0aCA+IDEwMCkgewogICAgICAgICAgICAgIHZtLnJ1bGVzWzBdLmRhdGEgPSBqc29uVmVyc2lvbi5zcGxpY2UoMCwgNTApLmNvbmNhdChqc29uVmVyc2lvbi5zcGxpY2UoLTUwKSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdm0ucnVsZXNbMF0uZGF0YSA9IGpzb25WZXJzaW9uOwogICAgICAgICAgICB9CiAgICAgICAgICB9OwoKICAgICAgICAgIF9yZWFkZXIyLnJlYWRBc1RleHQoZXhhbXBsZUZpbGUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zb2xlLmxvZygiRXJyb3IsIHRoaXMgaGFzIGJlZW4gcmVqZWN0ZWQgZm9yIGluY29ycmVjdCBmaWxlIHR5cGUuIik7CiAgICAgICAgfQoKICAgICAgICBpZiAodm0ucnVsZXMgJiYgdm0ucnVsZXMubGVuZ3RoID4gMSkgewogICAgICAgICAgdm0ucnVsZXMubWFwKGZ1bmN0aW9uIChydWxlLCBpKSB7CiAgICAgICAgICAgIGlmIChpID4gMCkgewogICAgICAgICAgICAgIHJ1bGUuZGF0YS5tYXAoZnVuY3Rpb24gKGRhdGFzZXQpIHsKICAgICAgICAgICAgICAgIGlmIChkYXRhc2V0ICYmIGRhdGFzZXQubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICB2bS5jaGFuZ2VGaWx0ZXIoaSwgcnVsZS5vcHRpb24sIHJ1bGUuaW5wdXQpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBjb252ZXJ0TWFudWFsWE1MOiBmdW5jdGlvbiBjb252ZXJ0TWFudWFsWE1MKHhtbCkgewogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICB2YXIgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICB2YXIgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyh4bWwsICJ0ZXh0L3htbCIpOwogICAgICB2YXIgeG1sQXJyID0geG1sRG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJSb3ciKTsKCiAgICAgIHZhciBuZXdYTUxBcnIgPSBfdG9Db25zdW1hYmxlQXJyYXkoeG1sQXJyKTsKCiAgICAgIHZhciBjdXN0b21lckxpc3QgPSBbXTsKICAgICAgbmV3WE1MQXJyLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgIHZhciBjdXN0b21lciA9IHt9OwoKICAgICAgICB2YXIgdGVzdCA9IF90b0NvbnN1bWFibGVBcnJheShlLmF0dHJpYnV0ZXMpOwoKICAgICAgICB0ZXN0Lm1hcChmdW5jdGlvbiAoZikgewogICAgICAgICAgdmFyIGhlYWRlciA9IGYubmFtZTsKICAgICAgICAgIHZhciB2YWx1ZSA9IGYubm9kZVZhbHVlOwogICAgICAgICAgY3VzdG9tZXJbaGVhZGVyXSA9IHZhbHVlOwogICAgICAgIH0pOwogICAgICAgIGN1c3RvbWVyTGlzdC5wdXNoKGN1c3RvbWVyKTsKICAgICAgfSk7CiAgICAgIHZhciBjc3ZWZXJzaW9uID0gUGFwYS51bnBhcnNlKGN1c3RvbWVyTGlzdCk7CiAgICAgIHZhciBqc29uVmVyc2lvbiA9IFBhcGEucGFyc2UoY3N2VmVyc2lvbik7CiAgICAgIGpzb25WZXJzaW9uID0ganNvblZlcnNpb24uZGF0YTsKCiAgICAgIGlmIChqc29uVmVyc2lvbi5sZW5ndGggPiAyMCkgewogICAgICAgIHZtLnJ1bGVzWzBdLmRhdGEgPSBqc29uVmVyc2lvbi5zcGxpY2UoMCwgMTEpLmNvbmNhdChqc29uVmVyc2lvbi5zcGxpY2UoLTEwKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdm0ucnVsZXNbMF0uZGF0YSA9IGpzb25WZXJzaW9uOwogICAgICB9CiAgICB9LAogICAgc2F2ZVJ1bGVzOiBmdW5jdGlvbiBzYXZlUnVsZXMoKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIHZhciBydWxlSWQgPSBudWxsOwoKICAgICAgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5wYXJzZXIgJiYgIXRoaXMuJHJvdXRlLnBhcmFtcy5hY3Rpb24pIHsKICAgICAgICBydWxlSWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMucGFyc2VyOwogICAgICB9CgogICAgICB2YXIgcGFyc2luZ09iamVjdCA9IHsKICAgICAgICBuYW1lOiB2bS5ydWxlTmFtZSwKICAgICAgICB0cmlnZ2VyOiB2bS50cmlnZ2VyLAogICAgICAgIGZpbGVUeXBlOiB2bS5wYXJzZUZpbGVUeXBlLAogICAgICAgIHBhcnNlRmlsZU5hbWU6IHZtLnBhcnNlRmlsZU5hbWUsCiAgICAgICAgdmFsdWU6IHZtLmZpbGVOYW1lLAogICAgICAgIHJ1bGVzOiB2bS5ydWxlcwogICAgICB9OwogICAgICB2YXIgY29tcGxldGVNYWlsYm94ID0gJyc7CgogICAgICBpZiAodm0ubWFpbGJveC5pbmNsdWRlcygnQGxpdmVtYWlsLm9waW5paW9uLmNvbScpIHx8IHZtLm1haWxib3guaW5jbHVkZXMoJ0BkZW1vbWFpbC5vcGluaWlvbi5jb20nKSkgewogICAgICAgIGNvbXBsZXRlTWFpbGJveCA9IHZtLm1haWxib3g7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29tcGxldGVNYWlsYm94ID0gdm0uZG9tYWluID09ICJhcHAiID8gdm0ubWFpbGJveCArICJAbGl2ZW1haWwub3Bpbmlpb24uY29tIiA6IHZtLm1haWxib3ggKyAiQGRlbW9tYWlsLm9waW5paW9uLmNvbSI7CiAgICAgIH0KCiAgICAgIFBhcnNpbmdTZXJ2aWNlLnNhdmVQYXJzaW5nUnVsZXMoY29tcGxldGVNYWlsYm94LCBwYXJzaW5nT2JqZWN0LCBydWxlSWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHsKICAgICAgICAgIHZtLmNzdiA9IFtdLCB2bS54bWwgPSBbXSwgdm0uZmlsZU9wdGlvbnMgPSBbImNzdiIsICJ4bWwiLCAieGxzIiwgInhsc3giLCAidHh0Il0sIHZtLmluZGljYXRvcnMgPSBbInN1YmplY3QiLCAiZnJvbU5hbWUiLCAiYm9keSJdLCB2bS5maWxlTmFtZSA9ICIiLCB2bS5maWxlRXhpc3RzID0gZmFsc2UsIHZtLm5ld0ZpbGUgPSAiIiwgdm0udHJpZ2dlciA9ICIiLCB2bS5wYXJzZUZpbGVUeXBlID0gIiIsIHZtLm1haWxib3ggPSAiIiwgdm0uanNvbiA9ICIiLCB2bS5kb21haW4gPSAiIiwgdm0uYWN0aXZlTG9jYXRpb24gPSAiIiwgdm0ubG9jYXRpb25PcHRpb25zID0gW10sIHZtLnJ1bGVOYW1lID0gIiIsIHZtLnNlbGVjdGVkRmlsZSA9ICcnLCB2bS5ydWxlcyA9IFt7CiAgICAgICAgICAgIHJ1bGU6IDEsCiAgICAgICAgICAgIGRhdGE6ICIiLAogICAgICAgICAgICBvcHRpb246ICJpbnRpYWxEYXRhIgogICAgICAgICAgfV07CiAgICAgICAgICB2bS4kcm91dGVyLnB1c2goJy9wYXJzaW5nTGlzdCcpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["ParsingRules.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgTA,OAAA,MAAA;AACA,SAAA,YAAA;AACA,OAAA,IAAA;AACA,OAAA,cAAA;AACA,OAAA,WAAA;AACA,OAAA,eAAA;AACA,OAAA,IAAA,MAAA,MAAA;AACA,OAAA,cAAA,MAAA,QAAA;AACA,OAAA,OAAA;AACA,OAAA,iBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,OAAA,EAAA;AADA,GAFA;AAKA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,GAAA,EAAA,EADA;AAEA,MAAA,GAAA,EAAA,EAFA;AAGA,MAAA,YAAA,EAAA,EAHA;AAIA,MAAA,WAAA,EAAA,CAAA,KAAA,EAAA,KAAA,EAAA,KAAA,EAAA,MAAA,EAAA,KAAA,CAJA;AAKA,MAAA,UAAA,EAAA,CAAA,SAAA,EAAA,UAAA,EAAA,MAAA,CALA;AAMA,MAAA,QAAA,EAAA,EANA;AAOA,MAAA,UAAA,EAAA,KAPA;AAQA,MAAA,cAAA,EAAA,KARA;AASA,MAAA,OAAA,EAAA,EATA;AAUA,MAAA,OAAA,EAAA,EAVA;AAWA,MAAA,aAAA,EAAA,EAXA;AAYA,MAAA,aAAA,EAAA,EAZA;AAaA,MAAA,YAAA,EAAA,EAbA;AAcA,MAAA,OAAA,EAAA,EAdA;AAeA,MAAA,IAAA,EAAA,EAfA;AAgBA,MAAA,MAAA,EAAA,EAhBA;AAiBA,MAAA,cAAA,EAAA,EAjBA;AAkBA,MAAA,eAAA,EAAA,EAlBA;AAmBA,MAAA,QAAA,EAAA,EAnBA;AAoBA,MAAA,KAAA,EAAA,CAAA;AAAA,QAAA,IAAA,EAAA,EAAA;AAAA,QAAA,MAAA,EAAA;AAAA,OAAA,CApBA;AAqBA,MAAA,UAAA,EAAA,CAAA,SAAA,EAAA,CAAA,EAAA,CAAA,EAAA,CAAA,CArBA;AAsBA,MAAA,YAAA,EAAA,EAtBA;AAuBA,MAAA,QAAA,EAAA,KAvBA;AAwBA,MAAA,YAAA,EAAA;AAxBA,KAAA;AA0BA,GAhCA;AAiCA,EAAA,QAAA,EAAA;AACA,IAAA,IADA,kBACA;AACA,UAAA,EAAA,GAAA,IAAA;;AACA,UAAA,EAAA,CAAA,IAAA,EAAA;AACA,eAAA,EAAA,CAAA,IAAA,CAAA,MAAA,CAAA,CAAA,EAAA,EAAA,CAAA;AACA;AACA;AANA,GAjCA;AAyCA,EAAA,OAzCA,qBAyCA;AACA,QAAA,KAAA,MAAA,CAAA,MAAA,CAAA,MAAA,EAAA;AACA,WAAA,cAAA;AACA;;AACA,SAAA,gBAAA,GAAA,YAAA,CAAA,OAAA,CAAA,YAAA,CAAA;AACA,SAAA,sBAAA;AACA,SAAA,kBAAA;AACA,SAAA,aAAA;AACA,SAAA,MAAA,GAAA,MAAA,CAAA,SAAA;AACA,GAlDA;AAmDA,EAAA,OAAA,EAAA;AACA,IAAA,sBADA,oCACA;AACA,UAAA,EAAA,GAAA,IAAA;AACA,MAAA,cAAA,CAAA,eAAA,GAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,QAAA,QAAA,CAAA,QAAA,CAAA,GAAA,CAAA,UAAA,IAAA,EAAA;AACA,UAAA,EAAA,CAAA,YAAA,CAAA,IAAA,CAAA,IAAA,CAAA,YAAA,CAAA,IAAA;AACA,SAFA;AAGA,OAJA;AAKA,KARA;AASA;AACA;AACA;AACA;AACA;AACA;AACA,IAAA,QAfA,sBAeA;AACA,UAAA,EAAA,GAAA,IAAA;;AACA,UAAA,EAAA,CAAA,YAAA,CAAA,QAAA,CAAA,EAAA,CAAA,QAAA,CAAA,EAAA;AACA,QAAA,EAAA,CAAA,QAAA,GAAA,IAAA;AACA,OAFA,MAEA,IAAA,EAAA,CAAA,QAAA,CAAA,QAAA,CAAA,GAAA,CAAA,EAAA;AACA,QAAA,EAAA,CAAA,YAAA,GAAA,IAAA;AACA,OAFA,MAEA;AACA,QAAA,EAAA,CAAA,YAAA,GAAA,KAAA;AACA,QAAA,EAAA,CAAA,QAAA,GAAA,KAAA;AACA;AACA,KAzBA;AA0BA,IAAA,SA1BA,qBA0BA,IA1BA,EA0BA,MA1BA,EA0BA;AACA,UAAA,UAAA,GAAA,CAAA;AACA,MAAA,IAAA,CAAA,GAAA,CAAA,UAAA,IAAA,EAAA;AACA,YAAA,IAAA,CAAA,MAAA,GAAA,UAAA,EAAA,UAAA,GAAA,IAAA,CAAA,MAAA;AACA,OAFA;;AAGA,UAAA,MAAA,EAAA;AACA,eAAA,KAAA,CAAA,IAAA,CAAA,IAAA,KAAA,CAAA,UAAA,CAAA,EAAA,UAAA,GAAA,EAAA,KAAA;AAAA,iBAAA,KAAA;AAAA,SAAA,EAAA,MAAA,CAAA,MAAA,CAAA;AACA,OAFA,MAEA;AACA,eAAA,KAAA,CAAA,IAAA,CAAA,IAAA,KAAA,CAAA,UAAA,CAAA,EAAA,UAAA,GAAA,EAAA,KAAA;AAAA,iBAAA,KAAA;AAAA,SAAA,CAAA;AACA;AACA,KApCA;AAqCA,IAAA,cArCA,4BAqCA;AAAA;;AACA,UAAA,EAAA,GAAA,IAAA;AACA,MAAA,cAAA,CAAA,cAAA,CAAA,KAAA,MAAA,CAAA,MAAA,CAAA,MAAA,EAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,QAAA,EAAA,CAAA,YAAA,GAAA,QAAA,CAAA,MAAA,CAAA,CAAA,CAAA;;AACA,YAAA,CAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,EAAA;AAEA,UAAA,EAAA,CAAA,QAAA,GAAA,EAAA,CAAA,YAAA,CAAA,YAAA,CAAA,IAAA;AACA,UAAA,EAAA,CAAA,OAAA,GAAA,EAAA,CAAA,YAAA,CAAA,OAAA,CAAA,MAAA,CAAA,CAAA,EAAA,EAAA,CAAA,YAAA,CAAA,OAAA,CAAA,OAAA,CAAA,GAAA,CAAA,CAAA;AACA;;AACA,QAAA,EAAA,CAAA,KAAA,GAAA,EAAA,CAAA,YAAA,CAAA,YAAA,CAAA,KAAA;AACA,QAAA,EAAA,CAAA,OAAA,GAAA,EAAA,CAAA,YAAA,CAAA,YAAA,CAAA,OAAA;AACA,QAAA,EAAA,CAAA,aAAA,GAAA,EAAA,CAAA,YAAA,CAAA,YAAA,CAAA,QAAA;AACA,QAAA,EAAA,CAAA,UAAA,GAAA,IAAA;;AACA,YAAA,EAAA,CAAA,OAAA,IAAA,SAAA,EAAA;AACA,UAAA,EAAA,CAAA,QAAA,GAAA,EAAA,CAAA,YAAA,CAAA,YAAA,CAAA,KAAA;AACA,SAFA,MAEA;AACA,UAAA,EAAA,CAAA,aAAA,GAAA,EAAA,CAAA,YAAA,CAAA,YAAA,CAAA,aAAA;AACA;;AACA,QAAA,EAAA,CAAA,KAAA,CAAA,GAAA,CAAA,UAAA,IAAA,EAAA;AACA,cAAA,IAAA,CAAA,KAAA,IAAA,IAAA,CAAA,KAAA,IAAA,gBAAA,EAAA;AACA,YAAA,IAAA,CAAA,cAAA,GAAA,IAAA,CAAA,KAAA,CAAA,QAAA;AACA;AACA,SAJA;AAKA,OArBA;AAsBA,KA7DA;AA8DA,IAAA,kBA9DA,gCA8DA;AACA,UAAA,EAAA,GAAA,IAAA;AACA,MAAA,WAAA,CAAA,mBAAA,GAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,QAAA,QAAA,CAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,cAAA,cAAA,GAAA;AACA,YAAA,KAAA,EAAA,CAAA,CAAA,IADA;AAEA,YAAA,KAAA,EAAA,CAAA,CAAA,UAFA;AAGA,YAAA,GAAA,EAAA,CAAA,CAAA,MAHA;AAIA,YAAA,SAAA,EAAA,CAAA,CAAA;AAJA,WAAA;AAMA,UAAA,EAAA,CAAA,eAAA,CAAA,IAAA,CAAA,cAAA;AACA,SARA;AASA,OAVA;AAWA,KA3EA;AA4EA,IAAA,aA5EA,2BA4EA;AACA,UAAA,EAAA,GAAA,IAAA;AACA,MAAA,cAAA,CAAA,aAAA,GAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,QAAA,EAAA,CAAA,YAAA,GAAA,QAAA,CAAA,QAAA,CADA,CAEA;AACA,OAHA;AAIA,KAlFA;AAmFA,IAAA,OAnFA,mBAmFA,IAnFA,EAmFA;AACA,UAAA,EAAA,GAAA,IAAA,CADA,CAEA;;AACA,UAAA,IAAA,EAAA;AACA,QAAA,EAAA,CAAA,UAAA,GAAA,IAAA;AACA,QAAA,EAAA,CAAA,cAAA,GAAA,KAAA;AACA,QAAA,EAAA,CAAA,YAAA,GAAA,IAAA;AACA,YAAA,WAAA,GAAA,IAAA;AACA,YAAA,QAAA;;AACA,YAAA,WAAA,CAAA,QAAA,CAAA,QAAA,CAAA,MAAA,CAAA,EAAA;AACA,UAAA,QAAA,GAAA,WAAA,CAAA,QAAA,CAAA,MAAA,CAAA,CAAA,EAAA,WAAA,CAAA,QAAA,CAAA,WAAA,CAAA,GAAA,CAAA,CAAA;AACA,SAFA,MAEA;AACA,UAAA,QAAA,GAAA,WAAA,CAAA,QAAA;AACA;;AACA,YAAA,QAAA,GAAA,QAAA,CAAA,MAAA,CAAA,QAAA,CAAA,WAAA,CAAA,GAAA,IAAA,CAAA,CAAA;;AACA,YAAA,QAAA,IAAA,MAAA,IAAA,QAAA,IAAA,KAAA,EAAA;AACA,cAAA,IAAA,GAAA,IAAA;AACA,cAAA,IAAA,GAAA,IAAA,CAAA,WAAA,CAAA,OAAA,CAAA;AACA,cAAA,CAAA,IAAA,EAAA,IAAA,GAAA,IAAA,UAAA,CAAA,IAAA,CAAA;AACA,cAAA,QAAA,GAAA,IAAA,CAAA,IAAA,CAAA,IAAA,EAAA;AAAA,YAAA,IAAA,EAAA,IAAA,GAAA,QAAA,GAAA;AAAA,WAAA,CAAA;AACA,cAAA,YAAA,GAAA,IAAA,CAAA,KAAA,CAAA,aAAA,CACA,QAAA,CAAA,MAAA,CAAA,QAAA,CAAA,UAAA,CAAA,CAAA,CAAA,CADA,EAEA;AAAA,YAAA,MAAA,EAAA;AAAA,WAFA,EAGA,MAHA,CAGA,UAAA,GAAA,EAAA;AACA,mBAAA,GAAA,CAAA,MAAA,GAAA,CAAA;AACA,WALA,CAAA;AAMA,cAAA,OAAA,GAAA,CAAA;AACA,UAAA,YAAA,CAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,gBAAA,CAAA,CAAA,MAAA,GAAA,OAAA,EAAA,OAAA,GAAA,CAAA,CAAA,MAAA;AACA,WAFA;AAGA,cAAA,IAAA,GAAA,OAAA,GAAA,YAAA,CAAA,CAAA,CAAA,CAAA,MAAA;;AACA,iBAAA,IAAA,GAAA,CAAA,EAAA;AACA,YAAA,YAAA,CAAA,CAAA,CAAA,CAAA,IAAA,CAAA,GAAA;AACA,YAAA,IAAA,GAAA,OAAA,GAAA,YAAA,CAAA,CAAA,CAAA,CAAA,MAAA;AACA;;AACA,cAAA,YAAA,CAAA,MAAA,GAAA,EAAA,EAAA;AACA,YAAA,EAAA,CAAA,KAAA,CAAA,CAAA,EAAA,IAAA,GAAA,YAAA,CACA,MADA,CACA,CADA,EACA,EADA,EAEA,MAFA,CAEA,YAAA,CAAA,MAAA,CAAA,CAAA,EAAA,CAFA,CAAA;AAGA,WAJA,MAIA;AACA,YAAA,EAAA,CAAA,KAAA,CAAA,CAAA,EAAA,IAAA,GAAA,YAAA;AACA;AACA,SA3BA,MA2BA,IAAA,QAAA,IAAA,KAAA,EAAA;AACA,cAAA,YAAA;AACA,UAAA,IAAA,CAAA,KAAA,CAAA,IAAA,CAAA,WAAA,CAAA,OAAA,CAAA,EAAA;AACA,YAAA,QAAA,EAAA,kBAAA,OAAA,EAAA;AACA,cAAA,YAAA,GAAA,OAAA,CAAA,IAAA;;AACA,kBAAA,YAAA,CAAA,MAAA,GAAA,EAAA,EAAA;AACA,gBAAA,EAAA,CAAA,KAAA,CAAA,CAAA,EAAA,IAAA,GAAA,YAAA,CACA,MADA,CACA,CADA,EACA,EADA,EAEA,MAFA,CAEA,YAAA,CAAA,MAAA,CAAA,CAAA,EAAA,CAFA,CAAA;AAGA,eAJA,MAIA;AACA,gBAAA,EAAA,CAAA,KAAA,CAAA,CAAA,EAAA,IAAA,GAAA,YAAA;AACA;AACA;AAVA,WAAA;AAYA,SAdA,MAcA,IAAA,QAAA,IAAA,KAAA,EAAA;AACA,cAAA,IAAA,GAAA,IAAA,CAAA,WAAA,CAAA,OAAA,CAAA;AACA,UAAA,EAAA,CAAA,UAAA,CAAA,IAAA;AACA,SAHA,MAGA,IAAA,QAAA,IAAA,KAAA,EAAA;AACA,cAAA,IAAA,GAAA,IAAA,CAAA,WAAA,CAAA,OAAA,CAAA;AACA,cAAA,MAAA,GAAA,IAAA,SAAA,EAAA;AACA,cAAA,MAAA,GAAA,MAAA,CAAA,eAAA,CAAA,IAAA,CAAA,KAAA,CAAA,IAAA,CAAA,EAAA,WAAA,CAAA;AACA,cAAA,IAAA,GAAA,MAAA,CAAA,oBAAA,CAAA,IAAA,CAAA;;AACA,cAAA,MAAA,sBAAA,IAAA,CAAA;;AACA,cAAA,YAAA,GAAA,EAAA;AACA,cAAA,SAAA,GAAA,EAAA;AACA,UAAA,MAAA,CAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,gBAAA,OAAA,GAAA,CAAA,CAAA,oBAAA,CAAA,IAAA,CAAA;;AACA,gBAAA,OAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,cAAA,SAAA,CAAA,IAAA,oBAAA,OAAA;AACA;AACA,WALA;AAMA,cAAA,WAAA,GAAA,EAAA;AACA,UAAA,SAAA,CAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,YAAA,CAAA,CAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,cAAA,WAAA,CAAA,IAAA,CAAA,CAAA,CAAA,SAAA;AACA,aAFA;AAGA,WAJA;AAKA,cAAA,OAAA,GAAA,EAAA;AACA,UAAA,MAAA,CAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,gBAAA,OAAA,GAAA,CAAA,CAAA,oBAAA,CAAA,IAAA,CAAA;AACA,gBAAA,QAAA,GAAA,EAAA;;AACA,gBAAA,SAAA,sBAAA,OAAA,CAAA;;AACA,YAAA,SAAA,CAAA,GAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AACA,kBAAA,MAAA,GAAA,WAAA,CAAA,CAAA,CAAA;AACA,kBAAA,KAAA,GAAA,CAAA,CAAA,WAAA;AACA,cAAA,QAAA,CAAA,MAAA,CAAA,GAAA,KAAA;AACA,aAJA;;AAKA,gBAAA,MAAA,CAAA,IAAA,CAAA,QAAA,EAAA,MAAA,GAAA,CAAA,EAAA;AACA,cAAA,YAAA,CAAA,IAAA,CAAA,QAAA;AACA;AACA,WAZA;AAaA,cAAA,UAAA,GAAA,IAAA,CAAA,OAAA,CAAA,YAAA,CAAA;AACA,cAAA,WAAA,GAAA,IAAA,CAAA,KAAA,CAAA,UAAA,CAAA;AACA,UAAA,WAAA,GAAA,WAAA,CAAA,IAAA;;AACA,cAAA,WAAA,CAAA,MAAA,GAAA,EAAA,EAAA;AACA,YAAA,EAAA,CAAA,KAAA,CAAA,CAAA,EAAA,IAAA,GAAA,WAAA,CACA,MADA,CACA,CADA,EACA,EADA,EAEA,MAFA,CAEA,WAAA,CAAA,MAAA,CAAA,CAAA,EAAA,CAFA,CAAA;AAGA,WAJA,MAIA;AACA,YAAA,EAAA,CAAA,KAAA,CAAA,CAAA,EAAA,IAAA,GAAA,WAAA;AACA;AACA,SA5CA,MA4CA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,wDAAA;AACA;;AACA,YAAA,EAAA,CAAA,KAAA,IAAA,EAAA,CAAA,KAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,UAAA,EAAA,CAAA,KAAA,CAAA,GAAA,CAAA,UAAA,IAAA,EAAA,CAAA,EAAA;AACA,gBAAA,CAAA,GAAA,CAAA,EAAA;AACA,cAAA,IAAA,CAAA,IAAA,CAAA,GAAA,CAAA,UAAA,OAAA,EAAA;AACA,oBAAA,OAAA,IAAA,OAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,kBAAA,EAAA,CAAA,YAAA,CAAA,CAAA,EAAA,IAAA,CAAA,MAAA,EAAA,IAAA,CAAA,KAAA;AACA;AACA,eAJA;AAKA;AACA,WARA;AASA;AACA;AACA,KAzMA;AA0MA,IAAA,SA1MA,qBA0MA,KA1MA,EA0MA;AACA,UAAA,EAAA,GAAA,IAAA;AACA,MAAA,EAAA,CAAA,UAAA,GAAA,IAAA;AACA,MAAA,EAAA,CAAA,cAAA,GAAA,KAAA;AACA,MAAA,EAAA,CAAA,YAAA,GAAA,KAAA;AACA,UAAA,MAAA,GAAA,IAAA,SAAA,EAAA;AACA,UAAA,OAAA,GAAA,MAAA,CAAA,eAAA,CAAA,KAAA,EAAA,WAAA,CAAA;AACA,UAAA,MAAA,GAAA,KAAA,CAAA,IAAA,CAAA,OAAA,CAAA,oBAAA,CAAA,GAAA,CAAA,CAAA;AACA,UAAA,UAAA,GAAA,MAAA,CAAA,CAAA,CAAA,CAAA,SAAA,CAAA,KAAA,CAAA,MAAA,CAAA;AACA,UAAA,aAAA,GAAA,EAAA;AACA,MAAA,UAAA,CAAA,GAAA,CAAA,UAAA,IAAA,EAAA,CAAA,EAAA;AACA,QAAA,aAAA,CAAA,IAAA,CAAA,IAAA,CAAA,SAAA,CAAA,IAAA,CAAA,OAAA,CAAA,MAAA,CAAA,EACA,OADA,CACA,oBADA,EACA,EADA,EAEA,OAFA,CAEA,IAFA,EAEA,GAFA,EAGA,OAHA,CAGA,SAHA,EAGA,EAHA,EAIA,OAJA,CAIA,MAJA,EAIA,EAJA,EAKA,OALA,CAKA,KALA,EAKA,EALA,EAMA,OANA,CAMA,SANA,EAMA,EANA,EAOA,OAPA,CAOA,QAPA,EAOA,EAPA,EAQA,OARA,CAQA,UARA,EAQA,EARA,EASA,OATA,CASA,SATA,EASA,EATA,EAUA,KAVA,CAUA,GAVA,CAAA,EADA,CAYA;AACA,OAbA;;AAcA,UAAA,aAAA,CAAA,MAAA,GAAA,GAAA,EAAA;AACA,QAAA,EAAA,CAAA,KAAA,CAAA,CAAA,EAAA,IAAA,GAAA,aAAA,CACA,MADA,CACA,CADA,EACA,EADA,EAEA,MAFA,CAEA,aAAA,CAAA,MAAA,CAAA,CAAA,EAAA,CAFA,CAAA;AAGA,OAJA,MAIA;AACA,QAAA,EAAA,CAAA,KAAA,CAAA,CAAA,EAAA,IAAA,GAAA,aAAA;AACA,OA9BA,CA+BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,KAnRA;AAoRA,IAAA,UApRA,sBAoRA,GApRA,EAoRA;AACA,UAAA,EAAA,GAAA,IAAA;AACA,UAAA,MAAA,GAAA,IAAA,SAAA,EAAA;AACA,UAAA,MAAA,GAAA,MAAA,CAAA,eAAA,CAAA,GAAA,EAAA,UAAA,CAAA;AACA,UAAA,MAAA,GAAA,MAAA,CAAA,oBAAA,CAAA,KAAA,CAAA;;AACA,UAAA,SAAA,sBAAA,MAAA,CAAA;;AACA,UAAA,YAAA,GAAA,EAAA;AACA,MAAA,SAAA,CAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,YAAA,QAAA,GAAA,EAAA;;AACA,YAAA,IAAA,sBAAA,CAAA,CAAA,UAAA,CAAA;;AACA,QAAA,IAAA,CAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,cAAA,MAAA,GAAA,CAAA,CAAA,IAAA;AACA,cAAA,KAAA,GAAA,CAAA,CAAA,SAAA;AACA,UAAA,QAAA,CAAA,MAAA,CAAA,GAAA,KAAA;AACA,SAJA;AAKA,QAAA,YAAA,CAAA,IAAA,CAAA,QAAA;AACA,OATA;AAUA,UAAA,UAAA,GAAA,IAAA,CAAA,OAAA,CAAA,YAAA,CAAA;AACA,UAAA,WAAA,GAAA,IAAA,CAAA,KAAA,CAAA,UAAA,CAAA;AACA,MAAA,WAAA,GAAA,WAAA,CAAA,IAAA;;AACA,UAAA,WAAA,CAAA,MAAA,GAAA,EAAA,EAAA;AACA,QAAA,EAAA,CAAA,KAAA,CAAA,CAAA,EAAA,IAAA,GAAA,WAAA,CACA,MADA,CACA,CADA,EACA,EADA,EAEA,MAFA,CAEA,WAAA,CAAA,MAAA,CAAA,CAAA,EAAA,CAFA,CAAA;AAGA,OAJA,MAIA;AACA,QAAA,EAAA,CAAA,KAAA,CAAA,CAAA,EAAA,IAAA,GAAA,WAAA;AACA;AACA,KA/SA;AAgTA,IAAA,OAhTA,mBAgTA,KAhTA,EAgTA;AACA,UAAA,EAAA,GAAA,IAAA;AACA,MAAA,EAAA,CAAA,KAAA,CAAA,MAAA,CAAA,KAAA,GAAA,CAAA,EAAA,CAAA,EAAA;AACA,QAAA,IAAA,EAAA,EADA;AAEA,QAAA,MAAA,EAAA,EAFA;AAGA,QAAA,KAAA,EAAA;AAHA,OAAA;AAKA,KAvTA;AAwTA,IAAA,eAxTA,6BAwTA;AACA,UAAA,EAAA,GAAA,IAAA;AACA,MAAA,EAAA,CAAA,KAAA,CAAA,IAAA,CAAA;AACA,QAAA,IAAA,EAAA,EAAA,CAAA,KAAA,CAAA,MAAA,GAAA,CADA;AAEA,QAAA,KAAA,EAAA,gBAFA;AAGA,QAAA,IAAA,EAAA,EAHA;AAIA,QAAA,MAAA,EAAA,kBAJA;AAKA,QAAA,KAAA,EAAA;AALA,OAAA;AAOA,KAjUA;AAkUA,IAAA,UAlUA,sBAkUA,KAlUA,EAkUA;AACA,WAAA,KAAA,CAAA,MAAA,CAAA,KAAA,EAAA,CAAA;AACA,KApUA;AAqUA,IAAA,cArUA,0BAqUA,KArUA,EAqUA,YArUA,EAqUA;AACA,UAAA,EAAA,GAAA,IAAA;;AACA,UAAA,EAAA,CAAA,KAAA,CAAA,KAAA,EAAA,KAAA,CAAA,QAAA,IAAA,YAAA,EAAA;AACA,QAAA,EAAA,CAAA,KAAA,CAAA,KAAA,EAAA,KAAA,CAAA,QAAA,GAAA,YAAA;;AACA,YAAA,YAAA,IAAA,YAAA,CAAA,SAAA,EAAA;AACA,UAAA,iBAAA,CAAA,wBAAA,CAAA,YAAA,CAAA,KAAA,EAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,gBAAA,OAAA,GAAA,EAAA;AACA,YAAA,QAAA,CAAA,MAAA,CAAA,GAAA,CAAA,UAAA,IAAA,EAAA;AACA,cAAA,OAAA,CAAA,IAAA,CAAA,IAAA,CAAA,UAAA;AACA,aAFA;AAGA,YAAA,EAAA,CAAA,UAAA,GAAA,OAAA;AACA,WANA,EADA,CAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA1VA;AA2VA,IAAA,YA3VA,wBA2VA,KA3VA,EA2VA,MA3VA,EA2VA,KA3VA,EA2VA;AACA,UAAA,EAAA,GAAA,IAAA;AACA,UAAA,YAAA;;AACA,UACA,EAAA,CAAA,KAAA,CAAA,KAAA,GAAA,CAAA,EAAA,KAAA,IACA,EAAA,CAAA,KAAA,CAAA,KAAA,GAAA,CAAA,EAAA,KAAA,IAAA,gBAFA,EAGA;AACA,QAAA,YAAA,GAAA,IAAA,CAAA,KAAA,CAAA,IAAA,CAAA,SAAA,CAAA,EAAA,CAAA,KAAA,CAAA,CAAA,EAAA,IAAA,CAAA,CAAA;AACA,OALA,MAKA;AACA,QAAA,YAAA,GAAA,IAAA,CAAA,KAAA,CAAA,IAAA,CAAA,SAAA,CAAA,EAAA,CAAA,KAAA,CAAA,KAAA,GAAA,CAAA,EAAA,IAAA,CAAA,CAAA;AACA,OAVA,CAWA;;;AACA,cAAA,MAAA;AACA,aAAA,UAAA;AACA,cAAA,KAAA,IAAA,KAAA,CAAA,MAAA,IAAA,KAAA,CAAA,IAAA,IAAA,KAAA,CAAA,MAAA,EAAA;AACA,gBAAA,KAAA,CAAA,IAAA,IAAA,SAAA,EAAA;AACA,cAAA,EAAA,CAAA,KAAA,CAAA,KAAA,EAAA,IAAA,GAAA,YAAA,CAAA,MAAA,CAAA,UAAA,CAAA,EAAA;AACA,uBAAA,CAAA,CAAA,KAAA,CAAA,MAAA,CAAA,CACA,WADA,GAEA,QAFA,CAEA,OAAA,KAAA,CAAA,MAAA,IAAA,QAAA,GAAA,KAAA,CAAA,MAAA,CAAA,WAAA,EAAA,GAAA,KAAA,CAAA,MAFA,CAAA;AAGA,eAJA,CAAA;AAKA,aANA,MAMA,IAAA,KAAA,CAAA,IAAA,IAAA,WAAA,EAAA;AACA;AACA,cAAA,EAAA,CAAA,KAAA,CAAA,KAAA,EAAA,IAAA,GAAA,YAAA,CAAA,MAAA,CAAA,UAAA,CAAA,EAAA;AACA,uBAAA,CAAA,CAAA,CAAA,KAAA,CAAA,MAAA,CAAA,CACA,WADA,GAEA,QAFA,CAEA,OAAA,KAAA,CAAA,MAAA,IAAA,QAAA,GAAA,KAAA,CAAA,MAAA,CAAA,WAAA,EAAA,GAAA,KAAA,CAAA,MAFA,CAAA;AAGA,eAJA,CAAA;AAKA;AACA,WAfA,MAeA,IAAA,KAAA,IAAA,KAAA,CAAA,MAAA,IAAA,KAAA,CAAA,IAAA,EAAA;AACA,gBAAA,KAAA,CAAA,IAAA,IAAA,QAAA,EAAA;AACA,cAAA,EAAA,CAAA,KAAA,CAAA,KAAA,EAAA,IAAA,GAAA,YAAA,CAAA,MAAA,CAAA,UAAA,CAAA,EAAA;AACA,uBAAA,CAAA,CAAA,KAAA,CAAA,MAAA,CAAA;AACA,eAFA,CAAA;AAGA,aAJA,MAIA,IAAA,KAAA,CAAA,IAAA,IAAA,QAAA,EAAA;AACA,cAAA,EAAA,CAAA,KAAA,CAAA,KAAA,EAAA,IAAA,GAAA,YAAA,CAAA,MAAA,CAAA,UAAA,CAAA,EAAA;AACA;AACA,uBACA,CAAA,CAAA,KAAA,CAAA,MAAA,CAAA,IACA,OAAA,CAAA,CAAA,KAAA,CAAA,MAAA,CAAA,IAAA,QADA,IAEA,CAAA,CAAA,KAAA,CAAA,MAAA,CAAA,CAAA,IAAA,GAAA,OAAA,CAAA,GAAA,KAAA,CAAA,CAHA;AAKA,eAPA,CAAA;AAQA,aATA,MASA,IAAA,KAAA,CAAA,IAAA,IAAA,OAAA,EAAA;AACA;AACA,cAAA,EAAA,CAAA,KAAA,CAAA,KAAA,EAAA,IAAA,GAAA,YAAA,CAAA,MAAA,CAAA,UAAA,CAAA,EAAA;AACA,uBAAA,QAAA,CAAA,CAAA,CAAA,KAAA,CAAA,MAAA,CAAA,CAAA;AACA,eAFA,CAAA;AAGA;AACA,WApBA,MAoBA;AACA,YAAA,EAAA,CAAA,KAAA,CAAA,KAAA,EAAA,IAAA,GAAA,YAAA;AACA;;AACA;;AAEA,aAAA,UAAA;AACA,cAAA,KAAA,IAAA,KAAA,CAAA,KAAA,EAAA;AACA,YAAA,EAAA,CAAA,KAAA,CAAA,KAAA,EAAA,IAAA,GAAA,YAAA,CAAA,MAAA,CAAA,UAAA,CAAA,EAAA;AACA,kBAAA,CAAA,EAAA;AACA,uBAAA,CAAA,CAAA,MAAA,IAAA,KAAA,CAAA,KAAA;AACA;AACA,aAJA,CAAA;AAKA,WANA,MAMA;AACA,YAAA,EAAA,CAAA,KAAA,CAAA,KAAA,EAAA,IAAA,GAAA,YAAA;AACA;;AACA;;AAEA,aAAA,aAAA;AACA;;AAEA,aAAA,aAAA;AACA;;AAEA,aAAA,UAAA;AACA,cAAA,KAAA,IAAA,KAAA,CAAA,IAAA,EAAA;AACA,gBAAA,KAAA,CAAA,IAAA,IAAA,QAAA,EAAA;AACA,kBAAA,KAAA,CAAA,MAAA,IAAA,KAAA,CAAA,MAAA,EAAA;AACA,oBAAA,SAAA,GAAA,YAAA,CAAA,KAAA,CACA,KAAA,CAAA,MADA,EAEA,EAAA,CAAA,KAAA,CAAA,KAAA,GAAA,CAAA,EAAA,IAAA,CAAA,MAAA,GAAA,KAAA,CAAA,MAFA,CAAA;AAIA,gBAAA,EAAA,CAAA,KAAA,CAAA,KAAA,EAAA,IAAA,GAAA,SAAA;AACA;AACA,aARA,MAQA,IAAA,KAAA,CAAA,IAAA,IAAA,KAAA,EAAA;AACA,kBAAA,KAAA,CAAA,MAAA,IAAA,KAAA,CAAA,MAAA,EAAA;AACA,oBAAA,UAAA,GAAA,YAAA,CAAA,KAAA,CACA,KAAA,CAAA,MADA,EAEA,KAAA,CAAA,MAAA,GAAA,KAAA,CAAA,MAAA,GAAA,CAFA,CAAA;;AAIA,gBAAA,EAAA,CAAA,KAAA,CAAA,KAAA,EAAA,IAAA,GAAA,UAAA;AACA;AACA;AACA,WAlBA,MAkBA;AACA,YAAA,EAAA,CAAA,KAAA,CAAA,KAAA,EAAA,IAAA,GAAA,YAAA;AACA;;AACA;;AAEA,aAAA,UAAA;AACA,cAAA,KAAA,IAAA,KAAA,CAAA,IAAA,EAAA;AACA,gBAAA,KAAA,CAAA,IAAA,IAAA,QAAA,EAAA;AACA,kBAAA,KAAA,CAAA,MAAA,IAAA,KAAA,CAAA,MAAA,EAAA;AACA,oBAAA,WAAA,GAAA,EAAA;AACA,gBAAA,EAAA,CAAA,KAAA,CAAA,KAAA,GAAA,CAAA,EAAA,IAAA,CAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,kBAAA,WAAA,CAAA,IAAA,CACA,CAAA,CAAA,KAAA,CAAA,KAAA,CAAA,MAAA,EAAA,CAAA,CAAA,MAAA,GAAA,KAAA,CAAA,MAAA,CADA;AAGA,iBAJA;AAKA,gBAAA,EAAA,CAAA,KAAA,CAAA,KAAA,EAAA,IAAA,GAAA,WAAA;AACA;AACA,aAVA,MAUA,IAAA,KAAA,CAAA,IAAA,IAAA,KAAA,EAAA;AACA,kBAAA,KAAA,CAAA,MAAA,IAAA,KAAA,CAAA,MAAA,EAAA;AACA,oBAAA,WAAA,GAAA,EAAA;AACA,gBAAA,EAAA,CAAA,KAAA,CAAA,KAAA,GAAA,CAAA,EAAA,IAAA,CAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,kBAAA,WAAA,CAAA,IAAA,CAAA,CAAA,CAAA,KAAA,CAAA,KAAA,CAAA,MAAA,EAAA,KAAA,CAAA,MAAA,CAAA;AACA,iBAFA;AAGA,gBAAA,EAAA,CAAA,KAAA,CAAA,KAAA,EAAA,IAAA,GAAA,WAAA;AACA;AACA;AACA,WApBA,MAoBA;AACA,YAAA,EAAA,CAAA,KAAA,CAAA,KAAA,EAAA,IAAA,GAAA,YAAA;AACA;;AACA;;AAEA,aAAA,QAAA;AACA,cACA,KAAA,KACA,KAAA,CAAA,MAAA,IACA,KAAA,CAAA,MADA,IAEA,KAAA,CAAA,MAFA,IAGA,KAAA,CAAA,MAHA,IAIA,KAAA,CAAA,MALA,CADA,EAOA;AACA,gBAAA,WAAA,GAAA,EAAA,CAAA,KAAA,CAAA,KAAA,GAAA,CAAA,EAAA,IAAA;AACA,gBAAA,SAAA,GAAA,MAAA,CAAA,IAAA,CAAA,KAAA,CAAA;AACA,YAAA,SAAA,CAAA,GAAA,CAAA,UAAA,QAAA,EAAA,CAAA,EAAA;AACA,cAAA,WAAA,GAAA,WAAA,CAAA,GAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AACA,uBAAA,CAAA,CAAA,MAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AACA,yBAAA,CAAA,IAAA,QAAA,CAAA,KAAA,CAAA,QAAA,CAAA,CAAA;AACA,iBAFA,CAAA;AAGA,eAJA,CAAA;AAKA,aANA;AAOA,YAAA,EAAA,CAAA,KAAA,CAAA,KAAA,EAAA,IAAA,GAAA,WAAA;AACA,WAlBA,MAkBA;AACA,YAAA,EAAA,CAAA,KAAA,CAAA,KAAA,EAAA,IAAA,GAAA,YAAA;AACA;;AACA;;AAEA,aAAA,QAAA;AACA,cACA,KAAA,KACA,KAAA,CAAA,MAAA,IACA,KAAA,CAAA,MADA,IAEA,KAAA,CAAA,MAFA,IAGA,KAAA,CAAA,MAHA,IAIA,KAAA,CAAA,MALA,CADA,EAOA;AACA,gBAAA,OAAA,GAAA,YAAA;;AACA,gBAAA,UAAA,GAAA,MAAA,CAAA,IAAA,CAAA,KAAA,CAAA;;AACA,YAAA,UAAA,CAAA,GAAA,CAAA,UAAA,QAAA,EAAA;AACA,cAAA,OAAA,GAAA,OAAA,CAAA,MAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AACA,uBAAA,CAAA,IAAA,QAAA,CAAA,KAAA,CAAA,QAAA,CAAA,CAAA;AACA,eAFA,CAAA;AAGA,aAJA;;AAKA,YAAA,EAAA,CAAA,KAAA,CAAA,KAAA,EAAA,IAAA,GAAA,OAAA;AACA,WAhBA,MAgBA;AACA,YAAA,EAAA,CAAA,KAAA,CAAA,KAAA,EAAA,IAAA,GAAA,YAAA;AACA;;AACA;;AAEA,aAAA,YAAA;AACA,cAAA,KAAA,IAAA,KAAA,CAAA,IAAA,IAAA,KAAA,CAAA,KAAA,EAAA;AACA,gBAAA,UAAA,GAAA,EAAA;AACA,YAAA,EAAA,CAAA,KAAA,CAAA,KAAA,GAAA,CAAA,EAAA,IAAA,CAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,kBAAA,CAAA,CAAA,KAAA,CAAA,IAAA,CAAA,EAAA;AACA,gBAAA,UAAA,CAAA,IAAA,CAAA,CAAA,CAAA,KAAA,CAAA,IAAA,CAAA,CAAA,KAAA,CAAA,KAAA,CAAA,KAAA,EAAA,MAAA;AACA;AACA,aAJA;AAKA,gBAAA,SAAA,GAAA,IAAA,CAAA,GAAA,OAAA,IAAA,EAAA,UAAA,CAAA;AACA,gBAAA,WAAA,GAAA,YAAA;;AACA,YAAA,WAAA,CAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,kBAAA,CAAA,CAAA,KAAA,CAAA,IAAA,CAAA,EAAA;AACA,oBAAA,UAAA,GAAA,CAAA,CAAA,KAAA,CAAA,IAAA,CAAA,CAAA,KAAA,CAAA,KAAA,CAAA,KAAA,CAAA;;AACA,oBAAA,UAAA,CAAA,MAAA,IAAA,SAAA,EAAA;AACA,kBAAA,UAAA,CAAA,MAAA,GAAA,SAAA;AACA,kBAAA,UAAA,CAAA,IAAA,CAAA,CAAA,EAAA,UAAA,CAAA,MAAA;AACA;;AACA,gBAAA,CAAA,CAAA,MAAA,OAAA,CAAA,GAAA,KAAA,CAAA,IAAA,EAAA,CAAA,4BAAA,UAAA,GAAA;AACA;AACA,aATA;;AAUA,YAAA,EAAA,CAAA,KAAA,CAAA,KAAA,EAAA,IAAA,GAAA,WAAA;AACA,WApBA,MAoBA;AACA,YAAA,EAAA,CAAA,KAAA,CAAA,KAAA,EAAA,IAAA,GAAA,EAAA,CAAA,KAAA,CAAA,KAAA,GAAA,CAAA,EAAA,IAAA;AACA;;AACA;;AAEA,aAAA,UAAA;AACA,cAAA,KAAA,IAAA,KAAA,CAAA,MAAA,IAAA,KAAA,CAAA,MAAA,EAAA;AACA,gBAAA,MAAA,GAAA,QAAA,CAAA,KAAA,CAAA,MAAA,CAAA;AACA,gBAAA,MAAA,GAAA,QAAA,CAAA,KAAA,CAAA,MAAA,CAAA;AACA,gBAAA,QAAA,GAAA,EAAA;AACA,gBAAA,WAAA,GAAA,YAAA;;AACA,YAAA,WAAA,CAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,kBAAA,OAAA,GAAA,CAAA,CACA,KADA,CACA,MADA,EACA,MAAA,GAAA,CADA,EAEA,IAFA,GAGA,OAHA,CAGA,GAHA,EAGA,IAHA,CAAA;AAIA,cAAA,CAAA,CAAA,MAAA,CAAA,MAAA,EAAA,MAAA,GAAA,CAAA,GAAA,MAAA,EAAA,OAAA;AACA,cAAA,QAAA,CAAA,IAAA,CAAA,CAAA;AACA,aAPA;;AAQA,YAAA,EAAA,CAAA,KAAA,CAAA,KAAA,EAAA,IAAA,GAAA,QAAA;AACA,WAdA,MAcA;AACA,YAAA,EAAA,CAAA,KAAA,CAAA,KAAA,EAAA,IAAA,GAAA,EAAA,CAAA,KAAA,CAAA,KAAA,GAAA,CAAA,EAAA,IAAA;AACA;;AACA;;AAEA,aAAA,eAAA;AACA,cAAA,KAAA,IAAA,KAAA,CAAA,MAAA,IAAA,KAAA,CAAA,MAAA,EAAA;AACA,gBAAA,MAAA,GAAA,QAAA,CAAA,KAAA,CAAA,MAAA,CAAA;;AACA,gBAAA,CAAA,KAAA,CAAA,MAAA,EAAA,KAAA,CAAA,MAAA,GAAA,EAAA;AACA,gBAAA,WAAA,GAAA,YAAA;;AACA,YAAA,WAAA,CAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,cAAA,CAAA,CAAA,MAAA,CAAA,GAAA,CAAA,CAAA,MAAA,CAAA,CACA,QADA,GAEA,OAFA,CAEA,KAAA,CAAA,MAFA,EAEA,KAAA,CAAA,MAFA,CAAA;AAGA,aAJA;;AAKA,YAAA,EAAA,CAAA,KAAA,CAAA,KAAA,EAAA,IAAA,GAAA,WAAA;AACA,WAVA,MAUA;AACA,YAAA,EAAA,CAAA,KAAA,CAAA,KAAA,EAAA,IAAA,GAAA,EAAA,CAAA,KAAA,CAAA,KAAA,GAAA,CAAA,EAAA,IAAA;AACA;;AACA;;AAEA,aAAA,WAAA;AACA,cAAA,KAAA,IAAA,KAAA,CAAA,MAAA,IAAA,KAAA,CAAA,MAAA,EAAA;AACA,YAAA,KAAA,CACA,6HADA,CAAA;AAGA,WAJA,MAIA;AACA,YAAA,EAAA,CAAA,KAAA,CAAA,KAAA,EAAA,IAAA,GAAA,EAAA,CAAA,KAAA,CAAA,KAAA,GAAA,CAAA,EAAA,IAAA;AACA;;AACA;;AAEA,aAAA,kBAAA;AACA,cAAA,KAAA,CAAA,KAAA,IAAA,KAAA,CAAA,KAAA,EAAA;AACA,gBAAA,IAAA,GAAA,YAAA;AACA,gBAAA,YAAA,GAAA,EAAA;AACA,YAAA,IAAA,CAAA,GAAA,CAAA,UAAA,QAAA,EAAA;AACA,kBAAA,WAAA,GAAA;AACA,gBAAA,SAAA,EAAA,KAAA,CAAA,SAAA,GAAA,QAAA,CAAA,KAAA,CAAA,SAAA,CAAA,GAAA,EADA;AAEA,gBAAA,QAAA,EAAA,KAAA,CAAA,QAAA,GAAA,QAAA,CAAA,KAAA,CAAA,QAAA,CAAA,GAAA,EAFA;AAGA,gBAAA,KAAA,EAAA,KAAA,CAAA,KAAA,GAAA,QAAA,CAAA,KAAA,CAAA,KAAA,CAAA,GAAA,EAHA;AAIA,gBAAA,KAAA,EAAA,KAAA,CAAA,KAAA,GAAA,QAAA,CAAA,KAAA,CAAA,KAAA,CAAA,GAAA,EAJA;AAKA,gBAAA,KAAA,EAAA,KAAA,CAAA,KAAA,GAAA,QAAA,CAAA,KAAA,CAAA,KAAA,CAAA,GAAA;AALA,eAAA;;AAOA,kBAAA,KAAA,CAAA,KAAA,IAAA,QAAA,EAAA;AACA,gBAAA,WAAA,CAAA,KAAA,GAAA,KAAA,CAAA,UAAA;AACA;;AACA,cAAA,YAAA,CAAA,IAAA,CAAA,WAAA;AACA,aAZA;AAaA,YAAA,EAAA,CAAA,KAAA,CAAA,KAAA,EAAA,IAAA,GAAA,YAAA;AACA;;AACA;;AAEA;AACA,cAAA,KAAA,IAAA,KAAA,CAAA,KAAA,EAAA;AACA,YAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,KAAA;AACA,WAFA,MAEA;AACA,YAAA,EAAA,CAAA,KAAA,CAAA,KAAA,EAAA,IAAA,GAAA,EAAA,CAAA,KAAA,CAAA,KAAA,GAAA,CAAA,EAAA,IAAA;AACA;;AA9PA;;AAgQA,UAAA,KAAA,IAAA,EAAA,CAAA,KAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,QAAA,EAAA,CAAA,KAAA,CAAA,GAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AACA,cAAA,CAAA,GAAA,KAAA,EAAA;AACA,YAAA,EAAA,CAAA,YAAA,CAAA,CAAA,EAAA,CAAA,CAAA,MAAA,EAAA,CAAA,CAAA,KAAA;AACA;AACA,SAJA;AAKA;AACA,KA9mBA;AA+mBA,IAAA,OA/mBA,qBA+mBA;AACA,WAAA,OAAA,CAAA,GAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AACA,QAAA,CAAA,CAAA,GAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AACA,UAAA,CAAA,GAAA,CAAA,CAAA,IAAA,EAAA;AACA,SAFA;AAGA,OAJA;AAKA,KArnBA;AAsnBA,IAAA,aAtnBA,yBAsnBA,KAtnBA,EAsnBA;AACA,UAAA,EAAA,GAAA,IAAA,CADA,CAEA;;AACA,UAAA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,CAAA,CAAA,EAAA;AACA,QAAA,EAAA,CAAA,UAAA,GAAA,IAAA;AACA,YAAA,WAAA,GAAA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,YAAA,QAAA,GAAA,WAAA,CAAA,IAAA;AACA,YAAA,QAAA,GAAA,QAAA,CAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA,GAAA,IAAA,CAAA,CAAA;;AACA,YAAA,QAAA,IAAA,MAAA,IAAA,QAAA,IAAA,KAAA,EAAA;AACA,cAAA,IAAA,GAAA,IAAA;AACA,cAAA,MAAA,GAAA,IAAA,UAAA,EAAA;;AACA,UAAA,MAAA,CAAA,MAAA,GAAA,UAAA,CAAA,EAAA;AACA,gBAAA,IAAA,GAAA,CAAA,CAAA,MAAA,CAAA,MAAA;AACA,gBAAA,CAAA,IAAA,EAAA,IAAA,GAAA,IAAA,UAAA,CAAA,IAAA,CAAA;AACA,gBAAA,QAAA,GAAA,IAAA,CAAA,IAAA,CAAA,IAAA,EAAA;AAAA,cAAA,IAAA,EAAA,IAAA,GAAA,QAAA,GAAA;AAAA,aAAA,CAAA;AACA,gBAAA,YAAA,GAAA,IAAA,CAAA,KAAA,CAAA,aAAA,CACA,QAAA,CAAA,MAAA,CAAA,QAAA,CAAA,UAAA,CAAA,CAAA,CAAA,CADA,EAEA;AAAA,cAAA,MAAA,EAAA;AAAA,aAFA,EAGA,MAHA,CAGA,UAAA,GAAA,EAAA;AACA,qBAAA,GAAA,CAAA,MAAA,GAAA,CAAA;AACA,aALA,CAAA;AAKA;AACA,gBAAA,OAAA,GAAA,CAAA;AACA,YAAA,YAAA,CAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,kBAAA,CAAA,CAAA,MAAA,GAAA,OAAA,EAAA,OAAA,GAAA,CAAA,CAAA,MAAA;AACA,aAFA;AAGA,gBAAA,IAAA,GAAA,OAAA,GAAA,YAAA,CAAA,CAAA,CAAA,CAAA,MAAA;;AACA,mBAAA,IAAA,GAAA,CAAA,EAAA;AACA,cAAA,YAAA,CAAA,CAAA,CAAA,CAAA,IAAA,CAAA,GAAA;AACA,cAAA,IAAA,GAAA,OAAA,GAAA,YAAA,CAAA,CAAA,CAAA,CAAA,MAAA;AACA;;AACA,gBAAA,YAAA,CAAA,MAAA,GAAA,EAAA,EAAA;AACA,cAAA,EAAA,CAAA,KAAA,CAAA,CAAA,EAAA,IAAA,GAAA,YAAA,CACA,MADA,CACA,CADA,EACA,EADA,EAEA,MAFA,CAEA,YAAA,CAAA,MAAA,CAAA,CAAA,EAAA,CAFA,CAAA;AAGA,aAJA,MAIA;AACA,cAAA,EAAA,CAAA,KAAA,CAAA,CAAA,EAAA,IAAA,GAAA,YAAA;AACA;AACA,WA1BA;;AA2BA,cAAA,IAAA,EAAA,MAAA,CAAA,kBAAA,CAAA,WAAA,EAAA,KACA,MAAA,CAAA,iBAAA,CAAA,WAAA;AACA,SAhCA,MAgCA,IAAA,QAAA,IAAA,KAAA,EAAA;AACA,cAAA,YAAA;AACA,UAAA,IAAA,CAAA,KAAA,CAAA,WAAA,EAAA;AACA,YAAA,QAAA,EAAA,kBAAA,OAAA,EAAA;AACA,cAAA,YAAA,GAAA,OAAA,CAAA,IAAA;;AACA,kBAAA,YAAA,CAAA,MAAA,GAAA,EAAA,EAAA;AACA,gBAAA,EAAA,CAAA,KAAA,CAAA,CAAA,EAAA,IAAA,GAAA,YAAA,CACA,MADA,CACA,CADA,EACA,EADA,EAEA,MAFA,CAEA,YAAA,CAAA,MAAA,CAAA,CAAA,EAAA,CAFA,CAAA;AAGA,eAJA,MAIA;AACA,gBAAA,EAAA,CAAA,KAAA,CAAA,CAAA,EAAA,IAAA,GAAA,YAAA;AACA;AACA;AAVA,WAAA;AAYA,SAdA,MAcA,IAAA,QAAA,IAAA,KAAA,EAAA;AACA,cAAA,OAAA,GAAA,IAAA,UAAA,EAAA;;AACA,UAAA,OAAA,CAAA,MAAA,GAAA,UAAA,CAAA,EAAA;AACA,gBAAA,IAAA,GAAA,CAAA,CAAA,MAAA,CAAA,MAAA;AACA,YAAA,EAAA,CAAA,gBAAA,CAAA,IAAA;AACA,WAHA;;AAIA,UAAA,OAAA,CAAA,UAAA,CAAA,WAAA;AACA,SAPA,MAOA,IAAA,QAAA,IAAA,KAAA,EAAA;AACA,cAAA,QAAA,GAAA,IAAA,UAAA,EAAA;;AACA,UAAA,QAAA,CAAA,MAAA,GAAA,UAAA,CAAA,EAAA;AACA,gBAAA,IAAA,GAAA,CAAA,CAAA,MAAA,CAAA,MAAA;AACA,gBAAA,MAAA,GAAA,IAAA,SAAA,EAAA;AACA,gBAAA,MAAA,GAAA,MAAA,CAAA,eAAA,CAAA,IAAA,CAAA,KAAA,CAAA,IAAA,CAAA,EAAA,WAAA,CAAA;AACA,gBAAA,IAAA,GAAA,MAAA,CAAA,oBAAA,CAAA,IAAA,CAAA;;AACA,gBAAA,MAAA,sBAAA,IAAA,CAAA;;AACA,gBAAA,YAAA,GAAA,EAAA;AACA,gBAAA,SAAA,GAAA,EAAA;AACA,YAAA,MAAA,CAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,kBAAA,OAAA,GAAA,CAAA,CAAA,oBAAA,CAAA,IAAA,CAAA;;AACA,kBAAA,OAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,gBAAA,SAAA,CAAA,IAAA,oBAAA,OAAA;AACA;AACA,aALA;AAMA,gBAAA,WAAA,GAAA,EAAA;AACA,YAAA,SAAA,CAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,cAAA,CAAA,CAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,gBAAA,WAAA,CAAA,IAAA,CAAA,CAAA,CAAA,SAAA;AACA,eAFA;AAGA,aAJA;AAKA,gBAAA,OAAA,GAAA,EAAA;AACA,YAAA,MAAA,CAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,kBAAA,OAAA,GAAA,CAAA,CAAA,oBAAA,CAAA,IAAA,CAAA;AACA,kBAAA,QAAA,GAAA,EAAA;;AACA,kBAAA,SAAA,sBAAA,OAAA,CAAA;;AACA,cAAA,SAAA,CAAA,GAAA,CAAA,UAAA,CAAA,EAAA,CAAA,EAAA;AACA,oBAAA,MAAA,GAAA,WAAA,CAAA,CAAA,CAAA;AACA,oBAAA,KAAA,GAAA,CAAA,CAAA,WAAA;AACA,gBAAA,QAAA,CAAA,MAAA,CAAA,GAAA,KAAA;AACA,eAJA;;AAKA,kBAAA,MAAA,CAAA,IAAA,CAAA,QAAA,EAAA,MAAA,GAAA,CAAA,EAAA;AACA,gBAAA,YAAA,CAAA,IAAA,CAAA,QAAA;AACA;AACA,aAZA;AAaA,gBAAA,UAAA,GAAA,IAAA,CAAA,OAAA,CAAA,YAAA,CAAA;AACA,gBAAA,WAAA,GAAA,IAAA,CAAA,KAAA,CAAA,UAAA,CAAA;AACA,YAAA,WAAA,GAAA,WAAA,CAAA,IAAA,CApCA,CAqCA;;AACA,gBAAA,WAAA,CAAA,MAAA,GAAA,GAAA,EAAA;AACA,cAAA,EAAA,CAAA,KAAA,CAAA,CAAA,EAAA,IAAA,GAAA,WAAA,CACA,MADA,CACA,CADA,EACA,EADA,EAEA,MAFA,CAEA,WAAA,CAAA,MAAA,CAAA,CAAA,EAAA,CAFA,CAAA;AAGA,aAJA,MAIA;AACA,cAAA,EAAA,CAAA,KAAA,CAAA,CAAA,EAAA,IAAA,GAAA,WAAA;AACA;AACA,WA7CA;;AA8CA,UAAA,QAAA,CAAA,UAAA,CAAA,WAAA;AACA,SAjDA,MAiDA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,wDAAA;AACA;;AACA,YAAA,EAAA,CAAA,KAAA,IAAA,EAAA,CAAA,KAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,UAAA,EAAA,CAAA,KAAA,CAAA,GAAA,CAAA,UAAA,IAAA,EAAA,CAAA,EAAA;AACA,gBAAA,CAAA,GAAA,CAAA,EAAA;AACA,cAAA,IAAA,CAAA,IAAA,CAAA,GAAA,CAAA,UAAA,OAAA,EAAA;AACA,oBAAA,OAAA,IAAA,OAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,kBAAA,EAAA,CAAA,YAAA,CAAA,CAAA,EAAA,IAAA,CAAA,MAAA,EAAA,IAAA,CAAA,KAAA;AACA;AACA,eAJA;AAKA;AACA,WARA;AASA;AACA;AACA,KAnvBA;AAovBA,IAAA,gBApvBA,4BAovBA,GApvBA,EAovBA;AACA,UAAA,EAAA,GAAA,IAAA;AACA,UAAA,MAAA,GAAA,IAAA,SAAA,EAAA;AACA,UAAA,MAAA,GAAA,MAAA,CAAA,eAAA,CAAA,GAAA,EAAA,UAAA,CAAA;AACA,UAAA,MAAA,GAAA,MAAA,CAAA,oBAAA,CAAA,KAAA,CAAA;;AACA,UAAA,SAAA,sBAAA,MAAA,CAAA;;AACA,UAAA,YAAA,GAAA,EAAA;AACA,MAAA,SAAA,CAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,YAAA,QAAA,GAAA,EAAA;;AACA,YAAA,IAAA,sBAAA,CAAA,CAAA,UAAA,CAAA;;AACA,QAAA,IAAA,CAAA,GAAA,CAAA,UAAA,CAAA,EAAA;AACA,cAAA,MAAA,GAAA,CAAA,CAAA,IAAA;AACA,cAAA,KAAA,GAAA,CAAA,CAAA,SAAA;AACA,UAAA,QAAA,CAAA,MAAA,CAAA,GAAA,KAAA;AACA,SAJA;AAKA,QAAA,YAAA,CAAA,IAAA,CAAA,QAAA;AACA,OATA;AAUA,UAAA,UAAA,GAAA,IAAA,CAAA,OAAA,CAAA,YAAA,CAAA;AACA,UAAA,WAAA,GAAA,IAAA,CAAA,KAAA,CAAA,UAAA,CAAA;AACA,MAAA,WAAA,GAAA,WAAA,CAAA,IAAA;;AACA,UAAA,WAAA,CAAA,MAAA,GAAA,EAAA,EAAA;AACA,QAAA,EAAA,CAAA,KAAA,CAAA,CAAA,EAAA,IAAA,GAAA,WAAA,CACA,MADA,CACA,CADA,EACA,EADA,EAEA,MAFA,CAEA,WAAA,CAAA,MAAA,CAAA,CAAA,EAAA,CAFA,CAAA;AAGA,OAJA,MAIA;AACA,QAAA,EAAA,CAAA,KAAA,CAAA,CAAA,EAAA,IAAA,GAAA,WAAA;AACA;AACA,KA/wBA;AAgxBA,IAAA,SAhxBA,uBAgxBA;AACA,UAAA,EAAA,GAAA,IAAA;AACA,UAAA,MAAA,GAAA,IAAA;;AACA,UAAA,KAAA,MAAA,CAAA,MAAA,CAAA,MAAA,IAAA,CAAA,KAAA,MAAA,CAAA,MAAA,CAAA,MAAA,EAAA;AACA,QAAA,MAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,MAAA;AACA;;AACA,UAAA,aAAA,GAAA;AACA,QAAA,IAAA,EAAA,EAAA,CAAA,QADA;AAEA,QAAA,OAAA,EAAA,EAAA,CAAA,OAFA;AAGA,QAAA,QAAA,EAAA,EAAA,CAAA,aAHA;AAIA,QAAA,aAAA,EAAA,EAAA,CAAA,aAJA;AAKA,QAAA,KAAA,EAAA,EAAA,CAAA,QALA;AAMA,QAAA,KAAA,EAAA,EAAA,CAAA;AANA,OAAA;AAQA,UAAA,eAAA,GAAA,EAAA;;AACA,UAAA,EAAA,CAAA,OAAA,CAAA,QAAA,CAAA,wBAAA,KAAA,EAAA,CAAA,OAAA,CAAA,QAAA,CAAA,wBAAA,CAAA,EAAA;AACA,QAAA,eAAA,GAAA,EAAA,CAAA,OAAA;AACA,OAFA,MAEA;AACA,QAAA,eAAA,GACA,EAAA,CAAA,MAAA,IAAA,KAAA,GACA,EAAA,CAAA,OAAA,GAAA,wBADA,GAEA,EAAA,CAAA,OAAA,GAAA,wBAHA;AAIA;;AACA,MAAA,cAAA,CAAA,gBAAA,CAAA,eAAA,EAAA,aAAA,EAAA,MAAA,EAAA,IAAA,CACA,UAAA,QAAA,EAAA;AACA,YAAA,QAAA,CAAA,OAAA,EAAA;AACA,UAAA,EAAA,CAAA,GAAA,GAAA,EAAA,EACA,EAAA,CAAA,GAAA,GAAA,EADA,EAEA,EAAA,CAAA,WAAA,GAAA,CAAA,KAAA,EAAA,KAAA,EAAA,KAAA,EAAA,MAAA,EAAA,KAAA,CAFA,EAGA,EAAA,CAAA,UAAA,GAAA,CAAA,SAAA,EAAA,UAAA,EAAA,MAAA,CAHA,EAIA,EAAA,CAAA,QAAA,GAAA,EAJA,EAKA,EAAA,CAAA,UAAA,GAAA,KALA,EAMA,EAAA,CAAA,OAAA,GAAA,EANA,EAOA,EAAA,CAAA,OAAA,GAAA,EAPA,EAQA,EAAA,CAAA,aAAA,GAAA,EARA,EASA,EAAA,CAAA,OAAA,GAAA,EATA,EAUA,EAAA,CAAA,IAAA,GAAA,EAVA,EAWA,EAAA,CAAA,MAAA,GAAA,EAXA,EAYA,EAAA,CAAA,cAAA,GAAA,EAZA,EAaA,EAAA,CAAA,eAAA,GAAA,EAbA,EAcA,EAAA,CAAA,QAAA,GAAA,EAdA,EAeA,EAAA,CAAA,YAAA,GAAA,EAfA,EAgBA,EAAA,CAAA,KAAA,GAAA,CAAA;AAAA,YAAA,IAAA,EAAA,CAAA;AAAA,YAAA,IAAA,EAAA,EAAA;AAAA,YAAA,MAAA,EAAA;AAAA,WAAA,CAhBA;AAiBA,UAAA,EAAA,CAAA,OAAA,CAAA,IAAA,CAAA,cAAA;AACA;AACA,OAtBA;AAwBA;AA/zBA;AAnDA,CAAA","sourcesContent":["<template>\n  <div class=\"parsing-container\">\n    <div class=\"parsing-description\">\n      <span><label>Parsing Rule Name: </label> <input type=\"text\" :class=\"{'duplicate': dupeName, 'duplicate': includesDash}\" v-model=\"ruleName\" @change=\"evalName()\"><span class=\"dupeMessage\" v-if=\"dupeName\">Name Already Exists</span><span class=\"dupeMessage\" v-if=\"includesDash\">Name Cannot Contain \"-\"</span></span>\n      <span><label>Parsing Mailbox: </label> <input type=\"text\" v-model=\"mailbox\"><span v-if=\"mailbox && mailbox.length > 0\">{{ domain == 'app' ? '@livemail.opiniion.com' : '@demomail.opiniion.com' }}</span></span><br>\n      <span>Rule fires when </span>\n      <select v-model=\"trigger\">\n        <option value=\"subject\">Subject</option>\n        <option value=\"fileType\">File Type</option>\n        <option value=\"body\">Body</option>\n      </select>\n      <span v-if=\"trigger == 'subject' || trigger == 'body'\"> includes: <input type=\"text\" v-model=\"fileName\"> <span v-if=\"trigger == 'body'\" > in the first 500 characters) </span>\n      </span>\n      <span v-if=\"trigger == 'fileType'\"> is:\n        <select v-model=\"parseFileType\">\n          <option v-for=\"file in fileOptions\">{{file}}</option>\n        </select>\n        with <input type=\"text\" v-model=\"parseFileName\" placeholder=\"Insert filename element\"> in the filename.\n      </span>\n    </div>\n    <div class=\"mail-select\" v-if=\"trigger\">\n      <button @click=\"displaySamples = true\">Select Email To Create Parsing Rule</button>\n      <div class=\"email-container\" v-for=\"mail in sampleEmails\" v-if=\"displaySamples\">\n        <div class=\"email-headers\">\n          <span>From: {{mail.email.from}}</span>\n          <span>Subject: {{mail.email.subject}}</span>\n          <span v-if=\"mail.email.attachments && mail.email.attachments.length > 0\">Attachments:</span>\n          <span class=\"body-link\" v-if=\"!mail.email.attachments || mail.email.attachments.length == 0\" @click=\"parseBody(mail.email.body.textashtml)\">Use Body</span>\n        </div>\n        <div class=\"attachments\" v-for=\"attachment in mail.email.attachments\" v-if=\"mail && mail.email.attachments\">\n          <span @click=\"addFile(attachment)\">- {{attachment.filename}} {{attachment.size}}</span>\n        </div>\n      </div>\n      <div style=\"margin-top:5px;margin-left:80px;\" v-if=\"!fileExists\">No Email Selected Yet</div>\n      <div class=\"upload-container\">\n        Upload Example File to Set Parsing Rules\n        <input ref=\"fileInput\" type=\"file\" accept=\"text/csv, .xml, .xls, .xlsx, .txt\" @change=\"addManualFile($event)\" />\n      </div>\n    </div>\n    <div v-if=\"fileExists && !displaySamples && selectedFile\">Parsing {{selectedFile.filename}}</div>\n    <div class=\"data-display\" v-for=\"(rule, i) in rules\" v-if=\"fileExists\">\n      <div class=\"filter-options\" v-if=\"i != 0\">\n        <span >\n          <label v-if=\"rule.check != 'customerCreate'\">Filter by</label>\n          <select v-model=\"rule.check\">\n            <option value=\"remsel\">Remove & Select</option>\n            <option value=\"spmetrans\">Split, Merge, & Transpose</option>\n            <option value=\"refine\">Refine Cell Values</option>\n            <option value=\"customerCreate\" hidden>CreateCustomers</option>\n          </select>\n          <select v-if=\"rule.check == 'remsel'\" v-model=\"rule.option\" @change=\"changeFilter(i, rule.option, rule.input)\">\n            <option value=\"rowByVal\">Filter Rows by Values</option>\n            <option value=\"rowByLen\">Filter Rows by Length</option>\n            <!-- <option value=\"rowByValLen\">Filter Rows by Value Length</option>\n            <option value=\"rowByColLen\">Filter Column by Value Length</option> -->\n            <option value=\"rowRange\">Set Row Range</option>\n            <option value=\"colRange\">Set Column Range</option>\n            <option value=\"remCol\">Remove Columns</option>\n            <option value=\"remRow\">Remove Rows</option>\n          </select>\n          <select v-if=\"rule.check == 'spmetrans'\" v-model=\"rule.option\" @change=\"changeFilter(i, rule.option, rule.input)\">\n            <option value=\"explodeCol\">Explode Columns</option>\n            <option value=\"mergeCol\">Merge Columns</option>\n          </select>\n          <select v-if=\"rule.check == 'refine'\" v-model=\"rule.option\" @change=\"changeFilter(i, rule.option, rule.input)\">\n            <option value=\"searchReplace\">Search & Replace</option>\n            <option value=\"formDates\">Format Dates</option>\n          </select>\n          <div class=\"save-container\" v-if=\"rule.check == 'customerCreate'\">\n            Input Example:\n            <div class=\"api-example\">\n              https://api.opiniion.com/_services/opiniion/customer\n              {\n                \"location\": <v-select class=\"v-select\" v-model=\"rule.activeLocation\" :options=\"locationOptions\" :on-change=\"changeLocation(i, rule.activeLocation)\" placeholder=\"Select Location\" >\n                  <span slot=\"no-options\">Sorry, no locations were found with that filter.</span>\n                </v-select>\n                <span v-if=\"rule.option && rule.input.locationId\">\"uid\": {{rule.input.locationId}},</span>\n                <span v-if=\"rule.option && rule.input.apiKey\">\"apiKey\": {{rule.input.apiKey}},</span>\n                \"firstname\":  <select v-model=\"rule.input.firstname\" @change=\"changeFilter(i, 'processCustomers', rule.input)\">\n                  <option v-for=\"option in maxColumn(rules[i-1].data, ['None'])\">{{option}}</option>\n                </select> ,\n                \"lastname\":  <select v-model=\"rule.input.lastname\" @change=\"changeFilter(i, 'processCustomers', rule.input)\">\n                  <option v-for=\"option in maxColumn(rules[i-1].data, ['None'])\">{{option}}</option>\n                </select> ,\n                \"email\":  <select v-model=\"rule.input.email\" @change=\"changeFilter(i, 'processCustomers', rule.input)\">\n                  <option v-for=\"option in maxColumn(rules[i-1].data, ['None'])\">{{option}}</option>\n                </select> ,\n                \"countrycode\": +1,\n                \"phone\":  <select v-model=\"rule.input.phone\" @change=\"changeFilter(i, 'processCustomers', rule.input)\">\n                  <option v-for=\"option in maxColumn(rules[i-1].data, ['None'])\">{{option}}</option>\n                </select> ,\n                \"notes\":  <select v-model=\"rule.input.notes\" @change=\"changeFilter(i, 'processCustomers', rule.input)\">\n                  <option v-for=\"option in maxColumn(rules[i-1].data, ['None', 'Custom'])\">{{option}}</option>\n                </select>\n                <span v-if=\"rule.input.notes == 'Custom'\">Custom Note: <input type=\"text\" v-model=\"rule.input.customNote\" @change=\"changeFilter(i, 'processCustomers', rule.input)\"> </span>\n                <span v-if=\"rule.input.location && rule.input.location.qsEnabled\">, \"q\":</span> <select v-if=\"rule.input.location && rule.input.location.qsEnabled\" v-model=\"rule.input.q\" @change=\"changeFilter(i, 'processCustomers', rule.input)\">\n                  <option v-for=\"option in qSelection\">{{option}}</option>\n                </select>\n              }\n            </div>\n          </div>\n          <span v-if=\"rule.option == 'rowByVal'\">\n            Keep row if column #\n            <input type=\"number\" v-model=\"rule.input.value1\" @change=\"changeFilter(i, rule.option, rule.input)\" min=\"0\">\n            <select v-model=\"rule.input.type\" @change=\"changeFilter(i, rule.option, rule.input)\">\n              <option value=\"hasVal\" selected>has a value</option>\n              <option value=\"isWord\">is a single word</option>\n              <option value=\"isNum\">is a number</option>\n              <option value=\"conTerm\">contains a specfic term</option>\n              <option value=\"noConTerm\">doesn't contain term</option>\n            </select>\n            <input type=\"text\" v-if=\"rule.input.type == 'conTerm' || rule.input.type == 'noConTerm'\" v-model=\"rule.input.value2\" @change=\"changeFilter(i, rule.option, rule.input)\">\n          </span>\n          <span v-if=\"rule.option == 'rowByLen'\">\n            Keep rows with <input type=\"number\" :min=\"0\" :max=\"rule.data[0] ? rule.data[0].length : 50\" v-model=\"rule.input.value\" @change=\"changeFilter(i, rule.option, rule.input)\"> Columns\n          </span>\n          <span v-if=\"rule.option == 'rowByValLen'\">\n            <select v-model=\"rule.input.type\">\n              <option value=\"remove\">Remove Row If</option>\n              <option value=\"keep\">Keep Row If</option>\n            </select>\n            row at column #\n            <select v-model=\"rule.input.value1\" @change=\"changeFilter(i, rule.option, rule.input)\">\n              <option v-for=\"option in maxColumn(rules[i-1].data)\">{{option}}</option>\n            </select>\n            <select v-model=\"rulr.input.value2\" @change=\"changeFilter(i, rule.option, rule.input)\">\n              <option value=\"is\">is equal to</option>\n              <option value=\"not\">is not equal to</option>\n            </select>\n            <input type=\"number\" min=\"1\" max=\"50\" v-model=\"rule.input.value3\" @change=\"changeFilter(i, rule.option, rule.input)\"> characters in length\n          </span>\n          <span v-if=\"rule.option == 'rowByColLen'\">\n            <select v-model=\"rule.input.type\">\n              <option value=\"remove\">Remove Column If</option>\n              <option value=\"keep\">Keep column If</option>\n            </select>\n            at column number #\n            <select v-model=\"rule.input.value1\" @change=\"changeFilter(i, rule.option, rule.input)\">\n              <option v-for=\"option in maxColumn(rules[i-1].data)\">{{option}}</option>\n            </select>\n            <select v-model=\"rulr.input.value2\" @change=\"changeFilter(i, rule.option, rule.input)\">\n              <option value=\"is\">is equal to</option>\n              <option value=\"not\">is not equal to</option>\n            </select>\n            <input type=\"number\" min=\"1\" max=\"50\" v-model=\"rule.input.value3\" @change=\"changeFilter(i, rule.option, rule.input)\"> characters in length\n          </span>\n          <span v-if=\"rule.option == 'rowRange'\">\n            <select v-model=\"rule.input.type\" @change=\"changeFilter(i, rule.option, rule.input)\">\n              <option value=\"remove\">Remove From Start / End</option>\n              <option value=\"fix\">Fixed Start / End</option>\n            </select>\n            <span v-if=\"rule.input.type == 'remove'\">\n              Skip First\n              <select v-model=\"rule.input.value1\" @change=\"changeFilter(i, rule.option, rule.input)\">\n                <option v-for=\"option in Array.from(new Array(rules[i-1].data.length),(val,index)=>index)\">{{option}}</option>\n              </select>\n              and crop last\n              <select v-model=\"rule.input.value2\" @change=\"changeFilter(i, rule.option, rule.input)\">\n                <option v-for=\"option in Array.from(new Array(rules[i-1].data.length),(val,index)=>index)\">{{option}}</option>\n              </select>\n              rows\n            </span>\n            <span v-if=\"rule.input.type == 'fix'\">\n              From row #\n              <select v-model=\"rule.input.value1\" @change=\"changeFilter(i, rule.option, rule.input)\">\n                <option v-for=\"option in Array.from(new Array(rules[i-1].data.length),(val,index)=>index)\">{{option}}</option>\n              </select>\n              to #\n              <select v-model=\"rule.input.value2\" @change=\"changeFilter(i, rule.option, rule.input)\">\n                <option v-for=\"option in Array.from(new Array(rules[i-1].data.length),(val,index)=>index)\">{{option}}</option>\n              </select>\n            </span>\n          </span>\n          <span v-if=\"rule.option == 'colRange'\">\n            <select v-model=\"rule.input.type\" @change=\"changeFilter(i, rule.option, rule.input)\">\n              <option value=\"remove\">Remove From Start / End</option>\n              <option value=\"fix\">Fixed Start / End</option>\n            </select>\n            <span v-if=\"rule.input.type == 'remove'\">\n              Skip First\n              <select v-model=\"rule.input.value1\" @change=\"changeFilter(i, rule.option, rule.input)\">\n                <option v-for=\"option in maxColumn(rules[i-1].data)\">{{option}}</option>\n              </select>\n              and crop last\n              <select v-model=\"rule.input.value2\" @change=\"changeFilter(i, rule.option, rule.input)\">\n                <option v-for=\"option in maxColumn(rules[i-1].data)\">{{option}}</option>\n              </select>\n              columns\n            </span>\n            <span v-if=\"rule.input.type == 'fix'\">\n              From column #\n              <select v-model=\"rule.input.value1\" @change=\"changeFilter(i, rule.option, rule.input)\">\n                <option v-for=\"option in maxColumn(rules[i-1].data)\">{{option}}</option>\n              </select>\n              to #\n              <select v-model=\"rule.input.value2\" @change=\"changeFilter(i, rule.option, rule.input)\">\n                <option v-for=\"option in maxColumn(rules[i-1].data)\">{{option}}</option>\n              </select>\n            </span>\n          </span>\n          <span v-if=\"rule.option == 'remCol'\">\n            Remove column #\n            <select v-model=\"rule.input.value1\" @change=\"changeFilter(i, rule.option, rule.input)\">\n              <option v-for=\"option in maxColumn(rules[i-1].data, ['None'])\">{{option}}</option>\n            </select>\n            <select v-model=\"rule.input.value2\" @change=\"changeFilter(i, rule.option, rule.input)\">\n              <option v-for=\"option in maxColumn(rules[i-1].data, ['None'])\">{{option}}</option>\n            </select>\n            <select v-model=\"rule.input.value3\" @change=\"changeFilter(i, rule.option, rule.input)\">\n              <option v-for=\"option in maxColumn(rules[i-1].data, ['None'])\">{{option}}</option>\n            </select>\n            <select v-model=\"rule.input.value4\" @change=\"changeFilter(i, rule.option, rule.input)\">\n              <option v-for=\"option in maxColumn(rules[i-1].data, ['None'])\">{{option}}</option>\n            </select>\n            <select v-model=\"rule.input.value5\" @change=\"changeFilter(i, rule.option, rule.input)\">\n              <option v-for=\"option in maxColumn(rules[i-1].data, ['None'])\">{{option}}</option>\n            </select>\n          </span>\n          <span v-if=\"rule.option == 'remRow'\">\n            Remove row #\n            <select v-model=\"rule.input.value1\" @change=\"changeFilter(i, rule.option, rule.input)\">\n              <option v-for=\"option in Array.from(new Array(rules[i-1].data.length),(val,index)=>index).concat(['None'])\">{{option}}</option>\n            </select>\n            <select v-model=\"rule.input.value2\" @change=\"changeFilter(i, rule.option, rule.input)\">\n              <option v-for=\"option in Array.from(new Array(rules[i-1].data.length),(val,index)=>index).concat(['None'])\">{{option}}</option>\n            </select>\n            <select v-model=\"rule.input.value3\" @change=\"changeFilter(i, rule.option, rule.input)\">\n              <option v-for=\"option in Array.from(new Array(rules[i-1].data.length),(val,index)=>index).concat(['None'])\">{{option}}</option>\n            </select>\n            <select v-model=\"rule.input.value4\" @change=\"changeFilter(i, rule.option, rule.input)\">\n              <option v-for=\"option in Array.from(new Array(rules[i-1].data.length),(val,index)=>index).concat(['None'])\">{{option}}</option>\n            </select>\n            <select v-model=\"rule.input.value5\" @change=\"changeFilter(i, rule.option, rule.input)\">\n              <option v-for=\"option in Array.from(new Array(rules[i-1].data.length),(val,index)=>index).concat(['None'])\">{{option}}</option>\n            </select>\n          </span>\n          <span v-if=\"rule.option == 'explodeCol'\">\n            Split column #\n            <select v-model=\"rule.input.type\" @change=\"changeFilter(i, rule.option, rule.input)\">\n              <option v-for=\"option in Array.from(new Array(rules[i-1].data.length),(val,index)=>index)\">{{option}}</option>\n            </select>\n            at occurence of\n            <input type=\"text\" v-model=\"rule.input.value\" @change=\"changeFilter(i, rule.option, rule.input)\"> (use space for between words)\n          </span>\n          <span v-if=\"rule.option == 'mergeCol'\">\n            merge from cell\n            <select v-model=\"rule.input.value1\" @change=\"changeFilter(i, rule.option, rule.input)\">\n              <option v-for=\"option in Array.from(new Array(rules[i-1].data.length),(val,index)=>index)\">{{option}}</option>\n            </select>\n            to\n            <select v-model=\"rule.input.value2\" @change=\"changeFilter(i, rule.option, rule.input)\">\n              <option v-for=\"option in Array.from(new Array(rules[i-1].data.length),(val,index)=>index)\">{{option}}</option>\n            </select>\n            columns\n          </span>\n          <span v-if=\"rule.option == 'searchReplace'\">\n            In column #\n            <select v-model=\"rule.input.value1\" @change=\"changeFilter(i, rule.option, rule.input)\">\n              <option v-for=\"option in Array.from(new Array(rules[i-1].data.length),(val,index)=>index)\">{{option}}</option>\n            </select>\n            replace\n            <input type=\"text\" v-model=\"rule.input.value2\" @change=\"changeFilter(i, rule.option, rule.input)\">\n            with\n            <input type=\"text\" v-model=\"rule.input.value3\" @change=\"changeFilter(i, rule.option, rule.input)\">\n          </span>\n          <span v-if=\"rule.option == 'formDates'\">\n            Column #\n            <select v-model=\"rule.input.value1\" @change=\"changeFilter(i, rule.option, rule.input)\">\n              <option v-for=\"option in Array.from(new Array(rules[i-1].data.length),(val,index)=>index)\">{{option}}</option>\n            </select>\n            format from\n            <input type=\"text\" v-model=\"rule.input.value2\" @change=\"changeFilter(i, rule.option, rule.input)\">\n            to\n            <input type=\"text\" placeholder=\"Y-M-D\" v-model=\"rule.input.value3\" @change=\"changeFilter(i, rule.option, rule.input)\">\n          </span>\n        </span>\n      </div>\n      <div class=\"removal\" @click=\"removeRule(i)\" v-if=\"rule.data && i != 0\">Remove Rule <i class=\"fal fa-times\"></i></div>\n      <div class=\"data-container\" :class=\"{'hidden': rule.data.length == 0}\" >\n        <div class=\"data-table border\"><div class=\"data-selection\"  v-for=\"column in maxColumn(rule.data)\">{{column}}</div></div>\n        <div class=\"data-table\" v-for=\"datapoint in rule.data\">\n          <div class=\"data-selection\" v-for=\"data in datapoint\" :title=\"data\">\n            {{data ? data : ''}}\n          </div>\n        </div>\n      </div>\n      <div class=\"\" v-if=\" fileExists && (!rule.data || rule.data.length == 0) && (rule.check != 'customerCreate')\">\n        No data would pass this filter.\n      </div>\n\n      <span >Add New Parsing Rule <i class=\"fal fa-plus\" @click=\"addRule(i)\" title=\"Add Additional Rule\"></i>\n      </span>\n\n      <span v-if=\"rule.data && i == rules.length -1\">\n        Add Customer Creation Rule  <i class=\"fal fa-plus\" v-if=\"rule.data && i == rules.length -1\" @click=\"addCustomerRule()\" title=\"Add Customer Creation Rule\"></i>\n      </span>\n\n      <span v-if=\"rule.check && rule.check == 'customerCreate' && rule.option && (rule.input.email || rule.input.phone) && ruleName && mailbox && !dupeName && !includesDash\"><button @click=\"saveRules()\"> Save Parsing Rules</button></span>\n    </div>\n  </div>\n</template>\n\n\n<script>\nimport config from \"../config.js\";\nimport { EventService } from \"../main\";\nimport Papa from \"../../node_modules/papaparse/papaparse.js\";\nimport ParsingService from \"../services/ParsingService.js\";\nimport UserService from \"../services/UserService.js\";\nimport LocationService from \"../services/LocationService.js\";\nimport XLSX from \"xlsx\";\nimport convertFromXML from \"xml-js\";\nimport vSelect from \"../../node_modules/vue-select/src/components/Select.vue\";\nimport AutomationService from '../services/AutomationService';\n\nexport default {\n  name: \"csvPreview\",\n  components: {\n    vSelect\n  },\n  data: function() {\n    return {\n      csv: [],\n      xml: [],\n      sampleEmails: [],\n      fileOptions: [\"csv\", \"xml\", \"xls\", \"xlsx\", \"txt\"],\n      indicators: [\"subject\", \"fromName\", \"body\"],\n      fileName: \"\",\n      fileExists: false,\n      displaySamples: false,\n      newFile: \"\",\n      trigger: \"\",\n      parseFileType: \"\",\n      parseFileName: \"\",\n      selectedFile: '',\n      mailbox: \"\",\n      json: \"\",\n      domain: \"\",\n      activeLocation: \"\",\n      locationOptions: [],\n      ruleName: \"\",\n      rules: [{ data: \"\", option: \"intialData\" }],\n      qSelection: ['default', 1, 2, 3],\n      allRuleNames: [],\n      dupeName: false,\n      includesDash: false,\n    };\n  },\n  computed: {\n    data() {\n      let vm = this;\n      if (vm.json) {\n        return vm.json.splice(1, 11);\n      }\n    }\n  },\n  created() {\n    if(this.$route.params.parser) {\n      this.getParsingRule();\n    }\n    this.selectedLocation = localStorage.getItem(\"locationId\");\n    this.getAllParsingRuleNames();\n    this.getLocationOptions();\n    this.getSampleMail();\n    this.domain = config.subDomain;\n  },\n  methods: {\n    getAllParsingRuleNames() {\n      let vm = this;\n      ParsingService.getParsingRules().then(response => {\n        response.response.map(rule => {\n          vm.allRuleNames.push(rule.parsingRules.name);\n        })\n      })\n    },\n    // evaluateData(data) {\n    //   data.map(line => {\n    //     console.log(line.length);\n    //   })\n    //   return data[0]\n    // },\n    evalName() {\n      let vm = this;\n      if(vm.allRuleNames.includes(vm.ruleName)) {\n        vm.dupeName = true;\n      } else if(vm.ruleName.includes(\"-\")) {\n        vm.includesDash = true;\n      } else {\n        vm.includesDash = false;\n        vm.dupeName = false;\n      }\n    },\n    maxColumn(data, concat) {\n      let lineLength = 0;\n      data.map(line => {\n        if(line.length > lineLength) lineLength = line.length\n      })\n      if(concat) {\n        return Array.from(new Array(lineLength),(val,index)=>index).concat(concat);\n      } else {\n        return Array.from(new Array(lineLength),(val,index)=>index);\n      }\n    },\n    getParsingRule(){\n      let vm = this;\n      ParsingService.getParsingRule(this.$route.params.parser).then(response => {\n        vm.selectedRule = response.result[0];\n        if(!this.$route.params.action) {\n\n          vm.ruleName = vm.selectedRule.parsingRules.name;\n          vm.mailbox = vm.selectedRule.mailbox.substr(0, vm.selectedRule.mailbox.indexOf('@'));\n        }\n        vm.rules = vm.selectedRule.parsingRules.rules;\n        vm.trigger = vm.selectedRule.parsingRules.trigger;\n        vm.parseFileType = vm.selectedRule.parsingRules.fileType;\n        vm.fileExists = true;\n        if(vm.trigger == 'subject') {\n          vm.fileName = vm.selectedRule.parsingRules.value;\n        } else {\n          vm.parseFileName = vm.selectedRule.parsingRules.parseFileName;\n        }\n        vm.rules.map(rule => {\n          if(rule.check && rule.check == 'customerCreate') {\n            rule.activeLocation = rule.input.location;\n          }\n        })\n      })\n    },\n    getLocationOptions() {\n      let vm = this;\n      UserService.getAllUserLocations().then(response => {\n        response.map(e => {\n          let singleLocation = {\n            label: e.name,\n            value: e.locationId,\n            api: e.apiKey,\n            qsEnabled: e.prop\n          };\n          vm.locationOptions.push(singleLocation);\n        });\n      });\n    },\n    getSampleMail() {\n      let vm = this;\n      ParsingService.getSampleMail().then(response => {\n        vm.sampleEmails = response.response;\n        // console.log(vm.sampleEmails);\n      });\n    },\n    addFile(file) {\n      let vm = this;\n      // EventService.$emit(\"loading\", \"show\");\n      if (file) {\n        vm.fileExists = true;\n        vm.displaySamples = false;\n        vm.selectedFile = file;\n        let exampleFile = file;\n        let fileName;\n        if(exampleFile.filename.includes('.zip')) {\n          fileName = exampleFile.filename.substr(0,exampleFile.filename.lastIndexOf('.'));\n          } else {\n          fileName = exampleFile.filename;\n        }\n        let fileType = fileName.substr(fileName.lastIndexOf(\".\") + 1);\n        if (fileType == \"xlsx\" || fileType == \"xls\") {\n          var rABS = true;\n          var data = atob(exampleFile.content);\n          if (!rABS) data = new Uint8Array(data);\n          var workbook = XLSX.read(data, { type: rABS ? \"binary\" : \"array\" });\n          let processedXLS = XLSX.utils.sheet_to_json(\n            workbook.Sheets[workbook.SheetNames[0]],\n            { header: 1 }\n          ).filter(row => {\n            return row.length > 0;\n          });\n          let maxSize = 0;\n          processedXLS.map(e => {\n            if(e.length > maxSize) maxSize = e.length;\n          })\n          let diff = maxSize - processedXLS[0].length;\n          while (diff > 0) {\n            processedXLS[0].push('-');\n            diff = maxSize - processedXLS[0].length;\n          }\n          if (processedXLS.length > 20) {\n            vm.rules[0].data = processedXLS\n              .splice(0, 11)\n              .concat(processedXLS.splice(-10));\n          } else {\n            vm.rules[0].data = processedXLS;\n          }\n        } else if (fileType == \"csv\") {\n          let processedCSV;\n          Papa.parse(atob(exampleFile.content), {\n            complete: function(results) {\n              processedCSV = results.data;\n              if (processedCSV.length > 20) {\n                vm.rules[0].data = processedCSV\n                  .splice(0, 11)\n                  .concat(processedCSV.splice(-10));\n              } else {\n                vm.rules[0].data = processedCSV;\n              }\n            }\n          });\n        } else if (fileType == \"xml\") {\n          var data = atob(exampleFile.content);\n          vm.convertXML(data);\n        } else if (fileType == \"txt\") {\n          var data = atob(exampleFile.content);\n          let parser = new DOMParser();\n          let newDoc = parser.parseFromString(JSON.parse(data), \"text/html\");\n          let test = newDoc.getElementsByTagName(\"tr\");\n          let newArr = [...test];\n          let customerList = [];\n          let headerArr = [];\n          newArr.map(g => {\n            let headers = g.getElementsByTagName(\"th\");\n            if (headers.length > 0) {\n              headerArr.push([...headers]);\n            }\n          });\n          let headersList = [];\n          headerArr.map(h => {\n            h.map(g => {\n              headersList.push(g.innerHTML);\n            });\n          });\n          let nextArr = [];\n          newArr.map(e => {\n            let testing = e.getElementsByTagName(\"td\");\n            let customer = {};\n            let nextArray = [...testing];\n            nextArray.map((f, i) => {\n              let header = headersList[i];\n              let value = f.textContent;\n              customer[header] = value;\n            });\n            if (Object.keys(customer).length > 3) {\n              customerList.push(customer);\n            }\n          });\n          let csvVersion = Papa.unparse(customerList);\n          let jsonVersion = Papa.parse(csvVersion);\n          jsonVersion = jsonVersion.data;\n          if (jsonVersion.length > 20) {\n            vm.rules[0].data = jsonVersion\n              .splice(0, 11)\n              .concat(jsonVersion.splice(-10));\n          } else {\n            vm.rules[0].data = jsonVersion;\n          }\n        } else {\n          console.log(\"Error, this has been rejected for incorrect file type.\");\n        }\n        if(vm.rules && vm.rules.length > 1) {\n          vm.rules.map((rule, i) => {\n            if(i > 0) {\n              rule.data.map(dataset => {\n                if(dataset && dataset.length > 0) {\n                  vm.changeFilter(i, rule.option, rule.input);\n                }\n              })\n            }\n          })\n        }\n      }\n    },\n    parseBody(email) {\n      let vm = this;\n      vm.fileExists = true;\n      vm.displaySamples = false;\n      vm.selectedFile = email;\n      var parser = new DOMParser();\n      var htmlDoc = parser.parseFromString(email, 'text/html');\n      var pArray = Array.from(htmlDoc.getElementsByTagName('p'));\n      let usableData = pArray[4].innerHTML.split('&lt;');\n      let customersList = [];\n      usableData.map((ptag, i) => {\n        customersList.push(ptag.substring(ptag.indexOf('<br>'))\n        .replace(/<a href=\"mailto:/gi, '')\n        .replace('\">', ' ')\n        .replace(/<\\/a>/gi, '')\n        .replace(/ -/gi, '')\n        .replace(/-/gi, '')\n        .replace(/ <br>/gi, '')\n        .replace(/<br>/gi, '')\n        .replace(/ &amp;/gi, '')\n        .replace(/&amp;/gi, '')\n        .split(' '));\n        // console.log(typeof ptag, ptag);\n      })\n      if (customersList.length > 100) {\n        vm.rules[0].data = customersList\n          .splice(0, 50)\n          .concat(customersList.splice(-50));\n      } else {\n        vm.rules[0].data = customersList;\n      }\n      // let parsedCustomers = [];\n      // let parsedData = Papa.parse(email, {delimeter: '\\\\n'});\n      // let unparsedData = Papa.unparse(parsedData.data);\n      // let newParseData = unparsedData.split('\\n');\n      // let customersList = [];\n      // newParseData.map(e => {\n      //   e = e.replace('\\n', '')\n      //   let data = e.split(' ');\n      //   if(data.length > 3) {\n      //     customersList.push(data);\n      //   }\n      // });\n      // // console.log(parsedCustomers);\n      // if (customersList.length > 100) {\n      //   vm.rules[0].data = customersList\n      //     .splice(0, 50)\n      //     .concat(customersList.splice(-50));\n      // } else {\n      //   vm.rules[0].data = customersList;\n      // }\n      // back end potential process.\n    // let lines = email.split('\\\\n');\n    // let parsedLines = []\n    // lines.map((l) => {\n    //   if (l.length > 10) {\n    //     let splitLine = l.split(' ');\n    //     let parsedLine = [];\n    //     splitLine.map((s) => {\n    //       if (s && s.length > 2) {\n    //         parsedLine.push(s);\n    //       }\n    //     })\n    //     parsedLines.push(parsedLine);\n    //   }\n    // })\n    //   if (parsedLines.length > 100) {\n    //     vm.rules[0].data = parsedLines\n    //       .splice(0, 50)\n    //       .concat(parsedLines.splice(-50));\n    //   } else {\n    //     vm.rules[0].data = parsedLines;\n    //   }\n    },\n    convertXML(xml) {\n      let vm = this;\n      let parser = new DOMParser();\n      let xmlDoc = parser.parseFromString(xml, \"text/xml\");\n      let xmlArr = xmlDoc.getElementsByTagName(\"Row\");\n      let newXMLArr = [...xmlArr];\n      let customerList = [];\n      newXMLArr.map(e => {\n        let customer = {};\n        let test = [...e.attributes];\n        test.map(f => {\n          let header = f.name;\n          let value = f.nodeValue;\n          customer[header] = value;\n        });\n        customerList.push(customer);\n      });\n      let csvVersion = Papa.unparse(customerList);\n      let jsonVersion = Papa.parse(csvVersion);\n      jsonVersion = jsonVersion.data;\n      if (jsonVersion.length > 20) {\n        vm.rules[0].data = jsonVersion\n          .splice(0, 11)\n          .concat(jsonVersion.splice(-10));\n      } else {\n        vm.rules[0].data = jsonVersion;\n      }\n    },\n    addRule(index) {\n      let vm = this;\n      vm.rules.splice( index+1, 0, {\n        data: [],\n        option: \"\",\n        input: {}\n      });\n    },\n    addCustomerRule() {\n      let vm = this;\n      vm.rules.push({\n        rule: vm.rules.length + 1,\n        check: \"customerCreate\",\n        data: [],\n        option: \"processCustomers\",\n        input: {}\n      });\n    },\n    removeRule(index) {\n      this.rules.splice(index, 1);\n    },\n    changeLocation(index, locationData) {\n      let vm = this;\n      if (vm.rules[index].input.location != locationData) {\n        vm.rules[index].input.location = locationData;\n        if(locationData && locationData.qsEnabled) {\n          AutomationService.getAutomationsByLocation(locationData.value).then(response => {\n            let qSelect = [];\n            response.result.map(auto => {\n              qSelect.push(auto.identifier)\n            })\n            vm.qSelection = qSelect;\n          })\n          // LocationService.getLocation(locationData.value).then(response => {\n            // let totalQs = response.question\n            // let automations = response.automations;\n            // automations.map(auto => {\n              //   vm.qSelection.push(automation.identifier)\n            // })\n          // })\n        }\n      }\n    },\n    changeFilter(index, option, input) {\n      let vm = this;\n      let previousData;\n      if (\n        vm.rules[index - 1].check &&\n        vm.rules[index - 1].check == \"customerCreate\"\n      ) {\n        previousData = JSON.parse(JSON.stringify(vm.rules[0].data));\n      } else {\n        previousData = JSON.parse(JSON.stringify(vm.rules[index - 1].data));\n      }\n      // console.log(...arguments);\n      switch (option) {\n        case \"rowByVal\":\n          if (input && input.value1 && input.type && input.value2) {\n            if (input.type == \"conTerm\") {\n              vm.rules[index].data = previousData.filter(e => {\n                return e[input.value1]\n                  .toLowerCase()\n                  .includes(typeof input.value2 == 'string' ? input.value2.toLowerCase() : input.value2);\n              });\n            } else if (input.type == \"noConTerm\") {\n              0;\n              vm.rules[index].data = previousData.filter(e => {\n                return !e[input.value1]\n                  .toLowerCase()\n                  .includes(typeof input.value2 == 'string' ? input.value2.toLowerCase() : input.value2);\n              });\n            }\n          } else if (input && input.value1 && input.type) {\n            if (input.type == \"hasVal\") {\n              vm.rules[index].data = previousData.filter(e => {\n                return e[input.value1];\n              });\n            } else if (input.type == \"isWord\") {\n              vm.rules[index].data = previousData.filter(e => {\n                // Needs more work to determine if string or not.\n                return (\n                  e[input.value1] &&\n                  typeof e[input.value1] == \"string\" &&\n                  e[input.value1].trim().indexOf(\" \") == -1\n                );\n              });\n            } else if (input.type == \"isNum\") {\n              // console.log(previousData);\n              vm.rules[index].data = previousData.filter(e => {\n                return parseInt(e[input.value1]);\n              });\n            }\n          } else {\n            vm.rules[index].data = previousData;\n          }\n          break;\n\n        case \"rowByLen\":\n          if (input && input.value) {\n            vm.rules[index].data = previousData.filter(e => {\n              if (e) {\n                return e.length == input.value;\n              }\n            });\n          } else {\n            vm.rules[index].data = previousData;\n          }\n          break;\n\n        case \"rowByValLen\":\n          break;\n\n        case \"rowByColLen\":\n          break;\n\n        case \"rowRange\":\n          if (input && input.type) {\n            if (input.type == \"remove\") {\n              if (input.value1 && input.value2) {\n                let newValues = previousData.slice(\n                  input.value1,\n                  vm.rules[index - 1].data.length - input.value2\n                );\n                vm.rules[index].data = newValues;\n              }\n            } else if (input.type == \"fix\") {\n              if (input.value1 && input.value2) {\n                let newValues = previousData.slice(\n                  input.value1,\n                  input.value2 - input.value1 + 1\n                );\n                vm.rules[index].data = newValues;\n              }\n            }\n          } else {\n            vm.rules[index].data = previousData;\n          }\n          break;\n\n        case \"colRange\":\n          if (input && input.type) {\n            if (input.type == \"remove\") {\n              if (input.value1 && input.value2) {\n                let newValues = [];\n                vm.rules[index - 1].data.map(e => {\n                  newValues.push(\n                    e.slice(input.value1, e.length - input.value2)\n                  );\n                });\n                vm.rules[index].data = newValues;\n              }\n            } else if (input.type == \"fix\") {\n              if (input.value1 && input.value2) {\n                let newValues = [];\n                vm.rules[index - 1].data.map(e => {\n                  newValues.push(e.slice(input.value1, input.value2));\n                });\n                vm.rules[index].data = newValues;\n              }\n            }\n          } else {\n            vm.rules[index].data = previousData;\n          }\n          break;\n\n        case \"remCol\":\n          if (\n            input &&\n            (input.value1 ||\n              input.value2 ||\n              input.value3 ||\n              input.value4 ||\n              input.value5)\n          ) {\n            let newValues = vm.rules[index - 1].data;\n            let inputKeys = Object.keys(input);\n            inputKeys.map((inputVal, g) => {\n              newValues = newValues.map((e, i) => {\n                return e.filter((x, j) => {\n                  return j != parseInt(input[inputVal]);\n                });\n              });\n            });\n            vm.rules[index].data = newValues;\n          } else {\n            vm.rules[index].data = previousData;\n          }\n          break;\n\n        case \"remRow\":\n          if (\n            input &&\n            (input.value1 ||\n              input.value2 ||\n              input.value3 ||\n              input.value4 ||\n              input.value5)\n          ) {\n            let newData = previousData;\n            let inputKeys = Object.keys(input);\n            inputKeys.map(inputVal => {\n              newData = newData.filter((e, i) => {\n                return i != parseInt(input[inputVal]);\n              });\n            });\n            vm.rules[index].data = newData;\n          } else {\n            vm.rules[index].data = previousData;\n          }\n          break;\n\n        case \"explodeCol\":\n          if (input && input.type && input.value) {\n            let colLengths = [];\n            vm.rules[index - 1].data.map(e => {\n              if(e[input.type]) {\n                colLengths.push(e[input.type].split(input.value).length);\n              }\n            });\n            let newColNum = Math.max(...colLengths);\n            let newValues = previousData;\n            newValues.map(e => {\n              if(e[input.type]) {\n                let newColumns = e[input.type].split(input.value);\n                if (newColumns.length != newColNum) {\n                  newColumns.length = newColNum;\n                  newColumns.fill(0, newColumns.length);\n                }\n                e.splice(input.type, 1, ...newColumns);\n              }\n            });\n            vm.rules[index].data = newValues;\n          } else {\n            vm.rules[index].data = vm.rules[index - 1].data;\n          }\n          break;\n\n        case \"mergeCol\":\n          if (input && input.value1 && input.value2) {\n            let input1 = parseInt(input.value1);\n            let input2 = parseInt(input.value2);\n            let newArray = [];\n            let newValues = previousData;\n            newValues.map(x => {\n              let newItem = x\n                .slice(input1, input2 + 1)\n                .join()\n                .replace(\",\", \", \");\n              x.splice(input1, input2 + 1 - input1, newItem);\n              newArray.push(x);\n            });\n            vm.rules[index].data = newArray;\n          } else {\n            vm.rules[index].data = vm.rules[index - 1].data;\n          }\n          break;\n\n        case \"searchReplace\":\n          if (input && input.value1 && input.value2) {\n            let input1 = parseInt(input.value1);\n            if (!input.value3) input.value3 = \"\";\n            let newValues = previousData;\n            newValues.map(e => {\n              e[input1] = e[input1]\n                .toString()\n                .replace(input.value2, input.value3);\n            });\n            vm.rules[index].data = newValues;\n          } else {\n            vm.rules[index].data = vm.rules[index - 1].data;\n          }\n          break;\n\n        case \"formDates\":\n          if (input && input.value1 && input.value2) {\n            alert(\n              \"Can't do this operation at this time until we standardize what dates we want coming in, if we do want to capture that data.\"\n            );\n          } else {\n            vm.rules[index].data = vm.rules[index - 1].data;\n          }\n          break;\n\n        case \"processCustomers\":\n          if (input.email || input.phone) {\n            let data = previousData;\n            let customerList = [];\n            data.map(customer => {\n              let newCustomer = {\n                firstname: input.firstname ? customer[input.firstname] : \"\",\n                lastname: input.lastname ? customer[input.lastname] : \"\",\n                email: input.email ? customer[input.email] : \"\",\n                phone: input.phone ? customer[input.phone] : \"\",\n                notes: input.notes ? customer[input.notes] : \"\"\n              };\n              if(input.notes == 'Custom') {\n                newCustomer.notes = input.customNote;\n              }\n              customerList.push(newCustomer);\n            });\n            vm.rules[index].data = customerList;\n          }\n          break;\n\n        default:\n          if (input && input.value) {\n            console.log(input.value);\n          } else {\n            vm.rules[index].data = vm.rules[index - 1].data;\n          }\n      }\n      if (index != vm.rules.length - 1) {\n        vm.rules.map((e, i) => {\n          if (i > index) {\n            vm.changeFilter(i, e.option, e.input);\n          }\n        });\n      }\n    },\n    mapData() {\n      this.csvData.map((e, i) => {\n        e.map((h, j) => {\n          h = h.trim();\n        });\n      });\n    },\n    addManualFile(event) {\n      let vm = this;\n      // EventService.$emit(\"loading\", \"show\");\n      if (event.target.files[0]) {\n        vm.fileExists = true;\n        let exampleFile = event.target.files[0];\n        let fileName = exampleFile.name;\n        let fileType = fileName.substr(fileName.indexOf(\".\") + 1);\n        if (fileType == \"xlsx\" || fileType == \"xls\") {\n          var rABS = true;\n          var reader = new FileReader();\n          reader.onload = function(e) {\n            var data = e.target.result;\n            if (!rABS) data = new Uint8Array(data);\n            var workbook = XLSX.read(data, { type: rABS ? \"binary\" : \"array\" });\n            let processedXLS = XLSX.utils.sheet_to_json(\n              workbook.Sheets[workbook.SheetNames[0]],\n              { header: 1 }\n            ).filter(row => {\n            return row.length > 0;\n          });;\n            let maxSize = 0;\n            processedXLS.map(e => {\n              if(e.length > maxSize) maxSize = e.length;\n            })\n            let diff = maxSize - processedXLS[0].length;\n            while (diff > 0) {\n              processedXLS[0].push('-');\n              diff = maxSize - processedXLS[0].length;\n            }\n            if (processedXLS.length > 20) {\n              vm.rules[0].data = processedXLS\n                .splice(0, 11)\n                .concat(processedXLS.splice(-10));\n            } else {\n              vm.rules[0].data = processedXLS;\n            }\n          };\n          if (rABS) reader.readAsBinaryString(exampleFile);\n          else reader.readAsArrayBuffer(exampleFile);\n        } else if (fileType == \"csv\") {\n          let processedCSV;\n          Papa.parse(exampleFile, {\n            complete: function(results) {\n              processedCSV = results.data;\n              if (processedCSV.length > 20) {\n                vm.rules[0].data = processedCSV\n                  .splice(0, 11)\n                  .concat(processedCSV.splice(-10));\n              } else {\n                vm.rules[0].data = processedCSV;\n              }\n            }\n          });\n        } else if (fileType == \"xml\") {\n          let reader = new FileReader();\n          reader.onload = function(e) {\n            var data = e.target.result;\n            vm.convertManualXML(data);\n          };\n          reader.readAsText(exampleFile);\n        } else if (fileType == \"txt\") {\n          let reader = new FileReader();\n          reader.onload = function(e) {\n            var data = e.target.result;\n            let parser = new DOMParser();\n            let newDoc = parser.parseFromString(JSON.parse(data), \"text/html\");\n            let test = newDoc.getElementsByTagName(\"tr\");\n            let newArr = [...test];\n            let customerList = [];\n            let headerArr = [];\n            newArr.map(g => {\n              let headers = g.getElementsByTagName(\"th\");\n              if (headers.length > 0) {\n                headerArr.push([...headers]);\n              }\n            });\n            let headersList = [];\n            headerArr.map(h => {\n              h.map(g => {\n                headersList.push(g.innerHTML);\n              });\n            });\n            let nextArr = [];\n            newArr.map(e => {\n              let testing = e.getElementsByTagName(\"td\");\n              let customer = {};\n              let nextArray = [...testing];\n              nextArray.map((f, i) => {\n                let header = headersList[i];\n                let value = f.textContent;\n                customer[header] = value;\n              });\n              if (Object.keys(customer).length > 3) {\n                customerList.push(customer);\n              }\n            });\n            let csvVersion = Papa.unparse(customerList);\n            let jsonVersion = Papa.parse(csvVersion);\n            jsonVersion = jsonVersion.data;\n            // console.log(jsonVersion);\n            if (jsonVersion.length > 100) {\n              vm.rules[0].data = jsonVersion\n                .splice(0, 50)\n                .concat(jsonVersion.splice(-50));\n            } else {\n              vm.rules[0].data = jsonVersion;\n            }\n          };\n          reader.readAsText(exampleFile);\n        } else {\n          console.log(\"Error, this has been rejected for incorrect file type.\");\n        }\n        if(vm.rules && vm.rules.length > 1) {\n          vm.rules.map((rule, i) => {\n            if(i > 0) {\n              rule.data.map(dataset => {\n                if(dataset && dataset.length > 0) {\n                  vm.changeFilter(i, rule.option, rule.input);\n                }\n              })\n            }\n          })\n        }\n      }\n    },\n    convertManualXML(xml) {\n      let vm = this;\n      let parser = new DOMParser();\n      let xmlDoc = parser.parseFromString(xml, \"text/xml\");\n      let xmlArr = xmlDoc.getElementsByTagName(\"Row\");\n      let newXMLArr = [...xmlArr];\n      let customerList = [];\n      newXMLArr.map(e => {\n        let customer = {};\n        let test = [...e.attributes];\n        test.map(f => {\n          let header = f.name;\n          let value = f.nodeValue;\n          customer[header] = value;\n        });\n        customerList.push(customer);\n      });\n      let csvVersion = Papa.unparse(customerList);\n      let jsonVersion = Papa.parse(csvVersion);\n      jsonVersion = jsonVersion.data;\n      if (jsonVersion.length > 20) {\n        vm.rules[0].data = jsonVersion\n          .splice(0, 11)\n          .concat(jsonVersion.splice(-10));\n      } else {\n        vm.rules[0].data = jsonVersion;\n      }\n    },\n    saveRules() {\n      let vm = this;\n      let ruleId = null;\n      if(this.$route.params.parser && !this.$route.params.action) {\n        ruleId = this.$route.params.parser;\n      }\n      let parsingObject = {\n        name: vm.ruleName,\n        trigger: vm.trigger,\n        fileType: vm.parseFileType,\n        parseFileName: vm.parseFileName,\n        value: vm.fileName,\n        rules: vm.rules\n      };\n      let completeMailbox = ''\n      if(vm.mailbox.includes('@livemail.opiniion.com') || vm.mailbox.includes('@demomail.opiniion.com')) {\n        completeMailbox = vm.mailbox;\n      } else {\n        completeMailbox =\n        vm.domain == \"app\"\n          ? vm.mailbox + \"@livemail.opiniion.com\"\n          : vm.mailbox + \"@demomail.opiniion.com\";\n        }\n      ParsingService.saveParsingRules(completeMailbox, parsingObject, ruleId).then(\n        response => {\n          if (response.success) {\n            (vm.csv = []),\n            (vm.xml = []),\n            (vm.fileOptions = [\"csv\", \"xml\", \"xls\", \"xlsx\", \"txt\"]),\n            (vm.indicators = [\"subject\", \"fromName\", \"body\"]),\n            (vm.fileName = \"\"),\n            (vm.fileExists = false),\n            (vm.newFile = \"\"),\n            (vm.trigger = \"\"),\n            (vm.parseFileType = \"\"),\n            (vm.mailbox = \"\"),\n            (vm.json = \"\"),\n            (vm.domain = \"\"),\n            (vm.activeLocation = \"\"),\n            (vm.locationOptions = []),\n            (vm.ruleName = \"\"),\n            vm.selectedFile = '',\n            (vm.rules = [{ rule: 1, data: \"\", option: \"intialData\" }]);\n            vm.$router.push('/parsingList')\n          }\n        }\n      );\n    }\n  }\n};\n</script>\n\n<style scoped>\n.parsing-container {\n  min-height: 100vh;\n  background: white;\n  min-width: 100%;\n  padding-left: 10px;\n}\n\n.parsing-description {\n  margin-left: 30px;\n}\n\n.data-container {\n  border: 1px solid grey;\n  overflow: scroll;\n  max-height: 400px;\n  font-size: 14px;\n  margin-bottom: 20px;\n}\n\n.mail-select {\n  margin-left: 30px;\n}\n\n.mail-select button {\n  background: #4fcbc5;\n  color: white;\n  margin: 20px 0 0 20px;\n  cursor: pointer;\n}\n\n.email-container {\n  margin: 20px 0 0 20px;\n  width: 400px;\n  box-shadow: 0px 1px 2px rgba(0, 0, 0, 0.25);\n  padding: 10px 20px;\n}\n\n.email-headers {\n  display: flex;\n  flex-direction: column;\n}\n\n.removal {\n  width: 200px;\n  cursor: pointer;\n  border-radius: 3px;\n  box-shadow: 2px 2px 2px rgba(0, 0, 0, 0.55);\n  padding: 5px 10px;\n  margin: 10px 0;\n  display: flex;\n  justify-content: space-between;\n  background: orange;\n  color: rgb(255, 248, 236);\n  font-size: 18px;\n}\n\n.attachments {\n  margin-left: 20px;\n}\n\n.attachments span {\n  cursor: pointer;\n}\n\n.body-link {\n  cursor: pointer;\n}\n\n.hidden {\n  display: none;\n}\n\n.border {\n  border-bottom: 1px solid lightgrey;\n}\n\n.data-table {\n  display: flex;\n  flex-direction: row;\n}\n\n.data-selection {\n  flex: 0 0 180px;\n  margin: 5px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.fa-plus {\n  margin: 15px;\n  font-size: 20px;\n}\n\nbutton {\n  cursor: pointer;\n  border-radius: 3px;\n  box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.55);\n  padding: 5px 10px;\n  background: #4fcbc5;\n  color: white;\n}\n\n.dupeMessage {\n  color: red;\n  position: absolute;\n  transform: translate(-90px, 35px);\n  font-size: 11px;\n}\n\n</style>\n"],"sourceRoot":"src/components"}]}