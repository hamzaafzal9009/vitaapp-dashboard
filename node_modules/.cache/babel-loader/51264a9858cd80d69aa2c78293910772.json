{"remainingRequest":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/babel-loader/lib/index.js!/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js??vue-loader-options!/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/src/components/RequestReview.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/src/components/RequestReview.vue","mtime":1581270622000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/package.json","mtime":1587799327166},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYuYXJyYXkuc29ydCI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBDdXN0b21lclNlcnZpY2UgZnJvbSAiLi4vc2VydmljZXMvQ3VzdG9tZXJTZXJ2aWNlLmpzIjsKaW1wb3J0IExvY2F0aW9uU2VydmljZSBmcm9tICIuLi9zZXJ2aWNlcy9Mb2NhdGlvblNlcnZpY2UuanMiOwppbXBvcnQgQXV0b21hdGlvblNlcnZpY2UgZnJvbSAiLi4vc2VydmljZXMvQXV0b21hdGlvblNlcnZpY2UuanMiOwppbXBvcnQgeyBFdmVudFNlcnZpY2UgfSBmcm9tICIuLi9tYWluIjsKaW1wb3J0IENhbXBhaWduU2VydmljZSBmcm9tICIuLi9zZXJ2aWNlcy9DYW1wYWlnblNlcnZpY2UiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogInJlcXVlc3RSZXZpZXciLAogIHByb3BzOiBbImN1c3RvbWVyIiwgImN1c3RvbWVyTGlzdCIsICJsb2NhdGlvblNlbGVjdGVkIl0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNvdXJjZXM6IFsnRGVmYXVsdCddLAogICAgICB0ZW1wbGF0ZU9wdGlvbnM6IFtdLAogICAgICByZXF1ZXN0TW9kYWw6IHRydWUsCiAgICAgIHNlbGVjdGVkVGVtcGxhdGU6IHt9LAogICAgICBsb2NJZDogJycsCiAgICAgIHRoaXNDdXN0b21lckxpc3Q6IFtdLAogICAgICBkZWxpdmVyeU1ldGhvZDogW10KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgaWYgKHRoaXMuY3VzdG9tZXIpIHsKICAgICAgdGhpcy50aGlzQ3VzdG9tZXJMaXN0ID0gW3RoaXMuY3VzdG9tZXJdOwogICAgICB0aGlzLmxvY0lkID0gdGhpcy5jdXN0b21lci5sb2NhdGlvbklkOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5sb2NJZCA9IHRoaXMubG9jYXRpb25TZWxlY3RlZDsKICAgICAgdGhpcy50aGlzQ3VzdG9tZXJMaXN0ID0gdGhpcy5jdXN0b21lckxpc3Q7CiAgICB9CgogICAgdGhpcy5nZXRMb2NhdGlvbk9wdGlvbnMoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNsb3NlTW9kYWw6IGZ1bmN0aW9uIGNsb3NlTW9kYWwoKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2Nsb3NlJyk7CiAgICAgIHRoaXMucmVxdWVzdE1vZGFsID0gdHJ1ZTsKICAgIH0sCiAgICB0ZXN0Q2hhbmdlOiBmdW5jdGlvbiB0ZXN0Q2hhbmdlKGV2ZW50KSB7CiAgICAgIGNvbnNvbGUubG9nKGV2ZW50KTsKICAgICAgdGhpcy5kZWxpdmVyeU1ldGhvZCA9IHRoaXMuc2VsZWN0ZWRUZW1wbGF0ZS5jb250YWN0TWV0aG9kOwogICAgfSwKICAgIGdldExvY2F0aW9uT3B0aW9uczogZnVuY3Rpb24gZ2V0TG9jYXRpb25PcHRpb25zKCkgewogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICBDYW1wYWlnblNlcnZpY2UuZ2V0Q2FtcGFpZ25zQnlMb2NhdGlvbih2bS5sb2NJZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICB2bS50ZW1wbGF0ZU9wdGlvbnMgPSByZXNwb25zZS5yZXN1bHQuc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICAgICAgcmV0dXJuIGEubmFtZSA+IGIubmFtZSA/IDEgOiAtMTsKICAgICAgICB9KTsKICAgICAgICB2bS50ZW1wbGF0ZU9wdGlvbnMgPSB2bS50ZW1wbGF0ZU9wdGlvbnMuZmlsdGVyKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gZS5zdGF0dXMgPT09ICdhY3RpdmUnOwogICAgICAgIH0pOyAvLyB2bS5zZWxlY3RlZFRlbXBsYXRlID0gdm0udGVtcGxhdGVPcHRpb25zWzBdOwogICAgICAgIC8vIHZtLmRlbGl2ZXJ5TWV0aG9kID0gdm0uc2VsZWN0ZWRUZW1wbGF0ZS5jb250YWN0TWV0aG9kOwogICAgICB9KTsKICAgIH0sCiAgICByZVJlcXVlc3Q6IGZ1bmN0aW9uIHJlUmVxdWVzdCgpIHsKICAgICAgdmFyIHZtID0gdGhpczsKCiAgICAgIGlmICh2bS5zZWxlY3RlZFRlbXBsYXRlKSB7CiAgICAgICAgQ3VzdG9tZXJTZXJ2aWNlLnJlUmVxdWVzdCh2bS5sb2NJZCwgdm0udGhpc0N1c3RvbWVyTGlzdCwgdm0uc2VsZWN0ZWRUZW1wbGF0ZS5jYW1wYWlnbklkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KCJsb2FkaW5nIiwgImhpZGUiKTsKICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgic3VjY2Vzc01lc3NhZ2UiLCAiU3VjY2VzcyEgVGhlIGN1c3RvbWVycyBzZWxlY3RlZCB3aWxsIGJlIHJlY2VpdmluZyB0aGVpciByZS1yZXF1ZXN0IG1lc3NhZ2Ugc2hvcnRseS4iKTsKICAgICAgICAgIHZtLiRlbWl0KCdjbG9zZScpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9IC8vIGNsb3NlTW9kYWwoKSB7CiAgICAvLyAgIHRoaXMuJGVtaXQoImNsb3NlTW9kYWwiKTsKICAgIC8vICAgdGhpcy50ZW1wbGF0ZU9wdGlvbnMgPSBbXTsKICAgIC8vICAgdGhpcy5zZWxlY3RlZFRlbXBsYXRlID0gJyc7CiAgICAvLyAgIHRoaXMudGhpc0N1c3RvbWVyTGlzdCA9IFtdOwogICAgLy8gfQoKICB9Cn07"},{"version":3,"sources":["RequestReview.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA,OAAA,eAAA;AACA,OAAA,eAAA;AACA,OAAA,iBAAA;AACA,SAAA,YAAA;AACA,OAAA,eAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,eADA;AAEA,EAAA,KAAA,EAAA,CAAA,UAAA,EAAA,cAAA,EAAA,kBAAA,CAFA;AAGA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,CAAA,SAAA,CADA;AAEA,MAAA,eAAA,EAAA,EAFA;AAGA,MAAA,YAAA,EAAA,IAHA;AAIA,MAAA,gBAAA,EAAA,EAJA;AAKA,MAAA,KAAA,EAAA,EALA;AAMA,MAAA,gBAAA,EAAA,EANA;AAOA,MAAA,cAAA,EAAA;AAPA,KAAA;AASA,GAbA;AAcA,EAAA,OAdA,qBAcA;AACA,QAAA,KAAA,QAAA,EAAA;AACA,WAAA,gBAAA,GAAA,CAAA,KAAA,QAAA,CAAA;AACA,WAAA,KAAA,GAAA,KAAA,QAAA,CAAA,UAAA;AACA,KAHA,MAGA;AACA,WAAA,KAAA,GAAA,KAAA,gBAAA;AACA,WAAA,gBAAA,GAAA,KAAA,YAAA;AACA;;AACA,SAAA,kBAAA;AACA,GAvBA;AAwBA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AACA,WAAA,KAAA,CAAA,OAAA;AACA,WAAA,YAAA,GAAA,IAAA;AACA,KAJA;AAKA,IAAA,UALA,sBAKA,KALA,EAKA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,WAAA,cAAA,GAAA,KAAA,gBAAA,CAAA,aAAA;AACA,KARA;AASA,IAAA,kBATA,gCASA;AACA,UAAA,EAAA,GAAA,IAAA;AACA,MAAA,eAAA,CAAA,sBAAA,CAAA,EAAA,CAAA,KAAA,EAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,QAAA,EAAA,CAAA,eAAA,GAAA,QAAA,CAAA,MAAA,CAAA,IAAA,CAAA,UAAA,CAAA,EAAA,CAAA;AAAA,iBAAA,CAAA,CAAA,IAAA,GAAA,CAAA,CAAA,IAAA,GAAA,CAAA,GAAA,CAAA,CAAA;AAAA,SAAA,CAAA;AACA,QAAA,EAAA,CAAA,eAAA,GAAA,EAAA,CAAA,eAAA,CAAA,MAAA,CAAA,UAAA,CAAA;AAAA,iBAAA,CAAA,CAAA,MAAA,KAAA,QAAA;AAAA,SAAA,CAAA,CAFA,CAGA;AACA;AACA,OALA;AAMA,KAjBA;AAkBA,IAAA,SAlBA,uBAkBA;AACA,UAAA,EAAA,GAAA,IAAA;;AACA,UAAA,EAAA,CAAA,gBAAA,EAAA;AACA,QAAA,eAAA,CAAA,SAAA,CAAA,EAAA,CAAA,KAAA,EAAA,EAAA,CAAA,gBAAA,EAAA,EAAA,CAAA,gBAAA,CAAA,UAAA,EAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,UAAA,YAAA,CAAA,KAAA,CAAA,SAAA,EAAA,MAAA;AACA,UAAA,YAAA,CAAA,KAAA,CACA,gBADA,EAEA,qFAFA;AAIA,UAAA,EAAA,CAAA,KAAA,CAAA,OAAA;AACA,SAPA;AAQA;AACA,KA9BA,CA+BA;AACA;AACA;AACA;AACA;AACA;;AApCA;AAxBA,CAAA","sourcesContent":["<template>\n  <el-dialog class=\"request-review-modal\" title=\"Send a request to review\" width=\"600px\" center :show-close=\"false\" :visible.sync=\"requestModal\" :before-close=\"closeModal\">\n    <div class=\"dialog-body\">\n      <span>Select a template to send</span>\n      <el-select v-model=\"selectedTemplate\" @change=\"testChange($event)\" class=\"input-selector\" placeholder=\"Select One\">\n        <el-option v-for=\"(option, optionIndex) in templateOptions\" :key=\"optionIndex\" :value-key=\"option.campaignId\" :value=\"option\" :label=\"selectedTemplate.name\">\n          {{option.name}}\n        </el-option>\n      </el-select>\n      <div class=\"delivery-methods\" v-if=\"selectedTemplate && selectedTemplate.contactMethod && selectedTemplate.contactMethod.length > 1 \">\n        <span>Select delivery method(s)</span>\n        <el-select v-model=\"deliveryMethod\" class=\"input-selector\" multiple placeholder=\"Select Multiple\">\n          <el-option v-for=\"(method, deliveryIndex) in selectedTemplate.contactMethod\" :key=\"deliveryIndex\" :label=\"method\" :value=\"method\"></el-option>\n        </el-select>\n      </div>\n    </div>\n    <span slot=\"footer\" class=\"dialog-footer\">\n      <el-button type=\"text\" @click=\"$emit('close')\">Cancel</el-button>\n      <el-button type=\"primary\" @click.once=\"reRequest()\">Send Request</el-button>\n    </span>\n  </el-dialog>\n  <!-- <div class=\"modal-mask\" @click=\"$emit('close')\">\n    <div class=\"modal-container\" @click.stop>\n      <div class=\"request-container\">\n          <div class=\"request-header\">\n              <div class=\"request-selection\">\n                <label>Select Template to Send:</label><br/>\n                  <select v-model=\"selectedTemplate\">\n                      <option v-if=\"templateOptions.length > 0\" v-for=\"option in templateOptions\" :value=\"option.data\">{{option.value}}</option>\n                  </select>\n              </div>\n              <div class=\"button-container\">\n                <span @click=\"$emit('close')\">Cancel</span>\n                <button @click.once=\"reRequest()\">Re-request</button>\n              </div>\n          </div>\n      </div>\n    </div>\n  </div> -->\n</template>\n\n<script>\nimport CustomerService from \"../services/CustomerService.js\";\nimport LocationService from \"../services/LocationService.js\";\nimport AutomationService from \"../services/AutomationService.js\";\nimport { EventService } from \"../main\";\nimport CampaignService from '../services/CampaignService';\n\nexport default {\n  name: \"requestReview\",\n  props: [\"customer\", \"customerList\", \"locationSelected\"],\n  data: function() {\n    return {      \n      sources: ['Default'],\n      templateOptions: [],\n      requestModal: true,\n      selectedTemplate: {},\n      locId: '',\n      thisCustomerList: [],\n      deliveryMethod: []\n    };\n  },\n  created() {\n    if (this.customer) {\n      this.thisCustomerList = [this.customer];\n      this.locId = this.customer.locationId;\n    } else {\n      this.locId = this.locationSelected;\n      this.thisCustomerList = this.customerList;\n    }\n    this.getLocationOptions();\n  },\n  methods: {\n    closeModal () {\n      this.$emit('close');\n      this.requestModal = true;\n    },\n    testChange(event){\n      console.log(event);\n      this.deliveryMethod = this.selectedTemplate.contactMethod;\n    },\n    getLocationOptions() {\n      let vm = this;\n      CampaignService.getCampaignsByLocation(vm.locId).then(response => {        \n        vm.templateOptions = response.result.sort((a, b) => (a.name > b.name) ? 1 : -1);\n        vm.templateOptions = vm.templateOptions.filter(e => e.status === 'active');\n        // vm.selectedTemplate = vm.templateOptions[0];\n        // vm.deliveryMethod = vm.selectedTemplate.contactMethod;\n      })\n    },\n    reRequest() {\n      let vm = this;\n      if(vm.selectedTemplate) {\n        CustomerService.reRequest( vm.locId, vm.thisCustomerList, vm.selectedTemplate.campaignId).then(response => {\n          EventService.$emit(\"loading\", \"hide\");\n          EventService.$emit(\n            \"successMessage\",\n            \"Success! The customers selected will be receiving their re-request message shortly.\"\n          );\n          vm.$emit('close')\n        });\n      }\n    },\n    // closeModal() {\n    //   this.$emit(\"closeModal\");\n    //   this.templateOptions = [];\n    //   this.selectedTemplate = '';\n    //   this.thisCustomerList = [];\n    // }\n  }\n};\n</script>\n\n<style scoped>\n\n.request-review-modal {\n  \n}\n.dialog-body, .delivery-methods span {\n  font-size: 14px;\n  text-transform: uppercase;\n  color: #757575;\n  font-weight: bold;\n  text-align: center;\n}\n.dialog-body :nth-child(3) {\n  margin-top: 40px;\n}\n.dialog-body {\n  display: flex;\n  flex-direction: column;\n  width: 320px;\n  margin: 40px auto;\n}\n.dialog-footer button {\n  width: 260px;\n}\n\n.input-selector {\n  width: 100%;\n  margin-top: 30px;\n}\n</style>\n"],"sourceRoot":"src/components"}]}