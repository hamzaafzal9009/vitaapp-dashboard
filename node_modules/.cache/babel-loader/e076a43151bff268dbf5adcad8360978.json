{"remainingRequest":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/babel-loader/lib/index.js!/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js??vue-loader-options!/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/src/components/ResetPassword.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/src/components/ResetPassword.vue","mtime":1581270622000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/package.json","mtime":1587799327166},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LnJlZ2V4cC5yZXBsYWNlIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFVzZXJTZXJ2aWNlIGZyb20gIi4vLi4vc2VydmljZXMvVXNlclNlcnZpY2UiOwppbXBvcnQgeyBFdmVudFNlcnZpY2UgfSBmcm9tICIuLi9tYWluIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdyZXNldFBhc3N3b3JkJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZW1haWw6ICcnLAogICAgICByZXNldEVycm9yOiBudWxsLAogICAgICB0b2tlbjogbnVsbCwKICAgICAgdGltZXI6IG51bGwsCiAgICAgIHN1Y2Nlc3M6IGZhbHNlCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuc2V0dXBQYWdlKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZW5kUmVzZXRFbWFpbDogZnVuY3Rpb24gc2VuZFJlc2V0RW1haWwoKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIHRoaXMucmVzZXRFcnJvciA9IG51bGw7CiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKTsKICAgICAgVXNlclNlcnZpY2Uuc2VuZFJlc2V0UGFzc3dvcmRFbWFpbCh0aGlzLmVtYWlsLCB0aGlzLnRva2VuKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7CiAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoJ3N1Y2Nlc3NNZXNzYWdlJywgJ0hvb3JheSEgUGFzc3dvcmQgUmVzZXQgRW1haWwgU2VudC4gQ2hlY2sgeW91ciBlbWFpbCBmb3IgaW5zdHJ1Y3Rpb25zLicpOwogICAgICAgICAgdm0uc3VjY2VzcyA9IHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZtLnNldHVwUGFnZSgpOwogICAgICAgICAgdm0ucmVzZXRFcnJvciA9ICdXZSBjb3VsZCBub3QgZmluZCB5b3VyIGFjY291bnQuICBQbGVhc2UgY2hlY2sgdGhlIGVtYWlsIHlvdSBlbnRlcmVkIGZvciBhY2N1cmFjeSwgYW5kIHRyeSBhZ2Fpbi4gIElmIHRoaXMga2VlcHMgaGFwcGVuaW5nLCBjb250YWN0IHN1cHBvcnQuJzsKICAgICAgICB9CiAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIHZtLnNldHVwUGFnZSgpOwogICAgICAgIHZtLnJlc2V0RXJyb3IgPSAnVW5rbm93biBlcnJvciBlbmNvdW50ZXJlZC4gIFBsZWFzZSB0cnkgYWdhaW4uJzsKICAgICAgfSk7CiAgICB9LAogICAgc2V0dXBQYWdlOiBmdW5jdGlvbiBzZXR1cFBhZ2UoKSB7CiAgICAgIHRoaXMudG9rZW4gPSBNYXRoLmZsb29yKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwKTsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgdGhpcy50aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIHZtLiRyb3V0ZS5yZXBsYWNlKCdsb2dpbicpOwogICAgICB9LCAzMDAwMDApOwogICAgfSwKICAgIGJhY2tUb0xvZ2luOiBmdW5jdGlvbiBiYWNrVG9Mb2dpbigpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9sb2dpbiIpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["ResetPassword.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA,OAAA,WAAA;AACA,SAAA,YAAA;AAGA,eAAA;AACA,EAAA,IAAA,EAAA,eADA;AAEA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,UAAA,EAAA,IAFA;AAGA,MAAA,KAAA,EAAA,IAHA;AAIA,MAAA,KAAA,EAAA,IAJA;AAKA,MAAA,OAAA,EAAA;AALA,KAAA;AAOA,GAVA;AAWA,EAAA,OAXA,qBAWA;AACA,SAAA,SAAA;AACA,GAbA;AAcA,EAAA,OAAA,EAAA;AACA,IAAA,cADA,4BACA;AACA,UAAA,EAAA,GAAA,IAAA;AACA,WAAA,UAAA,GAAA,IAAA;AACA,MAAA,YAAA,CAAA,KAAA,KAAA,CAAA;AACA,MAAA,WAAA,CAAA,sBAAA,CAAA,KAAA,KAAA,EAAA,KAAA,KAAA,EAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,YAAA,QAAA,CAAA,OAAA,EAAA;AACA,UAAA,YAAA,CAAA,KAAA,CAAA,gBAAA,EAAA,uEAAA;AACA,UAAA,EAAA,CAAA,OAAA,GAAA,IAAA;AACA,SAHA,MAGA;AACA,UAAA,EAAA,CAAA,SAAA;AACA,UAAA,EAAA,CAAA,UAAA,GAAA,6IAAA;AACA;AACA,OARA,EAQA,UAAA,KAAA,EAAA;AACA,QAAA,EAAA,CAAA,SAAA;AACA,QAAA,EAAA,CAAA,UAAA,GAAA,+CAAA;AACA,OAXA;AAYA,KAjBA;AAkBA,IAAA,SAlBA,uBAkBA;AACA,WAAA,KAAA,GAAA,IAAA,CAAA,KAAA,CAAA,IAAA,IAAA,GAAA,OAAA,EAAA,GAAA,GAAA,CAAA;AACA,UAAA,EAAA,GAAA,IAAA;AACA,WAAA,KAAA,GAAA,UAAA,CAAA,YAAA;AACA,QAAA,EAAA,CAAA,MAAA,CAAA,OAAA,CAAA,OAAA;AACA,OAFA,EAEA,MAFA,CAAA;AAGA,KAxBA;AAyBA,IAAA,WAzBA,yBAyBA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,QAAA;AACA;AA3BA;AAdA,CAAA","sourcesContent":["<template>\n  <div class=\"wrapper\">\n    <div class=\"header\">\n      <div class=\"row\">\n        <img src=\"../assets/img/logo-white.svg\" alt=\"Opiniion\" />\n        <div>\n          <div class=\"left-header float-right clickable\" @click=\"goToWWW()\">\n            <i class=\"fa fa-angle-left\"></i>Go to www.opiniion.com\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"content\">\n      <el-card class=\"card relative\">\n        <div class=\"card-content-wrapper\">\n          <span class=\"login-header horizontal-centered\">Reset Password</span>\n          <div v-if=\"success\">\n            A password reset email has been sent to the address specified.\n          </div>\n          <div v-if=\"!success\">\n            <el-input type=\"email\" v-model=\"email\" @change=\"resetError = null\" @keyup.enter.native=\"sendResetEmail\" placeholder=\"Email\"></el-input>\n            <span class=\"error-message\" v-show=\"resetError\">{{resetError}}</span>\n          </div>\n          <el-button type=\"primary\" round class=\"login-button\" v-if=\"!success\" :disabled=\"!email.length\" @click=\"sendResetEmail\" @keyup.enter.native=\"sendResetEmail\">Reset Password</el-button>\n          <sub class=\"back clickable\" @click=\"backToLogin()\"><i class=\"fa fa-angle-left\"></i>Go Back</sub>\n        </div>\n      </el-card>\n    </div>\n    <footer class=\"footer\">\n      <div class=\"login-bottom-nav\">\n        <div class=\"flex-center\">\n          <div class=\"credits ml-auto\">\n            <div\n              class=\"copyright\"\n            >&copy; {{new Date().getFullYear()}} Opiniion Inc. All Rights Reserved</div>\n          </div>\n        </div>\n      </div>\n    </footer>\n  </div>\n</template>\n\n<script>\nimport UserService from './../services/UserService'\nimport { EventService } from '../main';\n\n\nexport default {\n  name: 'resetPassword',\n  data: function() {\n    return {\n      email: '',\n      resetError: null,\n      token: null,\n      timer: null,\n      success: false\n    }\n  },\n  created() {\n    this.setupPage();\n  },\n  methods: {\n    sendResetEmail() {\n      var vm = this;\n      this.resetError = null;\n      clearTimeout(this.timer);\n      UserService.sendResetPasswordEmail(this.email, this.token).then(function(response) {\n        if (response.success) {\n          EventService.$emit('successMessage', 'Hooray! Password Reset Email Sent. Check your email for instructions.')\n          vm.success = true;\n        } else {\n          vm.setupPage();\n          vm.resetError = 'We could not find your account.  Please check the email you entered for accuracy, and try again.  If this keeps happening, contact support.';\n        }\n      }, function(error) {\n        vm.setupPage();\n        vm.resetError = 'Unknown error encountered.  Please try again.';\n      });\n    },\n    setupPage() {\n      this.token = Math.floor((new Date().getTime())/100);\n      var vm = this;\n      this.timer = setTimeout(function() {\n        vm.$route.replace('login');\n      }, 300000);\n    },\n    backToLogin() {    \n      this.$router.push(\"/login\");\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n.wrapper {\n  height: 100vh;\n  width: 100%;\n  background: url('../assets/img/login-bg.svg');\n  background-size: cover;\n  background-repeat: no-repeat;\n}\n\n.header {\n  height: 130px;\n  padding: 20px;\n}\n\n.header > .row {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: 10px 25px;\n}\n\n.row > img {\n  width: 170px;\n}\n\n.left-header {\n  font-size: 15px !important;\n  color: white;\n}\n\n.login-button {\n  width: 100%;\n  margin: 10px 0;\n}\n\n.content {\n  width: 100vw;\n  height: 100vh;\n  margin: auto;\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0;\n  margin: auto;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.card {\n  animation: .35s ease slideFadeFromBottom;\n  width: 440px;\n  height: auto;\n  /* height: 240px; */\n}\n.card-content-wrapper {\n  width: 80%;\n  margin: auto;\n}\n\n.login-header {\n  margin: 0 0 30px 0;\n  font-size: 30px;\n}\n\n.remember-container {\n  margin: 20px 0px 20px 0px;\n}\n\n.fp {\n  text-decoration: none;\n  font-size: 12px;\n}\n\n.agreement-container {\n  font-size: 12px;\n  width: 65%;\n  text-align: center;\n  margin: 20px auto;\n  line-height: 1.5;\n}\n\nfooter {\n  position: absolute;\n  width: 100%;\n  bottom: 10px;\n  font-size: 12px;\n  color: #757575;\n}\n\n.login-bottom-nav {\n  margin: 30px 50px;\n}\n\n.router-links {\n  width: 200px;\n}\n\n.fc {\n  color: white;\n  text-decoration: none;\n}\n\n.fa-angle-left {\n  margin-right: 8px;\n}\n\n.error-message {\n  color: #DD2C00;\n  width: 100%;\n  text-align: center;\n  margin-bottom: 5px;\n  font-size: 11px;\n}\n\n.back {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  margin: 10px 10px;\n  color: #757575;\n}\n\n@media screen and (max-width: 500px) {\n  .header > .row {\n    flex-direction: column;\n    justify-content: center;\n  }\n  .header > .row > div {\n    margin-top: 10px;\n  }\n}\n</style>\n"],"sourceRoot":"src/components"}]}