{"remainingRequest":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js??vue-loader-options!/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/src/components/CampaignList.vue?vue&type=style&index=0&id=731e1afe&scoped=true&lang=css&","dependencies":[{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/src/components/CampaignList.vue","mtime":1581270622000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnBlci1wYWdlLXNlbGVjdCB7CiAgbWF4LXdpZHRoOiA4MHB4Owp9Ci5jYXJkLWFjdGlvbnMgLmVsLWJ1dHRvbjpudGgtY2hpbGQoMSkgewogIG1hcmdpbi1yaWdodDogMDsKfQouZWwtY2FyZCB7CiAgLyogaGVpZ2h0OiAxMDB2aDsgKi8KICAvKiBtaW4taGVpZ2h0OiA1MDBweDsgKi8KfQouY2FtcGFpZ24tY29udHJvbHMgewogIGZsb2F0OiByaWdodDsKICBjb2xvcjogIzU0NTQ1NDsKICBmb250LXNpemU6IDIwcHg7CiAgd2lkdGg6IDEwMCU7CiAgYmFja2dyb3VuZDogI2ZmZmZmZjsKICBib3JkZXItcmFkaXVzOiAxcHg7CiAgYm94LXNoYWRvdzogMHB4IDJweCA0cHggcmdiYSgwLDAsMCwuMjUpOwogIG1hcmdpbi1ib3R0b206IDIwcHg7CiAgZGlzcGxheTogZmxleDsKICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBhbGlnbi1jb250ZW50OiBjZW50ZXI7Cn0KCi5jYW1wYWlnbi1jb250cm9scy1jb250YWluZXIgewogIHdpZHRoOiA2MCU7Cn0KCi5jYW1wYWlnbi1jb250cm9scy1hZGQgewogIGZsb2F0OiBsZWZ0OwogIHBhZGRpbmc6IDEwcHggMTBweCAwIDA7CiAgY3Vyc29yOiBwb2ludGVyOwogIG1hcmdpbi1sZWZ0OiA0MHB4OwogIGRpc3BsYXk6IGZsZXg7CiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICBhbGlnbi1pdGVtczogY2VudGVyOwp9Ci5jYW1wYWlnbi1jb250cm9scy1hZGQgc3BhbiB7CiAgY29sb3I6ICM0ZmNiYzU7Cn0KCi5jYW1wYWlnbi1jb250cm9scy1zZWFyY2ggewogIGJhY2tncm91bmQ6IHdoaXRlOwogIG1hcmdpbjogMjBweCAyMHB4OwogIGJvcmRlcjogMnB4IHNvbGlkICNlZmVmZWY7CiAgYm9yZGVyLXJhZGl1czogMXB4OwogIHdpZHRoOiAzNTBweDsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICBhbGlnbi1pdGVtczogY2VudGVyOwp9CgouY2FtcGFpZ24tY29udHJvbHMtc2VhcmNoIGlucHV0IHsKICBib3JkZXI6IG5vbmU7CiAgcGFkZGluZzogMTVweCAxNXB4IDVweCAxNXB4OwogIGZvbnQtc2l6ZTogMTJweDsKfQoKLmNhbXBhaWduLWNvbnRyb2xzLXNlYXJjaC1pY29uIHsKICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOwogIG1hcmdpbi1yaWdodDogMTBweDsKICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi5jYW1wYWlnbi1jb250cm9scy1tYXNzLWFjdGlvbnMgYnV0dG9uIHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgbGVmdDogMDsKICBtYXJnaW4tbGVmdDogNjVweDsKICBiYWNrZ3JvdW5kOiAjZjQ4ZDQ2OwogIHBhZGRpbmc6IDVweCAxMHB4IDVweCAxMHB4Owp9CgouY2FtcGFpZ24tY29udHJvbHMtbWFzcy1hY3Rpb25zIGkgewogIG1hcmdpbi1sZWZ0OiAxMHB4Owp9CgouY29udGFjdC1tZXRob2QgewogIGRpc3BsYXk6IGlubGluZS1ibG9jazsKfQoKLmNvbnRhY3QtbWV0aG9kIHNwYW4gewogIG1hcmdpbi1yaWdodDogMTBweDsKfQoKCkBrZXlmcmFtZXMgc2xpZGUgewogIGZyb20ge29wYWNpdHk6IDB9CiAgdG8ge29wYWNpdHk6IDF9Cn0KCi5jYW1wYWlnbi1jaGFuZ2Utb3B0aW9ucyB7CiAgZGlzcGxheTogZmxleDsKICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBsZWZ0OiAwOwogIG1hcmdpbi1sZWZ0OiA1NXB4OwogIG1hcmdpbi10b3A6IDI4cHg7CiAgcGFkZGluZzogNXB4IDEwcHggNXB4IDEwcHg7CiAgYW5pbWF0aW9uOiBzbGlkZSAuNXM7CiAgei1pbmRleDogOTk5Owp9CgouY2FtcGFpZ24tY2hhbmdlLW9wdGlvbnMgYnV0dG9uIHsKICBib3JkZXI6IDFweCBzb2xpZCBncmV5OwogIHBhZGRpbmc6IDNweDsKICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi5jYW1wYWlnbi10YWJsZSB7CiAgYmFja2dyb3VuZDogd2hpdGU7CiAgZm9udC1zaXplOiAxNHB4OwogIHBhZGRpbmc6IDEwcHg7CiAgY2xlYXI6IGJvdGg7Cn0KCmRpdi5jYW1wYWlnbi10YWJsZSBkaXYuc3VwZXJhZG1pbi1yb3cgewogIGJhY2tncm91bmQ6ICNGRkZGMDA7Cn0KCi5jYW1wYWlnbi1oZWFkZXItcm93IHsKICB3aWR0aDogY2FsYygxMDAlIC0gMjBweCk7CiAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgcGFkZGluZzogMTBweDsKICBib3JkZXItdG9wOiAxcHggc29saWQgI2VmZWZlZjsKICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2VmZWZlZjsKICBoZWlnaHQ6IDE0cHg7CiAgZGlzcGxheTogZmxleDsKICBmbGV4LXdyYXA6IG5vd3JhcDsKICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWV2ZW5seTsKICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi5jYW1wYWlnbi1oZWFkZXItcm93IGRpdiwgLmNhbXBhaWduLXJvdyBkaXYgewogIG1hcmdpbjogYXV0bzsKfQoKLmNhbXBhaWduLXJvdyB7CiAgd2lkdGg6IGNhbGMoMTAwJSAtIDIwcHgpOwogIGNsZWFyOiBib3RoOwogIHBhZGRpbmc6IDEwcHg7CiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlZmVmZWY7CiAgaGVpZ2h0OiBhdXRvOwogIGRpc3BsYXk6IGZsZXg7CiAgZmxleC13cmFwOiBub3dyYXA7CiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1ldmVubHk7Cn0KCi5jYW1wYWlnbi1yb3c6bnRoLWNoaWxkKGV2ZW4pIHsKICAvKiBiYWNrZ3JvdW5kOiAjZWZlZmVmOyAqLwp9CgouY2FtcGFpZ24tcm93OmhvdmVyIHsKICBiYWNrZ3JvdW5kOiAjZGZkZmRmOwp9CgouY2FtcGFpZ24tdGFibGUtY2VsbC1jaGVjayB7CiAgZmxleDogMCAwIDc1cHg7CiAgZGlzcGxheTogZmxleDsKICBmbGV4LWRpcmVjdGlvbjogcm93Owp9CgouY2FtcGFpZ24tdGFibGUtY2VsbC1jaGVjayBzcGFuIHsKICBtYXJnaW4tcmlnaHQ6IDEwcHg7Cn0KCi5jYW1wYWlnbi10YWJsZS1jZWxsLWNoZWNrIGlucHV0IHsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoNHB4KTsKICBtYXJnaW4tbGVmdDogMTVweDsKfQoKLnNlbGVjdC1hbGwgaW5wdXQgewogIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwcHgpOwogIG1hcmdpbi1sZWZ0OiA1cHg7Cn0KCi5jYW1wYWlnbi10YWJsZS1jZWxsLTAgewogIGZsZXg6IDAgMCAyNTBweDsKICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi5jYW1wYWlnbi10YWJsZS1jZWxsLTEgewogIGZsZXg6IDAgMCAzMDBweDsKICAvKiB0ZXh0LXRyYW5zZm9ybTogY2FwaXRhbGl6ZTsgKi8KfQoKLmNhbXBhaWduLXRhYmxlLWNlbGwtMiB7CiAgZmxleDogMSAxIDE1MHB4OwogIGN1cnNvcjogcG9pbnRlcjsKfQoKLmNhbXBhaWduLXRhYmxlLWNlbGwtMyB7CiAgZmxleDogMiAyIDEwMHB4Owp9CgouY2FtcGFpZ24tdGFibGUtY2VsbC00IHsKICBmbGV4OiAwIDAgMTAwcHg7CiAgdGV4dC1hbGlnbjogY2VudGVyOwp9CgouY2FtcGFpZ24tdGFibGUtY2VsbC00IHNwYW4gewogIG1hcmdpbi1yaWdodDogNXB4OwogIGN1cnNvcjogcG9pbnRlcjsKfQoKLmZhZGUtZW50ZXItYWN0aXZlIHsKICB0cmFuc2l0aW9uOiBhbGwgLjNzIGVhc2U7Cn0KLmZhZGUtbGVhdmUtYWN0aXZlIHsKICB0cmFuc2l0aW9uOiBhbGwgLjVzIGN1YmljLWJlemllcigxLjAsIDAuNSwgMC44LCAxLjApOwp9Ci5mYWRlLWVudGVyLCAuZmFkZS1sZWF2ZS10bwovKiAuc2xpZGUtZmFkZS1sZWF2ZS1hY3RpdmUgYmVsb3cgdmVyc2lvbiAyLjEuOCAqLyB7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC02MHB4KTsKICBvcGFjaXR5OiAwOwp9CgouYXVkaWVuY2UtY2F0ZWdvcnkgewogIGRpc3BsYXk6IGZsZXg7CiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICBmb250LXNpemU6IDE0cHg7Cn0KCi5hdWRpZW5jZS1jYXRlZ29yeSAuYXVkaWVuY2UtdGV4dCB7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0ycHgpOwp9CgouY2FtcGFpZ24tbWFzcy1hY3Rpb25zLW1lbnUgewogIGRpc3BsYXk6IGZsZXg7CiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKfQoKLmRyb3Bkb3duLWl0ZW0gewogIG1hcmdpbjogMTBweCAyMHB4OwogIGNvbG9yOiAjOWE5YTlhOwp9CgouZmlsdGVyLWJ1dHRvbiB7CiAgd2lkdGg6IDYwcHg7CiAgaGVpZ2h0OiA1MHB4OwogIGRpc3BsYXk6IGZsZXg7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKfQoKLnNjaGVkdWxlLXRhYmxlLWRhdGEgewogIGZvbnQtc2l6ZTogMTJweDsKICB3b3JkLWJyZWFrOiBrZWVwLWFsbDsKfQoKLmRheXMtcGF1c2VkIHsKICBmb250LXNpemU6IDEwcHg7Cn0KCg=="},{"version":3,"sources":["CampaignList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmhBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"CampaignList.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <el-card class=\"card-min-height\">\n    <div class=\"card-header\">\n      <div class=\"card-title\">\n        <h3>Campaigns</h3>\n      </div>\n      <div class=\"card-actions\">\n        <el-button\n          type=\"primary\"\n          style=\"margin-right: 10px;\"\n          @click=\"editCampaign()\"\n        >\n        <i class=\"fa fa-plus-circle fa-flip-horizontal\"></i>\n            &nbsp; Add Campaign\n        </el-button>\n        <div class=\"input-group\">\n          <el-popover trigger=\"click\" class=\"filter clickable\" v-model=\"showFilters\">\n            <div class=\"filter-button\" :class=\"{'filter-active': filtersActive}\" slot=\"reference\">\n              <i class=\"fas fa-filter\"></i>\n            </div>\n            <div class=\"dropdown-filter-menu\">\n              <div class=\"dropdown-filter-option\">\n                <label>Type</label>\n                <el-select v-model=\"filters.type\" clearable>\n                  <el-option v-for=\"type in ['Review Request', 'Custom Message']\" :key=\"type\" :value=\"type\">\n                    {{type}}\n                  </el-option>\n                </el-select>\n              </div>\n              <div class=\"dropdown-filter-option\">\n                <label>Status</label>\n                <el-select v-model=\"filters.status\" :collapse-tags=\"true\" multiple>\n                  <el-option class=\"capitalize\" v-for=\"(status, statusIndex) in filtersStatus\" :key=\"statusIndex\" :value=\"status.value\" :label=\"status.label\">\n                  </el-option>\n                </el-select>\n              </div>\n              <div class=\"dropdown-filter-option\">\n                <label>Delivery</label>\n                <el-select v-model=\"filters.delivery\" :collapse-tags=\"true\" multiple>\n                  <el-option v-for=\"value in ['Email', 'SMS']\" :key=\"value\" :value=\"value\">\n                    {{value}}\n                  </el-option>\n                </el-select>\n              </div>\n              <div class=\"dropdown-filter-option\">\n                <label>Frequency</label>\n                <el-select v-model=\"filters.frequency\" clearable>\n                  <el-option v-for=\"frequency in ['Recurring', 'Once', 'Delay']\" :key=\"frequency\" :value=\"frequency\">\n                    {{frequency}}\n                  </el-option>\n                </el-select>\n              </div>\n              <div class=\"dropdown-filter-buttons\">\n                <el-button type=\"text\" size=\"small\" style=\"color:#F48D46\" @click=\"resetFilters()\">Reset Filters</el-button>\n                <el-button type=\"warning\" size=\"small\" round @click=\"searchCampaigns()\">Apply</el-button>\n              </div>\n            </div>\n          </el-popover>\n          <el-input\n            v-model=\"searchText\"\n            @keyup.native.enter=\"searchCampaigns()\"\n            placeholder=\"Search Campaigns..\"\n          ><i slot=\"suffix\" class=\"far fa-search\"></i></el-input>\n        </div>\n      </div>\n    </div>\n    <el-popover trigger=\"click\" placement=\"bottom-end\">\n      <el-button type=\"primary\" slot=\"reference\" size=\"medium\" v-show=\"showBulkActions\" round>\n        <span >Actions &nbsp;<i class=\"fas fa-caret-down\"></i></span>\n      </el-button>\n      <div class=\"campaign-mass-actions-menu\">\n        <el-link round class=\"dropdown-item\" @click=\"massChangeStatus('active')\">\n          Mark as Active\n        </el-link>\n        <!-- <el-link round class=\"dropdown-item\" @click=\"massChangeStatus('disabled')\">\n          Mark as Disabled\n        </el-link> -->\n        <el-link round class=\"dropdown-item\" @click=\"massChangeStatus('paused')\">\n          Pause Campaigns for 7 days\n        </el-link>\n        <el-link round class=\"dropdown-item\" @click=\"massChangeStatus('deleted')\">\n          Delete Campaigns\n        </el-link>\n      </div>\n    </el-popover>\n    <div class=\"block\" v-if=\"campaigns\">\n      <el-table size=\"small\" class=\"card-table-min-height\" row-class-name=\"clickable\" :data=\"campaigns\" highlight-current-row \n      empty-text=\"No results found based on your search criteria.\"\n      ref=\"customerTable\" height=\"calc(80vh - var(--navbar-height) - var(--footer-height) - 80px)\" @selection-change=\"handleSelectionChange\" @row-click=\"selectCampaign($event)\" @sort-change=\"handleSort\">\n        <el-table-column type=\"selection\" width=\"50\" >\n        </el-table-column>\n        <el-table-column prop=\"name\" label=\"Campaign Name\" min-width=\"180\" sortable=\"custom\" :sort-orders=\"sortOptions\" show-overflow-tooltip>\n        </el-table-column>\n        <el-table-column label=\"Location\" min-width=\"150\" show-overflow-tooltip>\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.locationName[0] }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"type\" sortable=\"custom\" :sort-orders=\"sortOptions\" label=\"Type\" min-width=\"150\">\n        </el-table-column>\n        <el-table-column prop=\"status\" sortable=\"custom\" :sort-orders=\"sortOptions\" label=\"Status\" min-width=\"150\">\n          <template slot-scope=\"scope\">\n            <span v-if=\"scope.row.status == 'active'\" class=\"status-bubble subscribed\">{{scope.row.status}}</span>\n            <span v-if=\"scope.row.status == 'sent'\" class=\"status-bubble sent\">{{scope.row.status}}</span>\n            <span v-if=\"scope.row.status == 'draft'\" class=\"status-bubble deleted\">{{scope.row.status}}</span>\n            <span v-if=\"scope.row.status == 'paused'\" class=\"status-bubble pause\">{{scope.row.status}} <span class=\"days-paused\">&nbsp;({{checkPausedDays(scope.row.pauseStart)}})</span></span>\n            <span v-if=\"scope.row.status == 'deleted'\" class=\"status-bubble unsubscribed\">{{scope.row.status}}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"Delivery\" min-width=\"150\" >\n          <template slot-scope=\"scope\">\n            <div class=\"contact-method\" v-for=\"(method, index) in scope.row.contactMethod\" :key=\"index\">\n              <span>{{ method }}</span>\n            </div>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"Audience\" min-width=\"150\" >\n          <template slot-scope=\"scope\">\n            <div class=\"audience-category\">\n              <span class=\"audience-text\">\n                {{displayAudience(scope.row.filters).substring(0,22)}}\n              </span>\n              <span class=\"see-more\" @click.stop v-if=\"(displayAudience(scope.row.filters)).length > 21\">\n                <el-popover\n                  placement=\"bottom\"\n                  width=\"200\"\n                  trigger=\"click\"\n                  :content=\"displayAudience(scope.row.filters)\"\n                  >\n                  <span slot=\"reference\" class=\"clickable\">See More...</span>\n                </el-popover>\n              </span>\n            </div>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"Schedule\" prop=\"frequency.date\" sortable=\"custom\" :sort-orders=\"sortOptions\" min-width=\"150\" >\n          <template slot-scope=\"scope\">\n            <div class=\"schedule-table-data\">\n              <!-- <span class=\"\" v-if=\"scope.row.frequency.type == 'Immediate'\">\n                Immediate\n              </span> -->\n              <span>{{scope.row.frequency.type}}</span>\n              <span class=\"\" v-if=\"scope.row.frequency.type == 'Scheduled'\">\n                {{ new Date(scope.row.frequency.date).toString().substring(0,10) }}\n              </span>\n              <span class=\"\" v-if=\"scope.row.frequency.type == 'Recurring'\">\n                {{ scope.row.frequency.schedule }}\n              </span>\n              <span class=\"\" v-if=\"scope.row.frequency.type == 'Automated'\">\n                {{ scope.row.frequency.delay }} Hour Delay\n              </span>\n            </div>\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n    <div class=\"pagination block\" v-if=\"campaigns && campaigns.length\">\n      <span>Showing {{campaigns.length}} of {{paginationData.total}} Total Results</span>\n      <el-pagination\n        @current-change=\"searchCampaigns\"\n        background\n        layout=\"prev, pager, next\"\n        :current-page=\"paginationPage\"\n        :page-size=\"paginationData.perPage\"\n        :total=\"paginationData.total\"\n        small\n      ></el-pagination>\n      <el-select class=\"per-page-select\" size=\"mini\" v-model=\"paginationData.perPage\" @change=\"searchCampaigns()\">\n        <el-option v-for=\"option in paginationData.perPageOptions\"\n                    :value=\"option\"\n                    :key=\"option\"\n        >{{option}}\n        </el-option>\n      </el-select>\n    </div>\n    <div class=\"block\" v-else>\n\n    </div>\n    <AddCampaign :newOutreach=\"newOutreach\" :selectedCampaign=\"selectedCampaign\" v-if=\"openCampaignModal\" v-on:closeModal=\"closeCampaignModal()\"/>\n    <!-- <campaignDetail :selectedcampaign=\"selectedcampaign\" v-if=\"opencampaignDetailModal\" v-on:closeModal=\"closeCampaignModal()\"/> -->\n  </el-card>\n</template>\n\n<script>\n\nimport AddCampaign from './AddCampaign'\n// import campaignDetail from './campaignDetail'\nimport CampaignService from './../services/CampaignService'\nimport LocationService from './../services/LocationService'\nimport {EventService} from '../main'\nimport UserService from './../services/UserService'\nimport Papa from '../../node_modules/papaparse/papaparse.js'\n\n\nexport default {\n  name: 'campaignList',\n  components: {\n    AddCampaign\n  },\n  data: function() {\n    return {\n      campaigns: [],\n      selectedCampaigns: [],\n      searchText: '',\n      filters: {\n        type: '',\n        status: [],\n        delivery: [],\n        frequency: '',\n      },\n      filtersStatus: [{value: 'active', label: 'Active'}, {value: 'draft', label: 'Draft'}, {value: 'paused', label: 'Paused'}, {value: 'sent', label: 'Sent'}],\n      sortOptions: ['ascending', 'descending'],\n      showFilters: false,\n      openCampaignModal: false,\n      openCampaignDetailModal: false,\n      selectedCampaign: null,\n      showBulkActionsPopover: false,\n      sortType: 'name',\n      rawData: [],\n      campaignSelected: '',\n      isSuperAdmin: false,\n      newOutreach: '',\n      adding: false,\n      step1Initialized: false,\n      paginationData: {\n        perPage: 25,\n        currentPage: 0,\n        perPageOptions: [5, 10, 25],\n        total: 0,\n        changePage: \"setPageNum\",\n        rowChange: \"searchCustomers\"\n      }\n    }\n  },\n  computed: {\n    filtersActive() {\n      let vm = this;\n      if(vm.filters.type || vm.filters.status.length || vm.filters.delivery.length || vm.filters.frequency) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n    checkHeight () {\n      return (window.innerHeight <= 900 ? 550 : 800);\n    },\n    paginationPage() {\n      return (this.paginationData.currentPage+1);\n    },\n    showBulkActions() {\n      let vm = this;\n      if(vm.selectedCampaigns && vm.selectedCampaigns.length) {\n        return true;\n      }\n      return false;\n    }\n  },\n  created() {\n    this.currentUser = JSON.parse(localStorage.getItem('currentUser'));\n    this.isSuperAdmin = this.currentUser.isSuperAdmin\n    this.searchCampaigns();\n    EventService.$on('locationChange', this.handleLocationChange);\n    EventService.$on('locationChange', this.clearList);\n  },\n  beforeDestroy: function () {\n    EventService.$off('locationChange', this.handleLocationChange);\n    EventService.$off('locationChange', this.clearList);\n  },\n  methods: {\n    testCampaignMigration() {\n      CampaignService.testMigration().then(response => {\n        console.log(response);\n      })\n    },\n    searchForCampaigns(string, id){\n      if(string == '') {\n        this.searchCampaigns();\n      } else {\n      this.campaigns = [];\n      CampaignService.searchCampaigns(string, id).then( response => {\n        this.campaigns = response;\n      })\n      }\n    },\n    displayDate(millis) {\n      var date = new Date(millis);\n      return (1 + date.getMonth()) + '/' + date.getDate() + '/' + (date.getFullYear() % 100);\n    },\n    selectAll() {\n      this.campaigns.map((e,i) => {\n        this.prepForDelete(e.campaignId)\n      })\n    },\n    checkForLocation() {\n      this.locationSelected = localStorage.getItem('locationId')\n    },\n    clearList() {\n      this.selectedCampaigns = [];\n    },\n    handleSelectionChange(campaigns) {\n      let selectedCampaigns = campaigns.filter(el => {\n        return el.status != 'sent'\n      });\n      console.log(selectedCampaigns);\n      this.selectedCampaigns = selectedCampaigns;\n    },\n    massChangeStatus(status) {\n      let vm = this;\n      this.$confirm('Are you sure you want to change these statuses?', 'Confirmation', {\n        confirmButtonText: 'Yes',\n        cancelButtonText: 'Cancel',\n        type: \"error\"\n      }).then(() => {\n        this.selectedCampaigns.map(e => {\n          if(e.status != status && (e.status != 'deleted' || vm.isSuperAdmin) && (e.status != 'draft' || (status != 'active' && status != 'inactive'))) {\n            CampaignService.changeCampaignStatus(e.campaignId, status).then(response => {\n              if(response) {\n                EventService.$emit('successMessage', 'Status changed successfully!')\n                vm.searchCampaigns()\n              } else {\n                EventService.$emit('errorMessage', 'Something went wrong, please try again.')\n              }\n            })\n          } else {\n            EventService.$emit(\"infoMessage\", \"One or more campaigns was unable to be changed.\");\n          }\n        })\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: \"Delete Cancelled\"\n        })\n      })\n    },\n    handleLocationChange() {\n      let vm = this;\n      vm.paginationData.currentPage = 0;\n      vm.searchCampaigns();\n    },\n    handleSort(data) {\n      let vm = this;\n      let direction = '-';\n      if(vm.sortType[0] == '-') {\n        direction = ''\n      }\n      vm.sortType = direction + data.prop;\n      vm.searchCampaigns();\n    },\n    searchCampaigns(pageNum) {\n      EventService.$emit(\"loading\", \"show\");\n      var vm = this;\n      vm.showFilters = false;\n      vm.showBulkActionsPopover = false;\n      vm.selectedCampaigns = [];\n      let searchObject = {};\n      if (vm.searchText) searchObject.searchText = vm.searchText.trim();\n      if (vm.sortType) {\n        searchObject.sort = vm.sortType;\n      };\n\n      if (pageNum) {\n        searchObject.pageNum = pageNum;\n        this.paginationData.currentPage = pageNum -1;\n      } else {\n        vm.selectedPage = 0;\n        this.paginationData.currentPage = 0;\n      }\n\n      let locationIdArray = [];\n      let locationId = localStorage.getItem('locationId');\n      if(locationId) {\n        locationIdArray.push(locationId);\n      } else {\n        let locOptions = JSON.parse(localStorage.getItem('locationOptions'));\n        locOptions.map(el => locationIdArray.push(el.locationId));\n      }\n      searchObject.locations = locationIdArray;\n\n      searchObject.filters = vm.filters;\n      searchObject.resPerPage = vm.paginationData.perPage;\n\n      CampaignService.searchCampaigns(searchObject).then(\n        function(response) {\n          if(response[0]) vm.campaigns = response[0].results;\n          if(response[0].count && response[0].count[0]) vm.paginationData.total = response[0].count[0].total;\n          EventService.$emit(\"loading\", \"hide\");\n        }, function(error) {\n          console.log(error);\n          EventService.$emit(\"loading\", \"hide\");\n      });\n    },\n    toggleSort(setSortType) {\n      if (this.sortType != setSortType) {\n        this.sortType = setSortType;\n      } else {\n        this.sortType = '-' + this.sortType;\n      }\n    },\n    addNewOutreach(outreach) {\n      this.newOutreach = outreach;\n      this.openCampaignModal = true;\n    },\n    editCampaign(campaign) {\n      this.selectedCampaign = campaign;\n      this.openCampaignModal = true;\n    },\n    selectCampaign(campaign) {\n      this.selectedCampaign = campaign;\n      this.openCampaignModal = true;\n    },\n    deleteCampaign(campaign) {\n      if(window.confirm('Are you sure you want to delete this campaign?')) {\n        var vm = this;\n        CampaignService.deleteCampaign(campaign.campaignId).then(\n          function(response) {\n            vm.searchCampaigns();\n          }, function(error) {\n            console.log(error);\n        });\n      }\n    },\n    displayOptions() {\n      this.displayButtons = !this.displayButtons;\n    },\n    checkPausedDays(data) {\n      let timePaused;\n      let today = Date.now();\n      timePaused = Math.floor((today - data) / 1000 / 60 / 60 / 24);\n      if(timePaused == 0) {\n        return 'Today'\n      } else if(timePaused == 1) {\n        return '1 Day Ago'\n      }\n      let timeInDays = timePaused + ' Days Ago';\n      return timeInDays;\n    },\n    displayAudience(filters) {\n      if(filters) {\n      var includes = filters.include;\n      var excludes = filters.exclude;\n        // No filters data to display;\n        if(!includes.rating.length && !includes.tags.length && !excludes.rating.length && !excludes.tags.length) {\n          return 'All Customers'\n        } else {\n          if(includes.rating.length || includes.tags.length || excludes.rating.length || excludes.tags.length) {\n\n            let ratingReturnString = \"\";\n            let tagsReturnString = \"\";\n            let exRatingReturnString = \"\";\n            let exTagsReturnString = \"\";\n\n            let totalString = \"\";\n\n            if(includes.rating.length || includes.tags.length) {\n\n              if(includes.rating.length) {\n                ratingReturnString = \"Rated \";\n              }\n              if(includes.tags.length) {\n                tagsReturnString = \"Tagged with \";\n              }\n\n              includes.rating.map(el => {\n                ratingReturnString += (JSON.stringify(el) + '-Stars, ');\n              })\n\n              includes.tags.map(el => {\n                tagsReturnString += (JSON.stringify(el) + ', ');\n              })\n\n              totalString += ratingReturnString + ' ' + tagsReturnString;\n\n            }\n            if(excludes.rating.length || excludes.tags.length) {\n              if(excludes.rating.length) {\n                exRatingReturnString = \"Rated \";\n              }\n              if(excludes.tags.length) {\n                exTagsReturnString = \"Not Tagged \";\n              }\n\n              excludes.rating.map(el => {\n                exRatingReturnString += (JSON.stringify(el) + '-Stars,');\n              })\n\n              excludes.tags.map(el => {\n                exTagsReturnString += (JSON.stringify(el) + ', ');\n              })\n\n              totalString += 'Not ' + exRatingReturnString + ' ' + exTagsReturnString;\n\n            }\n\n            if(totalString.lastIndexOf(',') == totalString.length-1) {\n              totalString = totalString.substring(0, totalString.length-2);\n            }\n            return totalString;\n          }\n\n        }\n      }\n    },\n    setCampaignStatus(campaign, status) {\n      let vm = this;\n      CampaignService.setCampaignStatus(campaign.campaignId, status).then(response => {\n        vm.searchCampaigns();\n      })\n    },\n    canActionCampaign(action, campaign) {\n      return true;\n    },\n    resetFilters() {\n      this.filters = {\n        type: '',\n        status: [],\n        delivery: [],\n        frequency: '',\n      }\n    },\n    closeCampaignModal() {\n      this.selectedCampaign = null;\n      this.openCampaignModal = false;\n      this.openCampaignDetailModal = false;\n      EventService.$emit('loading', 'hide');\n      this.searchCampaigns();\n    }\n  }\n}\n</script>\n\n<style scoped>\n.per-page-select {\n  max-width: 80px;\n}\n.card-actions .el-button:nth-child(1) {\n  margin-right: 0;\n}\n.el-card {\n  /* height: 100vh; */\n  /* min-height: 500px; */\n}\n.campaign-controls {\n  float: right;\n  color: #545454;\n  font-size: 20px;\n  width: 100%;\n  background: #ffffff;\n  border-radius: 1px;\n  box-shadow: 0px 2px 4px rgba(0,0,0,.25);\n  margin-bottom: 20px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  align-content: center;\n}\n\n.campaign-controls-container {\n  width: 60%;\n}\n\n.campaign-controls-add {\n  float: left;\n  padding: 10px 10px 0 0;\n  cursor: pointer;\n  margin-left: 40px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n.campaign-controls-add span {\n  color: #4fcbc5;\n}\n\n.campaign-controls-search {\n  background: white;\n  margin: 20px 20px;\n  border: 2px solid #efefef;\n  border-radius: 1px;\n  width: 350px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.campaign-controls-search input {\n  border: none;\n  padding: 15px 15px 5px 15px;\n  font-size: 12px;\n}\n\n.campaign-controls-search-icon {\n  vertical-align: middle;\n  margin-right: 10px;\n  cursor: pointer;\n}\n\n.campaign-controls-mass-actions button {\n  position: absolute;\n  left: 0;\n  margin-left: 65px;\n  background: #f48d46;\n  padding: 5px 10px 5px 10px;\n}\n\n.campaign-controls-mass-actions i {\n  margin-left: 10px;\n}\n\n.contact-method {\n  display: inline-block;\n}\n\n.contact-method span {\n  margin-right: 10px;\n}\n\n\n@keyframes slide {\n  from {opacity: 0}\n  to {opacity: 1}\n}\n\n.campaign-change-options {\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  left: 0;\n  margin-left: 55px;\n  margin-top: 28px;\n  padding: 5px 10px 5px 10px;\n  animation: slide .5s;\n  z-index: 999;\n}\n\n.campaign-change-options button {\n  border: 1px solid grey;\n  padding: 3px;\n  cursor: pointer;\n}\n\n.campaign-table {\n  background: white;\n  font-size: 14px;\n  padding: 10px;\n  clear: both;\n}\n\ndiv.campaign-table div.superadmin-row {\n  background: #FFFF00;\n}\n\n.campaign-header-row {\n  width: calc(100% - 20px);\n  font-weight: bold;\n  padding: 10px;\n  border-top: 1px solid #efefef;\n  border-bottom: 1px solid #efefef;\n  height: 14px;\n  display: flex;\n  flex-wrap: nowrap;\n  justify-content: space-evenly;\n  cursor: pointer;\n}\n\n.campaign-header-row div, .campaign-row div {\n  margin: auto;\n}\n\n.campaign-row {\n  width: calc(100% - 20px);\n  clear: both;\n  padding: 10px;\n  border-bottom: 1px solid #efefef;\n  height: auto;\n  display: flex;\n  flex-wrap: nowrap;\n  justify-content: space-evenly;\n}\n\n.campaign-row:nth-child(even) {\n  /* background: #efefef; */\n}\n\n.campaign-row:hover {\n  background: #dfdfdf;\n}\n\n.campaign-table-cell-check {\n  flex: 0 0 75px;\n  display: flex;\n  flex-direction: row;\n}\n\n.campaign-table-cell-check span {\n  margin-right: 10px;\n}\n\n.campaign-table-cell-check input {\n  transform: translateY(4px);\n  margin-left: 15px;\n}\n\n.select-all input {\n  transform: translateY(0px);\n  margin-left: 5px;\n}\n\n.campaign-table-cell-0 {\n  flex: 0 0 250px;\n  cursor: pointer;\n}\n\n.campaign-table-cell-1 {\n  flex: 0 0 300px;\n  /* text-transform: capitalize; */\n}\n\n.campaign-table-cell-2 {\n  flex: 1 1 150px;\n  cursor: pointer;\n}\n\n.campaign-table-cell-3 {\n  flex: 2 2 100px;\n}\n\n.campaign-table-cell-4 {\n  flex: 0 0 100px;\n  text-align: center;\n}\n\n.campaign-table-cell-4 span {\n  margin-right: 5px;\n  cursor: pointer;\n}\n\n.fade-enter-active {\n  transition: all .3s ease;\n}\n.fade-leave-active {\n  transition: all .5s cubic-bezier(1.0, 0.5, 0.8, 1.0);\n}\n.fade-enter, .fade-leave-to\n/* .slide-fade-leave-active below version 2.1.8 */ {\n  transform: translateX(-60px);\n  opacity: 0;\n}\n\n.audience-category {\n  display: flex;\n  flex-direction: column;\n  font-size: 14px;\n}\n\n.audience-category .audience-text {\n  transform: translateY(-2px);\n}\n\n.campaign-mass-actions-menu {\n  display: flex;\n  flex-direction: column;\n}\n\n.dropdown-item {\n  margin: 10px 20px;\n  color: #9a9a9a;\n}\n\n.filter-button {\n  width: 60px;\n  height: 50px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.schedule-table-data {\n  font-size: 12px;\n  word-break: keep-all;\n}\n\n.days-paused {\n  font-size: 10px;\n}\n\n</style>\n"]}]}