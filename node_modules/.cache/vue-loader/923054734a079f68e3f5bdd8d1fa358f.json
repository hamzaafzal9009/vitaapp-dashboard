{"remainingRequest":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js??vue-loader-options!/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/src/components/RequestReview.vue?vue&type=style&index=0&id=7a9fb747&scoped=true&lang=css&","dependencies":[{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/src/components/RequestReview.vue","mtime":1581270622000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5yZXF1ZXN0LXJldmlldy1tb2RhbCB7CiAgCn0KLmRpYWxvZy1ib2R5LCAuZGVsaXZlcnktbWV0aG9kcyBzcGFuIHsKICBmb250LXNpemU6IDE0cHg7CiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsKICBjb2xvcjogIzc1NzU3NTsKICBmb250LXdlaWdodDogYm9sZDsKICB0ZXh0LWFsaWduOiBjZW50ZXI7Cn0KLmRpYWxvZy1ib2R5IDpudGgtY2hpbGQoMykgewogIG1hcmdpbi10b3A6IDQwcHg7Cn0KLmRpYWxvZy1ib2R5IHsKICBkaXNwbGF5OiBmbGV4OwogIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgd2lkdGg6IDMyMHB4OwogIG1hcmdpbjogNDBweCBhdXRvOwp9Ci5kaWFsb2ctZm9vdGVyIGJ1dHRvbiB7CiAgd2lkdGg6IDI2MHB4Owp9CgouaW5wdXQtc2VsZWN0b3IgewogIHdpZHRoOiAxMDAlOwogIG1hcmdpbi10b3A6IDMwcHg7Cn0K"},{"version":3,"sources":["RequestReview.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmHA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"RequestReview.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <el-dialog class=\"request-review-modal\" title=\"Send a request to review\" width=\"600px\" center :show-close=\"false\" :visible.sync=\"requestModal\" :before-close=\"closeModal\">\n    <div class=\"dialog-body\">\n      <span>Select a template to send</span>\n      <el-select v-model=\"selectedTemplate\" @change=\"testChange($event)\" class=\"input-selector\" placeholder=\"Select One\">\n        <el-option v-for=\"(option, optionIndex) in templateOptions\" :key=\"optionIndex\" :value-key=\"option.campaignId\" :value=\"option\" :label=\"selectedTemplate.name\">\n          {{option.name}}\n        </el-option>\n      </el-select>\n      <div class=\"delivery-methods\" v-if=\"selectedTemplate && selectedTemplate.contactMethod && selectedTemplate.contactMethod.length > 1 \">\n        <span>Select delivery method(s)</span>\n        <el-select v-model=\"deliveryMethod\" class=\"input-selector\" multiple placeholder=\"Select Multiple\">\n          <el-option v-for=\"(method, deliveryIndex) in selectedTemplate.contactMethod\" :key=\"deliveryIndex\" :label=\"method\" :value=\"method\"></el-option>\n        </el-select>\n      </div>\n    </div>\n    <span slot=\"footer\" class=\"dialog-footer\">\n      <el-button type=\"text\" @click=\"$emit('close')\">Cancel</el-button>\n      <el-button type=\"primary\" @click.once=\"reRequest()\">Send Request</el-button>\n    </span>\n  </el-dialog>\n  <!-- <div class=\"modal-mask\" @click=\"$emit('close')\">\n    <div class=\"modal-container\" @click.stop>\n      <div class=\"request-container\">\n          <div class=\"request-header\">\n              <div class=\"request-selection\">\n                <label>Select Template to Send:</label><br/>\n                  <select v-model=\"selectedTemplate\">\n                      <option v-if=\"templateOptions.length > 0\" v-for=\"option in templateOptions\" :value=\"option.data\">{{option.value}}</option>\n                  </select>\n              </div>\n              <div class=\"button-container\">\n                <span @click=\"$emit('close')\">Cancel</span>\n                <button @click.once=\"reRequest()\">Re-request</button>\n              </div>\n          </div>\n      </div>\n    </div>\n  </div> -->\n</template>\n\n<script>\nimport CustomerService from \"../services/CustomerService.js\";\nimport LocationService from \"../services/LocationService.js\";\nimport AutomationService from \"../services/AutomationService.js\";\nimport { EventService } from \"../main\";\nimport CampaignService from '../services/CampaignService';\n\nexport default {\n  name: \"requestReview\",\n  props: [\"customer\", \"customerList\", \"locationSelected\"],\n  data: function() {\n    return {      \n      sources: ['Default'],\n      templateOptions: [],\n      requestModal: true,\n      selectedTemplate: {},\n      locId: '',\n      thisCustomerList: [],\n      deliveryMethod: []\n    };\n  },\n  created() {\n    if (this.customer) {\n      this.thisCustomerList = [this.customer];\n      this.locId = this.customer.locationId;\n    } else {\n      this.locId = this.locationSelected;\n      this.thisCustomerList = this.customerList;\n    }\n    this.getLocationOptions();\n  },\n  methods: {\n    closeModal () {\n      this.$emit('close');\n      this.requestModal = true;\n    },\n    testChange(event){\n      console.log(event);\n      this.deliveryMethod = this.selectedTemplate.contactMethod;\n    },\n    getLocationOptions() {\n      let vm = this;\n      CampaignService.getCampaignsByLocation(vm.locId).then(response => {        \n        vm.templateOptions = response.result.sort((a, b) => (a.name > b.name) ? 1 : -1);\n        vm.templateOptions = vm.templateOptions.filter(e => e.status === 'active');\n        // vm.selectedTemplate = vm.templateOptions[0];\n        // vm.deliveryMethod = vm.selectedTemplate.contactMethod;\n      })\n    },\n    reRequest() {\n      let vm = this;\n      if(vm.selectedTemplate) {\n        CustomerService.reRequest( vm.locId, vm.thisCustomerList, vm.selectedTemplate.campaignId).then(response => {\n          EventService.$emit(\"loading\", \"hide\");\n          EventService.$emit(\n            \"successMessage\",\n            \"Success! The customers selected will be receiving their re-request message shortly.\"\n          );\n          vm.$emit('close')\n        });\n      }\n    },\n    // closeModal() {\n    //   this.$emit(\"closeModal\");\n    //   this.templateOptions = [];\n    //   this.selectedTemplate = '';\n    //   this.thisCustomerList = [];\n    // }\n  }\n};\n</script>\n\n<style scoped>\n\n.request-review-modal {\n  \n}\n.dialog-body, .delivery-methods span {\n  font-size: 14px;\n  text-transform: uppercase;\n  color: #757575;\n  font-weight: bold;\n  text-align: center;\n}\n.dialog-body :nth-child(3) {\n  margin-top: 40px;\n}\n.dialog-body {\n  display: flex;\n  flex-direction: column;\n  width: 320px;\n  margin: 40px auto;\n}\n.dialog-footer button {\n  width: 260px;\n}\n\n.input-selector {\n  width: 100%;\n  margin-top: 30px;\n}\n</style>\n"]}]}