{"remainingRequest":"/Library/WebServer/Documents/Projects/Vite Dashboard/node_modules/vue-loader/lib/index.js??vue-loader-options!/Library/WebServer/Documents/Projects/Vite Dashboard/src/components/DashboardComponents/ReviewsBySource.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Library/WebServer/Documents/Projects/Vite Dashboard/src/components/DashboardComponents/ReviewsBySource.vue","mtime":1581270622000},{"path":"/Library/WebServer/Documents/Projects/Vite Dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/Vite Dashboard/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/Vite Dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/Vite Dashboard/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBEb3VnaG51dENoYXJ0IGZyb20gJy4vLi4vQ2hhcnRzL0RvdWdobnV0Q2hhcnQnCmltcG9ydCBEYXNoYm9hcmRTZXJ2aWNlIGZyb20gJy4vLi4vLi4vc2VydmljZXMvRGFzaGJvYXJkU2VydmljZScKaW1wb3J0IFVzZXJTZXJ2aWNlIGZyb20gJy4vLi4vLi4vc2VydmljZXMvVXNlclNlcnZpY2UnCmltcG9ydCB7RXZlbnRTZXJ2aWNlfSBmcm9tICcuLi8uLi9tYWluJwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdyZXZpZXdzQnlTb3VyY2UnLAogIGNvbXBvbmVudHM6IHtEb3VnaG51dENoYXJ0fSwKICBkYXRhOiBmdW5jdGlvbigpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXJSb2xlOiBudWxsLAogICAgICBzaG93TG9hZGluZzogdHJ1ZSwKICAgICAgY2hhcnREYXRhOiBudWxsLAogICAgICBldmVudHM6IFsnbW91c2Vtb3ZlJ10sCiAgICAgIGNoYXJ0T3B0aW9uczogewogICAgICAgIG1haW50YWluQXNwZWN0UmF0aW86IGZhbHNlLAogICAgICAgIGN1dG91dFBlcmNlbnRhZ2U6IDU1LAogICAgICAgIGxlZ2VuZDogewogICAgICAgICAgZGlzcGxheTogZmFsc2UsCiAgICAgICAgfSwKICAgICAgICB0aXRsZTogewogICAgICAgICAgZGlzcGxheTogZmFsc2UKICAgICAgICB9LAogICAgICAgIGFuaW1hdGlvbjogewogICAgICAgICAgYW5pbWF0ZVJvdGF0ZTogZmFsc2UsCiAgICAgICAgICBhbmltYXRlU2NhbGU6IHRydWUKICAgICAgICB9LAogICAgICAgIGhvdmVyOiB7CiAgICAgICAgICBvbkhvdmVyOiBmdW5jdGlvbihlLCBlbCkgewogICAgICAgICAgICAvLyBHcmFiIHRoZSBjaGFydCBlbGVtZW50LgogICAgICAgICAgICB2YXIgZWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRvdWdobnV0LWNoYXJ0Iik7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBTZXQgdGhlIGN1cnNvciBzdHlsZSB0byBwb2ludGVyIHdoZW4gaG92ZXJpbmcuCiAgICAgICAgICAgIGVsZS5zdHlsZS5jdXJzb3IgPSBlbFswXSA/ICJwb2ludGVyIiA6ICJkZWZhdWx0IjsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHRvb2x0aXBzOiB7CiAgICAgICAgICAvLyBEaXNhYmxlIHRoZSBvbi1jYW52YXMgdG9vbHRpcAogICAgICAgICAgZW5hYmxlZDogZmFsc2UsCiAgICAgICAgICBtb2RlOiAnaW5kZXgnLAogICAgICAgICAgaW50ZXJzZWN0OiAgdHJ1ZSwKCiAgICAgICAgICBjdXN0b206IGZ1bmN0aW9uKHRvb2x0aXBNb2RlbCkgewogICAgICAgICAgICAgIC8vIFRvb2x0aXAgRWxlbWVudAogICAgICAgICAgICAgIHZhciB0b29sdGlwRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhcnRqcy10b29sdGlwJyk7CgogICAgICAgICAgICAgIC8vIENyZWF0ZSBlbGVtZW50IG9uIGZpcnN0IHJlbmRlcgogICAgICAgICAgICAgIGlmICghdG9vbHRpcEVsKSB7CiAgICAgICAgICAgICAgICAgIHRvb2x0aXBFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgICB0b29sdGlwRWwuaWQgPSAnY2hhcnRqcy10b29sdGlwJzsKICAgICAgICAgICAgICAgICAgdG9vbHRpcEVsLmlubmVySFRNTCA9ICc8dGFibGU+PC90YWJsZT4nOwogICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRvb2x0aXBFbCk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAvLyBIaWRlIGlmIG5vIHRvb2x0aXAKICAgICAgICAgICAgICBpZiAodG9vbHRpcE1vZGVsLm9wYWNpdHkgPT09IDApIHsKICAgICAgICAgICAgICAgICAgdG9vbHRpcEVsLnN0eWxlLm9wYWNpdHkgPSAwOwogICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAvLyBTZXQgY2FyZXQgUG9zaXRpb24KICAgICAgICAgICAgICB0b29sdGlwRWwuY2xhc3NMaXN0LnJlbW92ZSgnYWJvdmUnLCAnYmVsb3cnLCAnbm8tdHJhbnNmb3JtJyk7CiAgICAgICAgICAgICAgaWYgKHRvb2x0aXBNb2RlbC55QWxpZ24pIHsKICAgICAgICAgICAgICAgICAgdG9vbHRpcEVsLmNsYXNzTGlzdC5hZGQodG9vbHRpcE1vZGVsLnlBbGlnbik7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgdG9vbHRpcEVsLmNsYXNzTGlzdC5hZGQoJ25vLXRyYW5zZm9ybScpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgZnVuY3Rpb24gZ2V0Qm9keShib2R5SXRlbSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gYm9keUl0ZW0ubGluZXM7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAvLyBTZXQgVGV4dAogICAgICAgICAgICAgIGlmICh0b29sdGlwTW9kZWwuYm9keSkgewogICAgICAgICAgICAgICAgICB2YXIgdGl0bGVMaW5lcyA9IHRvb2x0aXBNb2RlbC50aXRsZSB8fCBbXTsKICAgICAgICAgICAgICAgICAgdmFyIGJvZHlMaW5lcyA9IHRvb2x0aXBNb2RlbC5ib2R5Lm1hcChnZXRCb2R5KTsKCiAgICAgICAgICAgICAgICAgIHZhciBpbm5lckh0bWwgPSAnPHRib2R5JzsKICAgICAgICAgICAgICAgICAgdmFyIHRvb2x0aXBUaXRsZSA9ICIiLCB0b29sdGlwQm9keSA9ICIiOwoKICAgICAgICAgICAgICAgICAgdGl0bGVMaW5lcy5mb3JFYWNoKGZ1bmN0aW9uKHRpdGxlKSB7CiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcFRpdGxlID0gdGl0bGU7CiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgYm9keUxpbmVzLmZvckVhY2goZnVuY3Rpb24oYm9keSwgaSkgewogICAgICAgICAgICAgICAgICAgIHRvb2x0aXBCb2R5ID0gYm9keVswXTsKICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICB0b29sdGlwQm9keSA9IHRvb2x0aXBCb2R5LnJlcGxhY2UoIjoiLCAiIC0iKTsKCiAgICAgICAgICAgICAgICAgIGlubmVySHRtbCArPSAnPHRyPjx0ZD4nICsgdG9vbHRpcEJvZHkgKyAnPC90ZD48L3RyPic7CiAgICAgICAgICAgICAgICAgIGlubmVySHRtbCArPSAnPC90Ym9keT4nOwoKICAgICAgICAgICAgICAgICAgdmFyIHRhYmxlUm9vdCA9IHRvb2x0aXBFbC5xdWVyeVNlbGVjdG9yKCd0YWJsZScpOwogICAgICAgICAgICAgICAgICB0YWJsZVJvb3QuaW5uZXJIVE1MID0gaW5uZXJIdG1sOwogICAgICAgICAgICAgICAgICB0YWJsZVJvb3Quc3R5bGUuYm9yZGVyID0gJzFweCBzb2xpZCAjZDRkNGQ0JzsKICAgICAgICAgICAgICAgICAgdGFibGVSb290LnN0eWxlLmJvcmRlclJhZGl1cyA9ICc1cHgnOwogICAgICAgICAgICAgICAgICB0YWJsZVJvb3Quc3R5bGUucGFkZGluZyA9ICc1cHggMTVweCc7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAvLyBgdGhpc2Agd2lsbCBiZSB0aGUgb3ZlcmFsbCB0b29sdGlwCiAgICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gdGhpcy5fY2hhcnQuY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwoKICAgICAgICAgICAgICAvLyBEaXNwbGF5LCBwb3NpdGlvbiwgYW5kIHNldCBzdHlsZXMgZm9yIGZvbnQKICAgICAgICAgICAgICB0b29sdGlwRWwuc3R5bGUub3BhY2l0eSA9IDE7CiAgICAgICAgICAgICAgdG9vbHRpcEVsLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJzsKICAgICAgICAgICAgICAvLyB0b29sdGlwRWwuc3R5bGUubGVmdCA9IHBvc2l0aW9uLmxlZnQgKyB3aW5kb3cucGFnZVhPZmZzZXQgKyB0b29sdGlwTW9kZWwuY2FyZXRYICsgJ3B4JzsKICAgICAgICAgICAgICB0b29sdGlwRWwuc3R5bGUubGVmdCA9IHBvc2l0aW9uLndpZHRoIC8gMiArIHBvc2l0aW9uLmxlZnQgLSA2MCArICdweCc7CiAgICAgICAgICAgICAgLy8gdG9vbHRpcEVsLnN0eWxlLnRvcCA9IHBvc2l0aW9uLnRvcCArIHdpbmRvdy5wYWdlWU9mZnNldCArIHRvb2x0aXBNb2RlbC5jYXJldFkgKyAncHgnOwogICAgICAgICAgICAgIHRvb2x0aXBFbC5zdHlsZS50b3AgPSAxMDUgKyAncHgnOwogICAgICAgICAgICAgIHRvb2x0aXBFbC5zdHlsZS5mb250RmFtaWx5ID0gdG9vbHRpcE1vZGVsLl9ib2R5Rm9udEZhbWlseTsKICAgICAgICAgICAgICB0b29sdGlwRWwuc3R5bGUuZm9udFNpemUgPSB0b29sdGlwTW9kZWwuYm9keUZvbnRTaXplICsgJ3B4JzsKICAgICAgICAgICAgICB0b29sdGlwRWwuc3R5bGUuZm9udFN0eWxlID0gdG9vbHRpcE1vZGVsLl9ib2R5Rm9udFN0eWxlOwogICAgICAgICAgICAgIHRvb2x0aXBFbC5zdHlsZS5wYWRkaW5nID0gdG9vbHRpcE1vZGVsLnlQYWRkaW5nICsgJ3B4ICcgKyB0b29sdGlwTW9kZWwueFBhZGRpbmcgKyAncHgnOwogICAgICAgICAgICAgIHRvb2x0aXBFbC5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgJ29uQ2xpY2snIDogKGV2dCwgaXRlbSkgPT4gewogICAgICAgICAgdmFyIHNvdXJjZSA9IGl0ZW1bMF1bJ19tb2RlbCddLmxhYmVsOwogICAgICAgICAgLy8gSGlkZSB0aGUgdG9vbHRpcCBhZnRlciB0aGUgdXNlciBjbGlja3MgdGhlIGNoYXJ0LgogICAgICAgICAgdmFyIHRvb2x0aXBFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGFydGpzLXRvb2x0aXAnKTsKICAgICAgICAgIHRvb2x0aXBFbC5zdHlsZS5vcGFjaXR5ID0gMDsKCiAgICAgICAgICB0aGlzLmZvbGxvd0xpbmsoJy9mZWVkYmFjay8nICsgc291cmNlKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFJldmlld3NTb3VyY2VEYXRhKCk7CiAgICBFdmVudFNlcnZpY2UuJG9uKCdsb2NhdGlvbkNoYW5nZScsIHRoaXMuZ2V0UmV2aWV3c1NvdXJjZURhdGEpOwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gKCkgewogICAgRXZlbnRTZXJ2aWNlLiRvZmYoJ2xvY2F0aW9uQ2hhbmdlJywgdGhpcy5nZXRSZXZpZXdzU291cmNlRGF0YSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBmb2xsb3dMaW5rKHRhcmdldFBhZ2UpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2godGFyZ2V0UGFnZSk7CiAgICB9LAogICAgZ2V0UmV2aWV3c1NvdXJjZURhdGEoKSB7CiAgICAgIHRoaXMuc2hvd0xvYWRpbmcgPSB0cnVlOwogICAgICB2YXIgbG9jYXRpb25JZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsb2NhdGlvbklkJyk7CiAgICAgIHZhciBsb2NhdGlvbklkQXJyYXkgPSBbXTsKICAgICAgCiAgICAgIGlmKGxvY2F0aW9uSWQpIHsKICAgICAgICBsb2NhdGlvbklkQXJyYXkucHVzaChsb2NhdGlvbklkKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBsZXQgbG9jT3B0aW9ucyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xvY2F0aW9uT3B0aW9ucycpKTsKICAgICAgICBsb2NPcHRpb25zLm1hcChlbCA9PiBsb2NhdGlvbklkQXJyYXkucHVzaChlbC5sb2NhdGlvbklkKSk7CiAgICAgIH0KICAgICAgCiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIC8vIEdldCB0aGUgdXNlcnMgcm9sZS4KICAgICAgVXNlclNlcnZpY2UuZ2V0VXNlclJvbGUoKS50aGVuKAogICAgICAgIGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgICAgICB2bS51c2VyUm9sZSA9IHJlc3BvbnNlLnJvbGU7CiAgICAgICAgICAvLyBEb24ndCBtYWtlIHRoZSBkYXRhIGNhbGwgaWYgdGhleSBhcmUgYW4gYWRtaW4uCiAgICAgICAgICBpZiAodm0udXNlclJvbGUgIT0gJ2FkbWluJykgewogICAgICAgICAgICBEYXNoYm9hcmRTZXJ2aWNlLmdldFJldmlld3NCeVNvdXJjZShsb2NhdGlvbklkQXJyYXkpCiAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIHZtLnNob3dMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICBpZihyZXNwb25zZS5sYWJlbHNbMF0gIT0gIk5vIHJldmlld3MgZ2VuZXJhdGVkIikgewogICAgICAgICAgICAgICAgICB2bS5jaGFydERhdGEgPSByZXNwb25zZTsKICAgICAgICAgICAgICAgICAgdm0ucG9wdWxhdGVMZWdlbmQocmVzcG9uc2UpOwogICAgICAgICAgICAgICAgICB2bS5wb3B1bGF0ZVB1YmxpY1JhdGluZyhyZXNwb25zZSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICB2bS5jaGFydERhdGEgPSBudWxsOwogICAgICAgICAgICAgICAgICBkMy5zZWxlY3QoJyNwb3NpdGl2ZS13b3JkLWNsb3VkJykuc2VsZWN0QWxsKCdzdmcnKS5yZW1vdmUoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICB9KSAgICAKICAgIH0sCiAgICBwb3B1bGF0ZUxlZ2VuZChkYXRhKXsKICAgICAgdmFyIGxlZ2VuZEhvbGRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJsZWdlbmQiKTsKICAgICAgdmFyIHRleHQgPSAiIjsKICAgICAgdGV4dCArPSAnPHVsIGlkPSJyZXZpZXdzLWJ5LXNvdXJjZS1kb3VnaG51dC1sZWdlbmQiPiAnOwogICAgICBpZiAoZGF0YS5kYXRhc2V0cy5sZW5ndGgpIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEuZGF0YXNldHNbMF0uZGF0YS5sZW5ndGg7ICsraSkgewogICAgICAgICAgdGV4dCArPSAnPGxpPjxzcGFuIGNsYXNzPSJkb3VnaG51dC1sZWdlbmQtaWNvbiIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6JyArIGRhdGEuZGF0YXNldHNbMF0uYmFja2dyb3VuZENvbG9yW2ldICsgJyI+PC9zcGFuPiAnOwogICAgICAgICAgaWYgKGRhdGEubGFiZWxzW2ldKSB7CiAgICAgICAgICAgIHRleHQgKz0gJzxzcGFuIGNsYXNzPSJkb3VnaG51dC1sZWdlbmQtdGV4dCI+PHNwYW4gc3R5bGU9IiI+JyArIGRhdGEubGFiZWxzW2ldICsgJzwvc3Bhbj4mbmJzcDsnICsgdGhpcy5yb3VuZChkYXRhLmRhdGFzZXRzWzBdLmF2ZXJhZ2VSYXRpbmdbaV0sMSkudG9GaXhlZCgxKSArICcmbmJzcDs8aSBjbGFzcz0iZmEgZmEtc3RhciBjaGVja2VkIj48L2k+PC9zcGFuPiAnOwogICAgICAgICAgfQogICAgICAgICAgdGV4dCArPSAnPC9saT4gJzsKICAgICAgICB9CiAgICAgIH0KICAgICAgdGV4dCArPSAnPC91bD4gJzsKICAgICAgCiAgICAgIGxlZ2VuZEhvbGRlci5pbm5lckhUTUwgPSB0ZXh0OwogICAgfSwKICAgIHBvcHVsYXRlUHVibGljUmF0aW5nKGRhdGEpIHsKICAgICAgdmFyIHJhdGluZ0hvbGRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwdWJsaWMtcmF0aW5nIik7CiAgICAgIHZhciBnbG9iYWxXZWlnaHRlZFJhdGluZyA9IDAuMDsgLy8gVGhlIGZpbmFsIHdlaWdodGVkIHJhdGluZy4KICAgICAgdmFyIGFsbFJldmlld3NDb3VudCA9IDA7IC8vIENvdW50IG51bWJlciBvZiBBTEwgcmV2aWV3cyAoaS5lLiBHb29nbGUgYW5kIFllbHApCgoKICAgICAgaWYgKGRhdGEuZGF0YXNldHNbMF0uYXZlcmFnZVJhdGluZy5sZW5ndGgpIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEuZGF0YXNldHNbMF0uYXZlcmFnZVJhdGluZy5sZW5ndGg7ICsraSkgewogICAgICAgICAgYWxsUmV2aWV3c0NvdW50ICs9IGRhdGEuZGF0YXNldHNbMF0uZGF0YVtpXTsKICAgICAgICAgIGdsb2JhbFdlaWdodGVkUmF0aW5nICs9IGRhdGEuZGF0YXNldHNbMF0uYXZlcmFnZVJhdGluZ1tpXSAqIGRhdGEuZGF0YXNldHNbMF0uZGF0YVtpXTsKICAgICAgICB9CgogICAgICAgIHJhdGluZ0hvbGRlci5pbm5lckhUTUwgPSB0aGlzLnJvdW5kKGdsb2JhbFdlaWdodGVkUmF0aW5nIC8gYWxsUmV2aWV3c0NvdW50LCAxKS50b0ZpeGVkKDEpOwogICAgICB9CiAgICB9LAogICAgcm91bmQodmFsdWUsIHByZWNpc2lvbikgewogICAgICB2YXIgbXVsdGlwbGllciA9IE1hdGgucG93KDEwLCBwcmVjaXNpb24gfHwgMCk7CiAgICAgIHJldHVybiBNYXRoLnJvdW5kKHZhbHVlICogbXVsdGlwbGllcikgLyBtdWx0aXBsaWVyOwogICAgfQogIH0KfQo="},{"version":3,"sources":["ReviewsBySource.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ReviewsBySource.vue","sourceRoot":"src/components/DashboardComponents","sourcesContent":["<template>\n  <div class=\"dashboard-tile\" style=\"min-width: 60%;\">\n    <div class=\"dashboard-tile-header cursor-default\" style=\"font-weight: bolder;\">Reviews by Source</div>\n    <div class=\"dashboard-tile-body\">\n      <div class=\"dashboard-row dashboard-loader\" v-if=\"showLoading\"><i class=\"far fa-hourglass fa-spin\"></i></div>\n      <div id=\"reviews-by-source-wrapper\" class=\"dashboard-row\" v-show=\"!showLoading && chartData\">\n        <div id=\"chart-legend-wrapper\">\n          <doughnut-chart :chart-data=\"chartData\" :options=\"chartOptions\" style=\"width: 15vw; padding: 15px 10px 0; margin: 0;\"/>\n          <div id=\"legend\" class=\"chart-legend\"></div>\n        </div>\n        <div id=\"public-rating-wrapper\">\n          <div id=\"public-rating\"></div>\n          <div id=\"public-rating-title\">Public Rating</div>\n        </div>\n      </div>\n      <div class=\"dashboard-row no-data\" v-show=\"!showLoading && !chartData\" style=\"position: relative; display: flex; align-items: center; justify-content: space-evenly;\">\n        You haven't received any public reviews.\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport DoughnutChart from './../Charts/DoughnutChart'\nimport DashboardService from './../../services/DashboardService'\nimport UserService from './../../services/UserService'\nimport {EventService} from '../../main'\n\nexport default {\n  name: 'reviewsBySource',\n  components: {DoughnutChart},\n  data: function() {\n    return {\n      userRole: null,\n      showLoading: true,\n      chartData: null,\n      events: ['mousemove'],\n      chartOptions: {\n        maintainAspectRatio: false,\n        cutoutPercentage: 55,\n        legend: {\n          display: false,\n        },\n        title: {\n          display: false\n        },\n        animation: {\n          animateRotate: false,\n          animateScale: true\n        },\n        hover: {\n          onHover: function(e, el) {\n            // Grab the chart element.\n            var ele = document.getElementById(\"doughnut-chart\");\n            \n            // Set the cursor style to pointer when hovering.\n            ele.style.cursor = el[0] ? \"pointer\" : \"default\";\n          }\n        },\n        tooltips: {\n          // Disable the on-canvas tooltip\n          enabled: false,\n          mode: 'index',\n          intersect:  true,\n\n          custom: function(tooltipModel) {\n              // Tooltip Element\n              var tooltipEl = document.getElementById('chartjs-tooltip');\n\n              // Create element on first render\n              if (!tooltipEl) {\n                  tooltipEl = document.createElement('div');\n                  tooltipEl.id = 'chartjs-tooltip';\n                  tooltipEl.innerHTML = '<table></table>';\n                  document.body.appendChild(tooltipEl);\n              }\n\n              // Hide if no tooltip\n              if (tooltipModel.opacity === 0) {\n                  tooltipEl.style.opacity = 0;\n                  return;\n              }\n\n              // Set caret Position\n              tooltipEl.classList.remove('above', 'below', 'no-transform');\n              if (tooltipModel.yAlign) {\n                  tooltipEl.classList.add(tooltipModel.yAlign);\n              } else {\n                  tooltipEl.classList.add('no-transform');\n              }\n\n              function getBody(bodyItem) {\n                  return bodyItem.lines;\n              }\n\n              // Set Text\n              if (tooltipModel.body) {\n                  var titleLines = tooltipModel.title || [];\n                  var bodyLines = tooltipModel.body.map(getBody);\n\n                  var innerHtml = '<tbody';\n                  var tooltipTitle = \"\", tooltipBody = \"\";\n\n                  titleLines.forEach(function(title) {\n                    tooltipTitle = title;\n                  });\n\n                  bodyLines.forEach(function(body, i) {\n                    tooltipBody = body[0];\n                  });\n\n                  tooltipBody = tooltipBody.replace(\":\", \" -\");\n\n                  innerHtml += '<tr><td>' + tooltipBody + '</td></tr>';\n                  innerHtml += '</tbody>';\n\n                  var tableRoot = tooltipEl.querySelector('table');\n                  tableRoot.innerHTML = innerHtml;\n                  tableRoot.style.border = '1px solid #d4d4d4';\n                  tableRoot.style.borderRadius = '5px';\n                  tableRoot.style.padding = '5px 15px';\n              }\n\n              // `this` will be the overall tooltip\n              var position = this._chart.canvas.getBoundingClientRect();\n\n              // Display, position, and set styles for font\n              tooltipEl.style.opacity = 1;\n              tooltipEl.style.position = 'absolute';\n              // tooltipEl.style.left = position.left + window.pageXOffset + tooltipModel.caretX + 'px';\n              tooltipEl.style.left = position.width / 2 + position.left - 60 + 'px';\n              // tooltipEl.style.top = position.top + window.pageYOffset + tooltipModel.caretY + 'px';\n              tooltipEl.style.top = 105 + 'px';\n              tooltipEl.style.fontFamily = tooltipModel._bodyFontFamily;\n              tooltipEl.style.fontSize = tooltipModel.bodyFontSize + 'px';\n              tooltipEl.style.fontStyle = tooltipModel._bodyFontStyle;\n              tooltipEl.style.padding = tooltipModel.yPadding + 'px ' + tooltipModel.xPadding + 'px';\n              tooltipEl.style.pointerEvents = 'none';\n          }\n        },\n        'onClick' : (evt, item) => {\n          var source = item[0]['_model'].label;\n          // Hide the tooltip after the user clicks the chart.\n          var tooltipEl = document.getElementById('chartjs-tooltip');\n          tooltipEl.style.opacity = 0;\n\n          this.followLink('/feedback/' + source);\n        }\n      }\n    }\n  },\n  created() {\n    this.getReviewsSourceData();\n    EventService.$on('locationChange', this.getReviewsSourceData);\n  },\n  beforeDestroy: function () {\n    EventService.$off('locationChange', this.getReviewsSourceData);\n  },\n  methods: {\n    followLink(targetPage) {\n      this.$router.push(targetPage);\n    },\n    getReviewsSourceData() {\n      this.showLoading = true;\n      var locationId = localStorage.getItem('locationId');\n      var locationIdArray = [];\n      \n      if(locationId) {\n        locationIdArray.push(locationId);\n      } else {\n        let locOptions = JSON.parse(localStorage.getItem('locationOptions'));\n        locOptions.map(el => locationIdArray.push(el.locationId));\n      }\n      \n      var vm = this;\n      // Get the users role.\n      UserService.getUserRole().then(\n        function(response) {\n          vm.userRole = response.role;\n          // Don't make the data call if they are an admin.\n          if (vm.userRole != 'admin') {\n            DashboardService.getReviewsBySource(locationIdArray)\n              .then(function(response) {\n                vm.showLoading = false;\n                if(response.labels[0] != \"No reviews generated\") {\n                  vm.chartData = response;\n                  vm.populateLegend(response);\n                  vm.populatePublicRating(response);\n                } else {\n                  vm.chartData = null;\n                  d3.select('#positive-word-cloud').selectAll('svg').remove();\n                }\n                \n              }, function(error) {\n                console.log(error);\n            });\n          }\n      })    \n    },\n    populateLegend(data){\n      var legendHolder = document.getElementById(\"legend\");\n      var text = \"\";\n      text += '<ul id=\"reviews-by-source-doughnut-legend\"> ';\n      if (data.datasets.length) {\n        for (var i = 0; i < data.datasets[0].data.length; ++i) {\n          text += '<li><span class=\"doughnut-legend-icon\" style=\"background-color:' + data.datasets[0].backgroundColor[i] + '\"></span> ';\n          if (data.labels[i]) {\n            text += '<span class=\"doughnut-legend-text\"><span style=\"\">' + data.labels[i] + '</span>&nbsp;' + this.round(data.datasets[0].averageRating[i],1).toFixed(1) + '&nbsp;<i class=\"fa fa-star checked\"></i></span> ';\n          }\n          text += '</li> ';\n        }\n      }\n      text += '</ul> ';\n      \n      legendHolder.innerHTML = text;\n    },\n    populatePublicRating(data) {\n      var ratingHolder = document.getElementById(\"public-rating\");\n      var globalWeightedRating = 0.0; // The final weighted rating.\n      var allReviewsCount = 0; // Count number of ALL reviews (i.e. Google and Yelp)\n\n\n      if (data.datasets[0].averageRating.length) {\n        for (var i = 0; i < data.datasets[0].averageRating.length; ++i) {\n          allReviewsCount += data.datasets[0].data[i];\n          globalWeightedRating += data.datasets[0].averageRating[i] * data.datasets[0].data[i];\n        }\n\n        ratingHolder.innerHTML = this.round(globalWeightedRating / allReviewsCount, 1).toFixed(1);\n      }\n    },\n    round(value, precision) {\n      var multiplier = Math.pow(10, precision || 0);\n      return Math.round(value * multiplier) / multiplier;\n    }\n  }\n}\n</script>\n\n<style>\n\n#reviews-by-source-doughnut-legend {\n  background-color: white;\n  list-style-type: none;\n  text-align: left;\n  /* NOTE: Browsers automatically add 40px of padding-left to all lists, so we should offset that, otherwise the legend is off-center */\n  -webkit-padding-start: 0;\n  /* Webkit */\n  -moz-padding-start: 0;\n  /* Mozilla */\n  padding-left: 0;\n  /* IE (handles all cases, really, but we should also include the vendor-specific properties just to be safe) */\n}\n\n#reviews-by-source-doughnut-legend > * {\n  white-space: nowrap;\n  position: relative;\n  margin-bottom: 4px;\n  border-radius: 5px;\n  padding: 2px 24px 2px 0;\n  font-size: smaller;\n  cursor: default;\n}\n\n#reviews-by-source-doughnut-legend .line-legend-icon,\n#reviews-by-source-doughnut-legend .doughnut-legend-icon {\n  display: inline-block;\n  left: 0;\n  top: 0;\n  width: 10px;\n  height: 10px;\n  border-radius: 10px;\n  margin-top: 4px;\n  padding: 0;\n}\n\n#reviews-by-source-doughnut-legend .doughnut-legend-text,\n#reviews-by-source-doughnut-legend .line-legend-text {\n  padding-left: 6px;\n}\n\n#legend {\n  width: min-content;\n}\n\n#public-rating-wrapper {\n  display: flex;\n  flex-direction: column;\n}\n\n#public-rating {\n  font-size: 51px;\n  font-weight: bold;\n  border: 1px solid #545454;\n  padding: 9px;\n}\n\n#public-rating-title {\n  padding-top: 7px;\n  font-size: 14px;\n  font-weight: 600;\n  text-align: center;\n}\n\n.fa-star {\n  color: #4fcbc5;\n  text-shadow: 0 3px 0 #fff 0 0 -3px #fff 0 3px 0 #fff 0 0 -3px #fff;\n}\n\n.no-data {\n  font-size: 14px;\n  padding: 20px;\n  color: #9a9a9a;\n  text-align: center;\n  line-height: 30px;\n}\n\n@media (min-width: 1200px) {\n  #reviews-by-source-wrapper {\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: space-around;\n  }\n\n  #chart-legend-wrapper {\n    display: flex;\n    align-items: center;\n    flex-direction: row;\n  }\n\n  #doughnut-chart.chartjs-render-monitor {\n    height: 270px !important;\n  }\n}\n\n@media (min-width: 1400px) {\n\n  #doughnut-chart.chartjs-render-monitor {\n    height: 320px !important;\n  }\n\n}\n\n@media (min-width: 1700px) {\n  #reviews-by-source-wrapper {\n    position: relative;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-around;\n  }\n\n  #chart-legend-wrapper {\n    display: flex;\n    align-items: center;\n  }\n\n  #doughnut-chart.chartjs-render-monitor {\n    height: 400px !important;\n  }\n}\n</style>\n"]}]}