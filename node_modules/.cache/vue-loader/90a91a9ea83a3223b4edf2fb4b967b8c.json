{"remainingRequest":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js??vue-loader-options!/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/src/components/Outreach.vue?vue&type=style&index=0&id=0ffc9ed6&scoped=true&lang=css&","dependencies":[{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/src/components/Outreach.vue","mtime":1581270622000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5vdXRyZWFjaC10aXRsZSB7CiAgZm9udC1zaXplOiAyNXB4OwogIG1hcmdpbjogMjVweDsKfQoKLm91dHJlYWNoLWFjdGlvbnMtY29udGFpbmVyIHsKICBiYWNrZ3JvdW5kOiB3aGl0ZTsKICBib3gtc2hhZG93OiAwcHggMnB4IDRweCByZ2JhKDAsIDAsIDAsIDAuMjUpOwogIGJvcmRlci1yYWRpdXM6IDFweDsKICBkaXNwbGF5OiBmbGV4OwogIGZsZXgtZGlyZWN0aW9uOiByb3c7CiAgaGVpZ2h0OiA3NXB4OwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDsKICBtYXJnaW4tdG9wOiAzMHB4Owp9Cgoub3V0cmVhY2gtYWRkLW91dHJlYWNoIHsKICBkaXNwbGF5OiBmbGV4OwogIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgbWFyZ2luLXJpZ2h0OiAxNXB4OwogIGN1cnNvcjogcG9pbnRlcjsKfQoKLm91dHJlYWNoLWFkZC1vdXRyZWFjaCBzcGFuIHsKICB0ZXh0LWFsaWduOiBjZW50ZXI7Cn0KCi5mYS1lbnZlbG9wZSB7CiAgbWFyZ2luLXJpZ2h0OiAzcHg7CiAgY29sb3I6ICM0ZmNiYzU7Cn0KCi5mYS1wbHVzIHsKICBjb2xvcjogIzRmY2JjNTsKICBmb250LXNpemU6IDEwcHg7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0zcHgpOwp9CgouYWRkLW91dHJlYWNoIHsKICBmb250LXNpemU6IDExcHg7CiAgZm9udC13ZWlnaHQ6IDYwMDsKfQoKLm91dHJlYWNoLXNlYXJjaCB7CiAgYm9yZGVyOiAycHggc29saWQgI2VmZWZlZjsKICBib3JkZXItcmFkaXVzOiAxcHg7CiAgbWFyZ2luLXJpZ2h0OiAyNXB4OwogIG1hcmdpbi1sZWZ0OiAxMHB4OwogIHBhZGRpbmc6IDAgMjBweDsKICBkaXNwbGF5OiBmbGV4OwogIGZsZXgtZGlyZWN0aW9uOiByb3c7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKfQoKLm91dHJlYWNoLXNlYXJjaCBpbnB1dCB7CiAgYm9yZGVyOiBub25lOwogIHRyYW5zZm9ybTogdHJhbnNsYXRlWSg1cHgpOwp9Cgoub3V0cmVhY2gtdGFibGUgewogIC8qIG1hcmdpbjogYXV0bzsKICB3aWR0aDogY2FsYygxMDAlIC0gNDBweCk7ICovCiAgYmFja2dyb3VuZDogd2hpdGU7CiAgZm9udC1zaXplOiAxNHB4OwogIHBhZGRpbmc6IDEwcHggMDsKICBib3gtc2hhZG93OiAwcHggMnB4IDRweCByZ2JhKDAsIDAsIDAsIDAuMjUpOwogIGJvcmRlci1yYWRpdXM6IDFweDsKICBjbGVhcjogYm90aDsKICBtYXJnaW4tdG9wOiAyMHB4Owp9Cgoub3V0cmVhY2gtaGVhZGVycyB7CiAgd2lkdGg6IGNhbGMoMTAwJSAtIDIwcHgpOwogIGZvbnQtd2VpZ2h0OiBib2xkOwogIHBhZGRpbmc6IDEwcHggMTBweCAyMHB4IDEwcHg7CiAgYm9yZGVyLWJvdHRvbTogM3B4IHNvbGlkICNlZmVmZWY7CiAgaGVpZ2h0OiAxNHB4OwogIGRpc3BsYXk6IGZsZXg7CiAgZmxleC13cmFwOiBub3dyYXA7CiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1ldmVubHk7CiAgLyogY3Vyc29yOiBwb2ludGVyOyAqLwp9Cgoub3V0cmVhY2gtcm93IHsKICB3aWR0aDogY2FsYygxMDAlIC0gMjBweCk7CiAgY2xlYXI6IGJvdGg7CiAgcGFkZGluZzogMTBweDsKICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2VmZWZlZjsKICBoZWlnaHQ6IGF1dG87CiAgZGlzcGxheTogZmxleDsKICBmbGV4LXdyYXA6IG5vd3JhcDsKICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWV2ZW5seTsKICBmb250LXNpemU6IDEycHg7Cn0KCi5vdXRyZWFjaC1yb3c6aG92ZXIgewogIGJhY2tncm91bmQ6ICNkYWRhZGE7Cn0KCi5vdXRyZWFjaC1jZWxsLTEgewogIGZsZXg6IDAgMCAyMDBweDsKICB0ZXh0LXRyYW5zZm9ybTogY2FwaXRhbGl6ZTsKfQoKLm91dHJlYWNoLWNlbGwtMiB7CiAgZmxleDogMCAwIDE1MHB4OwogIHRleHQtYWxpZ246IGNlbnRlcjsKfQoKLm91dHJlYWNoLXJvdyAub3V0cmVhY2gtY2VsbC0yIHsKICBjb2xvcjogcmdiKDg5LCAxMzgsIDE2OSk7Cn0KCi5vdXRyZWFjaC1jZWxsLTMgewogIGZsZXg6IDAgMCAxNTBweDsKICB0ZXh0LWFsaWduOiBjZW50ZXI7Cn0KCi5vdXRyZWFjaC1jZWxsLTQgewogIHRleHQtYWxpZ246IGxlZnQ7CiAgZmxleDogMCAwIDE1MHB4Owp9CgouY2VudGVyZWQgewogIHRleHQtYWxpZ246IGNlbnRlcjsKfQoKLm91dHJlYWNoLWNlbGwtNSB7CiAgZmxleDogMCAwIDEwMHB4OwogIHRleHQtdHJhbnNmb3JtOiBjYXBpdGFsaXplOwp9Cgoub3V0cmVhY2gtY2VsbC02IHsKICBmbGV4OiAwIDAgMTIwcHg7CiAgdGV4dC10cmFuc2Zvcm06IGNhcGl0YWxpemU7CiAgdGV4dC1hbGlnbjogY2VudGVyOwp9CgoucG9pbnRlciB7CiAgY3Vyc29yOiBwb2ludGVyOwp9Cgoub3V0cmVhY2gtYWN0aW9uLWJ1dHRvbiB7CiAgLyogbWFyZ2luLXJpZ2h0OiAxMHB4OyAqLwogIC8qIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrOyAqLwogIHBhZGRpbmc6IDVweDsgIAp9CgouZmEtaW5mby1zcXVhcmUgewogIC8qIGZvbnQtc2l6ZTogMTBweDsgKi8KfQoKLm91dHJlYWNoLXBhZ2luYXRpb24gewogIGJvcmRlci10b3A6IDNweCBzb2xpZCAjZWZlZmVmOwogIHBhZGRpbmc6IDEwcHg7CiAgZGlzcGxheTogZmxleDsKICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKfQoKLm91dHJlYWNoLXBhZ2luYXRpb24gYnV0dG9uIHsKICBib3JkZXI6IDFweCBzb2xpZCAjZWZlZmVmOwogIHBhZGRpbmc6IDEwcHg7CiAgY3Vyc29yOiBwb2ludGVyOwogIGJhY2tncm91bmQ6IHdoaXRlOwogIGJvcmRlci1yYWRpdXM6IDA7CiAgbWluLXdpZHRoOiA1MHB4Owp9Cgoub3V0cmVhY2gtcGFnaW5hdGlvbiBidXR0b24uYnV0dG9uLXNlbGVjdGVkIHsKICBiYWNrZ3JvdW5kOiAjZGZkZmRmOwp9Cgoub3V0cmVhY2gtcGFnaW5hdGlvbiBidXR0b246aG92ZXIgewogIGJhY2tncm91bmQ6ICNkZmRmZGY7Cn0KCi5jYXJldCB7CiAgbWFyZ2luLWxlZnQ6IDNweDsKfQoKCg=="},{"version":3,"sources":["Outreach.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8LA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"Outreach.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <el-card>\n        <div class=\"card-header\">\n      <div class=\"card-title\">\n        <h3>Outreach</h3>\n      </div>\n      <div class=\"card-actions\">\n        <el-button\n          type=\"primary\"\n          @click=\"editOutreach()\"\n        >\n        <i class=\"fa fa-user-plus fa-flip-horizontal\"></i>\n            Add Outreach\n        </el-button>\n        <div class=\"input-group\">\n          <el-dropdown class=\"filter clickable\">\n            <i class=\"fas fa-filter\"></i>\n            <el-dropdown-menu>\n              Testing\n            </el-dropdown-menu>\n          </el-dropdown>\n          <el-input\n            suffix-icon=\"far fa-search\"\n            v-model=\"searchText\"\n            @keyup.native.enter=\"getOutreach()\"\n            placeholder=\"Search Outreach\"\n          ></el-input>\n        </div>\n      </div>\n    </div>\n    <div class=\"block\" v-if=\"outreachList && outreachList.length\">\n      <el-table :data=\"outreachList\" highlight-current-row ref=\"outreachTable\" height=\"600\">\n        <el-table-column type=\"selection\" width=\"55\">\n        </el-table-column>\n        <el-table-column prop=\"name\" label=\"Name\" width=\"300\" show-overflow-tooltip>\n        </el-table-column>\n        <el-table-column prop=\"status\" label=\"Status\" width=\"250\">\n        </el-table-column>\n        <el-table-column prop=\"style\" label=\"Type\" width=\"300\" show-overflow-tooltip>\n          <template slot-scope=\"scope\">\n            <span class=\"tag\" v-for=\"style in scope.row.style\" :key=\"style\">{{ style }}</span>\n          </template>\n        </el-table-column>\n        <!-- <el-table-column label=\"Location\" width=\"300\" show-overflow-tooltip>\n          <template slot-scope=\"scope\">\n            <span class=\"tag\">{{ scope.row.location.name }}</span>\n          </template>\n        </el-table-column> -->\n      </el-table>\n    </div>\n    <div class=\"pagination block\" v-if=\"outreachList && outreachList.length\">\n      <span>Showing {{outreachList.length}} of {{paginationData.total}} Total Results</span>\n      <el-pagination\n        @current-change=\"getOutreach\"\n        background\n        layout=\"prev, pager, next\"\n        :page-size=\"paginationData.perPage\"\n        :total=\"paginationData.total\"\n      ></el-pagination>\n      <el-select v-model=\"paginationData.perPage\" @change=\"getOutreach()\">\n        <el-option v-for=\"option in paginationData.perPageOptions\"\n                    :value=\"option\"\n                    :key=\"option\"                       \n        >{{option}}\n        </el-option>\n      </el-select>\n    </div> \n    <div class=\"block\" v-else>\n\n    </div>\n    <add-outreach v-if=\"showAdding\" v-on:closeModal=\"closeModal()\" :selectedOutreach=\"selectedOutreach\" :selectedLocation=\"selectedLocation\"></add-outreach>\n    <outreach-details v-if=\"showDetails\" v-on:closeModal=\"closeOutreachModal()\" :selectedOutreach=\"selectedOutreach\"></outreach-details>\n  </el-card>\n</template>\n\n<script>\nimport OutreachService from '../services/OutreachService';\nimport {EventService} from '../main';\nimport AddOutreach from './AddOutreach';\nimport OutreachDetails from './OutreachDetails';\nimport UserService from '../services/UserService';\n\nexport default {\n  name: 'outreach',\n  components: {\n    AddOutreach,\n    OutreachDetails\n  },\n  data: function() {\n    return {\n      selectedOutreach: null,\n      selectedPage: 0,\n      showAdding: false,\n      showDetails: false,\n      outreachList: [],\n      selectedLocation: null,\n      searchText: '',\n      sortType: '-sendDate',\n      paginationData: {\n        perPage: 25,\n        currentPage: 0,\n        perPageOptions: [5, 10, 25],\n        total: 0,\n        changePage: \"setPageNum\",\n        rowChange: \"searchCustomers\"\n      }\n    }\n  },\n  mounted() {\n    EventService.$on(\"locationChange\", this.getOutreach);\n    this.getOutreach();\n  },\n  methods: {\n    returnDate(dateString) {\n      let sentDate = new Date(dateString);\n      let parsedDate = sentDate.toDateString().substr(4);\n      let stringTime = sentDate.toLocaleTimeString();\n      let parsedTime = stringTime.substr(0,4) + stringTime.substr(7);\n      return parsedDate + ' at ' + parsedTime;\n    },\n    setPageNum(pageNum) {\n      this.selectedPage = pageNum;\n      this.getOutreach();\n    },\n    toggleSort(setSortType) {\n      if (this.sortType != setSortType) {\n        this.sortType = setSortType;\n      } else {\n        this.sortType = '-' + this.sortType;\n      }\n      this.getOutreach();\n    },\n    getOutreach() {\n      let vm = this;\n      var locationIdArray = [];\n      let locationId = localStorage.getItem('locationId');\n      vm.selectedLocation = localStorage.getItem('locationId');\n      if(locationId) {\n        locationIdArray.push(locationId);\n      } else {\n        let locOptions = JSON.parse(localStorage.getItem('locationOptions'));\n        locOptions.map(el => locationIdArray.push(el.locationId));\n      }\n      OutreachService.getOutreachMessages(locationIdArray, vm.selectedPage, vm.sortType, vm.searchText).then(response => {     \n        vm.outreachList = response[0].results;\n        vm.paginationData.total = response[0].count[0].total;        \n      })\n    },\n    viewTargetLists(outreach) {\n      // console.log(outreach.target);      \n    },\n    editOutreach(outreach) {\n      this.selectedOutreach = outreach;\n      this.showAdding = true;\n    },\n    addOutreach() {\n      this.showAdding = true;\n    },\n    changeStatus(outreach, status) {\n      OutreachService.changeOutreachStatus(outreach.outreachId, status).then(response => {\n        if(response.success) {\n          outreach.status = status;\n          EventService.$emit('successMessage', 'Outreach was successfully update.')\n        } else {\n          EventService.$emit('errorMessage', 'Something went wrong. Please wait a minute and try again.')\n        }\n      })\n    },\n    viewDetails(outreach) {\n      // console.log(outreach);\n      this.selectedOutreach = outreach;\n      this.showDetails = true;\n    },\n    closeModal() {\n      this.selectedOutreach = null;\n      this.selectedLocation = localStorage.getItem('locationId');\n      this.showAdding = false;\n      this.getOutreach();\n    },\n    closeOutreachModal() {\n      this.selectedOutreach = null;\n      this.selectedLocation = localStorage.getItem('locationId');\n      this.showDetails = false;\n    },\n  }\n}\n</script>\n\n<style scoped>\n\n.outreach-title {\n  font-size: 25px;\n  margin: 25px;\n}\n\n.outreach-actions-container {\n  background: white;\n  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.25);\n  border-radius: 1px;\n  display: flex;\n  flex-direction: row;\n  height: 75px;\n  align-items: center;\n  justify-content: flex-end;\n  margin-top: 30px;\n}\n\n.outreach-add-outreach {\n  display: flex;\n  flex-direction: column;\n  margin-right: 15px;\n  cursor: pointer;\n}\n\n.outreach-add-outreach span {\n  text-align: center;\n}\n\n.fa-envelope {\n  margin-right: 3px;\n  color: #4fcbc5;\n}\n\n.fa-plus {\n  color: #4fcbc5;\n  font-size: 10px;\n  transform: translateY(-3px);\n}\n\n.add-outreach {\n  font-size: 11px;\n  font-weight: 600;\n}\n\n.outreach-search {\n  border: 2px solid #efefef;\n  border-radius: 1px;\n  margin-right: 25px;\n  margin-left: 10px;\n  padding: 0 20px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\n\n.outreach-search input {\n  border: none;\n  transform: translateY(5px);\n}\n\n.outreach-table {\n  /* margin: auto;\n  width: calc(100% - 40px); */\n  background: white;\n  font-size: 14px;\n  padding: 10px 0;\n  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.25);\n  border-radius: 1px;\n  clear: both;\n  margin-top: 20px;\n}\n\n.outreach-headers {\n  width: calc(100% - 20px);\n  font-weight: bold;\n  padding: 10px 10px 20px 10px;\n  border-bottom: 3px solid #efefef;\n  height: 14px;\n  display: flex;\n  flex-wrap: nowrap;\n  justify-content: space-evenly;\n  /* cursor: pointer; */\n}\n\n.outreach-row {\n  width: calc(100% - 20px);\n  clear: both;\n  padding: 10px;\n  border-bottom: 1px solid #efefef;\n  height: auto;\n  display: flex;\n  flex-wrap: nowrap;\n  justify-content: space-evenly;\n  font-size: 12px;\n}\n\n.outreach-row:hover {\n  background: #dadada;\n}\n\n.outreach-cell-1 {\n  flex: 0 0 200px;\n  text-transform: capitalize;\n}\n\n.outreach-cell-2 {\n  flex: 0 0 150px;\n  text-align: center;\n}\n\n.outreach-row .outreach-cell-2 {\n  color: rgb(89, 138, 169);\n}\n\n.outreach-cell-3 {\n  flex: 0 0 150px;\n  text-align: center;\n}\n\n.outreach-cell-4 {\n  text-align: left;\n  flex: 0 0 150px;\n}\n\n.centered {\n  text-align: center;\n}\n\n.outreach-cell-5 {\n  flex: 0 0 100px;\n  text-transform: capitalize;\n}\n\n.outreach-cell-6 {\n  flex: 0 0 120px;\n  text-transform: capitalize;\n  text-align: center;\n}\n\n.pointer {\n  cursor: pointer;\n}\n\n.outreach-action-button {\n  /* margin-right: 10px; */\n  /* border: 1px solid black; */\n  padding: 5px;  \n}\n\n.fa-info-square {\n  /* font-size: 10px; */\n}\n\n.outreach-pagination {\n  border-top: 3px solid #efefef;\n  padding: 10px;\n  display: flex;\n  justify-content: center;\n}\n\n.outreach-pagination button {\n  border: 1px solid #efefef;\n  padding: 10px;\n  cursor: pointer;\n  background: white;\n  border-radius: 0;\n  min-width: 50px;\n}\n\n.outreach-pagination button.button-selected {\n  background: #dfdfdf;\n}\n\n.outreach-pagination button:hover {\n  background: #dfdfdf;\n}\n\n.caret {\n  margin-left: 3px;\n}\n\n\n</style>"]}]}