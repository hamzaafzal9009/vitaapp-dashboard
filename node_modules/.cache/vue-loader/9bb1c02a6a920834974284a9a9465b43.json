{"remainingRequest":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js??vue-loader-options!/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/src/components/Feedback.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/src/components/Feedback.vue","mtime":1581270622000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBjdXN0b21lckRldGFpbCBmcm9tICIuL0N1c3RvbWVyRGV0YWlsIjsKaW1wb3J0IGZlZWRiYWNrTWF0Y2ggZnJvbSAiLi9GZWVkYmFja01hdGNoIjsKaW1wb3J0IFJlcGx5VGhyb3VnaEdvb2dsZSBmcm9tICIuL1JlcGx5VGhyb3VnaEdvb2dsZSI7CmltcG9ydCBDdXN0b21lclNlcnZpY2UgZnJvbSAiLi8uLi9zZXJ2aWNlcy9DdXN0b21lclNlcnZpY2UiOwppbXBvcnQgTG9jYXRpb25TZXJ2aWNlIGZyb20gIi4vLi4vc2VydmljZXMvTG9jYXRpb25TZXJ2aWNlIjsKaW1wb3J0IFVzZXJTZXJ2aWNlIGZyb20gIi4vLi4vc2VydmljZXMvVXNlclNlcnZpY2UiOwppbXBvcnQgRmVlZGJhY2tTZXJ2aWNlIGZyb20gIi4vLi4vc2VydmljZXMvRmVlZGJhY2tTZXJ2aWNlIjsKaW1wb3J0IERhc2hib2FyZFNlcnZpY2UgZnJvbSAiLi8uLi9zZXJ2aWNlcy9EYXNoYm9hcmRTZXJ2aWNlIjsKaW1wb3J0IHsgRXZlbnRTZXJ2aWNlIH0gZnJvbSAiLi4vbWFpbiI7CmltcG9ydCB2U2VsZWN0IGZyb20gIi4uLy4uL25vZGVfbW9kdWxlcy92dWUtc2VsZWN0L3NyYy9jb21wb25lbnRzL1NlbGVjdC52dWUiOwppbXBvcnQgUGFwYSBmcm9tICIuLi8uLi9ub2RlX21vZHVsZXMvcGFwYXBhcnNlL3BhcGFwYXJzZS5qcyI7CmltcG9ydCBjb25maWcgZnJvbSAiLi4vY29uZmlnLmpzIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiZmVlZGJhY2siLAogIGNvbXBvbmVudHM6IHsKICAgIGN1c3RvbWVyRGV0YWlsLAogICAgZmVlZGJhY2tNYXRjaCwKICAgIHZTZWxlY3QsCiAgICBSZXBseVRocm91Z2hHb29nbGUKICB9LAogIGRhdGE6IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHsKICAgICAgZmVlZGJhY2tMaXN0OiBbXSwKICAgICAgcmVzcG9uc2VGaWx0ZXJPcHRpb25zOiBbe2xhYmVsOiAnWWVzJywgdmFsdWU6ICdUcnVlJ30sIHtsYWJlbDogJ05vJywgdmFsdWU6ICdGYWxzZSd9XSwKICAgICAgZmlsdGVyczogewogICAgICAgIHJhdGluZ3M6IFtdLAogICAgICAgIHNvdXJjZTogW10sCiAgICAgICAgc2VudGltZW50OiAiIiwKICAgICAgICByZXNwb25zZTogIiIKICAgICAgfSwKICAgICAgc2VsZWN0ZWRGZWVkYmFjazogewogICAgICAgIGVtYWlsOiAnJwogICAgICB9LAogICAgICBzaG93RmlsdGVyczogZmFsc2UsCiAgICAgIGxvY2F0aW9uSWQ6IG51bGwsCiAgICAgIG9wZW5DdXN0b21lckRldGFpbE1vZGFsOiBmYWxzZSwKICAgICAgb3BlbmZlZWRiYWNrTWF0Y2hNb2RhbDogZmFsc2UsCiAgICAgIHNlbGVjdGVkQ3VzdG9tZXI6IG51bGwsCiAgICAgIHNlbGVjdGVkRmVlZGJhY2s6IG51bGwsCiAgICAgIHNlbGVjdGVkUmF0aW5nOiBudWxsLAogICAgICBvbGRTZWxlY3RlZFJhdGluZzogbnVsbCwKICAgICAgc2VhcmNoVGV4dDogIiIsCiAgICAgIHNvcnRUeXBlOiAiLWRhdGUiLAogICAgICBvbGRTb3VyY2U6ICJBbGwiLAogICAgICBzb3VyY2VDaGFuZ2U6ICJBbGwiLAogICAgICB1c2VyUm9sZTogIiIsCiAgICAgIGxvY2F0aW9uTmFtZTogIiIsCiAgICAgIHNvcnRPcHRpb25zOiBbJ2FzY2VuZGluZycsICdkZXNjZW5kaW5nJ10sCiAgICAgIHJhd0RhdGE6ICIiLAogICAgICBzZW50aW1lbnQ6ICIiLAogICAgICBzZWxlY3RlZFdvcmQ6ICIiLAogICAgICBwaHJhc2VzOiBbXSwKICAgICAgb3Blbkdvb2dsZVJlcGx5TW9kYWw6IGZhbHNlLAogICAgICB1c2VySWQ6IG51bGwsCiAgICAgIHBhZ2luYXRpb25EYXRhOiB7CiAgICAgICAgcGVyUGFnZTogMjUsCiAgICAgICAgY3VycmVudFBhZ2U6IDAsCiAgICAgICAgcGVyUGFnZU9wdGlvbnM6IFs1LCAxMCwgMjVdLAogICAgICAgIHRvdGFsOiAwLAogICAgICAgIGNoYW5nZVBhZ2U6ICJzZXRQYWdlTnVtIiwKICAgICAgICByb3dDaGFuZ2U6ICJzZWFyY2hDdXN0b21lcnMiCiAgICAgIH0sCiAgICAgIGZlZWRiYWNrUmVwbHk6ICIiLAogICAgICByZXBseVN1YmplY3Q6ICJUaGFua3MgZm9yIHRoZSBGZWVkYmFjayEiLAogICAgICByZXBseVZpc2libGU6IGZhbHNlLAogICAgICBzaG93U2Nyb2xsOiB0cnVlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGZpbHRlcnNBY3RpdmUoKSB7CiAgICAgIGxldCB2bSA9IHRoaXM7CiAgICAgIGlmKHZtLmZpbHRlcnMuc2VudGltZW50IHx8IHZtLmZpbHRlcnMucmF0aW5ncy5sZW5ndGggfHwgdm0uZmlsdGVycy5zb3VyY2UubGVuZ3RoIHx8IHZtLmZpbHRlcnMucmVzcG9uc2UpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICBwYWdpbmF0aW9uUGFnZSgpIHsKICAgICAgcmV0dXJuICh0aGlzLnBhZ2luYXRpb25EYXRhLmN1cnJlbnRQYWdlKzEpOwogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ21iVXJsID0gY29uZmlnLmdtYlVybDsKICAgIHRoaXMudXNlcklkID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiY3VycmVudFVzZXIiKSkudXNlcklkOwogICAgbGV0IGZlZWRiYWNrU291cmNlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oImZlZWRiYWNrU291cmNlIik7CiAgICBpZiAoZmVlZGJhY2tTb3VyY2UpIHsKICAgICAgdGhpcy5zZWxlY3RlZFdvcmQgPSBmZWVkYmFja1NvdXJjZTsKICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2ZlZWRiYWNrU291cmNlJyk7CiAgICB9CiAgICBpZiAodGhpcy4kcm91dGUucXVlcnkuc291cmNlSWQpIHsKICAgICAgbGV0IHJvdXRlQ3VzdG9tZXJJZCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnNvdXJjZUlkOwogICAgICBGZWVkYmFja1NlcnZpY2UuZ2V0Q3VzdG9tZXJGZWVkYmFjayhyb3V0ZUN1c3RvbWVySWQpLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLnNlbGVjdEZlZWRiYWNrKHJlcyk7CiAgICAgIH0pOwogICAgfQoKICAgIFVzZXJTZXJ2aWNlLmxvZ1BhZ2VWaXNpdCgiZmVlZGJhY2siKTsKCiAgICB0aGlzLmxvY2F0aW9uSWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgibG9jYXRpb25JZCIpOwoKICAgIHRoaXMuZ2V0VXNlcigpOwogICAgdGhpcy5jaGVja0ZvckFkbWluKCk7CiAgICB0aGlzLmNoZWNrU3RvcmFnZUZvckZpbHRlcnMoKTsKCiAgICBFdmVudFNlcnZpY2UuJG9uKCJsb2NhdGlvbkNoYW5nZSIsIHRoaXMuZ2V0RmVlZGJhY2tEYXRhKTsKCiAgICBpZiAodGhpcy4kcm91dGUucGFyYW1zLndvcmQpIHsKICAgICAgLy8gdGhpcy5zZWFyY2hUZXh0ID0gdGhpcy4kcm91dGUucGFyYW1zLndvcmQ7CiAgICAvLyAgIGxldCB0ZXN0Rm9yUmF0aW5nID0gdGhpcy4kcm91dGUucGFyYW1zLndvcmQ7CiAgICAvLyAgIHRlc3RGb3JSYXRpbmcgPSBwYXJzZUludCh0ZXN0Rm9yUmF0aW5nKTsKICAgIC8vICAgaWYgKCFOdW1iZXIuaXNOYU4odGVzdEZvclJhdGluZykpIHsKICAgIC8vICAgICB0aGlzLnNlbGVjdGVkUmF0aW5nID0gdGVzdEZvclJhdGluZzsKICAgIC8vICAgICB0aGlzLnNlbGVjdGVkV29yZCA9ICJPcGluaWlvbiI7CiAgICAvLyAgIH0gZWxzZSB7CiAgICAvLyAgICAgdGhpcy5zZWxlY3RlZFdvcmQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMud29yZDsKCiAgICAvLyAgICAgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy52aWIpIHsKICAgICAgICAgIHRoaXMuZmlsdGVycy5oaWdobGlnaHRlZFdvcmQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMud29yZDsKICAgIC8vICAgICB9CgogICAgLy8gICAgIHRoaXMuZ2V0UGhyYXNlcygpOwogICAgLy8gICB9CiAgICB9CgogICAgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy52aWIpIHsKICAgICAgdGhpcy5maWx0ZXJzLnNlbnRpbWVudCA9IHRoaXMuJHJvdXRlLnBhcmFtcy52aWI7CiAgICAvLyAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMudmliID09ICJwb3NpdGl2ZSIpIHsKICAgIC8vICAgICB0aGlzLmZpbHRlcnMuc2VudGltZW50ID0gJ1Bvc2l0aXZlJzsKICAgIC8vICAgfSBlbHNlIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMudmliID09ICJuZWdhdGl2ZSIpIHsKICAgIC8vICAgICB0aGlzLmZpbHRlcnMuc2VudGltZW50ID0gJ05lZ2F0aXZlJzsKICAgIC8vICAgfQogICAgLy8gICB0aGlzLnNlbnRpbWVudCA9IHRoaXMuJHJvdXRlLnBhcmFtcy52aWI7CiAgICB9ICAgIAogICAgdGhpcy5nZXRGaWx0ZXJPcHRpb25zKCk7CiAgICB0aGlzLnNlYXJjaEZlZWRiYWNrKCk7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbigpIHsKICAgIEV2ZW50U2VydmljZS4kb2ZmKCJsb2NhdGlvbkNoYW5nZSIsIHRoaXMuZ2V0RmVlZGJhY2tEYXRhKTsKICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdwYXNzZWRGaWx0ZXJzJyk7CiAgICB0aGlzLmZpbHRlcnMgPSB7CiAgICAgIHJhdGluZ3M6IFtdLAogICAgICBzb3VyY2U6IFtdLAogICAgICBzZW50aW1lbnQ6ICIiLAogICAgICByZXNwb25zZTogIiIKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGNoZWNrU3RvcmFnZUZvckZpbHRlcnMoKSB7CiAgICAgIGxldCBmaWx0ZXJDaGVjayA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Bhc3NlZEZpbHRlcnMnKSk7CiAgICAgIGlmKGZpbHRlckNoZWNrKSB7CiAgICAgICAgdGhpcy5maWx0ZXJzW2ZpbHRlckNoZWNrLm5hbWVdID0gZmlsdGVyQ2hlY2sudmFsdWUKICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgncGFzc2VkRmlsdGVycycpOwogICAgICB9CiAgICB9LAogICAgcmVtb3ZlU2VudGltZW50KCkgewogICAgICBsZXQgdm0gPSB0aGlzOwogICAgICBpZih2bS5maWx0ZXJzLnJhdGluZ3MgJiYgdm0uZmlsdGVycy5yYXRpbmdzLmxlbmd0aCkgewogICAgICAgIHZtLmZpbHRlcnMuc2VudGltZW50ID0gJycKICAgICAgfQogICAgfSwKICAgIGdldEZpbHRlck9wdGlvbnMoKSB7CiAgICAgIGxldCB2bSA9IHRoaXM7CiAgICAgIGxldCBsb2NhdGlvbklkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oImxvY2F0aW9uSWQiKTsKICAgICAgbGV0IGxvY2F0aW9uT3B0aW9ucyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oImxvY2F0aW9uT3B0aW9ucyIpKTsKCiAgICAgIGlmIChsb2NhdGlvbklkKSB7CiAgICAgICAgLy8gR2V0IHRoYXQgbG9jYXRpb24ncyBvcHRpb25zCiAgICAgICAgbG9jYXRpb25PcHRpb25zLm1hcChlbCA9PiB7CiAgICAgICAgICBpZiAobG9jYXRpb25JZCA9PSBlbC5sb2NhdGlvbklkICYmIGVsLnJldmlld3NMaXN0ICYmIGVsLnJldmlld3NMaXN0Lmxlbmd0aCkgewogICAgICAgICAgICBlbC5yZXZpZXdzTGlzdC5tYXAocmV2ID0+IHsKICAgICAgICAgICAgICBpZiAocmV2LnB1bGxEYXRhKSB7CiAgICAgICAgICAgICAgICB2bS5maWx0ZXJPcHRpb25zLnB1c2gocmV2KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICB9CiAgICB9LAogICAgZ2V0VXNlcigpIHsKCiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIFVzZXJTZXJ2aWNlLmdldFVzZXJSb2xlKHZtLmxvY2F0aW9uSWQpLnRoZW4oCiAgICAgICAgZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAgIHZtLnVzZXJSb2xlID0gcmVzcG9uc2Uucm9sZTsKICAgICAgICB9LAogICAgICAgIGZ1bmN0aW9uKGVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgfQogICAgICApOwogICAgfSwKICAgIHJlc2V0RmlsdGVycygpIHsKICAgICAgdGhpcy5maWx0ZXJzID0gewogICAgICAgIHJhdGluZ3M6IFtdLAogICAgICAgIHNvdXJjZTogW10sCiAgICAgICAgc2VudGltZW50OiAiIiwKICAgICAgICByZXNwb25zZTogIiIKICAgICAgfTsKICAgIH0sCiAgICBzZWxlY3RGZWVkYmFjayhmZWVkYmFjaykgewogICAgICB0aGlzLnNlYXJjaFRleHQgPSBmZWVkYmFjay5yZXN1bHRzWzBdLm5hbWU7CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmVlZGJhY2sucmVzdWx0cy5sZW5ndGg7IGkrKykgewogICAgICAgIGZlZWRiYWNrLnJlc3VsdHNbaV0uc2hvd0FsbCA9IGZhbHNlOwogICAgICAgIGZlZWRiYWNrLnJlc3VsdHNbaV0uc2hvd1JlcGx5ID0gZmFsc2U7CiAgICAgIH0KICAgICAgdGhpcy5mZWVkYmFja0xpc3QgPSBmZWVkYmFjay5yZXN1bHRzOwogICAgfSwKICAgIGNoZWNrRm9yQWRtaW4oKSB7CgogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICBsZXQgY3VycmVudFVzZXIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJjdXJyZW50VXNlciIpKTsKICAgIH0sCiAgICAvLyBleHBvcnRGZWVkYmFjaygpIHsKICAgIC8vICAgdGhpcy5sb2NhdGlvbklkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oImxvY2F0aW9uSWQiKTsKICAgIC8vICAgRXZlbnRTZXJ2aWNlLiRlbWl0KCJsb2FkaW5nIiwgInNob3ciKTsKICAgIC8vICAgdmFyIHZtID0gdGhpczsKICAgIC8vICAgRmVlZGJhY2tTZXJ2aWNlLmdldEFsbEZlZWRiYWNrKHRoaXMubG9jYXRpb25JZCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAvLyAgICAgdmFyIHJhd0ZlZWRiYWNrID0gcmVzcG9uc2UucmVzdWx0czsKICAgIC8vICAgICB2YXIgZXhwb3J0YWJsZUZlZWRiYWNrID0gW107CiAgICAvLyAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYXdGZWVkYmFjay5sZW5ndGg7IGkrKykgewogICAgLy8gICAgICAgdmFyIG5ld0ZlZWRiYWNrID0gewogICAgLy8gICAgICAgICBkYXRlOiBuZXcgRGF0ZShyYXdGZWVkYmFja1tpXS5kYXRlKS50b0xvY2FsZVN0cmluZygpLAogICAgLy8gICAgICAgICBuYW1lOiByYXdGZWVkYmFja1tpXS5uYW1lLAogICAgLy8gICAgICAgICByYXRpbmc6IHJhd0ZlZWRiYWNrW2ldLnJhdGluZywKICAgIC8vICAgICAgICAgcmV2aWV3VGV4dDogcmF3RmVlZGJhY2tbaV0ucmV2aWV3VGV4dCwKICAgIC8vICAgICAgICAgc3RhdHVzOiByYXdGZWVkYmFja1tpXS5zdGF0dXMKICAgIC8vICAgICAgIH07CiAgICAvLyAgICAgICBpZiAocmF3RmVlZGJhY2tbaV0uc291cmNlKSBuZXdGZWVkYmFjay5zb3VyY2UgPSByYXdGZWVkYmFja1tpXS5zb3VyY2U7CiAgICAvLyAgICAgICBleHBvcnRhYmxlRmVlZGJhY2sucHVzaChuZXdGZWVkYmFjayk7CiAgICAvLyAgICAgfQogICAgLy8gICAgIEV2ZW50U2VydmljZS4kZW1pdCgibG9hZGluZyIsICJoaWRlIik7CiAgICAvLyAgICAgdm0uZG93bmxvYWRGZWVkYmFjayhleHBvcnRhYmxlRmVlZGJhY2spOwogICAgLy8gICB9KTsKICAgIC8vIH0sCiAgICAvLyBkb3dubG9hZEZlZWRiYWNrKGRhdGEpIHsKICAgIC8vICAgbGV0IHZtID0gdGhpczsKICAgIC8vICAgTG9jYXRpb25TZXJ2aWNlLmdldExvY2F0aW9uKHRoaXMubG9jYXRpb25JZCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAvLyAgICAgdm0ubG9jYXRpb25OYW1lID0gcmVzcG9uc2UubmFtZTsKICAgIC8vICAgICBFdmVudFNlcnZpY2UuJGVtaXQoImxvYWRpbmciLCAic2hvdyIpOwogICAgLy8gICAgIHZhciBjc3ZEb3dubG9hZCA9IFBhcGEudW5wYXJzZShkYXRhKTsKICAgIC8vICAgICB2YXIgTUlNRV9UWVBFID0gInRleHQvY3N2IjsKICAgIC8vICAgICB2YXIgYmxvYiA9IG5ldyBCbG9iKFtjc3ZEb3dubG9hZF0sIHsgdHlwZTogTUlNRV9UWVBFIH0pOwogICAgLy8gICAgIHZhciBjc3ZVUkwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTsKICAgIC8vICAgICB2YXIgdGVtcExpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7CiAgICAvLyAgICAgdGVtcExpbmsuaHJlZiA9IGNzdlVSTDsKICAgIC8vICAgICB0ZW1wTGluay5zZXRBdHRyaWJ1dGUoCiAgICAvLyAgICAgICAiZG93bmxvYWQiLAogICAgLy8gICAgICAgYCR7dm0ubG9jYXRpb25OYW1lfSBGZWVkYmFjayBSZXBvcnQuY3N2YAogICAgLy8gICAgICk7CiAgICAvLyAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0ZW1wTGluayk7CiAgICAvLyAgICAgdGVtcExpbmsuY2xpY2soKTsKICAgIC8vICAgICBFdmVudFNlcnZpY2UuJGVtaXQoImxvYWRpbmciLCAiaGlkZSIpOwogICAgLy8gICAgIGNzdkRvd25sb2FkID0ge307CiAgICAvLyAgICAgdHJ5IHsKICAgIC8vICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGVtcExpbmspOwogICAgLy8gICAgIH0gY2F0Y2ggKGUpIHt9CiAgICAvLyAgIH0pOwogICAgLy8gfSwKICAgIGdldFBocmFzZXMoKSB7CgogICAgICBsZXQgdm0gPSB0aGlzOwogICAgICBEYXNoYm9hcmRTZXJ2aWNlLmdldFBocmFzZXModm0uc2VsZWN0ZWRXb3JkLCB2bS5sb2NhdGlvbklkKS50aGVuKAogICAgICAgIHJlc3BvbnNlID0+IHsKICAgICAgICAgIHZtLnBocmFzZXMgPSByZXNwb25zZS5waHJhc2VzOwogICAgICAgICAgLy8gdm0uYWxsRGF0YSA9IHJlc3BvbnNlLnJlc3VsdDsKICAgICAgICB9CiAgICAgICk7CiAgICB9LAogICAgLy8gaGlnaGxpZ2h0UGhyYXNlKHBocmFzZSkgewogICAgLy8gICB0aGlzLnNlbGVjdGVkV29yZCA9IHBocmFzZTsKICAgIC8vIH0sCiAgICBzdG9wU2Nyb2xsKCkgewogICAgICB0aGlzLnNob3dTY3JvbGwgPSBmYWxzZTsKICAgICAgLy8gY29uc29sZS5sb2codGhpcy5zaG93U2Nyb2xsKTsKICAgICAgCiAgICB9LAogICAgc3RhcnRTY3JvbGwoKSB7CiAgICAgIHRoaXMuc2hvd1Njcm9sbCA9IHRydWU7CiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuc2hvd1Njcm9sbCk7CiAgICB9LAogICAgZ2V0RmVlZGJhY2tEYXRhKCkgewoKICAgICAgdGhpcy5sb2NhdGlvbklkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oImxvY2F0aW9uSWQiKTsKCiAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgibG9hZGluZyIsICJzaG93Iik7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIGlmICh2bS5zZWxlY3RlZFdvcmQgJiYgdm0uc2VudGltZW50KSB7CiAgICAgICAgaWYgKHZtLnNlbnRpbWVudCA9PSAicG9zaXRpdmUiKSB7CiAgICAgICAgICBsZXQgc2VhcmNoT2JqID0gewogICAgICAgICAgICBzZWFyY2hUZXh0OiB2bS5zZWxlY3RlZFdvcmQsCiAgICAgICAgICAgIGxvY2F0aW9uSWQ6IHZtLmxvY2F0aW9uSWQsCiAgICAgICAgICAgIG1pblJhdGluZzogNAogICAgICAgICAgfTsKICAgICAgICAgIEZlZWRiYWNrU2VydmljZS5zZWFyY2hGZWVkYmFja0FkdmFuY2VkKHNlYXJjaE9iaikudGhlbigKICAgICAgICAgICAgcmVzcG9uc2UgPT4gewogICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzcG9uc2UucmVzdWx0cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgcmVzcG9uc2UucmVzdWx0c1tpXS5zaG93QWxsID0gZmFsc2U7CiAgICAgICAgICAgICAgICByZXNwb25zZS5yZXN1bHRzW2ldLnNob3dSZXBseSA9IGZhbHNlOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB2bS5mZWVkYmFja0xpc3QgPSByZXNwb25zZS5yZXN1bHRzOwogICAgICAgICAgICAgIHZtLnRvdGFsUmVzdWx0cyA9IHJlc3BvbnNlLmNvdW50OwogICAgICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgibG9hZGluZyIsICJoaWRlIik7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGVycm9yID0+IHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgIH0KICAgICAgICAgICk7CiAgICAgICAgfSBlbHNlIGlmICh2bS5zZW50aW1lbnQgPT0gIm5lZ2F0aXZlIikgewogICAgICAgICAgbGV0IHNlYXJjaE9iaiA9IHsKICAgICAgICAgICAgc2VhcmNoVGV4dDogdm0uc2VsZWN0ZWRXb3JkLAogICAgICAgICAgICBsb2NhdGlvbklkOiB2bS5sb2NhdGlvbklkLAogICAgICAgICAgICBtYXhSYXRpbmc6IDIKICAgICAgICAgIH07CiAgICAgICAgICBGZWVkYmFja1NlcnZpY2Uuc2VhcmNoRmVlZGJhY2tBZHZhbmNlZChzZWFyY2hPYmopLnRoZW4oCiAgICAgICAgICAgIHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICB2bS5mZWVkYmFja0xpc3QgPSByZXNwb25zZS5yZXN1bHRzOwogICAgICAgICAgICAgIHZtLnRvdGFsUmVzdWx0cyA9IHJlc3BvbnNlLmNvdW50OwogICAgICAgICAgICAgIHZtLnBhZ2luYXRpb25EYXRhLnRvdGFsID0gcmVzcG9uc2UuY291bnQ7ICAgICAgICAgICAgICAKICAgICAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoImxvYWRpbmciLCAiaGlkZSIpOwogICAgICAgICAgICB9LAogICAgICAgICAgICBlcnJvciA9PiB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICB9CiAgICAgICAgICApOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmICh2bS5zZWxlY3RlZFdvcmQgJiYgIXZtLnNlbnRpbWVudCkgewogICAgICAgIHZtLnNvdXJjZUNoYW5nZSA9IHsgbGFiZWw6IHZtLnNlbGVjdGVkV29yZCwgdmFsdWU6IHZtLnNlbGVjdGVkV29yZCB9OwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2VhcmNoRmVlZGJhY2soMCk7CiAgICAgIH0KICAgIH0sCiAgICBzZXRQYWdlTnVtKHBhZ2VOdW0pIHsKICAgICAgdGhpcy5zZWxlY3RlZFBhZ2UgPSBwYWdlTnVtOwoKICAgICAgaWYgKHRoaXMub2xkU2VsZWN0ZWRSYXRpbmcpIHsKICAgICAgICB0aGlzLnNlbGVjdGVkUmF0aW5nID0gdGhpcy5vbGRTZWxlY3RlZFJhdGluZzsKICAgICAgfQoKICAgICAgdGhpcy5zZWFyY2hGZWVkYmFjayhwYWdlTnVtKTsKICAgIH0sCiAgICB0b2dnbGVTb3J0KHNldFNvcnRUeXBlKSB7CiAgICAgIGlmICh0aGlzLnNvcnRUeXBlICE9IHNldFNvcnRUeXBlKSB7CiAgICAgICAgdGhpcy5zb3J0VHlwZSA9IHNldFNvcnRUeXBlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc29ydFR5cGUgPSAiLSIgKyB0aGlzLnNvcnRUeXBlOwogICAgICB9CiAgICAgIHRoaXMuc2VhcmNoRmVlZGJhY2soKTsKICAgIH0sCiAgICB0b2dnbGVTaG93RnVsbFRleHQoZmVlZGJhY2spIHsKICAgICAgZmVlZGJhY2suc2hvd0FsbCA9ICFmZWVkYmFjay5zaG93QWxsOwogICAgfSwKICAgIHRvZ2dsZVNob3dGdWxsUmVwbHkoZmVlZGJhY2spIHsKICAgICAgZmVlZGJhY2suc2hvd1JlcGx5ID0gIWZlZWRiYWNrLnNob3dSZXBseTsKICAgIH0sCiAgICAvLyBkaXNwbGF5RGF0ZShtaWxsaXMpIHsKICAgIC8vICAgdmFyIGRhdGUgPSBuZXcgRGF0ZShtaWxsaXMpOwogICAgLy8gICByZXR1cm4gKAogICAgLy8gICAgIDEgKwogICAgLy8gICAgIGRhdGUuZ2V0TW9udGgoKSArCiAgICAvLyAgICAgIi8iICsKICAgIC8vICAgICBkYXRlLmdldERhdGUoKSArCiAgICAvLyAgICAgIi8iICsKICAgIC8vICAgICAoZGF0ZS5nZXRGdWxsWWVhcigpICUgMTAwKQogICAgLy8gICApOwogICAgLy8gfSwKICAgIGdldEljb25Gb3JTb3VyY2UoZGF0YSkgewogICAgICBsZXQgc291cmNlID0gZGF0YS5zb3VyY2U7CiAgICAgIGlmIChzb3VyY2UgPT0gIkdvb2dsZSIpIHsKICAgICAgICByZXR1cm4gcmVxdWlyZSgiLi4vLi4vcHVibGljL2ltZy9Hb29nbGVfSWNvbi5wbmciKTsKICAgICAgfSBlbHNlIGlmIChzb3VyY2UgPT0gIlllbHAiKSB7CiAgICAgICAgcmV0dXJuIHJlcXVpcmUoIi4uLy4uL3B1YmxpYy9pbWcvWWVscF9JY29uLnBuZyIpOwogICAgICB9IGVsc2UgaWYgKHNvdXJjZSA9PSAiRmFjZWJvb2siKSB7CiAgICAgICAgcmV0dXJuIHJlcXVpcmUoIi4uLy4uL3B1YmxpYy9pbWcvRmFjZWJvb2tfSWNvbi5wbmciKTsKICAgICAgfSBlbHNlIGlmIChzb3VyY2UgPT0gIkZvdXJzcXVhcmUiKSB7CiAgICAgICAgcmV0dXJuIHJlcXVpcmUoIi4uLy4uL3B1YmxpYy9pbWcvRm91cnNxdWFyZV9JY29uLnBuZyIpOwogICAgICB9IGVsc2UgaWYgKHNvdXJjZSA9PSAiQ2l0eXNlYXJjaCIpIHsKICAgICAgICByZXR1cm4gcmVxdWlyZSgiLi4vLi4vcHVibGljL2ltZy9DaXR5c2VhcmNoX0ljb24ucG5nIik7CiAgICAgIH0gZWxzZSBpZiAoc291cmNlID09ICJZZWxsb3dwYWdlcyIpIHsKICAgICAgICByZXR1cm4gcmVxdWlyZSgiLi4vLi4vcHVibGljL2ltZy9ZUF9JY29uLnBuZyIpOwogICAgICAgIC8vIH0gZWxzZSBpZiAoc291cmNlID09ICdUcmlwQWR2aXNvcicpIHsKICAgICAgICAvLyAgIHJldHVybiByZXF1aXJlKCcuLi8uLi9wdWJsaWMvaW1nL1RyaXBBZHZpc29yX0ljb24ucG5nJyk7CiAgICAgICAgLy8gfSBlbHNlIGlmIChzb3VyY2UgPT0gJ0JCQicpIHsKICAgICAgICAvLyAgIHJldHVybiByZXF1aXJlKCcuLi8uLi9wdWJsaWMvaW1nL0JCQl9JY29uLnBuZycpOwogICAgICB9IGVsc2UgewogICAgICAgIGlmKGRhdGEucmF0aW5nKSB7CiAgICAgICAgICByZXR1cm4gcmVxdWlyZSgiLi4vLi4vcHVibGljL2ltZy9PcGluaWlvbl9JY29uLnBuZyIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gcmVxdWlyZSgiLi4vLi4vcHVibGljL2ltZy9jb21tZW50LWFsdC1saW5lcy1saWdodC5zdmciKQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIC8vIGhpZ2hsaWdodFdvcmQocmV2aWV3KSB7CiAgICAvLyAgIGlmIChyZXZpZXcpIHsKICAgIC8vICAgICBsZXQgdm0gPSB0aGlzOwogICAgLy8gICAgIGlmICh2bS5zZWxlY3RlZFdvcmQpIHsKICAgIC8vICAgICAgIHZtLnNlbGVjdGVkV29yZCA9IHZtLnNlbGVjdGVkV29yZAogICAgLy8gICAgICAgICAucmVwbGFjZSgvWyZcL1xcIywrKCkkfiUuJyI6Kj88Pnt9IV0vZywgIiIpCiAgICAvLyAgICAgICAgIC50cmltKCk7CiAgICAvLyAgICAgICBsZXQgd29yZCA9IHZtLnNlbGVjdGVkV29yZDsKICAgIC8vICAgICAgIHJldHVybiByZXZpZXcucmVwbGFjZShuZXcgUmVnRXhwKHdvcmQsICJnaSIpLCBtYXRjaCA9PiB7CiAgICAvLyAgICAgICAgIHJldHVybiAoCiAgICAvLyAgICAgICAgICAgJzxzcGFuIHN0eWxlPSJiYWNrZ3JvdW5kOiAjNGZjYmM1OyBib3JkZXItcmFkaXVzOiA1cHg7IHBhZGRpbmc6IDFweCAycHg7Ij4nICsKICAgIC8vICAgICAgICAgICBtYXRjaCArCiAgICAvLyAgICAgICAgICAgIjwvc3Bhbj4iCiAgICAvLyAgICAgICAgICk7CiAgICAvLyAgICAgICB9KTsKICAgIC8vICAgICB9IGVsc2UgewogICAgLy8gICAgICAgcmV0dXJuIHJldmlldzsKICAgIC8vICAgICB9CiAgICAvLyAgIH0KICAgIC8vIH0sCiAgICBvcGVuQ3VzdG9tZXJEZXRhaWwoZmVlZGJhY2spIHsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgbGV0IGN1c3RvbWVySWQgPSBmZWVkYmFjay5jdXN0b21lcklkOwogICAgICBDdXN0b21lclNlcnZpY2UuZ2V0Q3VzdG9tZXIoY3VzdG9tZXJJZCkudGhlbigKICAgICAgICBmdW5jdGlvbihyZXNwb25zZSkgewogICAgICAgICAgdm0uc2VsZWN0ZWRDdXN0b21lciA9IHJlc3BvbnNlOwogICAgICAgICAgdm0uc2VsZWN0ZWRDdXN0b21lci5sb2NhdGlvbiA9IGZlZWRiYWNrLmxvY2F0aW9uOwogICAgICAgICAgbGV0IHVybCA9IGAvY3VzdG9tZXJMaXN0LyR7dm0uc2VsZWN0ZWRDdXN0b21lci5jdXN0b21lcklkfWA7CiAgICAgICAgICB2bS4kcm91dGVyLnB1c2godXJsKTsKICAgICAgICB9LAogICAgICAgIGZ1bmN0aW9uKGVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgfQogICAgICApOwogICAgfSwKICAgIG9wZW5mZWVkYmFja01hdGNoKGZlZWRiYWNrKSB7CiAgICAgIGxldCB2bSA9IHRoaXM7CiAgICAgIHZtLnNlbGVjdGVkRmVlZGJhY2sgPSBmZWVkYmFjazsKICAgICAgdm0ub3BlbmZlZWRiYWNrTWF0Y2hNb2RhbCA9IHRydWU7CiAgICB9LAogICAgb3Blbkdvb2dsZVJlcGx5KGZlZWRiYWNrKSB7CiAgICAgIAogICAgICB0aGlzLnNlbGVjdGVkRmVlZGJhY2sgPSBmZWVkYmFjazsKICAgICAgdGhpcy5vcGVuR29vZ2xlUmVwbHlNb2RhbCA9IHRydWU7CiAgICB9LAogICAgY2xvc2VHb29nbGVSZXBseShyZXNwb25zZSkgewogICAgICB0aGlzLnNlbGVjdGVkRmVlZGJhY2sgPSBudWxsOwogICAgICB0aGlzLm9wZW5Hb29nbGVSZXBseU1vZGFsID0gZmFsc2U7CiAgICAgIGlmKHJlc3BvbnNlKSB7CiAgICAgICAgdGhpcy5zZWFyY2hGZWVkYmFjayh0aGlzLnNlbGVjdGVkUGFnZSk7CiAgICAgIH0KICAgIH0sCiAgICBvcGVuRmFjZWJvb2tSZXBseShmZWVkYmFjaykgewogICAgICBMb2NhdGlvblNlcnZpY2UuZ2V0TG9jYXRpb24oZmVlZGJhY2subG9jYXRpb25JZCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgaWYgKAogICAgICAgICAgcmVzcG9uc2UucmV2aWV3c0xpc3QgJiYKICAgICAgICAgIHJlc3BvbnNlLnJldmlld3NMaXN0LmZhY2Vib29rICYmCiAgICAgICAgICByZXNwb25zZS5yZXZpZXdzTGlzdC5mYWNlYm9vay51cmwKICAgICAgICApIHsKICAgICAgICAgIGxldCB1cmxCYXNlID0gcmVzcG9uc2UucmV2aWV3c0xpc3QuZmFjZWJvb2sudXJsOwogICAgICAgICAgbGV0IHVybCA9ICIiOwogICAgICAgICAgaWYgKCF1cmxCYXNlLmluY2x1ZGVzKCJyZXZpZXdzIikpIHsKICAgICAgICAgICAgaWYgKHVybEJhc2UuY2hhckF0KHVybEJhc2UubGVuZ3RoIC0gMSkgPT0gIi8iKSB7CiAgICAgICAgICAgICAgdXJsID0gdXJsQmFzZSArICJyZXZpZXdzIjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB1cmwgPSB1cmxCYXNlICsgIi9yZXZpZXdzIjsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdXJsID0gdXJsQmFzZTsKICAgICAgICAgIH0KICAgICAgICAgIHdpbmRvdy5vcGVuKHVybCwgIl9ibGFuayIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoCiAgICAgICAgICAgICJ3YXJuaW5nTWVzc2FnZSIsCiAgICAgICAgICAgICJObyBjdXJyZW50IGxpbmsgYXZhaWxhYmxlIHRvIGZvbGxvdy4iCiAgICAgICAgICApOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgb3BlblllbHBSZXBseShmZWVkYmFjaykgewogICAgICBMb2NhdGlvblNlcnZpY2UuZ2V0TG9jYXRpb24oZmVlZGJhY2subG9jYXRpb25JZCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgaWYgKAogICAgICAgICAgcmVzcG9uc2UucmV2aWV3c0xpc3QgJiYKICAgICAgICAgIHJlc3BvbnNlLnJldmlld3NMaXN0LnllbHAgJiYKICAgICAgICAgIHJlc3BvbnNlLnJldmlld3NMaXN0LnllbHAudXJsCiAgICAgICAgKSB7CiAgICAgICAgICBsZXQgdXJsID0gcmVzcG9uc2UucmV2aWV3c0xpc3QueWVscC51cmw7CiAgICAgICAgICB3aW5kb3cub3Blbih1cmwsICJfYmxhbmsiKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KAogICAgICAgICAgICAid2FybmluZ01lc3NhZ2UiLAogICAgICAgICAgICAiTm8gY3VycmVudCBsaW5rIGF2YWlsYWJsZSB0byBmb2xsb3cuIgogICAgICAgICAgKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIG9wZW5VbmxpbmtlZEdvb2dsZVJlcGx5KCkgewogICAgLy8gICBsZXQgdm0gPSB0aGlzOwogICAgLy8gICB2bS4kcm91dGVyLnB1c2goe3BhdGg6IGAvZGF0YS9nbWIvbGluay8ke3ZtLnVzZXJJZH1gfSk7CiAgICAvLyB9LAogICAgaGFuZGxlU29ydChkYXRhKSB7CiAgICAgIGxldCB2bSA9IHRoaXM7CiAgICAgIGxldCBkaXJlY3Rpb24gPSAnLSc7CiAgICAgIGlmKHZtLnNvcnRUeXBlWzBdID09ICctJykgewogICAgICAgIGRpcmVjdGlvbiA9ICcnOwogICAgICB9CiAgICAgIHZtLnNvcnRUeXBlID0gZGlyZWN0aW9uICsgZGF0YS5wcm9wOwogICAgICB2bS5zZWFyY2hGZWVkYmFjaygpOwogICAgfSwKCiAgICBzZWFyY2hGZWVkYmFjayhwYWdlTnVtKSB7CiAgICAgIAogICAgICBFdmVudFNlcnZpY2UuJGVtaXQoImxvYWRpbmciLCAic2hvdyIpOwogICAgICB2YXIgc2VhcmNoT2JqZWN0ID0ge307CiAgICAgIGlmICh0aGlzLnNlYXJjaFRleHQpIHsKICAgICAgICBzZWFyY2hPYmplY3Quc2VhcmNoVGV4dCA9IHRoaXMuc2VhcmNoVGV4dDsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuc291cmNlQ2hhbmdlICYmIHRoaXMuc291cmNlQ2hhbmdlLnZhbHVlKSB7CiAgICAgICAgc2VhcmNoT2JqZWN0LnNvdXJjZSA9IHRoaXMuc291cmNlQ2hhbmdlLnZhbHVlOwogICAgICB9CgogICAgICBpZiAoc2VhcmNoT2JqZWN0LnNvdXJjZSA9PSAiUG9zaXRpdmUiKSB7CiAgICAgICAgc2VhcmNoT2JqZWN0Lm1pblJhdGluZyA9IDQ7CiAgICAgICAgc2VhcmNoT2JqZWN0LnNvdXJjZSA9ICIiOwogICAgICB9IGVsc2UgaWYgKHNlYXJjaE9iamVjdC5zb3VyY2UgPT0gIk5lZ2F0aXZlIikgewogICAgICAgIHNlYXJjaE9iamVjdC5tYXhSYXRpbmcgPSAyOwogICAgICAgIHNlYXJjaE9iamVjdC5zb3VyY2UgPSAiIjsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRSYXRpbmcpIHsKICAgICAgICBzZWFyY2hPYmplY3Quc291cmNlID0gdGhpcy5zZWxlY3RlZFdvcmQ7CiAgICAgICAgc2VhcmNoT2JqZWN0Lm1heFJhdGluZyA9IHRoaXMuc2VsZWN0ZWRSYXRpbmc7CiAgICAgICAgc2VhcmNoT2JqZWN0Lm1pblJhdGluZyA9IHRoaXMuc2VsZWN0ZWRSYXRpbmc7CiAgICAgICAgdGhpcy5vbGRTZWxlY3RlZFJhdGluZyA9IHRoaXMuc2VsZWN0ZWRSYXRpbmc7CiAgICAgICAgdGhpcy5zZWxlY3RlZFJhdGluZyA9IG51bGw7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zZWxlY3RlZFdvcmQgPSB0aGlzLnNlYXJjaFRleHQ7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmxvY2F0aW9uSWQpIHsKICAgICAgICBzZWFyY2hPYmplY3QubG9jYXRpb25JZCA9IHRoaXMubG9jYXRpb25JZDsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuc29ydFR5cGUpIHsKICAgICAgICBzZWFyY2hPYmplY3Quc29ydCA9IHRoaXMuc29ydFR5cGU7CiAgICAgIH0KCiAgICAgIGlmIChwYWdlTnVtKSB7CiAgICAgICAgc2VhcmNoT2JqZWN0LnBhZ2VOdW0gPSBwYWdlTnVtOwogICAgICAgIHRoaXMucGFnaW5hdGlvbkRhdGEuY3VycmVudFBhZ2UgPSBwYWdlTnVtIC0gMTsKICAgICAgfSBlbHNlIHsKICAgICAgICBzZWFyY2hPYmplY3QucGFnZU51bSA9IDA7CiAgICAgICAgdGhpcy5wYWdpbmF0aW9uRGF0YS5jdXJyZW50UGFnZSA9IDA7CiAgICAgIH0KCiAgICAgIGlmKHRoaXMuJHJvdXRlLnF1ZXJ5LnNvdXJjZUlkKSB7CiAgICAgICAgc2VhcmNoT2JqZWN0LnNvdXJjZUlkID0gdGhpcy4kcm91dGUucXVlcnkuc291cmNlSWQ7CiAgICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UoJy9mZWVkYmFjaycpOwogICAgICB9CiAgICAgIGlmKHRoaXMuZmlsdGVycy5oaWdobGlnaHRlZFdvcmQpIHsKICAgICAgICBzZWFyY2hPYmplY3QuaGlnaGxpZ2h0ZWRXb3JkID0gdGhpcy5maWx0ZXJzLmhpZ2hsaWdodGVkV29yZDsKICAgICAgfQoKICAgICAgc2VhcmNoT2JqZWN0LnJlc1BlclBhZ2UgPSB0aGlzLnBhZ2luYXRpb25EYXRhLnBlclBhZ2U7CgogICAgICBzZWFyY2hPYmplY3QucmVzUGVyUGFnZSA9IHRoaXMucGFnaW5hdGlvbkRhdGEucGVyUGFnZTsKCiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIHZtLnNob3dGaWx0ZXJzID0gZmFsc2U7CgogICAgICBzZWFyY2hPYmplY3QuZmlsdGVycyA9IHZtLmZpbHRlcnM7CiAgICAgIEZlZWRiYWNrU2VydmljZS5zZWFyY2hGZWVkYmFja0FkdmFuY2VkKHNlYXJjaE9iamVjdCkudGhlbigKICAgICAgICBmdW5jdGlvbihyZXNwb25zZSkgewogICAgICAgICAgaWYocmVzcG9uc2VbMF0gJiYgcmVzcG9uc2VbMF0ucmVzdWx0cykgdm0uZmVlZGJhY2tMaXN0ID0gcmVzcG9uc2VbMF0ucmVzdWx0czsKICAgICAgICAgIGlmKHJlc3BvbnNlWzBdICYmIHJlc3BvbnNlWzBdLmNvdW50ICYmIHJlc3BvbnNlWzBdLmNvdW50WzBdICYmIHJlc3BvbnNlWzBdLmNvdW50WzBdLnRvdGFsKSB2bS5wYWdpbmF0aW9uRGF0YS50b3RhbCA9IHJlc3BvbnNlWzBdLmNvdW50WzBdLnRvdGFsOyAgICAgICAgICAKICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgibG9hZGluZyIsICJoaWRlIik7CiAgICAgICAgfSwKICAgICAgICBmdW5jdGlvbihlcnJvcikgewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KCJsb2FkaW5nIiwgImhpZGUiKTsKICAgICAgICB9CiAgICAgICk7CiAgICB9LAogICAgcmVwbHlUb0N1c3RvbWVyKGZlZWRiYWNrKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKCdmZWVkYmFjaycsIGZlZWRiYWNrKTsKICAgICAgdGhpcy5zZWxlY3RlZEZlZWRiYWNrID0gZmVlZGJhY2s7CiAgICAgIHRoaXMucmVwbHlWaXNpYmxlID0gdHJ1ZTsKICAgIH0sCiAgICBkaXNjYXJkUmVzcG9uc2UoKSB7CiAgICAgIHRoaXMuc2VsZWN0ZWRGZWVkYmFjayA9ICcnOwogICAgICB0aGlzLmZlZWRiYWNrUmVwbHkgPSAiIjsKICAgICAgdGhpcy5yZXBseVZpc2libGUgPSBmYWxzZTsKICAgIH0sCiAgICBwYXJzZURhdGUoZGF0ZSkgewogICAgICBsZXQgbmV3RGF0ZSA9IG5ldyBEYXRlKGRhdGUpOwogICAgICBsZXQgZGF0ZVN0cmluZyA9IChuZXdEYXRlLmdldE1vbnRoKCkrMSkgKyBuZXdEYXRlLnRvU3RyaW5nKCkuc3Vic3RyKDcsOCk7CiAgICAgIGxldCBmb3JtYXR0ZWREYXRlU3RyaW5nID0gZGF0ZVN0cmluZy5yZXBsYWNlKC9ccy9nLCAnLycpOwogICAgICByZXR1cm4gZm9ybWF0dGVkRGF0ZVN0cmluZzsKICAgIH0sCiAgICBjaGVja1N0YXJzKHJhdGluZykgewogICAgICB2YXIgaHRtbFN0cmluZyA9ICcnOwogICAgICB2YXIgaTsKICAgICAgZm9yKGkgPSAwOyBpIDwgcmF0aW5nOyBpKyspIHsKICAgICAgICBodG1sU3RyaW5nICs9ICc8aSBzdHlsZT0iY29sb3I6I0VCQzU0NSIgY2xhc3M9ImZhcyBmYS1zdGFyIj48L2k+JwogICAgICB9CiAgICAgIHJldHVybiBodG1sU3RyaW5nCiAgICB9LAogICAgc2VuZFJlc3BvbnNlKGZlZWRiYWNrKSB7CiAgICAgIGxldCB2bSA9IHRoaXM7CiAgICAgIAogICAgICBpZiAodm0uZmVlZGJhY2tSZXBseSAmJiB2bS5mZWVkYmFja1JlcGx5Lmxlbmd0aCA+IDUpIHsKICAgICAgICBDdXN0b21lclNlcnZpY2UucmVzcG9uZFRvQ3VzdG9tZXIoCiAgICAgICAgICBmZWVkYmFjay5jdXN0b21lcklkLAogICAgICAgICAgImVtYWlsIiwKICAgICAgICAgIHZtLmZlZWRiYWNrUmVwbHksCiAgICAgICAgICB2bS5yZXBseVN1YmplY3QsCiAgICAgICAgICBmZWVkYmFjay5kYXRlCiAgICAgICAgKS50aGVuKAogICAgICAgICAgcmVzcG9uc2UgPT4gewogICAgICAgICAgICB2bS5mZWVkYmFja1JlcGx5ID0gIiI7CiAgICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgic3VjY2Vzc01lc3NhZ2UiLCAiTWVzc2FnZSBzZW50ISIpOwogICAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoImxvYWRpbmciLCAiaGlkZSIpOwogICAgICAgICAgICB2bS5nZXRGZWVkYmFja0RhdGEoKTsKICAgICAgICAgIH0sCiAgICAgICAgICBlcnJvciA9PiB7CiAgICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgKICAgICAgICAgICAgICAiZXJyb3JNZXNzYWdlIiwKICAgICAgICAgICAgICAiU29tZXRoaW5nIHdlbnQgd3JvbmcgY29udGFjdGluZyB0aGUgY3VzdG9tZXIuIgogICAgICAgICAgICApOwogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgibG9hZGluZyIsICJoaWRlIik7CiAgICAgICAgICB9CiAgICAgICAgKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoCiAgICAgICAgICAiZXJyb3JNZXNzYWdlIiwKICAgICAgICAgICJNZXNzYWdlIGlzIG5vdCBsb25nIGVub3VnaCB0byBiZSBzZW50LiIKICAgICAgICApOwogICAgICB9CiAgICB9LAogICAgY2hhbmdlU291cmNlKCkgewoKICAgICAgaWYgKHRoaXMuc291cmNlQ2hhbmdlICE9IHRoaXMub2xkU291cmNlKSB7CiAgICAgICAgdGhpcy5vbGRTb3VyY2UgPSB0aGlzLnNvdXJjZUNoYW5nZTsKICAgICAgICB0aGlzLnNlYXJjaEZlZWRiYWNrKCk7CiAgICAgIH0KICAgIH0sCiAgICB0ZXN0KGV2ZW50KSB7CiAgICAgIGNvbnNvbGUubG9nKGV2ZW50KTsKICAgIH0sCiAgICBjbG9zZUN1c3RvbWVyTW9kYWwoKSB7CiAgICAgIHRoaXMub3BlbkN1c3RvbWVyRGV0YWlsTW9kYWwgPSBmYWxzZTsKICAgICAgdGhpcy5zZWxlY3RlZEN1c3RvbWVyID0gbnVsbDsKICAgICAgdGhpcy5vcGVuZmVlZGJhY2tNYXRjaE1vZGFsID0gZmFsc2U7CiAgICAgIHRoaXMuc2VsZWN0ZWRGZWVkYmFjayA9IG51bGw7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["Feedback.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Feedback.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <el-card class=\"card-min-height\">\n    <div class=\"card-header\">\n      <div class=\"card-title\">\n        <h3>Feedback</h3>\n      </div>\n      <div class=\"card-actions\">\n        <div class=\"input-group\">\n          <el-popover trigger=\"click\" class=\"filter clickable\" v-model=\"showFilters\">\n            <div class=\"filter-button\" :class=\"{'filter-active': filtersActive}\" slot=\"reference\">\n              <i class=\"fas fa-filter\"></i>\n            </div>\n            <div class=\"dropdown-filter-menu\">\n              <div class=\"dropdown-filter-option\">\n                <label>Rating</label>\n                <el-select v-model=\"filters.ratings\" :collapse-tags=\"true\" multiple @change=\"removeSentiment()\">\n                  <el-option v-for=\"rating in 5\" :key=\"rating\" :value=\"rating\">{{rating}}</el-option>\n                </el-select>\n              </div>\n              <div class=\"dropdown-filter-option\">\n                <label>Source</label>\n                <!-- Doesn't detect the menu dropdown as a slot. -->\n                <el-select v-model=\"filters.source\" :collapse-tags=\"true\" multiple>\n                  <el-option\n                    v-for=\"source in ['Google', 'Facebook', 'Yelp', 'Opiniion']\"\n                    :key=\"source\"\n                    :value=\"source\"\n                  >{{source}}</el-option>\n                </el-select>\n              </div>\n              <div class=\"dropdown-filter-option\">\n                <label>Sentiment</label>\n                <el-select class=\"capitalize\" clearable v-model=\"filters.sentiment\" :disabled=\"filters.ratings.length > 0\">\n                  <el-option\n                    class=\"capitalize\"\n                    v-for=\"option in [{value: 'positive', label: 'Positive'}, \n                    {value: 'negative', label: 'Negative'}]\"\n                    :key=\"option.value\"\n                    :value=\"option.value\"\n                    :label=\"option.label\"\n                  ></el-option>\n                </el-select>\n              </div>\n              <div class=\"dropdown-filter-option\">\n                <label>Needs Response</label>\n                <el-select clearable v-model=\"filters.response\">\n                  <el-option\n                    v-for=\"(value, index) in responseFilterOptions\"\n                    :key=\"index\"\n                    :value=\"value.value\"\n                    :label=\"value.label\"\n                  ></el-option>\n                </el-select>\n              </div>\n              <div class=\"dropdown-filter-buttons\">\n                <el-button type=\"text\" size=\"small\" style=\"color:#F48D46\" @click=\"resetFilters()\">Reset Filters</el-button>\n                <el-button type=\"warning\" size=\"small\" round @click=\"searchFeedback()\">Apply</el-button>\n              </div>\n            </div>\n          </el-popover>\n          <el-input\n            v-model=\"searchText\"\n            @keyup.native.enter=\"searchFeedback()\"\n            placeholder=\"Search Feedback...\"\n          ><i slot=\"suffix\" class=\"far fa-search\"></i></el-input>\n        </div>\n      </div>\n    </div>\n    <div class=\"block\" v-if=\"feedbackList\">\n      <el-table size=\"small\" class=\"card-table-min-height\" :data=\"feedbackList\" highlight-current-row \n      empty-text=\"No results found based on your search criteria.\"\n      ref=\"customerTable\" height=\"calc(100vh - var(--navbar-height) - var(--footer-height) - 280px)\" :class=\"{'no-scroll': !showScroll}\" @sort-change=\"handleSort\">\n        <el-table-column prop=\"name\" label=\"Name\" min-width=\"100\" show-overflow-tooltip sortable=\"custom\" :sort-orders=\"sortOptions\"></el-table-column>\n        <el-table-column prop=\"locationName\" label=\"Location\" min-width=\"120\" show-overflow-tooltip></el-table-column>\n        <el-table-column prop=\"source\" min-width=\"120\" label=\"Source\" sortable=\"custom\" :sort-orders=\"sortOptions\">\n          <template slot-scope=\"scope\">\n            <img height=\"25\" :src=\"getIconForSource(scope.row)\" />\n          </template>\n        </el-table-column>            \n        <el-table-column prop=\"rating\" sortable=\"custom\" :sort-orders=\"sortOptions\" min-width=\"100\" label=\"Rating\">\n          <template slot-scope=\"scope\">\n            <span class=\"star\" v-html=\"checkStars(scope.row.rating)\"></span>\n          </template>\n        </el-table-column>            \n        <el-table-column prop=\"date\" sortable=\"custom\" :sort-orders=\"sortOptions\" min-width=\"80\" label=\"Date\">\n          <template slot-scope=\"scope\">\n            <span class=\"date\">{{parseDate(scope.row.date)}}</span>\n          </template>\n        </el-table-column>            \n        <el-table-column prop=\"reviewText\" label=\"Review\" min-width=\"300\">\n          <template slot-scope=\"scope\">\n            <span\n              class=\"review-text\"\n              v-if=\"scope.row.reviewText\"\n            >{{scope.row.reviewText.substring(0, 100)}}</span>\n            <el-popover\n              v-if=\"scope.row.reviewText && scope.row.reviewText.length >= 100\"\n              placement=\"bottom\"\n              trigger=\"click\"\n              min-width=\"200\"\n              width=\"400\"\n              @show=\"stopScroll()\"\n              @hide=\"startScroll()\"\n              @after-leave=\"startScroll()\"\n              :content=\"scope.row.reviewText\"              \n            >\n              <span class=\"see-more clickable\" slot=\"reference\">See More</span>\n            </el-popover>\n          </template>\n        </el-table-column>\n        <el-table-column class=\"hover-edit\" prop=\"reply\" label=\"Response\" min-width=\"290\">\n          <template slot-scope=\"scope\" >\n            <span class=\"review-text\" v-if=\"scope.row.reply\"> {{scope.row.reply.substring(0, 100)}} \n              <el-popover\n                v-if=\"scope.row.reply && scope.row.reply.length >= 100\"\n                placement=\"bottom\"\n                trigger=\"click\"\n                min-width=\"200\"\n                width=\"400\"\n                @show=\"stopScroll()\"\n                @hide=\"startScroll()\"\n                @after-leave=\"startScroll()\"\n                :content=\"scope.row.reply\"              \n              >\n              <span class=\"see-more clickable\" slot=\"reference\">See More</span>\n            </el-popover>\n            <div class=\"see-more edit\" v-if=\"scope.row.source == 'Google'\" \n            size=\"mini\" @click=\"openGoogleReply(scope.row)\">Edit</div>\n            </span>\n            <div v-if=\"!scope.row.reply || !scope.row.reply.length\">\n              <el-button class=\"reply-button\" round v-if=\"scope.row.source == 'Opiniion' && scope.row.email && scope.row.email[0] && typeof scope.row.email[0] == 'string'\" size=\"small\" type=\"primary\" @click=\"replyToCustomer(scope.row)\">Contact Now</el-button>\n              <el-button class=\"reply-button secondary\" @click=\"openGoogleReply(scope.row)\" round v-if=\"scope.row.source == 'Google'\"  size=\"small\" type=\"warning\">Reply Now</el-button>\n              <el-button class=\"reply-button secondary\" @click=\"openFacebookReply(scope.row)\" round v-if=\"scope.row.source == 'Facebook'\"  size=\"small\" type=\"warning\">View On Site</el-button>\n              <el-button class=\"reply-button secondary\" @click=\"openYelpReply(scope.row)\" round v-if=\"scope.row.source == 'Yelp'\"  size=\"small\" type=\"warning\">View On Site</el-button>\n            </div>\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n    <div class=\"pagination block\" v-if=\"feedbackList && feedbackList.length >= 0\">\n      <span>Showing {{feedbackList.length}} of {{paginationData.total}} Total Results</span>\n      <el-pagination\n        @current-change=\"searchFeedback\"\n        background\n        layout=\"prev, pager, next\"\n        :current-page=\"paginationPage\"\n        :page-size=\"paginationData.perPage\"\n        :total=\"paginationData.total\"\n        small\n      ></el-pagination>\n      <el-select class=\"per-page-select\" size=\"mini\" v-model=\"paginationData.perPage\" @change=\"searchFeedback()\">\n        <el-option\n          v-for=\"option in paginationData.perPageOptions\"\n          :value=\"option\"\n          :key=\"option\"\n        >{{option}}</el-option>\n      </el-select>\n    </div>\n    <el-dialog :visible.sync=\"replyVisible\" \n                :before-close=\"discardResponse\"\n                width=\"30%\"\n                >\n      <slot>\n        <div class=\"reply-container\" style=\"word-break:keep-all;\">\n          <span class=\"to-input\" v-if=\"selectedFeedback && selectedFeedback.email && selectedFeedback.email.length\"> To:\n            <span>{{selectedFeedback.email[0]}}</span>\n          </span>\n          <span class=\"subject-input\"> \n            <label>Subject:</label>\n            <input maxlength=\"25\" class=\"subject-line\" type=\"text\" v-model=\"replySubject\">\n          </span>\n          <textarea class=\"reply-message\" placeholder=\"Type to reply\" v-model=\"feedbackReply\"></textarea>\n          <span class=\"reply-buttons\">\n            <span class=\"discard clickable\"  @click=\"replyVisible = false\">Discard</span>\n            <el-button class=\"secondary\" round type=\"secondary\" @click=\"sendResponse(selectedFeedback), replyVisible = false\">Send</el-button>\n          </span>\n        </div>\n      </slot>\n    </el-dialog>\n    <customerDetail\n      :selectedCustomer=\"selectedCustomer\"\n      v-if=\"openCustomerDetailModal\"\n      v-on:closeModal=\"closeCustomerModal()\"\n    />\n    <feedbackMatch\n      :selectedFeedback=\"selectedFeedback\"\n      v-if=\"openfeedbackMatchModal\"\n      v-on:closeModal=\"closeCustomerModal()\"\n    />\n    <ReplyThroughGoogle\n      :selectedReview=\"selectedFeedback\"\n      v-if=\"openGoogleReplyModal\"\n      v-on:closeAndRespond=\"closeGoogleReply('response')\"\n      v-on:closeModal=\"closeGoogleReply()\"\n    />\n  </el-card>\n</template>\n\n<script>\nimport customerDetail from \"./CustomerDetail\";\nimport feedbackMatch from \"./FeedbackMatch\";\nimport ReplyThroughGoogle from \"./ReplyThroughGoogle\";\nimport CustomerService from \"./../services/CustomerService\";\nimport LocationService from \"./../services/LocationService\";\nimport UserService from \"./../services/UserService\";\nimport FeedbackService from \"./../services/FeedbackService\";\nimport DashboardService from \"./../services/DashboardService\";\nimport { EventService } from \"../main\";\nimport vSelect from \"../../node_modules/vue-select/src/components/Select.vue\";\nimport Papa from \"../../node_modules/papaparse/papaparse.js\";\nimport config from \"../config.js\";\n\nexport default {\n  name: \"feedback\",\n  components: {\n    customerDetail,\n    feedbackMatch,\n    vSelect,\n    ReplyThroughGoogle\n  },\n  data: function() {\n    return {\n      feedbackList: [],\n      responseFilterOptions: [{label: 'Yes', value: 'True'}, {label: 'No', value: 'False'}],\n      filters: {\n        ratings: [],\n        source: [],\n        sentiment: \"\",\n        response: \"\"\n      },\n      selectedFeedback: {\n        email: ''\n      },\n      showFilters: false,\n      locationId: null,\n      openCustomerDetailModal: false,\n      openfeedbackMatchModal: false,\n      selectedCustomer: null,\n      selectedFeedback: null,\n      selectedRating: null,\n      oldSelectedRating: null,\n      searchText: \"\",\n      sortType: \"-date\",\n      oldSource: \"All\",\n      sourceChange: \"All\",\n      userRole: \"\",\n      locationName: \"\",\n      sortOptions: ['ascending', 'descending'],\n      rawData: \"\",\n      sentiment: \"\",\n      selectedWord: \"\",\n      phrases: [],\n      openGoogleReplyModal: false,\n      userId: null,\n      paginationData: {\n        perPage: 25,\n        currentPage: 0,\n        perPageOptions: [5, 10, 25],\n        total: 0,\n        changePage: \"setPageNum\",\n        rowChange: \"searchCustomers\"\n      },\n      feedbackReply: \"\",\n      replySubject: \"Thanks for the Feedback!\",\n      replyVisible: false,\n      showScroll: true\n    };\n  },\n  computed: {\n    filtersActive() {\n      let vm = this;\n      if(vm.filters.sentiment || vm.filters.ratings.length || vm.filters.source.length || vm.filters.response) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n    paginationPage() {\n      return (this.paginationData.currentPage+1);\n    }\n  },\n  created() {\n    this.gmbUrl = config.gmbUrl;\n    this.userId = JSON.parse(localStorage.getItem(\"currentUser\")).userId;\n    let feedbackSource = localStorage.getItem(\"feedbackSource\");\n    if (feedbackSource) {\n      this.selectedWord = feedbackSource;\n      localStorage.removeItem('feedbackSource');\n    }\n    if (this.$route.query.sourceId) {\n      let routeCustomerId = this.$route.query.sourceId;\n      FeedbackService.getCustomerFeedback(routeCustomerId).then(res => {\n        this.selectFeedback(res);\n      });\n    }\n\n    UserService.logPageVisit(\"feedback\");\n\n    this.locationId = localStorage.getItem(\"locationId\");\n\n    this.getUser();\n    this.checkForAdmin();\n    this.checkStorageForFilters();\n\n    EventService.$on(\"locationChange\", this.getFeedbackData);\n\n    if (this.$route.params.word) {\n      // this.searchText = this.$route.params.word;\n    //   let testForRating = this.$route.params.word;\n    //   testForRating = parseInt(testForRating);\n    //   if (!Number.isNaN(testForRating)) {\n    //     this.selectedRating = testForRating;\n    //     this.selectedWord = \"Opiniion\";\n    //   } else {\n    //     this.selectedWord = this.$route.params.word;\n\n    //     if (this.$route.params.vib) {\n          this.filters.highlightedWord = this.$route.params.word;\n    //     }\n\n    //     this.getPhrases();\n    //   }\n    }\n\n    if (this.$route.params.vib) {\n      this.filters.sentiment = this.$route.params.vib;\n    //   if (this.$route.params.vib == \"positive\") {\n    //     this.filters.sentiment = 'Positive';\n    //   } else if (this.$route.params.vib == \"negative\") {\n    //     this.filters.sentiment = 'Negative';\n    //   }\n    //   this.sentiment = this.$route.params.vib;\n    }    \n    this.getFilterOptions();\n    this.searchFeedback();\n  },\n  beforeDestroy: function() {\n    EventService.$off(\"locationChange\", this.getFeedbackData);\n    localStorage.removeItem('passedFilters');\n    this.filters = {\n      ratings: [],\n      source: [],\n      sentiment: \"\",\n      response: \"\"\n    }\n  },\n  methods: {\n    checkStorageForFilters() {\n      let filterCheck = JSON.parse(localStorage.getItem('passedFilters'));\n      if(filterCheck) {\n        this.filters[filterCheck.name] = filterCheck.value\n        localStorage.removeItem('passedFilters');\n      }\n    },\n    removeSentiment() {\n      let vm = this;\n      if(vm.filters.ratings && vm.filters.ratings.length) {\n        vm.filters.sentiment = ''\n      }\n    },\n    getFilterOptions() {\n      let vm = this;\n      let locationId = localStorage.getItem(\"locationId\");\n      let locationOptions = JSON.parse(localStorage.getItem(\"locationOptions\"));\n\n      if (locationId) {\n        // Get that location's options\n        locationOptions.map(el => {\n          if (locationId == el.locationId && el.reviewsList && el.reviewsList.length) {\n            el.reviewsList.map(rev => {\n              if (rev.pullData) {\n                vm.filterOptions.push(rev);\n              }\n            });\n          }\n        });\n      } else {\n      }\n    },\n    getUser() {\n\n      var vm = this;\n      UserService.getUserRole(vm.locationId).then(\n        function(response) {\n          vm.userRole = response.role;\n        },\n        function(error) {\n          console.log(error);\n        }\n      );\n    },\n    resetFilters() {\n      this.filters = {\n        ratings: [],\n        source: [],\n        sentiment: \"\",\n        response: \"\"\n      };\n    },\n    selectFeedback(feedback) {\n      this.searchText = feedback.results[0].name;\n      for (let i = 0; i < feedback.results.length; i++) {\n        feedback.results[i].showAll = false;\n        feedback.results[i].showReply = false;\n      }\n      this.feedbackList = feedback.results;\n    },\n    checkForAdmin() {\n\n      var vm = this;\n      let currentUser = JSON.parse(localStorage.getItem(\"currentUser\"));\n    },\n    // exportFeedback() {\n    //   this.locationId = localStorage.getItem(\"locationId\");\n    //   EventService.$emit(\"loading\", \"show\");\n    //   var vm = this;\n    //   FeedbackService.getAllFeedback(this.locationId).then(response => {\n    //     var rawFeedback = response.results;\n    //     var exportableFeedback = [];\n    //     for (var i = 0; i < rawFeedback.length; i++) {\n    //       var newFeedback = {\n    //         date: new Date(rawFeedback[i].date).toLocaleString(),\n    //         name: rawFeedback[i].name,\n    //         rating: rawFeedback[i].rating,\n    //         reviewText: rawFeedback[i].reviewText,\n    //         status: rawFeedback[i].status\n    //       };\n    //       if (rawFeedback[i].source) newFeedback.source = rawFeedback[i].source;\n    //       exportableFeedback.push(newFeedback);\n    //     }\n    //     EventService.$emit(\"loading\", \"hide\");\n    //     vm.downloadFeedback(exportableFeedback);\n    //   });\n    // },\n    // downloadFeedback(data) {\n    //   let vm = this;\n    //   LocationService.getLocation(this.locationId).then(response => {\n    //     vm.locationName = response.name;\n    //     EventService.$emit(\"loading\", \"show\");\n    //     var csvDownload = Papa.unparse(data);\n    //     var MIME_TYPE = \"text/csv\";\n    //     var blob = new Blob([csvDownload], { type: MIME_TYPE });\n    //     var csvURL = window.URL.createObjectURL(blob);\n    //     var tempLink = document.createElement(\"a\");\n    //     tempLink.href = csvURL;\n    //     tempLink.setAttribute(\n    //       \"download\",\n    //       `${vm.locationName} Feedback Report.csv`\n    //     );\n    //     document.body.appendChild(tempLink);\n    //     tempLink.click();\n    //     EventService.$emit(\"loading\", \"hide\");\n    //     csvDownload = {};\n    //     try {\n    //       document.body.removeChild(tempLink);\n    //     } catch (e) {}\n    //   });\n    // },\n    getPhrases() {\n\n      let vm = this;\n      DashboardService.getPhrases(vm.selectedWord, vm.locationId).then(\n        response => {\n          vm.phrases = response.phrases;\n          // vm.allData = response.result;\n        }\n      );\n    },\n    // highlightPhrase(phrase) {\n    //   this.selectedWord = phrase;\n    // },\n    stopScroll() {\n      this.showScroll = false;\n      // console.log(this.showScroll);\n      \n    },\n    startScroll() {\n      this.showScroll = true;\n      // console.log(this.showScroll);\n    },\n    getFeedbackData() {\n\n      this.locationId = localStorage.getItem(\"locationId\");\n\n      EventService.$emit(\"loading\", \"show\");\n      var vm = this;\n      if (vm.selectedWord && vm.sentiment) {\n        if (vm.sentiment == \"positive\") {\n          let searchObj = {\n            searchText: vm.selectedWord,\n            locationId: vm.locationId,\n            minRating: 4\n          };\n          FeedbackService.searchFeedbackAdvanced(searchObj).then(\n            response => {\n              for (let i = 0; i < response.results.length; i++) {\n                response.results[i].showAll = false;\n                response.results[i].showReply = false;\n              }\n              vm.feedbackList = response.results;\n              vm.totalResults = response.count;\n              EventService.$emit(\"loading\", \"hide\");\n            },\n            error => {\n              console.log(error);\n            }\n          );\n        } else if (vm.sentiment == \"negative\") {\n          let searchObj = {\n            searchText: vm.selectedWord,\n            locationId: vm.locationId,\n            maxRating: 2\n          };\n          FeedbackService.searchFeedbackAdvanced(searchObj).then(\n            response => {\n              vm.feedbackList = response.results;\n              vm.totalResults = response.count;\n              vm.paginationData.total = response.count;              \n              EventService.$emit(\"loading\", \"hide\");\n            },\n            error => {\n              console.log(error);\n            }\n          );\n        }\n      } else if (vm.selectedWord && !vm.sentiment) {\n        vm.sourceChange = { label: vm.selectedWord, value: vm.selectedWord };\n      } else {\n        this.searchFeedback(0);\n      }\n    },\n    setPageNum(pageNum) {\n      this.selectedPage = pageNum;\n\n      if (this.oldSelectedRating) {\n        this.selectedRating = this.oldSelectedRating;\n      }\n\n      this.searchFeedback(pageNum);\n    },\n    toggleSort(setSortType) {\n      if (this.sortType != setSortType) {\n        this.sortType = setSortType;\n      } else {\n        this.sortType = \"-\" + this.sortType;\n      }\n      this.searchFeedback();\n    },\n    toggleShowFullText(feedback) {\n      feedback.showAll = !feedback.showAll;\n    },\n    toggleShowFullReply(feedback) {\n      feedback.showReply = !feedback.showReply;\n    },\n    // displayDate(millis) {\n    //   var date = new Date(millis);\n    //   return (\n    //     1 +\n    //     date.getMonth() +\n    //     \"/\" +\n    //     date.getDate() +\n    //     \"/\" +\n    //     (date.getFullYear() % 100)\n    //   );\n    // },\n    getIconForSource(data) {\n      let source = data.source;\n      if (source == \"Google\") {\n        return require(\"../../public/img/Google_Icon.png\");\n      } else if (source == \"Yelp\") {\n        return require(\"../../public/img/Yelp_Icon.png\");\n      } else if (source == \"Facebook\") {\n        return require(\"../../public/img/Facebook_Icon.png\");\n      } else if (source == \"Foursquare\") {\n        return require(\"../../public/img/Foursquare_Icon.png\");\n      } else if (source == \"Citysearch\") {\n        return require(\"../../public/img/Citysearch_Icon.png\");\n      } else if (source == \"Yellowpages\") {\n        return require(\"../../public/img/YP_Icon.png\");\n        // } else if (source == 'TripAdvisor') {\n        //   return require('../../public/img/TripAdvisor_Icon.png');\n        // } else if (source == 'BBB') {\n        //   return require('../../public/img/BBB_Icon.png');\n      } else {\n        if(data.rating) {\n          return require(\"../../public/img/Opiniion_Icon.png\");\n        } else {\n          return require(\"../../public/img/comment-alt-lines-light.svg\")\n        }\n      }\n    },\n    // highlightWord(review) {\n    //   if (review) {\n    //     let vm = this;\n    //     if (vm.selectedWord) {\n    //       vm.selectedWord = vm.selectedWord\n    //         .replace(/[&\\/\\\\#,+()$~%.'\":*?<>{}!]/g, \"\")\n    //         .trim();\n    //       let word = vm.selectedWord;\n    //       return review.replace(new RegExp(word, \"gi\"), match => {\n    //         return (\n    //           '<span style=\"background: #4fcbc5; border-radius: 5px; padding: 1px 2px;\">' +\n    //           match +\n    //           \"</span>\"\n    //         );\n    //       });\n    //     } else {\n    //       return review;\n    //     }\n    //   }\n    // },\n    openCustomerDetail(feedback) {\n      var vm = this;\n      let customerId = feedback.customerId;\n      CustomerService.getCustomer(customerId).then(\n        function(response) {\n          vm.selectedCustomer = response;\n          vm.selectedCustomer.location = feedback.location;\n          let url = `/customerList/${vm.selectedCustomer.customerId}`;\n          vm.$router.push(url);\n        },\n        function(error) {\n          console.log(error);\n        }\n      );\n    },\n    openfeedbackMatch(feedback) {\n      let vm = this;\n      vm.selectedFeedback = feedback;\n      vm.openfeedbackMatchModal = true;\n    },\n    openGoogleReply(feedback) {\n      \n      this.selectedFeedback = feedback;\n      this.openGoogleReplyModal = true;\n    },\n    closeGoogleReply(response) {\n      this.selectedFeedback = null;\n      this.openGoogleReplyModal = false;\n      if(response) {\n        this.searchFeedback(this.selectedPage);\n      }\n    },\n    openFacebookReply(feedback) {\n      LocationService.getLocation(feedback.locationId).then(response => {\n        if (\n          response.reviewsList &&\n          response.reviewsList.facebook &&\n          response.reviewsList.facebook.url\n        ) {\n          let urlBase = response.reviewsList.facebook.url;\n          let url = \"\";\n          if (!urlBase.includes(\"reviews\")) {\n            if (urlBase.charAt(urlBase.length - 1) == \"/\") {\n              url = urlBase + \"reviews\";\n            } else {\n              url = urlBase + \"/reviews\";\n            }\n          } else {\n            url = urlBase;\n          }\n          window.open(url, \"_blank\");\n        } else {\n          EventService.$emit(\n            \"warningMessage\",\n            \"No current link available to follow.\"\n          );\n        }\n      });\n    },\n    openYelpReply(feedback) {\n      LocationService.getLocation(feedback.locationId).then(response => {\n        if (\n          response.reviewsList &&\n          response.reviewsList.yelp &&\n          response.reviewsList.yelp.url\n        ) {\n          let url = response.reviewsList.yelp.url;\n          window.open(url, \"_blank\");\n        } else {\n          EventService.$emit(\n            \"warningMessage\",\n            \"No current link available to follow.\"\n          );\n        }\n      });\n    },\n    // openUnlinkedGoogleReply() {\n    //   let vm = this;\n    //   vm.$router.push({path: `/data/gmb/link/${vm.userId}`});\n    // },\n    handleSort(data) {\n      let vm = this;\n      let direction = '-';\n      if(vm.sortType[0] == '-') {\n        direction = '';\n      }\n      vm.sortType = direction + data.prop;\n      vm.searchFeedback();\n    },\n\n    searchFeedback(pageNum) {\n      \n      EventService.$emit(\"loading\", \"show\");\n      var searchObject = {};\n      if (this.searchText) {\n        searchObject.searchText = this.searchText;\n      }\n\n      if (this.sourceChange && this.sourceChange.value) {\n        searchObject.source = this.sourceChange.value;\n      }\n\n      if (searchObject.source == \"Positive\") {\n        searchObject.minRating = 4;\n        searchObject.source = \"\";\n      } else if (searchObject.source == \"Negative\") {\n        searchObject.maxRating = 2;\n        searchObject.source = \"\";\n      }\n\n      if (this.selectedRating) {\n        searchObject.source = this.selectedWord;\n        searchObject.maxRating = this.selectedRating;\n        searchObject.minRating = this.selectedRating;\n        this.oldSelectedRating = this.selectedRating;\n        this.selectedRating = null;\n      } else {\n        this.selectedWord = this.searchText;\n      }\n\n      if (this.locationId) {\n        searchObject.locationId = this.locationId;\n      }\n\n      if (this.sortType) {\n        searchObject.sort = this.sortType;\n      }\n\n      if (pageNum) {\n        searchObject.pageNum = pageNum;\n        this.paginationData.currentPage = pageNum - 1;\n      } else {\n        searchObject.pageNum = 0;\n        this.paginationData.currentPage = 0;\n      }\n\n      if(this.$route.query.sourceId) {\n        searchObject.sourceId = this.$route.query.sourceId;\n        this.$router.replace('/feedback');\n      }\n      if(this.filters.highlightedWord) {\n        searchObject.highlightedWord = this.filters.highlightedWord;\n      }\n\n      searchObject.resPerPage = this.paginationData.perPage;\n\n      searchObject.resPerPage = this.paginationData.perPage;\n\n      var vm = this;\n      vm.showFilters = false;\n\n      searchObject.filters = vm.filters;\n      FeedbackService.searchFeedbackAdvanced(searchObject).then(\n        function(response) {\n          if(response[0] && response[0].results) vm.feedbackList = response[0].results;\n          if(response[0] && response[0].count && response[0].count[0] && response[0].count[0].total) vm.paginationData.total = response[0].count[0].total;          \n          EventService.$emit(\"loading\", \"hide\");\n        },\n        function(error) {\n          console.log(error);\n          EventService.$emit(\"loading\", \"hide\");\n        }\n      );\n    },\n    replyToCustomer(feedback) {\n      // console.log('feedback', feedback);\n      this.selectedFeedback = feedback;\n      this.replyVisible = true;\n    },\n    discardResponse() {\n      this.selectedFeedback = '';\n      this.feedbackReply = \"\";\n      this.replyVisible = false;\n    },\n    parseDate(date) {\n      let newDate = new Date(date);\n      let dateString = (newDate.getMonth()+1) + newDate.toString().substr(7,8);\n      let formattedDateString = dateString.replace(/\\s/g, '/');\n      return formattedDateString;\n    },\n    checkStars(rating) {\n      var htmlString = '';\n      var i;\n      for(i = 0; i < rating; i++) {\n        htmlString += '<i style=\"color:#EBC545\" class=\"fas fa-star\"></i>'\n      }\n      return htmlString\n    },\n    sendResponse(feedback) {\n      let vm = this;\n      \n      if (vm.feedbackReply && vm.feedbackReply.length > 5) {\n        CustomerService.respondToCustomer(\n          feedback.customerId,\n          \"email\",\n          vm.feedbackReply,\n          vm.replySubject,\n          feedback.date\n        ).then(\n          response => {\n            vm.feedbackReply = \"\";\n            EventService.$emit(\"successMessage\", \"Message sent!\");\n            EventService.$emit(\"loading\", \"hide\");\n            vm.getFeedbackData();\n          },\n          error => {\n            EventService.$emit(\n              \"errorMessage\",\n              \"Something went wrong contacting the customer.\"\n            );\n            console.log(error);\n            EventService.$emit(\"loading\", \"hide\");\n          }\n        );\n      } else {\n        EventService.$emit(\n          \"errorMessage\",\n          \"Message is not long enough to be sent.\"\n        );\n      }\n    },\n    changeSource() {\n\n      if (this.sourceChange != this.oldSource) {\n        this.oldSource = this.sourceChange;\n        this.searchFeedback();\n      }\n    },\n    test(event) {\n      console.log(event);\n    },\n    closeCustomerModal() {\n      this.openCustomerDetailModal = false;\n      this.selectedCustomer = null;\n      this.openfeedbackMatchModal = false;\n      this.selectedFeedback = null;\n    }\n  }\n};\n</script>\n\n<style scoped>\n\n.per-page-select {\n  max-width: 80px;\n}\n\n.subject-input label {\n  width: 90px;\n}\n.subject-line {\n  width: 100%;\n}\n.feedback-header-top {\n  width: 100%;\n  display: flex;\n  border-radius: 1px;\n  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.25);\n  background: #fff;\n  margin-bottom: 20px;\n  margin-right: 50px;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.feedback-filter-source {\n  margin-left: 30px;\n  font-size: 14px;\n  display: flex;\n}\n\n.feedback-filter-source label {\n  margin-right: 10px;\n  margin-top: 10px;\n}\n\n.feedback-filter-source select {\n  appearance: none;\n  background: transparent;\n  padding: 5px 0 5px 10px;\n  border-radius: 1px;\n  z-index: 99;\n}\n\n.feedback-controls-search {\n  background: transparent;\n  margin: 20px 20px;\n  border: 2px solid #efefef;\n  border-radius: 1px;\n  width: 350px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.open-indicator {\n  z-index: 98;\n  position: absolute;\n  transform: translateX(-15px) translateY(8px);\n  display: inline-block;\n  cursor: pointer;\n  pointer-events: all;\n  transition: all 150ms cubic-bezier(1, -0.115, 0.975, 0.855);\n  transition-timing-function: cubic-bezier(1, -0.115, 0.975, 0.855);\n  opacity: 1;\n  height: 28px;\n  width: 10px;\n}\n.open-indicator:before {\n  border-color: #4fcbc5;\n  border-style: solid;\n  border-width: 3px 3px 0 0;\n  content: \"\";\n  display: inline-block;\n  height: 5px;\n  width: 5px;\n  vertical-align: top;\n  transform: rotate(133deg);\n  transition: all 150ms cubic-bezier(1, -0.115, 0.975, 0.855);\n  transition-timing-function: cubic-bezier(1, -0.115, 0.975, 0.855);\n  box-sizing: inherit;\n}\n\n.feedback-controls-search input {\n  border: none;\n  padding: 15px 15px 15px 15px;\n  font-size: 12px;\n  width: 100%;\n  margin: 0;\n}\n\n.feedback-controls-search input::selection {\n  background-color: #4fcbc5;\n}\n\n.feedback-controls-search-icon {\n  margin-right: 15px;\n  color: #4fcbc5;\n  font-size: 16px;\n}\n\n.feedback-table {\n  background: white;\n  font-size: 14px;\n  padding: 10px 0;\n  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.25);\n  border-radius: 1px;\n  clear: both;\n}\n\n.el-popper {\n  margin-right: 125px;\n}\n\n.feedback-header {\n  width: calc(100% - 20px);\n  font-weight: bold;\n  padding: 10px 10px 20px 10px;\n  border-bottom: 3px solid #efefef;\n  height: 14px;\n  display: flex;\n  flex-wrap: nowrap;\n  justify-content: space-evenly;\n}\n\n.feedback-header div,\n.feedback-row div {\n  margin: auto;\n}\n\n.feedback-row {\n  width: calc(100% - 20px);\n  clear: both;\n  padding: 10px;\n  border-bottom: 1px solid #efefef;\n  height: auto;\n  display: flex;\n  flex-wrap: nowrap;\n  justify-content: space-evenly;\n  font-size: 12px;\n}\n\n.feedback-row:hover {\n  background: #dadada;\n}\n\n.feedback-cell-1 {\n  flex: 0 0 150px;\n}\n\n.feedback-cell-2 {\n  cursor: pointer;\n  flex: 0 0 75px;\n}\n\n.feedback-cell-3 {\n  cursor: pointer;\n  flex: 0 0 75px;\n  text-align: center;\n}\n\n.feedback-cell-4 {\n  cursor: pointer;\n  flex: 0 0 200px;\n}\n\n.feedback-name-link {\n  text-decoration: underline;\n  cursor: pointer;\n}\n\n.feedback-cell-5 {\n  cursor: pointer;\n  flex: 0 0 70px;\n}\n\n.feedback-cell-data-5 {\n  flex: 0 0 55px;\n  display: flex;\n  color: #4fcbc5;\n}\n\n.feedback-cell-6 {\n  cursor: pointer;\n  flex: 1 1 200px;\n  padding-left: 35px;\n  padding-right: 20px;\n  position: relative;\n}\n\n.feedback-cell-7 {\n  flex: 0 0 75px;\n  text-transform: capitalize;\n}\n\n.feedback-cell-7 span {\n  margin-right: 5px;\n}\n\n.feedback-cell-7 i {\n  cursor: pointer;\n  color: #4fcbc5;\n}\n\n.feedback-cell-8 {\n  flex: 0 0 75px;\n}\n\n.feedback-cell-8 span {\n  margin-right: 5px;\n  cursor: pointer;\n}\n\n.v-select {\n  margin-left: 20px;\n}\n\n.feedback-pagination {\n  border-top: 3px solid #efefef;\n  padding: 10px 10px 0 10px;\n}\n\n.feedback-pagination button {\n  border: 1px solid #efefef;\n  padding: 10px;\n  cursor: pointer;\n  background: white;\n  border-radius: 0;\n  min-width: 50px;\n}\n\n.feedback-pagination button.button-selected {\n  background: #dfdfdf;\n}\n\n.feedback-pagination button:hover {\n  background: #dfdfdf;\n}\n\n.lower-container {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n}\n\n.export-container {\n  margin-top: 10px;\n  margin-right: 150px;\n  display: flex;\n  justify-content: center;\n}\n\n.export-container button {\n  background: #4fcbc5;\n  color: white;\n  padding: 10px 20px;\n  border-radius: 1px;\n  cursor: pointer;\n}\n\n.top {\n  margin-bottom: 20px;\n  padding: 10px 15px;\n}\n\n.select-word {\n  margin: 5px;\n}\n\n.log-type {\n  overflow: hidden;\n  max-height: 44px;\n  position: relative;\n}\n\n.log-type-full {\n  max-height: unset;\n}\n\n.message-text-spacer {\n  height: 10px;\n}\n\n.message-text-expand {\n  float: right;\n  margin-top: -17px;\n  cursor: pointer;\n  background: inherit;\n  padding: 5px;\n  color: #4fcbc5;\n}\n\n.phrase-box {\n  display: flex;\n  flex-direction: row;\n  margin-top: 5px;\n  flex-wrap: wrap;\n  width: 100%;\n  line-height: 1.5em;\n}\n\n.top-header {\n  text-align: center;\n}\n\n.phrase-container span {\n  color: orange;\n  cursor: pointer;\n  margin-left: 10px;\n}\n\ni.greyed {\n  color: #545454;\n}\n\n.review-text {\n  word-break: keep-all;\n}\n\n.reply-button {\n  width: 130px;\n}\n\n.secondary {\n  background: #f48d46;\n  color: white;\n}\n\n.reply-container {\n  max-height: 400px;\n}\n\n.to-input {\n  margin-top: 20px;\n  padding-bottom: 10px;\n  padding-left: 15px;\n  display: flex;\n  border-bottom: 1px solid #d3d3d39b;\n}\n\n.to-input > span {\n  margin-left: 20px;\n  /* transform: translateX(10px); */\n}\n\n.subject-input {\n  display: flex;\n  align-items: center;\n  width: 100%;\n  margin-top: 10px;\n  padding-bottom: 0px;\n  appearance: none;\n  border: none;\n  border-bottom: 1px solid #d3d3d39b;\n}\n\n.subject-input label {\n  margin-right: 10px;\n  margin-left: 15px;\n  transform: translateY(-5px);\n}\n\n.subject-input input {\n  border: none;\n  background: transparent;\n}\n\n.reply-message {\n  width: calc(100% - 20px);\n  max-width: calc(100% - 20px);\n  min-width: calc(100% - 20px);\n  min-height: 150px;\n  max-height: 200px;\n  margin-top: 10px;\n  margin-left: 10px;\n  border: none;\n  outline: none;\n  padding: 5px;\n  background: transparent;\n  resize: none;\n}\n\n#reply-message .el-textarea__inner {\n  max-height: 300px !important;\n}\n\n.reply-buttons {\n  width: 90%;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin: 10px 20px;\n}\n\n.discard {\n  color: #f48d46;\n  text-transform: uppercase;\n}\n\n.filter-button {\n  width: 60px;\n  height: 50px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.cell .edit {\n  display: none;\n}\n\n.cell:hover .edit{\n  display: inline-block;\n  margin-left: 10px;\n}\n\n</style>"]}]}