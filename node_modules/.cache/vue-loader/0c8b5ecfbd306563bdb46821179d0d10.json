{"remainingRequest":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/src/components/IntegrationPortal.vue?vue&type=style&index=0&id=4464c940&scoped=true&lang=css&","dependencies":[{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/src/components/IntegrationPortal.vue","mtime":1581270622000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmludGVncmF0aW9uLWNvbnRhaW5lciB7CiAgLyogZGlzcGxheTogZmxleDsKICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogIGNvbG9yOiAjNTQ1NDU0OwogIGJhY2tncm91bmQ6IHdoaXRlOwogIHBhZGRpbmc6IDIwcHg7CiAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICBib3gtc2hhZG93OiAwcHggMnB4IDRweCByZ2JhKDAsIDAsIDAsIDAuMjUpOwogIGJvcmRlci1yYWRpdXM6IDFweDsgKi8KfQoKLm9wdGlvbi1zZWxlY3Rpb24gewogIHRleHQtdHJhbnNmb3JtOiBjYXBpdGFsaXplOwp9CgouaW50ZWdyYXRpb24taGVhZGVyIHsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKfQoKLmJ1dHRvbi1jb250YWluZXIgYnV0dG9uIHsKICBiYWNrZ3JvdW5kOiAjNGZjYmM1OwogIGNvbG9yOiB3aGl0ZTsKICBwYWRkaW5nOiAxMHB4IDIwcHg7CiAgYm9yZGVyLXJhZGl1czogM3B4Owp9CgouaW5wdXQtY29udGFpbmVyIHsKICBtYXJnaW4tdG9wOiAzMHB4Owp9CgouaW50ZWdyYXRpb24tZGlzcGxheSB7CiAgbWFyZ2luLXRvcDogMjBweDsKfQoKLmludGVncmF0aW9uLWxpc3RpbmcgewogIG1hcmdpbi1ib3R0b206IDEwcHg7Cn0KCi5pbnRlZ3JhdGlvbi1ib3ggewogIGJveC1zaGFkb3c6IDBweCAxcHggMnB4IHJnYmEoMCwgMCwgMCwgMC4yNSk7CiAgcGFkZGluZzogMjBweCAzMHB4OwogIGRpc3BsYXk6IGZsZXg7CiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7Cn0KCi5pbnRlZ3JhdGlvbi1ib3ggc3BhbiB7CiAgd2lkdGg6IDMyNXB4OwogIGZsZXgtd3JhcDogd3JhcDsKfQoKLmJ1dHRvbiB7CiAgYmFja2dyb3VuZDogIzRmY2JjNTsKICBjb2xvcjogd2hpdGU7CiAgYm9yZGVyLXJhZGl1czogNXB4OwogIHBhZGRpbmc6IDVweCAxMHB4OwogIGN1cnNvcjogcG9pbnRlcjsKfQoKLmVkaXQgewogIGJhY2tncm91bmQ6IG9yYW5nZTsKfQoKLnNtYWxsZXJFZGl0IHsKICB3aWR0aDogMTAwcHg7Cn0KCi5kaXNwbGF5LWNvbHVtbiB7CiAgbWFyZ2luOiA1cHg7Cn0KCg=="},{"version":3,"sources":["IntegrationPortal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAshBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"IntegrationPortal.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"integration-container\" v-if=\"isAdmin\">\n    <el-card>\n      <h3>Add New Integration:</h3>\n      <div class=\"add-integration\">\n        <div class=\"integration-header\">\n          <select v-model=\"integration.integrationType\">\n            <option class=\"option-selection\" v-for=\"integration in integrationOptions\" :value=\"integration.value\" @change=\"clearResults()\">{{integration.name}}</option>\n          </select>\n          <div class=\"button-container\">\n            <el-button type=\"primary\" @click.once=\"saveIntegration()\" :disabled=\"!integration.name || !integration.locationId || !integration.apiKey\">Save</el-button>\n          </div>\n        </div>\n        <div class=\"input-container\">\n          <div class=\"data-input\">\n            <label>Integration Name</label><input type=\"text\" v-model=\"integration.name\" />\n          </div>\n          <div class=\"data-input\">\n            <label>Opiniion LocationId</label><input type=\"text\" v-model=\"integration.locationId\" />\n          </div>\n          <div class=\"data-input\">\n            <label>Opiniion Api Key</label><input type=\"text\" v-model=\"integration.apiKey\" />\n          </div>\n\n          <div v-if=\"integration.integrationType == 'entrata'\">\n            <div class=\"data-input\">\n              <label>User Name</label>\n              <input type=\"text\" v-model=\"integration.userName\" />\n            </div>\n            <div class=\"data-input\">\n              <label>User Password</label>\n              <input type=\"text\" v-model=\"integration.userPass\" />\n            </div>\n            <div class=\"data-input\">\n              <label>Property Id</label>\n              <input type=\"text\" v-model=\"integration.propId\" />\n            </div>\n            <div class=\"data-input\">\n              <label>Subdomain</label>\n              <input type=\"text\" v-model=\"integration.siteId\" />\n            </div>\n            <div class=\"data-input\">\n              <button @click=\"getEntrataProperties()\">Get Properties</button>\n            </div>\n          </div>\n\n\n          <div v-if=\"integration.integrationType == 'foreup'\">\n            <div class=\"data-input\">\n              <label>Course Id</label>\n              <input type=\"text\" v-model=\"integration.externalLocationId\" />\n            </div>\n          </div>\n\n\n          <div v-if=\"integration.integrationType == 'infusionsoft'\">\n            <div class=\"data-input\">\n              <label>Owner Id</label>\n              <input type=\"text\" v-model=\"integration.siteId\" />\n            </div>\n            <div class=\"data-input\">\n              <label>Access Token</label>\n              <input type=\"text\" v-model=\"integration.userName\" />\n            </div>\n            <div class=\"data-input\">\n              <label>Refresh Token</label>\n              <input type=\"text\" v-model=\"integration.userPass\" />\n            </div>\n          </div>\n\n\n          <div v-if=\"integration.integrationType == 'mindbody'\">\n            <div class=\"data-input\">\n              <label>User Name</label>\n              <input type=\"text\" v-model=\"integration.userName\" />\n            </div>\n            <div class=\"data-input\">\n              <label>User Password</label>\n              <input type=\"text\" v-model=\"integration.userPass\" />\n            </div>\n            <div class=\"data-input\">\n              <label>Source Name</label>\n              <input type=\"text\" v-model=\"integration.sourceName\" />\n            </div>\n            <div class=\"data-input\">\n              <label>Source Password</label>\n              <input type=\"text\" v-model=\"integration.sourcePass\" />\n            </div>\n            <div class=\"data-input\">\n              <label>Site Id</label>\n              <input type=\"text\" v-model=\"integration.externalLocationId\" />\n            </div>\n          </div>\n\n\n          <div v-if=\"integration.integrationType == 'pestpac'\">\n            <div class=\"data-input\">\n              <label>Tenant Id</label>\n              <input type=\"text\" v-model=\"integration.datapoint1\" />\n            </div>\n          </div>\n\n\n          <div v-if=\"integration.integrationType == 'pestroutes'\">\n            <div class=\"data-input\">\n              <label>External AuthKey</label>\n              <input type=\"text\" v-model=\"integration.externalApiKey\" />\n            </div>\n            <div class=\"data-input\">\n              <label>AuthToken</label>\n              <input type=\"text\" v-model=\"integration.userName\" />\n            </div>\n            <div class=\"data-input\">\n              <label>Subdomain</label>\n              <input type=\"text\" v-model=\"integration.externalLocationId\" />\n            </div>\n          </div>\n\n\n          <div v-if=\"integration.integrationType == 'realpage'\">\n            <div class=\"data-input\">\n              <label>Client Id</label>\n              <input type=\"text\" v-model=\"integration.propId\" />\n            </div>\n            <div class=\"data-input\">\n              <label>Site Id</label>\n              <input type=\"text\" v-model=\"integration.siteId\" />\n            </div>\n          </div>\n\n\n          <div v-if=\"integration.integrationType == 'resman'\">\n            <div class=\"data-input\">\n              <label>External Api Key</label>\n              <input type=\"text\" v-model=\"integration.externalApiKey\" />\n            </div>\n            <div class=\"data-input\">\n              <label>External Integration Partner Id</label>\n              <input type=\"text\" v-model=\"integration.ipid\" />\n            </div>\n            <div class=\"data-input\">\n              <label>External Property Id</label>\n              <input type=\"text\" v-model=\"integration.propId\" />\n            </div>\n            <div class=\"data-input\">\n              <label>External Account Id</label>\n              <input type=\"text\" v-model=\"integration.datapoint1\" />\n            </div>\n          </div>\n\n\n          <div v-if=\"integration.integrationType == 'yardi'\">\n            <div class=\"data-input\">\n              <label>Yardi URL</label>\n              <input type=\"text\" v-model=\"integration.datapoint1\" />\n            </div>\n            <div class=\"data-input\">\n              <label>User Name</label>\n              <input type=\"text\" v-model=\"integration.userName\" />\n            </div>\n            <div class=\"data-input\">\n              <label>Password</label>\n              <input type=\"text\" v-model=\"integration.userPass\" />\n            </div>\n            <div class=\"data-input\">\n              <label>Server</label>\n              <input type=\"text\" v-model=\"integration.datapoint2\" />\n            </div>\n            <div class=\"data-input\">\n              <label>Database</label>\n              <input type=\"text\" v-model=\"integration.siteId\" />\n            </div>\n            <div class=\"data-input\">\n              <label>Property Id</label>\n              <input type=\"text\" v-model=\"integration.propId\" />\n            </div>\n            <div class=\"data-input\">\n              <label>Days back to pull</label>\n              <input type=\"number\" v-model=\"integration.datapoint3\" />\n            </div>\n            <div class=\"data-input\">\n              <button @click=\"getYardiProperties()\">Get Properties</button>\n            </div>\n          </div>\n\n\n          <div v-if=\"integration.integrationType == 'zenoti'\">\n            <div class=\"data-input\">\n              <label>External Api Key</label>\n              <input type=\"text\" v-model=\"integration.externalApiKey\" />\n            </div>\n            <div class=\"data-input\">\n              <label>User Name</label>\n              <input type=\"text\" v-model=\"integration.userName\" />\n            </div>\n            <div class=\"data-input\">\n              <label>User Password</label>\n              <input type=\"text\" v-model=\"integration.userPass\" />\n            </div>\n            <div class=\"data-input\">\n              <label>Client Id</label>\n              <input type=\"text\" v-model=\"integration.externalLocationId\" />\n            </div>\n            <div class=\"data-input\">\n              <label>Center Id</label>\n              <input type=\"text\" v-model=\"integration.datapoint2\" />\n            </div>\n          </div>\n\n          <div v-if=\"results\">\n            <div v-html=\"results\"></div>\n          </div>\n        </div>\n      </div>\n      <div class=\"integration-display\" v-if=\"integration.integrationType\">\n        <h2>Existing Integrations</h2>\n        <div class=\"integration-listing\" v-for=\"(singleIntegration, index) in allIntegrations\" :key=\"singleIntegration.id\">\n          <div class=\"integration-box\" v-if=\"singleIntegration.integrationType == integration.integrationType\">\n            <span class=\"display-column\">\n              <div v-if=\"!singleIntegration.editing && singleIntegration.name\">{{singleIntegration.name}}</div>\n              <input class=\"smallerEdit\" v-if=\"singleIntegration.editing && singleIntegration.name\" v-model=\"singleIntegration.name\"/>\n            </span>\n            <span class=\"display-column\">\n              <div v-if=\"!singleIntegration.editing && singleIntegration.locationId\">{{singleIntegration.locationId}}</div>\n              <input class=\"smallerEdit\" v-if=\"singleIntegration.editing && singleIntegration.locationId\" v-model=\"singleIntegration.locationId\"/>\n            </span>\n            <span class=\"display-column\">\n              <div v-if=\"!singleIntegration.editing && singleIntegration.apiKey\">{{singleIntegration.apiKey}}</div>\n              <input class=\"smallerEdit\" v-if=\"singleIntegration.editing && singleIntegration.apiKey\" v-model=\"singleIntegration.apiKey\"/>\n            </span>\n            <span class=\"display-column\">\n              <div v-if=\"!singleIntegration.editing && singleIntegration.externalApiKey\">{{singleIntegration.externalApiKey}}</div>\n              <input class=\"smallerEdit\" v-if=\"singleIntegration.editing && singleIntegration.externalApiKey\" v-model=\"singleIntegration.externalApiKey\"/>\n            </span>\n            <span class=\"display-column\">\n              <div v-if=\"!singleIntegration.editing && singleIntegration.ipid\">{{singleIntegration.ipid}}</div>\n              <input class=\"smallerEdit\" v-if=\"singleIntegration.editing && singleIntegration.ipid\" v-model=\"singleIntegration.ipid\"/>\n            </span>\n            <span class=\"display-column\">\n              <div v-if=\"!singleIntegration.editing && singleIntegration.propId\">{{singleIntegration.propId}}</div>\n              <input class=\"smallerEdit\" v-if=\"singleIntegration.editing && singleIntegration.propId\" v-model=\"singleIntegration.propId\"/>\n            </span>\n            <span class=\"display-column\">\n              <div v-if=\"!singleIntegration.editing && singleIntegration.sourceName\">{{singleIntegration.sourceName}}</div>\n              <input class=\"smallerEdit\" v-if=\"singleIntegration.editing && singleIntegration.sourceName\" v-model=\"singleIntegration.sourceName\"/>\n            </span>\n            <span class=\"display-column\">\n              <div v-if=\"!singleIntegration.editing && singleIntegration.sourcePass\">{{singleIntegration.sourcePass}}</div>\n              <input class=\"smallerEdit\" v-if=\"singleIntegration.editing && singleIntegration.sourcePass\" v-model=\"singleIntegration.sourcePass\"/>\n            </span>\n            <span class=\"display-column\">\n              <div v-if=\"!singleIntegration.editing && singleIntegration.siteId\">{{singleIntegration.siteId}}</div>\n              <input class=\"smallerEdit\" v-if=\"singleIntegration.editing && singleIntegration.siteId\" v-model=\"singleIntegration.siteId\"/>\n            </span>\n            <span class=\"display-column\">\n              <div v-if=\"!singleIntegration.editing && singleIntegration.userPass\">{{singleIntegration.userPass}}</div>\n              <input class=\"smallerEdit\" v-if=\"singleIntegration.editing && singleIntegration.userPass\" v-model=\"singleIntegration.userPass\"/>\n            </span>\n            <span class=\"display-column\">\n              <div v-if=\"!singleIntegration.editing && singleIntegration.userName\">{{singleIntegration.userName}}</div>\n              <input class=\"smallerEdit\" v-if=\"singleIntegration.editing && singleIntegration.userName\" v-model=\"singleIntegration.userName\"/>\n            </span>\n            <span class=\"display-column\">\n              <div v-if=\"!singleIntegration.editing && singleIntegration.externalLocationId\">{{singleIntegration.externalLocationId}}</div>\n              <input class=\"smallerEdit\" v-if=\"singleIntegration.editing && singleIntegration.externalLocationId\" v-model=\"singleIntegration.externalLocationId\"/>\n            </span>\n            <span class=\"display-column\">\n              <div v-if=\"!singleIntegration.editing && singleIntegration.datapoint1\">{{singleIntegration.datapoint1}}</div>\n              <input class=\"smallerEdit\" v-if=\"singleIntegration.editing && singleIntegration.datapoint1\" v-model=\"singleIntegration.datapoint1\"/>\n            </span>\n            <span class=\"display-column\">\n              <div v-if=\"!singleIntegration.editing && singleIntegration.datapoint2\">{{singleIntegration.datapoint2}}</div>\n              <input class=\"smallerEdit\" v-if=\"singleIntegration.editing && singleIntegration.datapoint2\" v-model=\"singleIntegration.datapoint2\"/>\n            </span>\n            <span class=\"display-column\">\n              <div v-if=\"!singleIntegration.editing && singleIntegration.datapoint3\">{{singleIntegration.datapoint3}}</div>\n              <input class=\"smallerEdit\" v-if=\"singleIntegration.editing && singleIntegration.datapoint3\" v-model=\"singleIntegration.datapoint3\"/>\n            </span>\n            <span class=\"display-column\">\n              <el-button v-if=\"!singleIntegration.editing\" @click=\"testIntegration(singleIntegration)\">Test</el-button>\n              <el-button v-if=\"singleIntegration.status == 'active'\" @click=\"deactivateIntegration(singleIntegration.id, index)\">DeActivate</el-button>\n              <el-button v-if=\"singleIntegration.status == 'inactive'\" @click=\"activateIntegration(singleIntegration.id, index)\">Activate</el-button>\n              <el-button v-if=\"!singleIntegration.editing\" @click=\"editIntegration(singleIntegration, index)\">Edit</el-button>\n              <el-button type=\"primary\" v-if=\"singleIntegration.editing\" @click=\"updateIntegration(singleIntegration, index)\">Save</el-button>\n            </span>\n          </div>\n        </div>\n      </div>\n    </el-card>\n\n  </div>\n</template>\n\n<script>\nimport IntegrationService from \"./../services/IntegrationService\";\nimport UserService from \"./../services/UserService\";\nimport { EventService } from \"../main\";\n\nexport default {\n  name: \"integrationPortal\",\n  data: function() {\n    return {\n      isAdmin: false,\n      integration: {\n        name: \"\",\n        locationId: \"\",\n        apiKey: \"\",\n        ipid: \"\",\n        externalApiKey: \"\",\n        propId: \"\",\n        sourceName: \"\",\n        sourcePass: \"\",\n        siteId: \"\",\n        userName: \"\",\n        userPass: \"\",\n        externalLocationId: \"\",\n        datapoint1: \"\",\n        datapoint2: \"\",\n        datapoint3: \"\",\n        datapoint4: \"\",\n        datapoint5: \"\",\n        datapoint6: \"\",\n        datapoint7: \"\",\n        datapoint8: \"\",\n        datapoint9: \"\",\n        integrationType: null\n      },\n      integrationOptions: [\n        { value: \"entrata\", name: \"Entrata\" },\n        { value: \"foreup\", name: \"ForeUp\" },\n        { value: \"infusionsoft\", name: \"InfusionSoft\" },\n        { value: \"mindbody\", name: \"MindBody\" },\n        { value: \"pestpac\", name: \"PestPac\"},\n        { value: \"pestroutes\", name: \"PestRoutes\" },\n        { value: \"realpage\", name: \"RealPage\" },\n        { value: \"resman\", name: \"Resman\" },\n        { value: \"yardi\", name: \"Yardi\" },\n        { value: \"zenoti\", name: \"Zenoti\" }\n      ],\n      allIntegrations: [],\n      results: null\n    };\n  },\n  created() {\n    this.checkUser();\n    this.getIntegrations();\n  },\n  methods: {\n    saveIntegration() {\n      let vm = this;\n      IntegrationService.saveIntegration(vm.integration.integrationType, vm.integration).then(response => {\n        if(response.success && vm.integration.integrationType == 'resman') {\n          EventService.$emit('successMessage', 'Hooray! Integration Saved. If you have not already, please contact Resman and have them associate this integration with the Opiniion Id and API key.')\n          this.clearIntegration();\n        } else if(response.success && vm.integration.integrationType != 'resman') {\n          EventService.$emit('successMessage', 'Hooray! Integration Saved.')\n          this.clearIntegration();\n        } else {\n          this.clearIntegration();\n          EventService.$emit('errorMessage', 'Sorry, something went wrong. Please try again.')\n        }\n      })\n    },\n    checkUser() {\n      var vm = this;\n      vm.isAdmin = JSON.parse(localStorage.getItem('currentUser')).isSuperAdmin;\n    },\n     clearIntegration() {\n      this.integration = {\n        name: \"\",\n        locationId: \"\",\n        apiKey: \"\",\n        ipid: \"\",\n        externalApiKey: \"\",\n        propId: \"\",\n        sourceName: \"\",\n        sourcePass: \"\",\n        siteId: \"\",\n        userName: \"\",\n        userPass: \"\",\n        externalLocationId: \"\",\n        datapoint1: \"\",\n        datapoint2: \"\",\n        datapoint3: \"\",\n        datapoint4: \"\",\n        datapoint5: \"\",\n        datapoint6: \"\",\n        datapoint7: \"\",\n        datapoint8: \"\",\n        datapoint9: \"\",\n        integrationType: null\n      }\n    },\n    deactivateIntegration(id, index) {\n      let vm = this;\n      IntegrationService.deactivateIntegration(id).then(response => {\n        if(response.success) {\n          console.log('Success!');\n          vm.allIntegrations[index].status = 'inactive'\n        } else {\n          console.log('Failed!');\n        }\n      })\n    },\n    activateIntegration(id, index) {\n      let vm = this;\n      IntegrationService.activateIntegration(id).then(response => {\n        if(response.success) {\n          console.log('Success!');\n          vm.allIntegrations[index].status = 'active'\n        } else {\n          console.log('Failed!');\n        }\n      })\n    },\n    editIntegration(integration, index) {\n      let vm = this;\n      let tempName = integration.name;\n      vm.allIntegrations[index].editing = false;\n      vm.allIntegrations[index].editing = true;\n      vm.allIntegrations[index].name = '';\n      vm.allIntegrations[index].name = tempName;\n\n    },\n    updateIntegration(integration, index) {\n      let vm = this;\n      IntegrationService.updateIntegration(integration).then(response => {\n        if(response.success) {\n          vm.getIntegrations();\n        } else {\n          console.log('Error');\n\n        }\n        vm.allIntegrations[index].editing = false;\n      })\n    },\n    getIntegrations() {\n      let vm = this;\n      EventService.$emit(\"loading\", \"show\");\n      IntegrationService.getIntegrations().then(response => {\n        EventService.$emit(\"loading\", \"hide\");\n        vm.allIntegrations = response;\n        vm.allIntegrations.map(el => {\n          el.editing = false;\n        })\n      })\n    },\n    getEntrataProperties() {\n      var vm = this;\n      vm.results = null;\n      var integrationData = {\n        type: this.integration.integrationType,\n        siteId: this.integration.siteId,\n        userName: this.integration.userName,\n        userPass: this.integration.userPass\n      }\n      EventService.$emit(\"loading\", \"show\");\n      IntegrationService.getProperties(integrationData).then(response => {\n        EventService.$emit(\"loading\", \"hide\");\n        if (response.success) {\n          vm.results = '';\n          for (let i=0; i<response.message.length; i++) {\n            if (response.message[i].MarketingName) {\n              vm.results += response.message[i].MarketingName + ' (' + response.message[i].Address.City + ', ' + response.message[i].Address.State + ') - ' + response.message[i].PropertyID + '<br>';\n            } else {\n              vm.results = response.message;\n              break;\n            }\n          }\n        } else {\n          vm.results = response.message;\n        }\n      });\n    },\n    getYardiProperties() {\n      var vm = this;\n      vm.results = null;\n      var integrationData = {\n        type: this.integration.integrationType,\n        siteId: this.integration.siteId,\n        userName: this.integration.userName,\n        userPass: this.integration.userPass,\n        datapoint1: this.integration.datapoint1,\n        datapoint2: this.integration.datapoint2\n      }\n      EventService.$emit(\"loading\", \"show\");\n      IntegrationService.getProperties(integrationData).then(response => {\n        EventService.$emit(\"loading\", \"hide\");\n        if (response.success) {\n          if (response.message) {\n            vm.results = response.message;\n          } else {\n            vm.results = '';\n            for (let i=0; i<response.results.length; i++) {\n              vm.results += response.results[i].MarketingName + ' - ' + response.results[i].Code + '<br>';\n            }\n          }\n        } else {\n          vm.results = response.message;\n        }\n      });\n    },\n    clearResults() {\n      this.results = null;\n    },\n    getCurrentTenantList(id) {\n      var vm = this;\n      EventService.$emit(\"loading\", \"show\");\n      IntegrationService.getCurrentTenantList(id).then(response => {\n        EventService.$emit(\"loading\", \"hide\");\n        if (response.success) {\n          vm.results = response.results || response.message;\n        } else {\n          vm.results = response.message;\n        }\n      });\n    },\n    testIntegration(integration) {\n      var vm = this;\n      EventService.$emit(\"loading\", \"show\");\n      IntegrationService.testIntegration(integration.id).then(response => {\n        EventService.$emit(\"loading\", \"hide\");\n        if (response.success) {\n          alert('Success! This integration is working!');\n        } else {\n          alert(response.message);\n        }\n      });\n    }\n  }\n};\n</script>\n\n<style scoped>\n.integration-container {\n  /* display: flex;\n  flex-direction: column;\n  color: #545454;\n  background: white;\n  padding: 20px;\n  box-sizing: border-box;\n  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.25);\n  border-radius: 1px; */\n}\n\n.option-selection {\n  text-transform: capitalize;\n}\n\n.integration-header {\n  display: flex;\n  justify-content: space-between;\n}\n\n.button-container button {\n  background: #4fcbc5;\n  color: white;\n  padding: 10px 20px;\n  border-radius: 3px;\n}\n\n.input-container {\n  margin-top: 30px;\n}\n\n.integration-display {\n  margin-top: 20px;\n}\n\n.integration-listing {\n  margin-bottom: 10px;\n}\n\n.integration-box {\n  box-shadow: 0px 1px 2px rgba(0, 0, 0, 0.25);\n  padding: 20px 30px;\n  display: flex;\n  justify-content: space-around;\n}\n\n.integration-box span {\n  width: 325px;\n  flex-wrap: wrap;\n}\n\n.button {\n  background: #4fcbc5;\n  color: white;\n  border-radius: 5px;\n  padding: 5px 10px;\n  cursor: pointer;\n}\n\n.edit {\n  background: orange;\n}\n\n.smallerEdit {\n  width: 100px;\n}\n\n.display-column {\n  margin: 5px;\n}\n\n</style>\n"]}]}