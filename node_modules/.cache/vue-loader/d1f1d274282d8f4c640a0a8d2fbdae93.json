{"remainingRequest":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/src/components/CampaignList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/src/components/CampaignList.vue","mtime":1581270622000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgQWRkQ2FtcGFpZ24gZnJvbSAnLi9BZGRDYW1wYWlnbicKLy8gaW1wb3J0IGNhbXBhaWduRGV0YWlsIGZyb20gJy4vY2FtcGFpZ25EZXRhaWwnCmltcG9ydCBDYW1wYWlnblNlcnZpY2UgZnJvbSAnLi8uLi9zZXJ2aWNlcy9DYW1wYWlnblNlcnZpY2UnCmltcG9ydCBMb2NhdGlvblNlcnZpY2UgZnJvbSAnLi8uLi9zZXJ2aWNlcy9Mb2NhdGlvblNlcnZpY2UnCmltcG9ydCB7RXZlbnRTZXJ2aWNlfSBmcm9tICcuLi9tYWluJwppbXBvcnQgVXNlclNlcnZpY2UgZnJvbSAnLi8uLi9zZXJ2aWNlcy9Vc2VyU2VydmljZScKaW1wb3J0IFBhcGEgZnJvbSAnLi4vLi4vbm9kZV9tb2R1bGVzL3BhcGFwYXJzZS9wYXBhcGFyc2UuanMnCgoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdjYW1wYWlnbkxpc3QnLAogIGNvbXBvbmVudHM6IHsKICAgIEFkZENhbXBhaWduCiAgfSwKICBkYXRhOiBmdW5jdGlvbigpIHsKICAgIHJldHVybiB7CiAgICAgIGNhbXBhaWduczogW10sCiAgICAgIHNlbGVjdGVkQ2FtcGFpZ25zOiBbXSwKICAgICAgc2VhcmNoVGV4dDogJycsCiAgICAgIGZpbHRlcnM6IHsKICAgICAgICB0eXBlOiAnJywKICAgICAgICBzdGF0dXM6IFtdLAogICAgICAgIGRlbGl2ZXJ5OiBbXSwKICAgICAgICBmcmVxdWVuY3k6ICcnLAogICAgICB9LAogICAgICBmaWx0ZXJzU3RhdHVzOiBbe3ZhbHVlOiAnYWN0aXZlJywgbGFiZWw6ICdBY3RpdmUnfSwge3ZhbHVlOiAnZHJhZnQnLCBsYWJlbDogJ0RyYWZ0J30sIHt2YWx1ZTogJ3BhdXNlZCcsIGxhYmVsOiAnUGF1c2VkJ30sIHt2YWx1ZTogJ3NlbnQnLCBsYWJlbDogJ1NlbnQnfV0sCiAgICAgIHNvcnRPcHRpb25zOiBbJ2FzY2VuZGluZycsICdkZXNjZW5kaW5nJ10sCiAgICAgIHNob3dGaWx0ZXJzOiBmYWxzZSwKICAgICAgb3BlbkNhbXBhaWduTW9kYWw6IGZhbHNlLAogICAgICBvcGVuQ2FtcGFpZ25EZXRhaWxNb2RhbDogZmFsc2UsCiAgICAgIHNlbGVjdGVkQ2FtcGFpZ246IG51bGwsCiAgICAgIHNob3dCdWxrQWN0aW9uc1BvcG92ZXI6IGZhbHNlLAogICAgICBzb3J0VHlwZTogJ25hbWUnLAogICAgICByYXdEYXRhOiBbXSwKICAgICAgY2FtcGFpZ25TZWxlY3RlZDogJycsCiAgICAgIGlzU3VwZXJBZG1pbjogZmFsc2UsCiAgICAgIG5ld091dHJlYWNoOiAnJywKICAgICAgYWRkaW5nOiBmYWxzZSwKICAgICAgc3RlcDFJbml0aWFsaXplZDogZmFsc2UsCiAgICAgIHBhZ2luYXRpb25EYXRhOiB7CiAgICAgICAgcGVyUGFnZTogMjUsCiAgICAgICAgY3VycmVudFBhZ2U6IDAsCiAgICAgICAgcGVyUGFnZU9wdGlvbnM6IFs1LCAxMCwgMjVdLAogICAgICAgIHRvdGFsOiAwLAogICAgICAgIGNoYW5nZVBhZ2U6ICJzZXRQYWdlTnVtIiwKICAgICAgICByb3dDaGFuZ2U6ICJzZWFyY2hDdXN0b21lcnMiCiAgICAgIH0KICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBmaWx0ZXJzQWN0aXZlKCkgewogICAgICBsZXQgdm0gPSB0aGlzOwogICAgICBpZih2bS5maWx0ZXJzLnR5cGUgfHwgdm0uZmlsdGVycy5zdGF0dXMubGVuZ3RoIHx8IHZtLmZpbHRlcnMuZGVsaXZlcnkubGVuZ3RoIHx8IHZtLmZpbHRlcnMuZnJlcXVlbmN5KSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9LAogICAgY2hlY2tIZWlnaHQgKCkgewogICAgICByZXR1cm4gKHdpbmRvdy5pbm5lckhlaWdodCA8PSA5MDAgPyA1NTAgOiA4MDApOwogICAgfSwKICAgIHBhZ2luYXRpb25QYWdlKCkgewogICAgICByZXR1cm4gKHRoaXMucGFnaW5hdGlvbkRhdGEuY3VycmVudFBhZ2UrMSk7CiAgICB9LAogICAgc2hvd0J1bGtBY3Rpb25zKCkgewogICAgICBsZXQgdm0gPSB0aGlzOwogICAgICBpZih2bS5zZWxlY3RlZENhbXBhaWducyAmJiB2bS5zZWxlY3RlZENhbXBhaWducy5sZW5ndGgpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5jdXJyZW50VXNlciA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2N1cnJlbnRVc2VyJykpOwogICAgdGhpcy5pc1N1cGVyQWRtaW4gPSB0aGlzLmN1cnJlbnRVc2VyLmlzU3VwZXJBZG1pbgogICAgdGhpcy5zZWFyY2hDYW1wYWlnbnMoKTsKICAgIEV2ZW50U2VydmljZS4kb24oJ2xvY2F0aW9uQ2hhbmdlJywgdGhpcy5oYW5kbGVMb2NhdGlvbkNoYW5nZSk7CiAgICBFdmVudFNlcnZpY2UuJG9uKCdsb2NhdGlvbkNoYW5nZScsIHRoaXMuY2xlYXJMaXN0KTsKICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uICgpIHsKICAgIEV2ZW50U2VydmljZS4kb2ZmKCdsb2NhdGlvbkNoYW5nZScsIHRoaXMuaGFuZGxlTG9jYXRpb25DaGFuZ2UpOwogICAgRXZlbnRTZXJ2aWNlLiRvZmYoJ2xvY2F0aW9uQ2hhbmdlJywgdGhpcy5jbGVhckxpc3QpOwogIH0sCiAgbWV0aG9kczogewogICAgdGVzdENhbXBhaWduTWlncmF0aW9uKCkgewogICAgICBDYW1wYWlnblNlcnZpY2UudGVzdE1pZ3JhdGlvbigpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgfSkKICAgIH0sCiAgICBzZWFyY2hGb3JDYW1wYWlnbnMoc3RyaW5nLCBpZCl7CiAgICAgIGlmKHN0cmluZyA9PSAnJykgewogICAgICAgIHRoaXMuc2VhcmNoQ2FtcGFpZ25zKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuY2FtcGFpZ25zID0gW107CiAgICAgIENhbXBhaWduU2VydmljZS5zZWFyY2hDYW1wYWlnbnMoc3RyaW5nLCBpZCkudGhlbiggcmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMuY2FtcGFpZ25zID0gcmVzcG9uc2U7CiAgICAgIH0pCiAgICAgIH0KICAgIH0sCiAgICBkaXNwbGF5RGF0ZShtaWxsaXMpIHsKICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZShtaWxsaXMpOwogICAgICByZXR1cm4gKDEgKyBkYXRlLmdldE1vbnRoKCkpICsgJy8nICsgZGF0ZS5nZXREYXRlKCkgKyAnLycgKyAoZGF0ZS5nZXRGdWxsWWVhcigpICUgMTAwKTsKICAgIH0sCiAgICBzZWxlY3RBbGwoKSB7CiAgICAgIHRoaXMuY2FtcGFpZ25zLm1hcCgoZSxpKSA9PiB7CiAgICAgICAgdGhpcy5wcmVwRm9yRGVsZXRlKGUuY2FtcGFpZ25JZCkKICAgICAgfSkKICAgIH0sCiAgICBjaGVja0ZvckxvY2F0aW9uKCkgewogICAgICB0aGlzLmxvY2F0aW9uU2VsZWN0ZWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbG9jYXRpb25JZCcpCiAgICB9LAogICAgY2xlYXJMaXN0KCkgewogICAgICB0aGlzLnNlbGVjdGVkQ2FtcGFpZ25zID0gW107CiAgICB9LAogICAgaGFuZGxlU2VsZWN0aW9uQ2hhbmdlKGNhbXBhaWducykgewogICAgICBsZXQgc2VsZWN0ZWRDYW1wYWlnbnMgPSBjYW1wYWlnbnMuZmlsdGVyKGVsID0+IHsKICAgICAgICByZXR1cm4gZWwuc3RhdHVzICE9ICdzZW50JwogICAgICB9KTsKICAgICAgY29uc29sZS5sb2coc2VsZWN0ZWRDYW1wYWlnbnMpOwogICAgICB0aGlzLnNlbGVjdGVkQ2FtcGFpZ25zID0gc2VsZWN0ZWRDYW1wYWlnbnM7CiAgICB9LAogICAgbWFzc0NoYW5nZVN0YXR1cyhzdGF0dXMpIHsKICAgICAgbGV0IHZtID0gdGhpczsKICAgICAgdGhpcy4kY29uZmlybSgnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGNoYW5nZSB0aGVzZSBzdGF0dXNlcz8nLCAnQ29uZmlybWF0aW9uJywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAnWWVzJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAnQ2FuY2VsJywKICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgIHRoaXMuc2VsZWN0ZWRDYW1wYWlnbnMubWFwKGUgPT4gewogICAgICAgICAgaWYoZS5zdGF0dXMgIT0gc3RhdHVzICYmIChlLnN0YXR1cyAhPSAnZGVsZXRlZCcgfHwgdm0uaXNTdXBlckFkbWluKSAmJiAoZS5zdGF0dXMgIT0gJ2RyYWZ0JyB8fCAoc3RhdHVzICE9ICdhY3RpdmUnICYmIHN0YXR1cyAhPSAnaW5hY3RpdmUnKSkpIHsKICAgICAgICAgICAgQ2FtcGFpZ25TZXJ2aWNlLmNoYW5nZUNhbXBhaWduU3RhdHVzKGUuY2FtcGFpZ25JZCwgc3RhdHVzKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICBpZihyZXNwb25zZSkgewogICAgICAgICAgICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KCdzdWNjZXNzTWVzc2FnZScsICdTdGF0dXMgY2hhbmdlZCBzdWNjZXNzZnVsbHkhJykKICAgICAgICAgICAgICAgIHZtLnNlYXJjaENhbXBhaWducygpCiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgnZXJyb3JNZXNzYWdlJywgJ1NvbWV0aGluZyB3ZW50IHdyb25nLCBwbGVhc2UgdHJ5IGFnYWluLicpCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KCJpbmZvTWVzc2FnZSIsICJPbmUgb3IgbW9yZSBjYW1wYWlnbnMgd2FzIHVuYWJsZSB0byBiZSBjaGFuZ2VkLiIpOwogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdpbmZvJywKICAgICAgICAgIG1lc3NhZ2U6ICJEZWxldGUgQ2FuY2VsbGVkIgogICAgICAgIH0pCiAgICAgIH0pCiAgICB9LAogICAgaGFuZGxlTG9jYXRpb25DaGFuZ2UoKSB7CiAgICAgIGxldCB2bSA9IHRoaXM7CiAgICAgIHZtLnBhZ2luYXRpb25EYXRhLmN1cnJlbnRQYWdlID0gMDsKICAgICAgdm0uc2VhcmNoQ2FtcGFpZ25zKCk7CiAgICB9LAogICAgaGFuZGxlU29ydChkYXRhKSB7CiAgICAgIGxldCB2bSA9IHRoaXM7CiAgICAgIGxldCBkaXJlY3Rpb24gPSAnLSc7CiAgICAgIGlmKHZtLnNvcnRUeXBlWzBdID09ICctJykgewogICAgICAgIGRpcmVjdGlvbiA9ICcnCiAgICAgIH0KICAgICAgdm0uc29ydFR5cGUgPSBkaXJlY3Rpb24gKyBkYXRhLnByb3A7CiAgICAgIHZtLnNlYXJjaENhbXBhaWducygpOwogICAgfSwKICAgIHNlYXJjaENhbXBhaWducyhwYWdlTnVtKSB7CiAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgibG9hZGluZyIsICJzaG93Iik7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIHZtLnNob3dGaWx0ZXJzID0gZmFsc2U7CiAgICAgIHZtLnNob3dCdWxrQWN0aW9uc1BvcG92ZXIgPSBmYWxzZTsKICAgICAgdm0uc2VsZWN0ZWRDYW1wYWlnbnMgPSBbXTsKICAgICAgbGV0IHNlYXJjaE9iamVjdCA9IHt9OwogICAgICBpZiAodm0uc2VhcmNoVGV4dCkgc2VhcmNoT2JqZWN0LnNlYXJjaFRleHQgPSB2bS5zZWFyY2hUZXh0LnRyaW0oKTsKICAgICAgaWYgKHZtLnNvcnRUeXBlKSB7CiAgICAgICAgc2VhcmNoT2JqZWN0LnNvcnQgPSB2bS5zb3J0VHlwZTsKICAgICAgfTsKCiAgICAgIGlmIChwYWdlTnVtKSB7CiAgICAgICAgc2VhcmNoT2JqZWN0LnBhZ2VOdW0gPSBwYWdlTnVtOwogICAgICAgIHRoaXMucGFnaW5hdGlvbkRhdGEuY3VycmVudFBhZ2UgPSBwYWdlTnVtIC0xOwogICAgICB9IGVsc2UgewogICAgICAgIHZtLnNlbGVjdGVkUGFnZSA9IDA7CiAgICAgICAgdGhpcy5wYWdpbmF0aW9uRGF0YS5jdXJyZW50UGFnZSA9IDA7CiAgICAgIH0KCiAgICAgIGxldCBsb2NhdGlvbklkQXJyYXkgPSBbXTsKICAgICAgbGV0IGxvY2F0aW9uSWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbG9jYXRpb25JZCcpOwogICAgICBpZihsb2NhdGlvbklkKSB7CiAgICAgICAgbG9jYXRpb25JZEFycmF5LnB1c2gobG9jYXRpb25JZCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbGV0IGxvY09wdGlvbnMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsb2NhdGlvbk9wdGlvbnMnKSk7CiAgICAgICAgbG9jT3B0aW9ucy5tYXAoZWwgPT4gbG9jYXRpb25JZEFycmF5LnB1c2goZWwubG9jYXRpb25JZCkpOwogICAgICB9CiAgICAgIHNlYXJjaE9iamVjdC5sb2NhdGlvbnMgPSBsb2NhdGlvbklkQXJyYXk7CgogICAgICBzZWFyY2hPYmplY3QuZmlsdGVycyA9IHZtLmZpbHRlcnM7CiAgICAgIHNlYXJjaE9iamVjdC5yZXNQZXJQYWdlID0gdm0ucGFnaW5hdGlvbkRhdGEucGVyUGFnZTsKCiAgICAgIENhbXBhaWduU2VydmljZS5zZWFyY2hDYW1wYWlnbnMoc2VhcmNoT2JqZWN0KS50aGVuKAogICAgICAgIGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZihyZXNwb25zZVswXSkgdm0uY2FtcGFpZ25zID0gcmVzcG9uc2VbMF0ucmVzdWx0czsKICAgICAgICAgIGlmKHJlc3BvbnNlWzBdLmNvdW50ICYmIHJlc3BvbnNlWzBdLmNvdW50WzBdKSB2bS5wYWdpbmF0aW9uRGF0YS50b3RhbCA9IHJlc3BvbnNlWzBdLmNvdW50WzBdLnRvdGFsOwogICAgICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KCJsb2FkaW5nIiwgImhpZGUiKTsKICAgICAgICB9LCBmdW5jdGlvbihlcnJvcikgewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KCJsb2FkaW5nIiwgImhpZGUiKTsKICAgICAgfSk7CiAgICB9LAogICAgdG9nZ2xlU29ydChzZXRTb3J0VHlwZSkgewogICAgICBpZiAodGhpcy5zb3J0VHlwZSAhPSBzZXRTb3J0VHlwZSkgewogICAgICAgIHRoaXMuc29ydFR5cGUgPSBzZXRTb3J0VHlwZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnNvcnRUeXBlID0gJy0nICsgdGhpcy5zb3J0VHlwZTsKICAgICAgfQogICAgfSwKICAgIGFkZE5ld091dHJlYWNoKG91dHJlYWNoKSB7CiAgICAgIHRoaXMubmV3T3V0cmVhY2ggPSBvdXRyZWFjaDsKICAgICAgdGhpcy5vcGVuQ2FtcGFpZ25Nb2RhbCA9IHRydWU7CiAgICB9LAogICAgZWRpdENhbXBhaWduKGNhbXBhaWduKSB7CiAgICAgIHRoaXMuc2VsZWN0ZWRDYW1wYWlnbiA9IGNhbXBhaWduOwogICAgICB0aGlzLm9wZW5DYW1wYWlnbk1vZGFsID0gdHJ1ZTsKICAgIH0sCiAgICBzZWxlY3RDYW1wYWlnbihjYW1wYWlnbikgewogICAgICB0aGlzLnNlbGVjdGVkQ2FtcGFpZ24gPSBjYW1wYWlnbjsKICAgICAgdGhpcy5vcGVuQ2FtcGFpZ25Nb2RhbCA9IHRydWU7CiAgICB9LAogICAgZGVsZXRlQ2FtcGFpZ24oY2FtcGFpZ24pIHsKICAgICAgaWYod2luZG93LmNvbmZpcm0oJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhpcyBjYW1wYWlnbj8nKSkgewogICAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgICAgQ2FtcGFpZ25TZXJ2aWNlLmRlbGV0ZUNhbXBhaWduKGNhbXBhaWduLmNhbXBhaWduSWQpLnRoZW4oCiAgICAgICAgICBmdW5jdGlvbihyZXNwb25zZSkgewogICAgICAgICAgICB2bS5zZWFyY2hDYW1wYWlnbnMoKTsKICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGRpc3BsYXlPcHRpb25zKCkgewogICAgICB0aGlzLmRpc3BsYXlCdXR0b25zID0gIXRoaXMuZGlzcGxheUJ1dHRvbnM7CiAgICB9LAogICAgY2hlY2tQYXVzZWREYXlzKGRhdGEpIHsKICAgICAgbGV0IHRpbWVQYXVzZWQ7CiAgICAgIGxldCB0b2RheSA9IERhdGUubm93KCk7CiAgICAgIHRpbWVQYXVzZWQgPSBNYXRoLmZsb29yKCh0b2RheSAtIGRhdGEpIC8gMTAwMCAvIDYwIC8gNjAgLyAyNCk7CiAgICAgIGlmKHRpbWVQYXVzZWQgPT0gMCkgewogICAgICAgIHJldHVybiAnVG9kYXknCiAgICAgIH0gZWxzZSBpZih0aW1lUGF1c2VkID09IDEpIHsKICAgICAgICByZXR1cm4gJzEgRGF5IEFnbycKICAgICAgfQogICAgICBsZXQgdGltZUluRGF5cyA9IHRpbWVQYXVzZWQgKyAnIERheXMgQWdvJzsKICAgICAgcmV0dXJuIHRpbWVJbkRheXM7CiAgICB9LAogICAgZGlzcGxheUF1ZGllbmNlKGZpbHRlcnMpIHsKICAgICAgaWYoZmlsdGVycykgewogICAgICB2YXIgaW5jbHVkZXMgPSBmaWx0ZXJzLmluY2x1ZGU7CiAgICAgIHZhciBleGNsdWRlcyA9IGZpbHRlcnMuZXhjbHVkZTsKICAgICAgICAvLyBObyBmaWx0ZXJzIGRhdGEgdG8gZGlzcGxheTsKICAgICAgICBpZighaW5jbHVkZXMucmF0aW5nLmxlbmd0aCAmJiAhaW5jbHVkZXMudGFncy5sZW5ndGggJiYgIWV4Y2x1ZGVzLnJhdGluZy5sZW5ndGggJiYgIWV4Y2x1ZGVzLnRhZ3MubGVuZ3RoKSB7CiAgICAgICAgICByZXR1cm4gJ0FsbCBDdXN0b21lcnMnCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmKGluY2x1ZGVzLnJhdGluZy5sZW5ndGggfHwgaW5jbHVkZXMudGFncy5sZW5ndGggfHwgZXhjbHVkZXMucmF0aW5nLmxlbmd0aCB8fCBleGNsdWRlcy50YWdzLmxlbmd0aCkgewoKICAgICAgICAgICAgbGV0IHJhdGluZ1JldHVyblN0cmluZyA9ICIiOwogICAgICAgICAgICBsZXQgdGFnc1JldHVyblN0cmluZyA9ICIiOwogICAgICAgICAgICBsZXQgZXhSYXRpbmdSZXR1cm5TdHJpbmcgPSAiIjsKICAgICAgICAgICAgbGV0IGV4VGFnc1JldHVyblN0cmluZyA9ICIiOwoKICAgICAgICAgICAgbGV0IHRvdGFsU3RyaW5nID0gIiI7CgogICAgICAgICAgICBpZihpbmNsdWRlcy5yYXRpbmcubGVuZ3RoIHx8IGluY2x1ZGVzLnRhZ3MubGVuZ3RoKSB7CgogICAgICAgICAgICAgIGlmKGluY2x1ZGVzLnJhdGluZy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgIHJhdGluZ1JldHVyblN0cmluZyA9ICJSYXRlZCAiOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBpZihpbmNsdWRlcy50YWdzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgdGFnc1JldHVyblN0cmluZyA9ICJUYWdnZWQgd2l0aCAiOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaW5jbHVkZXMucmF0aW5nLm1hcChlbCA9PiB7CiAgICAgICAgICAgICAgICByYXRpbmdSZXR1cm5TdHJpbmcgKz0gKEpTT04uc3RyaW5naWZ5KGVsKSArICctU3RhcnMsICcpOwogICAgICAgICAgICAgIH0pCgogICAgICAgICAgICAgIGluY2x1ZGVzLnRhZ3MubWFwKGVsID0+IHsKICAgICAgICAgICAgICAgIHRhZ3NSZXR1cm5TdHJpbmcgKz0gKEpTT04uc3RyaW5naWZ5KGVsKSArICcsICcpOwogICAgICAgICAgICAgIH0pCgogICAgICAgICAgICAgIHRvdGFsU3RyaW5nICs9IHJhdGluZ1JldHVyblN0cmluZyArICcgJyArIHRhZ3NSZXR1cm5TdHJpbmc7CgogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKGV4Y2x1ZGVzLnJhdGluZy5sZW5ndGggfHwgZXhjbHVkZXMudGFncy5sZW5ndGgpIHsKICAgICAgICAgICAgICBpZihleGNsdWRlcy5yYXRpbmcubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICBleFJhdGluZ1JldHVyblN0cmluZyA9ICJSYXRlZCAiOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBpZihleGNsdWRlcy50YWdzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgZXhUYWdzUmV0dXJuU3RyaW5nID0gIk5vdCBUYWdnZWQgIjsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGV4Y2x1ZGVzLnJhdGluZy5tYXAoZWwgPT4gewogICAgICAgICAgICAgICAgZXhSYXRpbmdSZXR1cm5TdHJpbmcgKz0gKEpTT04uc3RyaW5naWZ5KGVsKSArICctU3RhcnMsJyk7CiAgICAgICAgICAgICAgfSkKCiAgICAgICAgICAgICAgZXhjbHVkZXMudGFncy5tYXAoZWwgPT4gewogICAgICAgICAgICAgICAgZXhUYWdzUmV0dXJuU3RyaW5nICs9IChKU09OLnN0cmluZ2lmeShlbCkgKyAnLCAnKTsKICAgICAgICAgICAgICB9KQoKICAgICAgICAgICAgICB0b3RhbFN0cmluZyArPSAnTm90ICcgKyBleFJhdGluZ1JldHVyblN0cmluZyArICcgJyArIGV4VGFnc1JldHVyblN0cmluZzsKCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmKHRvdGFsU3RyaW5nLmxhc3RJbmRleE9mKCcsJykgPT0gdG90YWxTdHJpbmcubGVuZ3RoLTEpIHsKICAgICAgICAgICAgICB0b3RhbFN0cmluZyA9IHRvdGFsU3RyaW5nLnN1YnN0cmluZygwLCB0b3RhbFN0cmluZy5sZW5ndGgtMik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHRvdGFsU3RyaW5nOwogICAgICAgICAgfQoKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBzZXRDYW1wYWlnblN0YXR1cyhjYW1wYWlnbiwgc3RhdHVzKSB7CiAgICAgIGxldCB2bSA9IHRoaXM7CiAgICAgIENhbXBhaWduU2VydmljZS5zZXRDYW1wYWlnblN0YXR1cyhjYW1wYWlnbi5jYW1wYWlnbklkLCBzdGF0dXMpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHZtLnNlYXJjaENhbXBhaWducygpOwogICAgICB9KQogICAgfSwKICAgIGNhbkFjdGlvbkNhbXBhaWduKGFjdGlvbiwgY2FtcGFpZ24pIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9LAogICAgcmVzZXRGaWx0ZXJzKCkgewogICAgICB0aGlzLmZpbHRlcnMgPSB7CiAgICAgICAgdHlwZTogJycsCiAgICAgICAgc3RhdHVzOiBbXSwKICAgICAgICBkZWxpdmVyeTogW10sCiAgICAgICAgZnJlcXVlbmN5OiAnJywKICAgICAgfQogICAgfSwKICAgIGNsb3NlQ2FtcGFpZ25Nb2RhbCgpIHsKICAgICAgdGhpcy5zZWxlY3RlZENhbXBhaWduID0gbnVsbDsKICAgICAgdGhpcy5vcGVuQ2FtcGFpZ25Nb2RhbCA9IGZhbHNlOwogICAgICB0aGlzLm9wZW5DYW1wYWlnbkRldGFpbE1vZGFsID0gZmFsc2U7CiAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgnbG9hZGluZycsICdoaWRlJyk7CiAgICAgIHRoaXMuc2VhcmNoQ2FtcGFpZ25zKCk7CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["CampaignList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyLA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CampaignList.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <el-card class=\"card-min-height\">\n    <div class=\"card-header\">\n      <div class=\"card-title\">\n        <h3>Campaigns</h3>\n      </div>\n      <div class=\"card-actions\">\n        <el-button\n          type=\"primary\"\n          style=\"margin-right: 10px;\"\n          @click=\"editCampaign()\"\n        >\n        <i class=\"fa fa-plus-circle fa-flip-horizontal\"></i>\n            &nbsp; Add Campaign\n        </el-button>\n        <div class=\"input-group\">\n          <el-popover trigger=\"click\" class=\"filter clickable\" v-model=\"showFilters\">\n            <div class=\"filter-button\" :class=\"{'filter-active': filtersActive}\" slot=\"reference\">\n              <i class=\"fas fa-filter\"></i>\n            </div>\n            <div class=\"dropdown-filter-menu\">\n              <div class=\"dropdown-filter-option\">\n                <label>Type</label>\n                <el-select v-model=\"filters.type\" clearable>\n                  <el-option v-for=\"type in ['Review Request', 'Custom Message']\" :key=\"type\" :value=\"type\">\n                    {{type}}\n                  </el-option>\n                </el-select>\n              </div>\n              <div class=\"dropdown-filter-option\">\n                <label>Status</label>\n                <el-select v-model=\"filters.status\" :collapse-tags=\"true\" multiple>\n                  <el-option class=\"capitalize\" v-for=\"(status, statusIndex) in filtersStatus\" :key=\"statusIndex\" :value=\"status.value\" :label=\"status.label\">\n                  </el-option>\n                </el-select>\n              </div>\n              <div class=\"dropdown-filter-option\">\n                <label>Delivery</label>\n                <el-select v-model=\"filters.delivery\" :collapse-tags=\"true\" multiple>\n                  <el-option v-for=\"value in ['Email', 'SMS']\" :key=\"value\" :value=\"value\">\n                    {{value}}\n                  </el-option>\n                </el-select>\n              </div>\n              <div class=\"dropdown-filter-option\">\n                <label>Frequency</label>\n                <el-select v-model=\"filters.frequency\" clearable>\n                  <el-option v-for=\"frequency in ['Recurring', 'Once', 'Delay']\" :key=\"frequency\" :value=\"frequency\">\n                    {{frequency}}\n                  </el-option>\n                </el-select>\n              </div>\n              <div class=\"dropdown-filter-buttons\">\n                <el-button type=\"text\" size=\"small\" style=\"color:#F48D46\" @click=\"resetFilters()\">Reset Filters</el-button>\n                <el-button type=\"warning\" size=\"small\" round @click=\"searchCampaigns()\">Apply</el-button>\n              </div>\n            </div>\n          </el-popover>\n          <el-input\n            v-model=\"searchText\"\n            @keyup.native.enter=\"searchCampaigns()\"\n            placeholder=\"Search Campaigns..\"\n          ><i slot=\"suffix\" class=\"far fa-search\"></i></el-input>\n        </div>\n      </div>\n    </div>\n    <el-popover trigger=\"click\" placement=\"bottom-end\">\n      <el-button type=\"primary\" slot=\"reference\" size=\"medium\" v-show=\"showBulkActions\" round>\n        <span >Actions &nbsp;<i class=\"fas fa-caret-down\"></i></span>\n      </el-button>\n      <div class=\"campaign-mass-actions-menu\">\n        <el-link round class=\"dropdown-item\" @click=\"massChangeStatus('active')\">\n          Mark as Active\n        </el-link>\n        <!-- <el-link round class=\"dropdown-item\" @click=\"massChangeStatus('disabled')\">\n          Mark as Disabled\n        </el-link> -->\n        <el-link round class=\"dropdown-item\" @click=\"massChangeStatus('paused')\">\n          Pause Campaigns for 7 days\n        </el-link>\n        <el-link round class=\"dropdown-item\" @click=\"massChangeStatus('deleted')\">\n          Delete Campaigns\n        </el-link>\n      </div>\n    </el-popover>\n    <div class=\"block\" v-if=\"campaigns\">\n      <el-table size=\"small\" class=\"card-table-min-height\" row-class-name=\"clickable\" :data=\"campaigns\" highlight-current-row \n      empty-text=\"No results found based on your search criteria.\"\n      ref=\"customerTable\" height=\"calc(80vh - var(--navbar-height) - var(--footer-height) - 80px)\" @selection-change=\"handleSelectionChange\" @row-click=\"selectCampaign($event)\" @sort-change=\"handleSort\">\n        <el-table-column type=\"selection\" width=\"50\" >\n        </el-table-column>\n        <el-table-column prop=\"name\" label=\"Campaign Name\" min-width=\"180\" sortable=\"custom\" :sort-orders=\"sortOptions\" show-overflow-tooltip>\n        </el-table-column>\n        <el-table-column label=\"Location\" min-width=\"150\" show-overflow-tooltip>\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.locationName[0] }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"type\" sortable=\"custom\" :sort-orders=\"sortOptions\" label=\"Type\" min-width=\"150\">\n        </el-table-column>\n        <el-table-column prop=\"status\" sortable=\"custom\" :sort-orders=\"sortOptions\" label=\"Status\" min-width=\"150\">\n          <template slot-scope=\"scope\">\n            <span v-if=\"scope.row.status == 'active'\" class=\"status-bubble subscribed\">{{scope.row.status}}</span>\n            <span v-if=\"scope.row.status == 'sent'\" class=\"status-bubble sent\">{{scope.row.status}}</span>\n            <span v-if=\"scope.row.status == 'draft'\" class=\"status-bubble deleted\">{{scope.row.status}}</span>\n            <span v-if=\"scope.row.status == 'paused'\" class=\"status-bubble pause\">{{scope.row.status}} <span class=\"days-paused\">&nbsp;({{checkPausedDays(scope.row.pauseStart)}})</span></span>\n            <span v-if=\"scope.row.status == 'deleted'\" class=\"status-bubble unsubscribed\">{{scope.row.status}}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"Delivery\" min-width=\"150\" >\n          <template slot-scope=\"scope\">\n            <div class=\"contact-method\" v-for=\"(method, index) in scope.row.contactMethod\" :key=\"index\">\n              <span>{{ method }}</span>\n            </div>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"Audience\" min-width=\"150\" >\n          <template slot-scope=\"scope\">\n            <div class=\"audience-category\">\n              <span class=\"audience-text\">\n                {{displayAudience(scope.row.filters).substring(0,22)}}\n              </span>\n              <span class=\"see-more\" @click.stop v-if=\"(displayAudience(scope.row.filters)).length > 21\">\n                <el-popover\n                  placement=\"bottom\"\n                  width=\"200\"\n                  trigger=\"click\"\n                  :content=\"displayAudience(scope.row.filters)\"\n                  >\n                  <span slot=\"reference\" class=\"clickable\">See More...</span>\n                </el-popover>\n              </span>\n            </div>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"Schedule\" prop=\"frequency.date\" sortable=\"custom\" :sort-orders=\"sortOptions\" min-width=\"150\" >\n          <template slot-scope=\"scope\">\n            <div class=\"schedule-table-data\">\n              <!-- <span class=\"\" v-if=\"scope.row.frequency.type == 'Immediate'\">\n                Immediate\n              </span> -->\n              <span>{{scope.row.frequency.type}}</span>\n              <span class=\"\" v-if=\"scope.row.frequency.type == 'Scheduled'\">\n                {{ new Date(scope.row.frequency.date).toString().substring(0,10) }}\n              </span>\n              <span class=\"\" v-if=\"scope.row.frequency.type == 'Recurring'\">\n                {{ scope.row.frequency.schedule }}\n              </span>\n              <span class=\"\" v-if=\"scope.row.frequency.type == 'Automated'\">\n                {{ scope.row.frequency.delay }} Hour Delay\n              </span>\n            </div>\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n    <div class=\"pagination block\" v-if=\"campaigns && campaigns.length\">\n      <span>Showing {{campaigns.length}} of {{paginationData.total}} Total Results</span>\n      <el-pagination\n        @current-change=\"searchCampaigns\"\n        background\n        layout=\"prev, pager, next\"\n        :current-page=\"paginationPage\"\n        :page-size=\"paginationData.perPage\"\n        :total=\"paginationData.total\"\n        small\n      ></el-pagination>\n      <el-select class=\"per-page-select\" size=\"mini\" v-model=\"paginationData.perPage\" @change=\"searchCampaigns()\">\n        <el-option v-for=\"option in paginationData.perPageOptions\"\n                    :value=\"option\"\n                    :key=\"option\"\n        >{{option}}\n        </el-option>\n      </el-select>\n    </div>\n    <div class=\"block\" v-else>\n\n    </div>\n    <AddCampaign :newOutreach=\"newOutreach\" :selectedCampaign=\"selectedCampaign\" v-if=\"openCampaignModal\" v-on:closeModal=\"closeCampaignModal()\"/>\n    <!-- <campaignDetail :selectedcampaign=\"selectedcampaign\" v-if=\"opencampaignDetailModal\" v-on:closeModal=\"closeCampaignModal()\"/> -->\n  </el-card>\n</template>\n\n<script>\n\nimport AddCampaign from './AddCampaign'\n// import campaignDetail from './campaignDetail'\nimport CampaignService from './../services/CampaignService'\nimport LocationService from './../services/LocationService'\nimport {EventService} from '../main'\nimport UserService from './../services/UserService'\nimport Papa from '../../node_modules/papaparse/papaparse.js'\n\n\nexport default {\n  name: 'campaignList',\n  components: {\n    AddCampaign\n  },\n  data: function() {\n    return {\n      campaigns: [],\n      selectedCampaigns: [],\n      searchText: '',\n      filters: {\n        type: '',\n        status: [],\n        delivery: [],\n        frequency: '',\n      },\n      filtersStatus: [{value: 'active', label: 'Active'}, {value: 'draft', label: 'Draft'}, {value: 'paused', label: 'Paused'}, {value: 'sent', label: 'Sent'}],\n      sortOptions: ['ascending', 'descending'],\n      showFilters: false,\n      openCampaignModal: false,\n      openCampaignDetailModal: false,\n      selectedCampaign: null,\n      showBulkActionsPopover: false,\n      sortType: 'name',\n      rawData: [],\n      campaignSelected: '',\n      isSuperAdmin: false,\n      newOutreach: '',\n      adding: false,\n      step1Initialized: false,\n      paginationData: {\n        perPage: 25,\n        currentPage: 0,\n        perPageOptions: [5, 10, 25],\n        total: 0,\n        changePage: \"setPageNum\",\n        rowChange: \"searchCustomers\"\n      }\n    }\n  },\n  computed: {\n    filtersActive() {\n      let vm = this;\n      if(vm.filters.type || vm.filters.status.length || vm.filters.delivery.length || vm.filters.frequency) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n    checkHeight () {\n      return (window.innerHeight <= 900 ? 550 : 800);\n    },\n    paginationPage() {\n      return (this.paginationData.currentPage+1);\n    },\n    showBulkActions() {\n      let vm = this;\n      if(vm.selectedCampaigns && vm.selectedCampaigns.length) {\n        return true;\n      }\n      return false;\n    }\n  },\n  created() {\n    this.currentUser = JSON.parse(localStorage.getItem('currentUser'));\n    this.isSuperAdmin = this.currentUser.isSuperAdmin\n    this.searchCampaigns();\n    EventService.$on('locationChange', this.handleLocationChange);\n    EventService.$on('locationChange', this.clearList);\n  },\n  beforeDestroy: function () {\n    EventService.$off('locationChange', this.handleLocationChange);\n    EventService.$off('locationChange', this.clearList);\n  },\n  methods: {\n    testCampaignMigration() {\n      CampaignService.testMigration().then(response => {\n        console.log(response);\n      })\n    },\n    searchForCampaigns(string, id){\n      if(string == '') {\n        this.searchCampaigns();\n      } else {\n      this.campaigns = [];\n      CampaignService.searchCampaigns(string, id).then( response => {\n        this.campaigns = response;\n      })\n      }\n    },\n    displayDate(millis) {\n      var date = new Date(millis);\n      return (1 + date.getMonth()) + '/' + date.getDate() + '/' + (date.getFullYear() % 100);\n    },\n    selectAll() {\n      this.campaigns.map((e,i) => {\n        this.prepForDelete(e.campaignId)\n      })\n    },\n    checkForLocation() {\n      this.locationSelected = localStorage.getItem('locationId')\n    },\n    clearList() {\n      this.selectedCampaigns = [];\n    },\n    handleSelectionChange(campaigns) {\n      let selectedCampaigns = campaigns.filter(el => {\n        return el.status != 'sent'\n      });\n      console.log(selectedCampaigns);\n      this.selectedCampaigns = selectedCampaigns;\n    },\n    massChangeStatus(status) {\n      let vm = this;\n      this.$confirm('Are you sure you want to change these statuses?', 'Confirmation', {\n        confirmButtonText: 'Yes',\n        cancelButtonText: 'Cancel',\n        type: \"error\"\n      }).then(() => {\n        this.selectedCampaigns.map(e => {\n          if(e.status != status && (e.status != 'deleted' || vm.isSuperAdmin) && (e.status != 'draft' || (status != 'active' && status != 'inactive'))) {\n            CampaignService.changeCampaignStatus(e.campaignId, status).then(response => {\n              if(response) {\n                EventService.$emit('successMessage', 'Status changed successfully!')\n                vm.searchCampaigns()\n              } else {\n                EventService.$emit('errorMessage', 'Something went wrong, please try again.')\n              }\n            })\n          } else {\n            EventService.$emit(\"infoMessage\", \"One or more campaigns was unable to be changed.\");\n          }\n        })\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: \"Delete Cancelled\"\n        })\n      })\n    },\n    handleLocationChange() {\n      let vm = this;\n      vm.paginationData.currentPage = 0;\n      vm.searchCampaigns();\n    },\n    handleSort(data) {\n      let vm = this;\n      let direction = '-';\n      if(vm.sortType[0] == '-') {\n        direction = ''\n      }\n      vm.sortType = direction + data.prop;\n      vm.searchCampaigns();\n    },\n    searchCampaigns(pageNum) {\n      EventService.$emit(\"loading\", \"show\");\n      var vm = this;\n      vm.showFilters = false;\n      vm.showBulkActionsPopover = false;\n      vm.selectedCampaigns = [];\n      let searchObject = {};\n      if (vm.searchText) searchObject.searchText = vm.searchText.trim();\n      if (vm.sortType) {\n        searchObject.sort = vm.sortType;\n      };\n\n      if (pageNum) {\n        searchObject.pageNum = pageNum;\n        this.paginationData.currentPage = pageNum -1;\n      } else {\n        vm.selectedPage = 0;\n        this.paginationData.currentPage = 0;\n      }\n\n      let locationIdArray = [];\n      let locationId = localStorage.getItem('locationId');\n      if(locationId) {\n        locationIdArray.push(locationId);\n      } else {\n        let locOptions = JSON.parse(localStorage.getItem('locationOptions'));\n        locOptions.map(el => locationIdArray.push(el.locationId));\n      }\n      searchObject.locations = locationIdArray;\n\n      searchObject.filters = vm.filters;\n      searchObject.resPerPage = vm.paginationData.perPage;\n\n      CampaignService.searchCampaigns(searchObject).then(\n        function(response) {\n          if(response[0]) vm.campaigns = response[0].results;\n          if(response[0].count && response[0].count[0]) vm.paginationData.total = response[0].count[0].total;\n          EventService.$emit(\"loading\", \"hide\");\n        }, function(error) {\n          console.log(error);\n          EventService.$emit(\"loading\", \"hide\");\n      });\n    },\n    toggleSort(setSortType) {\n      if (this.sortType != setSortType) {\n        this.sortType = setSortType;\n      } else {\n        this.sortType = '-' + this.sortType;\n      }\n    },\n    addNewOutreach(outreach) {\n      this.newOutreach = outreach;\n      this.openCampaignModal = true;\n    },\n    editCampaign(campaign) {\n      this.selectedCampaign = campaign;\n      this.openCampaignModal = true;\n    },\n    selectCampaign(campaign) {\n      this.selectedCampaign = campaign;\n      this.openCampaignModal = true;\n    },\n    deleteCampaign(campaign) {\n      if(window.confirm('Are you sure you want to delete this campaign?')) {\n        var vm = this;\n        CampaignService.deleteCampaign(campaign.campaignId).then(\n          function(response) {\n            vm.searchCampaigns();\n          }, function(error) {\n            console.log(error);\n        });\n      }\n    },\n    displayOptions() {\n      this.displayButtons = !this.displayButtons;\n    },\n    checkPausedDays(data) {\n      let timePaused;\n      let today = Date.now();\n      timePaused = Math.floor((today - data) / 1000 / 60 / 60 / 24);\n      if(timePaused == 0) {\n        return 'Today'\n      } else if(timePaused == 1) {\n        return '1 Day Ago'\n      }\n      let timeInDays = timePaused + ' Days Ago';\n      return timeInDays;\n    },\n    displayAudience(filters) {\n      if(filters) {\n      var includes = filters.include;\n      var excludes = filters.exclude;\n        // No filters data to display;\n        if(!includes.rating.length && !includes.tags.length && !excludes.rating.length && !excludes.tags.length) {\n          return 'All Customers'\n        } else {\n          if(includes.rating.length || includes.tags.length || excludes.rating.length || excludes.tags.length) {\n\n            let ratingReturnString = \"\";\n            let tagsReturnString = \"\";\n            let exRatingReturnString = \"\";\n            let exTagsReturnString = \"\";\n\n            let totalString = \"\";\n\n            if(includes.rating.length || includes.tags.length) {\n\n              if(includes.rating.length) {\n                ratingReturnString = \"Rated \";\n              }\n              if(includes.tags.length) {\n                tagsReturnString = \"Tagged with \";\n              }\n\n              includes.rating.map(el => {\n                ratingReturnString += (JSON.stringify(el) + '-Stars, ');\n              })\n\n              includes.tags.map(el => {\n                tagsReturnString += (JSON.stringify(el) + ', ');\n              })\n\n              totalString += ratingReturnString + ' ' + tagsReturnString;\n\n            }\n            if(excludes.rating.length || excludes.tags.length) {\n              if(excludes.rating.length) {\n                exRatingReturnString = \"Rated \";\n              }\n              if(excludes.tags.length) {\n                exTagsReturnString = \"Not Tagged \";\n              }\n\n              excludes.rating.map(el => {\n                exRatingReturnString += (JSON.stringify(el) + '-Stars,');\n              })\n\n              excludes.tags.map(el => {\n                exTagsReturnString += (JSON.stringify(el) + ', ');\n              })\n\n              totalString += 'Not ' + exRatingReturnString + ' ' + exTagsReturnString;\n\n            }\n\n            if(totalString.lastIndexOf(',') == totalString.length-1) {\n              totalString = totalString.substring(0, totalString.length-2);\n            }\n            return totalString;\n          }\n\n        }\n      }\n    },\n    setCampaignStatus(campaign, status) {\n      let vm = this;\n      CampaignService.setCampaignStatus(campaign.campaignId, status).then(response => {\n        vm.searchCampaigns();\n      })\n    },\n    canActionCampaign(action, campaign) {\n      return true;\n    },\n    resetFilters() {\n      this.filters = {\n        type: '',\n        status: [],\n        delivery: [],\n        frequency: '',\n      }\n    },\n    closeCampaignModal() {\n      this.selectedCampaign = null;\n      this.openCampaignModal = false;\n      this.openCampaignDetailModal = false;\n      EventService.$emit('loading', 'hide');\n      this.searchCampaigns();\n    }\n  }\n}\n</script>\n\n<style scoped>\n.per-page-select {\n  max-width: 80px;\n}\n.card-actions .el-button:nth-child(1) {\n  margin-right: 0;\n}\n.el-card {\n  /* height: 100vh; */\n  /* min-height: 500px; */\n}\n.campaign-controls {\n  float: right;\n  color: #545454;\n  font-size: 20px;\n  width: 100%;\n  background: #ffffff;\n  border-radius: 1px;\n  box-shadow: 0px 2px 4px rgba(0,0,0,.25);\n  margin-bottom: 20px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  align-content: center;\n}\n\n.campaign-controls-container {\n  width: 60%;\n}\n\n.campaign-controls-add {\n  float: left;\n  padding: 10px 10px 0 0;\n  cursor: pointer;\n  margin-left: 40px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n.campaign-controls-add span {\n  color: #4fcbc5;\n}\n\n.campaign-controls-search {\n  background: white;\n  margin: 20px 20px;\n  border: 2px solid #efefef;\n  border-radius: 1px;\n  width: 350px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.campaign-controls-search input {\n  border: none;\n  padding: 15px 15px 5px 15px;\n  font-size: 12px;\n}\n\n.campaign-controls-search-icon {\n  vertical-align: middle;\n  margin-right: 10px;\n  cursor: pointer;\n}\n\n.campaign-controls-mass-actions button {\n  position: absolute;\n  left: 0;\n  margin-left: 65px;\n  background: #f48d46;\n  padding: 5px 10px 5px 10px;\n}\n\n.campaign-controls-mass-actions i {\n  margin-left: 10px;\n}\n\n.contact-method {\n  display: inline-block;\n}\n\n.contact-method span {\n  margin-right: 10px;\n}\n\n\n@keyframes slide {\n  from {opacity: 0}\n  to {opacity: 1}\n}\n\n.campaign-change-options {\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  left: 0;\n  margin-left: 55px;\n  margin-top: 28px;\n  padding: 5px 10px 5px 10px;\n  animation: slide .5s;\n  z-index: 999;\n}\n\n.campaign-change-options button {\n  border: 1px solid grey;\n  padding: 3px;\n  cursor: pointer;\n}\n\n.campaign-table {\n  background: white;\n  font-size: 14px;\n  padding: 10px;\n  clear: both;\n}\n\ndiv.campaign-table div.superadmin-row {\n  background: #FFFF00;\n}\n\n.campaign-header-row {\n  width: calc(100% - 20px);\n  font-weight: bold;\n  padding: 10px;\n  border-top: 1px solid #efefef;\n  border-bottom: 1px solid #efefef;\n  height: 14px;\n  display: flex;\n  flex-wrap: nowrap;\n  justify-content: space-evenly;\n  cursor: pointer;\n}\n\n.campaign-header-row div, .campaign-row div {\n  margin: auto;\n}\n\n.campaign-row {\n  width: calc(100% - 20px);\n  clear: both;\n  padding: 10px;\n  border-bottom: 1px solid #efefef;\n  height: auto;\n  display: flex;\n  flex-wrap: nowrap;\n  justify-content: space-evenly;\n}\n\n.campaign-row:nth-child(even) {\n  /* background: #efefef; */\n}\n\n.campaign-row:hover {\n  background: #dfdfdf;\n}\n\n.campaign-table-cell-check {\n  flex: 0 0 75px;\n  display: flex;\n  flex-direction: row;\n}\n\n.campaign-table-cell-check span {\n  margin-right: 10px;\n}\n\n.campaign-table-cell-check input {\n  transform: translateY(4px);\n  margin-left: 15px;\n}\n\n.select-all input {\n  transform: translateY(0px);\n  margin-left: 5px;\n}\n\n.campaign-table-cell-0 {\n  flex: 0 0 250px;\n  cursor: pointer;\n}\n\n.campaign-table-cell-1 {\n  flex: 0 0 300px;\n  /* text-transform: capitalize; */\n}\n\n.campaign-table-cell-2 {\n  flex: 1 1 150px;\n  cursor: pointer;\n}\n\n.campaign-table-cell-3 {\n  flex: 2 2 100px;\n}\n\n.campaign-table-cell-4 {\n  flex: 0 0 100px;\n  text-align: center;\n}\n\n.campaign-table-cell-4 span {\n  margin-right: 5px;\n  cursor: pointer;\n}\n\n.fade-enter-active {\n  transition: all .3s ease;\n}\n.fade-leave-active {\n  transition: all .5s cubic-bezier(1.0, 0.5, 0.8, 1.0);\n}\n.fade-enter, .fade-leave-to\n/* .slide-fade-leave-active below version 2.1.8 */ {\n  transform: translateX(-60px);\n  opacity: 0;\n}\n\n.audience-category {\n  display: flex;\n  flex-direction: column;\n  font-size: 14px;\n}\n\n.audience-category .audience-text {\n  transform: translateY(-2px);\n}\n\n.campaign-mass-actions-menu {\n  display: flex;\n  flex-direction: column;\n}\n\n.dropdown-item {\n  margin: 10px 20px;\n  color: #9a9a9a;\n}\n\n.filter-button {\n  width: 60px;\n  height: 50px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.schedule-table-data {\n  font-size: 12px;\n  word-break: keep-all;\n}\n\n.days-paused {\n  font-size: 10px;\n}\n\n</style>\n"]}]}