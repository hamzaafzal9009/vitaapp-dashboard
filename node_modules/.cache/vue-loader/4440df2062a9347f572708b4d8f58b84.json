{"remainingRequest":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/src/components/Dashboard.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/src/components/Dashboard.vue","mtime":1581270622000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBMaW5lQ2hhcnQgZnJvbSAnLi9DaGFydHMvTGluZUNoYXJ0JwppbXBvcnQgRG91Z2hudXRDaGFydCBmcm9tICcuL0NoYXJ0cy9Eb3VnaG51dENoYXJ0JwppbXBvcnQgRGFzaGJvYXJkVGlsZSBmcm9tICcuL0Rhc2hib2FyZENvbXBvbmVudHMvRGFzaGJvYXJkVGlsZScKaW1wb3J0IEdNQkxpbmtCYW5uZXIgZnJvbSAnLi9EYXNoYm9hcmRDb21wb25lbnRzL0dNQkxpbmtCYW5uZXInCgppbXBvcnQgUmVjZW50UHJpdmF0ZUZlZWRiYWNrIGZyb20gJy4vRGFzaGJvYXJkQ29tcG9uZW50cy9SZWNlbnRQcml2YXRlRmVlZGJhY2snCmltcG9ydCBSZWNlbnRQb3NpdGl2ZUZlZWRiYWNrIGZyb20gJy4vRGFzaGJvYXJkQ29tcG9uZW50cy9SZWNlbnRQb3NpdGl2ZUZlZWRiYWNrJwppbXBvcnQgUmVjZW50UHVibGljUmV2aWV3cyBmcm9tICcuL0Rhc2hib2FyZENvbXBvbmVudHMvUmVjZW50UHVibGljUmV2aWV3cycKaW1wb3J0IFdvcmRDbG91ZCBmcm9tICcuL0Rhc2hib2FyZENvbXBvbmVudHMvV29yZENsb3VkJwppbXBvcnQgSW50ZXJhY3Rpb25GZWVkIGZyb20gJy4vRGFzaGJvYXJkQ29tcG9uZW50cy9JbnRlcmFjdGlvbkZlZWQnCmltcG9ydCBOZXdDdXN0b21lcnMgZnJvbSAnLi9EYXNoYm9hcmRDb21wb25lbnRzL05ld0N1c3RvbWVycycKaW1wb3J0IFRvdGFsQ3VzdG9tZXJzIGZyb20gJy4vRGFzaGJvYXJkQ29tcG9uZW50cy9Ub3RhbEN1c3RvbWVycycKaW1wb3J0IEFjdGl2ZUNhbXBhaWducyBmcm9tICcuL0Rhc2hib2FyZENvbXBvbmVudHMvQWN0aXZlQ2FtcGFpZ25zJwppbXBvcnQgT3Bpbmlpb25SYXRpbmcgZnJvbSAnLi9EYXNoYm9hcmRDb21wb25lbnRzL09waW5paW9uUmF0aW5nJwppbXBvcnQgUHVibGljUmF0aW5nIGZyb20gJy4vRGFzaGJvYXJkQ29tcG9uZW50cy9QdWJsaWNSYXRpbmcnCmltcG9ydCBBY3RpdmVDYW1wYWlnblN1bW1hcnkgZnJvbSAnLi9EYXNoYm9hcmRDb21wb25lbnRzL0FjdGl2ZUNhbXBhaWduU3VtbWFyeScKaW1wb3J0IFByaXZhdGVGZWVkYmFjayBmcm9tICcuL0Rhc2hib2FyZENvbXBvbmVudHMvUHJpdmF0ZUZlZWRiYWNrJwppbXBvcnQgQnVzaW5lc3NJbmZvIGZyb20gJy4vRGFzaGJvYXJkQ29tcG9uZW50cy9CdXNpbmVzc0luZm8nCmltcG9ydCBPcGluaWlvbkFnZ3JlZ2F0ZSBmcm9tICcuL0Rhc2hib2FyZENvbXBvbmVudHMvT3Bpbmlpb25BZ2dyZWdhdGUnCmltcG9ydCBSZXZpZXdzQnlTb3VyY2UgZnJvbSAnLi9EYXNoYm9hcmRDb21wb25lbnRzL1Jldmlld3NCeVNvdXJjZScKaW1wb3J0IERlZHVwZUN1c3RvbWVycyBmcm9tICcuL0Rhc2hib2FyZENvbXBvbmVudHMvRGVkdXBlQ3VzdG9tZXJzJwoKLy8gTW9kYWxzCmltcG9ydCBGaXJzdExvZ2luTW9kYWwgZnJvbSAnLi9GaXJzdExvZ2luTW9kYWwnOwovLyBNb2RhbHMgRW5kCgppbXBvcnQgRGFzaGJvYXJkU2VydmljZSBmcm9tICcuLy4uL3NlcnZpY2VzL0Rhc2hib2FyZFNlcnZpY2UnCmltcG9ydCBVc2VyU2VydmljZSBmcm9tICcuLy4uL3NlcnZpY2VzL1VzZXJTZXJ2aWNlJwppbXBvcnQgY29uZmlnIGZyb20gJy4uL2NvbmZpZy5qcyc7CmltcG9ydCB7RXZlbnRTZXJ2aWNlfSBmcm9tICcuLi9tYWluJwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdkYXNoYm9hcmQnLAogIGNvbXBvbmVudHM6IHsKICAgIExpbmVDaGFydCwKICAgIERvdWdobnV0Q2hhcnQsCiAgICBEYXNoYm9hcmRUaWxlLAogICAgUmVjZW50UHJpdmF0ZUZlZWRiYWNrLAogICAgUmVjZW50UG9zaXRpdmVGZWVkYmFjaywKICAgIFJlY2VudFB1YmxpY1Jldmlld3MsCiAgICBHTUJMaW5rQmFubmVyLAogICAgV29yZENsb3VkLAogICAgTmV3Q3VzdG9tZXJzLAogICAgVG90YWxDdXN0b21lcnMsCiAgICBBY3RpdmVDYW1wYWlnbnMsCiAgICBPcGluaWlvblJhdGluZywKICAgIFB1YmxpY1JhdGluZywKICAgIEFjdGl2ZUNhbXBhaWduU3VtbWFyeSwKICAgIFByaXZhdGVGZWVkYmFjaywKICAgIEludGVyYWN0aW9uRmVlZCwKICAgIEJ1c2luZXNzSW5mbywKICAgIE9waW5paW9uQWdncmVnYXRlLAogICAgUmV2aWV3c0J5U291cmNlLAogICAgRGVkdXBlQ3VzdG9tZXJzLAogICAgRmlyc3RMb2dpbk1vZGFsCiAgfSwKICBzaG93Q3VzdG9tZXJTZXJ2aWNlQ29udGFjdEJveDogdHJ1ZSwKICBkYXRhOiBmdW5jdGlvbigpIHsKICAgIHJldHVybiB7CiAgICAgIGRhc2hib2FyZERhdGE6IHt9LAogICAgICBmaXJzdExvZ2luTW9kYWxPcGVuOiBmYWxzZSwKICAgICAgdXNlclJvbGU6IG51bGwsCiAgICAgIHNlYXJjaFRleHQ6ICcnLAogICAgICB1c2VySWQ6ICcnLAogICAgICBnbWJVcmw6ICcnCiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5nbWJVcmwgPSBjb25maWcuZ21iVXJsOwogICAgdGhpcy5jdXJyZW50VXNlciA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2N1cnJlbnRVc2VyJykpOwogICAgdGhpcy51c2VySWQgPSB0aGlzLmN1cnJlbnRVc2VyLnVzZXJJZDsKICAgIHRoaXMuc2hvd0ZpcnN0TG9naW5Nb2RhbCgpOwogICAgdGhpcy5nZXREYXNoYm9hcmREYXRhKCk7CiAgICB0aGlzLmNoZWNrTG9jYXRpb25zRm9yR01CKCk7CiAgICBFdmVudFNlcnZpY2UuJG9uKCdsb2NhdGlvbkNoYW5nZScsIHRoaXMuc2V0TmV3TG9jYXRpb24pOwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gKCkgewogICAgRXZlbnRTZXJ2aWNlLiRvZmYoJ2xvY2F0aW9uQ2hhbmdlJywgdGhpcy5zZXROZXdMb2NhdGlvbik7CiAgfSwKICBtZXRob2RzOiB7CiAgICBzaG93Rmlyc3RMb2dpbk1vZGFsICgpIHsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgVXNlclNlcnZpY2UuZ2V0Q3VycmVudFVzZXIoKS50aGVuKAogICAgICAgIGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2Uudmlld2VkV2Fsa3Rocm91Z2gpIHsKICAgICAgICAgICAgdm0uZmlyc3RMb2dpbk1vZGFsT3BlbiA9IGZhbHNlOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdm0uZmlyc3RMb2dpbk1vZGFsT3BlbiA9IHRydWU7CiAgICAgICAgICAgIFVzZXJTZXJ2aWNlLm1hcmtWaWV3ZWRXYWxrdGhyb3VnaChyZXNwb25zZS5lbWFpbCk7CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBmdW5jdGlvbihlcnJvcikgewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIH0KICAgICAgKTsKICAgIH0sCiAgICBjbG9zZU1vZGFsICgpIHsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgdm0uZmlyc3RMb2dpbk1vZGFsT3BlbiA9IGZhbHNlOwogICAgfSwKICAgIHNob3dCYW5uZXIoKSB7CiAgICAgIGxldCB2bSA9IHRoaXM7CiAgICAgIGxldCBjaGVja0ZvclNlcnZlZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdHTUJTaG93bicpOwogICAgICBpZighY2hlY2tGb3JTZXJ2ZWQgJiYgdm0uZGlzcGxheWVkICYmICF2bS5jdXJyZW50VXNlci5pc1N1cGVyQWRtaW4pIHsKICAgICAgICB0aGlzLiRub3RpZnkuY2xvc2VBbGwoKQogICAgICAgIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgICB0aXRsZTogJ0xpbmsgR29vZ2xlIEJ1c2luZXNzIHRvIE9waW5paW9uJywKICAgICAgICAgIHR5cGU6ICdpbmZvJywKICAgICAgICAgIGRhbmdlcm91c2x5VXNlSFRNTFN0cmluZzogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6IGA8cD5JdCBsb29rcyBsaWtlIHlvdSBoYXZlIGxvY2F0aW9ucyB0aGF0IGFyZW4ndCBsaW5rZWQgdXAgdG8geW91ciBHb29nbGUgTXkgQnVzaW5lc3MgcGFnZXMhPGJyIC8+PGEgY2xhc3M9Imh2ci11bmRlcmxpbmUtZnJvbS1jZW50ZXIiIGhyZWY9IiR7dm0uZ21iVXJsfS8ke3ZtLnVzZXJJZH0iPkNsaWNrIGhlcmU8L2E+IHRvIGxpbmsgdGhlbSB1cCBhbmQgZ2V0IGFjY2VzcyB0byBtb3JlIGFkdmFuY2VkIGZlYXR1cmVzLjwvcD5gCiAgICAgICAgfSk7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ0dNQlNob3duJywgdHJ1ZSk7CiAgICAgIH0KICAgIH0sCiAgICBjaGVja0xvY2F0aW9uc0ZvckdNQigpIHsKICAgICAgbGV0IHZtID0gdGhpczsKICAgICAgbGV0IGJ1c2luZXNzZXMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsb2NhdGlvbk9wdGlvbnMnKSk7CiAgICAgIGlmKGJ1c2luZXNzZXMpIHsKICAgICAgICB2bS5kaXNwbGF5ZWQgPSBidXNpbmVzc2VzLnNvbWUoKGUpID0+IHsKICAgICAgICAgIHJldHVybiAhZS5nbWIKICAgICAgICB9KQogICAgICAgIHZtLnNob3dCYW5uZXIoKTsKICAgICAgfQogICAgfSwKICAgIGdldERhc2hib2FyZERhdGEoKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIFVzZXJTZXJ2aWNlLmdldFVzZXJSb2xlKCkudGhlbigKICAgICAgICBmdW5jdGlvbihyZXNwb25zZSkgewogICAgICAgICAgdm0udXNlclJvbGUgPSByZXNwb25zZS5yb2xlOwogICAgICAgICAgLyppZiAodm0udXNlclJvbGUgPT0gJ2FkbWluJykgewogICAgICAgICAgICBEYXNoYm9hcmRTZXJ2aWNlLmdldEFkbWluRGFzaGJvYXJkRGF0YSgpCiAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIHZtLmFkbWluRGF0YSA9IHJlc3BvbnNlOwogICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgeyovCiAgICAgICAgICAgIERhc2hib2FyZFNlcnZpY2UuZ2V0RGFzaGJvYXJkRGF0YSgpCiAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIHZtLmRhc2hib2FyZERhdGEgPSByZXNwb25zZTsKCiAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgIC8qfSovCiAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgc2V0TmV3TG9jYXRpb24oKSB7CiAgICAgIHRoaXMuZ2V0RGFzaGJvYXJkRGF0YSgpOwogICAgfSwKICAgIHNwb29mVXNlcih1c2VyKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIFVzZXJTZXJ2aWNlLnNwb29mVXNlcih1c2VyLl9pZCkudGhlbigKICAgICAgICBmdW5jdGlvbihyZXNwb25zZSkgewogICAgICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KCdzcG9vZmluZ1VzZXInKTsKICAgICAgICB9LCBmdW5jdGlvbihlcnJvcikgewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgIH0KICB9Cn0K"},{"version":3,"sources":["Dashboard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Dashboard.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div id=\"dashboard-container\">\n    <!-- <g-m-b-link-banner class=\"banner-position\" />     -->\n    <div class=\"not-assigned\" v-if=\"userRole == 'none'\" ><h3>You have not been assigned a location yet, please check back in a few minutes.</h3></div>\n    <el-container>\n      <el-main>\n        <el-row v-if=\"userRole !== 'none' && ['agent', 'manager', 'owner', 'admin'].indexOf(userRole) > -1\">\n          <el-col :xs=\"24\" :sm=\"12\" :lg=\"6\">\n            <new-customers />\n          </el-col>\n          <el-col :xs=\"24\" :sm=\"12\" :lg=\"6\">\n            <total-customers />\n          </el-col>\n          <el-col :xs=\"24\" :sm=\"12\" :lg=\"6\">\n            <active-campaigns />\n          </el-col>\n          <el-col :xs=\"24\" :sm=\"12\" :lg=\"6\">\n            <opiniion-rating />\n          </el-col>\n        </el-row>\n        <el-row v-if=\"userRole !== 'none' && ['agent', 'manager', 'owner', 'admin'].indexOf(userRole) > -1\">\n          <el-col :xs=\"24\" :sm=\"8\">\n            <public-rating />\n          </el-col>\n          <el-col :xs=\"24\" :sm=\"8\">\n            <active-campaign-summary />\n          </el-col>\n          <el-col :xs=\"24\" :sm=\"8\">\n            <private-feedback />\n          </el-col>\n        </el-row>\n        <el-row v-if=\"userRole !== 'none' && ['agent', 'manager', 'owner', 'admin'].indexOf(userRole) > -1\">\n          <el-col :xs=\"24\" :sm=\"12\">\n            <recent-public-reviews />\n          </el-col>\n          <el-col :xs=\"24\" :sm=\"12\">\n            <recent-private-feedback />\n          </el-col>\n        </el-row>\n        <el-row v-if=\"userRole !== 'none' && ['agent', 'manager', 'owner', 'admin'].indexOf(userRole) > -1\">\n          <el-col :xs=\"24\" :sm=\"12\">\n            <word-cloud />\n          </el-col>\n          <el-col :xs=\"24\" :sm=\"12\">\n            <interaction-feed />\n          </el-col>\n        </el-row>\n      </el-main>\n    </el-container>\n    <FirstLoginModal v-if=\"firstLoginModalOpen\" @close=\"closeModal\"/>\n    <!-- <recent-private-feedback style=\"flex: 1; min-width: 40%; box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.25);\" v-if=\"['agent', 'manager', 'owner'].indexOf(userRole) > -1\"/>\n    <recent-public-reviews style=\"flex: 1; min-width: 40%;box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.25);\" v-if=\"['agent', 'manager', 'owner'].indexOf(userRole) > -1\"/>\n    <word-cloud style=\"flex: 1; min-width: 40%;box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.25);\" v-if=\"['agent', 'manager', 'owner'].indexOf(userRole) > -1\"/>\n    <interaction-feed style=\"flex: 1; min-width: 40%;box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.25);\" v-if=\"['agent', 'manager', 'owner'].indexOf(userRole) > -1\"/> -->\n    <!-- <dedupe-customers style=\"flex: 1; max-width: 40%;box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.25);\" v-if=\"['admin'].indexOf(userRole) > -1\"/> -->\n  </div>\n</template>\n\n<script>\nimport LineChart from './Charts/LineChart'\nimport DoughnutChart from './Charts/DoughnutChart'\nimport DashboardTile from './DashboardComponents/DashboardTile'\nimport GMBLinkBanner from './DashboardComponents/GMBLinkBanner'\n\nimport RecentPrivateFeedback from './DashboardComponents/RecentPrivateFeedback'\nimport RecentPositiveFeedback from './DashboardComponents/RecentPositiveFeedback'\nimport RecentPublicReviews from './DashboardComponents/RecentPublicReviews'\nimport WordCloud from './DashboardComponents/WordCloud'\nimport InteractionFeed from './DashboardComponents/InteractionFeed'\nimport NewCustomers from './DashboardComponents/NewCustomers'\nimport TotalCustomers from './DashboardComponents/TotalCustomers'\nimport ActiveCampaigns from './DashboardComponents/ActiveCampaigns'\nimport OpiniionRating from './DashboardComponents/OpiniionRating'\nimport PublicRating from './DashboardComponents/PublicRating'\nimport ActiveCampaignSummary from './DashboardComponents/ActiveCampaignSummary'\nimport PrivateFeedback from './DashboardComponents/PrivateFeedback'\nimport BusinessInfo from './DashboardComponents/BusinessInfo'\nimport OpiniionAggregate from './DashboardComponents/OpiniionAggregate'\nimport ReviewsBySource from './DashboardComponents/ReviewsBySource'\nimport DedupeCustomers from './DashboardComponents/DedupeCustomers'\n\n// Modals\nimport FirstLoginModal from './FirstLoginModal';\n// Modals End\n\nimport DashboardService from './../services/DashboardService'\nimport UserService from './../services/UserService'\nimport config from '../config.js';\nimport {EventService} from '../main'\n\nexport default {\n  name: 'dashboard',\n  components: {\n    LineChart,\n    DoughnutChart,\n    DashboardTile,\n    RecentPrivateFeedback,\n    RecentPositiveFeedback,\n    RecentPublicReviews,\n    GMBLinkBanner,\n    WordCloud,\n    NewCustomers,\n    TotalCustomers,\n    ActiveCampaigns,\n    OpiniionRating,\n    PublicRating,\n    ActiveCampaignSummary,\n    PrivateFeedback,\n    InteractionFeed,\n    BusinessInfo,\n    OpiniionAggregate,\n    ReviewsBySource,\n    DedupeCustomers,\n    FirstLoginModal\n  },\n  showCustomerServiceContactBox: true,\n  data: function() {\n    return {\n      dashboardData: {},\n      firstLoginModalOpen: false,\n      userRole: null,\n      searchText: '',\n      userId: '',\n      gmbUrl: ''\n    }\n  },\n  mounted() {\n    },\n  created() {\n    this.gmbUrl = config.gmbUrl;\n    this.currentUser = JSON.parse(localStorage.getItem('currentUser'));\n    this.userId = this.currentUser.userId;\n    this.showFirstLoginModal();\n    this.getDashboardData();\n    this.checkLocationsForGMB();\n    EventService.$on('locationChange', this.setNewLocation);\n  },\n  beforeDestroy: function () {\n    EventService.$off('locationChange', this.setNewLocation);\n  },\n  methods: {\n    showFirstLoginModal () {\n      var vm = this;\n      UserService.getCurrentUser().then(\n        function(response) {\n          if (response.viewedWalkthrough) {\n            vm.firstLoginModalOpen = false;\n          } else {\n            vm.firstLoginModalOpen = true;\n            UserService.markViewedWalkthrough(response.email);\n          }\n        },\n        function(error) {\n          console.log(error);\n        }\n      );\n    },\n    closeModal () {\n      var vm = this;\n      vm.firstLoginModalOpen = false;\n    },\n    showBanner() {\n      let vm = this;\n      let checkForServed = localStorage.getItem('GMBShown');\n      if(!checkForServed && vm.displayed && !vm.currentUser.isSuperAdmin) {\n        this.$notify.closeAll()\n        this.$notify({\n          title: 'Link Google Business to Opiniion',\n          type: 'info',\n          dangerouslyUseHTMLString: true,\n          message: `<p>It looks like you have locations that aren't linked up to your Google My Business pages!<br /><a class=\"hvr-underline-from-center\" href=\"${vm.gmbUrl}/${vm.userId}\">Click here</a> to link them up and get access to more advanced features.</p>`\n        });\n        localStorage.setItem('GMBShown', true);\n      }\n    },\n    checkLocationsForGMB() {\n      let vm = this;\n      let businesses = JSON.parse(localStorage.getItem('locationOptions'));\n      if(businesses) {\n        vm.displayed = businesses.some((e) => {\n          return !e.gmb\n        })\n        vm.showBanner();\n      }\n    },\n    getDashboardData() {\n      var vm = this;\n      UserService.getUserRole().then(\n        function(response) {\n          vm.userRole = response.role;\n          /*if (vm.userRole == 'admin') {\n            DashboardService.getAdminDashboardData()\n              .then(function(response) {\n                vm.adminData = response;\n              }, function(error) {\n                console.log(error);\n              });\n          } else {*/\n            DashboardService.getDashboardData()\n              .then(function(response) {\n                vm.dashboardData = response;\n\n              }, function(error) {\n                console.log(error);\n              });\n          /*}*/\n        }, function(error) {\n          console.log(error);\n      });\n    },\n    setNewLocation() {\n      this.getDashboardData();\n    },\n    spoofUser(user) {\n      var vm = this;\n      UserService.spoofUser(user._id).then(\n        function(response) {\n          EventService.$emit('spoofingUser');\n        }, function(error) {\n          console.log(error);\n      });\n    }\n  }\n}\n</script>\n\n<style scoped>\n#dashboard-container {\n  height: auto;\n  margin: auto;\n  max-width: 1920px;\n  min-height: 1500px; /* This is a temporary fix to dashboard footer going behind/in-front of cards */\n}\n\n.el-main {\n  padding: 0;\n}\n.dashboard-container {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n}\n\n\n.dashboard-group {\n  display: flex;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n}\n\n@media only screen and (max-width: 1000px) {\n  .dashboard-group {\n    flex-wrap: wrap;\n  }\n}\n\n</style>\n"]}]}