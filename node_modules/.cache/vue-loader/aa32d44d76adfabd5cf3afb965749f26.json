{"remainingRequest":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/src/components/LocationDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/src/components/LocationDetail.vue","mtime":1581270622000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBMb2NhdGlvblNlcnZpY2UgZnJvbSAnLi8uLi9zZXJ2aWNlcy9Mb2NhdGlvblNlcnZpY2UnCmltcG9ydCBVc2VyU2VydmljZSBmcm9tICcuLy4uL3NlcnZpY2VzL1VzZXJTZXJ2aWNlJwppbXBvcnQgeyBFdmVudFNlcnZpY2UgfSBmcm9tICIuLi9tYWluIgppbXBvcnQgQXV0b2NvbXBsZXRlIGZyb20gJy4vQXV0b2NvbXBsZXRlJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnYWRkTG9jYXRpb24nLAogIHByb3BzOiBbJ3NlbGVjdGVkTG9jYXRpb24nXSwKICBjb21wb25lbnRzOiB7CiAgICBBdXRvY29tcGxldGUKICB9LAogIGRhdGE6IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9jYXRpb25EZXRhaWxNb2RhbDogdHJ1ZSwKICAgICAgdXNlcjoge30sCiAgICAgIGNyZWF0ZWREYXRlRGlzcGxheTogJycsCiAgICAgIGNyZWF0ZWRCeVVzZXI6IHt9LAogICAgICB1c2VyTG9jYXRpb25zOiB7CiAgICAgICAgcm9sZTogJycKICAgICAgfSwKICAgICAgbG9jYXRpb246IHsKICAgICAgICBuYW1lOiAnJywKICAgICAgICBhZGRyZXNzOiB7CiAgICAgICAgICBzdHJlZXQxOiAnJywKICAgICAgICAgIGNpdHk6ICcnLAogICAgICAgICAgc3RhdGU6ICcnLAogICAgICAgICAgemlwOiAnJwogICAgICAgIH0sCiAgICAgICAgcGhvbmU6ICcnLAogICAgICAgIGxvY2F0aW9uV2ViaG9vazogJycsCiAgICAgICAgbG9jYXRpb25TdHlsZTogewogICAgICAgICAgbG9nbzogJycKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGxvY2F0aW9uTG9nbzogJycsCiAgICAgIGlzRGlzYWJsZWQ6IHsKICAgICAgICBuYW1lOiB0cnVlLAogICAgICAgIGFkZHJlc3M6IHRydWUsCiAgICAgICAgY2l0eTogdHJ1ZSwKICAgICAgICBzdGF0ZTogdHJ1ZSwKICAgICAgICB6aXA6IHRydWUsCiAgICAgICAgcGhvbmU6IHRydWUsCiAgICAgICAgd2ViaG9vazogdHJ1ZSwKICAgICAgfSwKICAgICAgZGVmYXVsdERpc2FibGVkOiB7CiAgICAgICAgbmFtZTogdHJ1ZSwKICAgICAgICBhZGRyZXNzOiB0cnVlLAogICAgICAgIGNpdHk6IHRydWUsCiAgICAgICAgc3RhdGU6IHRydWUsCiAgICAgICAgemlwOiB0cnVlLAogICAgICAgIHBob25lOiB0cnVlLAogICAgICAgIHdlYmhvb2s6IHRydWUsCiAgICAgIH0sCiAgICAgIHNlcnZpY2VBcnJheTogW10sCiAgICAgIGVkaXRpbmdVc2VyczogZmFsc2UsCiAgICAgIHF1ZXJ5U3RyaW5nOiAnJywKICAgICAgcXVlcnlSZXN1bHRzOiBbXSwKICAgICAgcm9sZTogJ3VuYXNzaWduZWQnLAogICAgICB1c2VyT3B0aW9uczogWyB7dGV4dDondW5hc3NpZ25lZCd9LCB7dGV4dDonb3duZXInfSwge3RleHQ6J21hbmFnZXInfSwge3RleHQ6J2FnZW50J30gXSwKICAgICAgcXVlcmllZDogZmFsc2UsCiAgICAgIGNoZWNrZWQ6IGZhbHNlLAogICAgICBlZGl0aW5nOiBmYWxzZSwKICAgICAgYXBpU3RyaW5nOiAnJywKICAgICAgYXBpVmlldzogZmFsc2UsCiAgICAgIGxvY2F0aW9uVXNlcnM6IFtdLAogICAgICBpc0FkbWluOiBmYWxzZSwKICAgICAgaXNBbGxvd2VkVG9SZXJlcXVlc3Q6IGZhbHNlLAogICAgICBzaG93UmVSZXF1ZXN0TWVudTogZmFsc2UKICAgIH0KICB9LAogIG1vdW50ZWQgKCkgewogICAgLy8gY29uc29sZS5sb2codGhpcy5sb2NhdGlvbi5yZXZpZXdzTGlzdCk7CiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnNlbGVjdGVkTG9jYXRpb24pOwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIFVzZXJTZXJ2aWNlLmxvZ1BhZ2VWaXNpdCgnbG9jYXRpb25EZXRhaWwnKTsKICAgIGlmKHRoaXMuc2VsZWN0ZWRMb2NhdGlvbikgewogICAgdGhpcy5sb2NhdGlvbiA9IHRoaXMuc2VsZWN0ZWRMb2NhdGlvbjsKICAgIHRoaXMuYXBpU3RyaW5nID0gYGh0dHBzOi8vYXBpLm9waW5paW9uLmNvbS9pbXBvcnQvY3VzdG9tZXIKICAgICAgewogICAgICAgICJ1aWQiOiAiYCsgdGhpcy5sb2NhdGlvbi5sb2NhdGlvbklkICsgYCIsCiAgICAgICAgImFwaSI6ICJgKyB0aGlzLmxvY2F0aW9uLmFwaUtleSArIGAiLAogICAgICAgICJmaXJzdG5hbWUiOiAie3tGaXJzdE5hbWV9fSIsCiAgICAgICAgImxhc3RuYW1lIjogInt7TGFzdE5hbWV9fSIsCiAgICAgICAgImVtYWlsIjogInt7RW1haWxBZGRyZXNzfX0iLAogICAgICAgICJjb3VudHJ5Y29kZSI6ICIrMSIsCiAgICAgICAgInBob25lIjogInt7UGhvbmVOdW1iZXJ9fSIsCiAgICAgICAgIm5vdGVzIjogIk5vdGVzIiwKICAgICAgICAicSI6ICJkZWZhdWx0IiwKICAgICAgICAic291cmNlIjogIkFQSSIKICAgICAgfQogICAgICBgCiAgICB9CiAgICB0aGlzLnVzZXIgPSB0aGlzLnNlbGVjdGVkVXNlcjsKICAgIGlmKHRoaXMuc2VsZWN0ZWRMb2NhdGlvbikgewogICAgVXNlclNlcnZpY2UuZ2V0VXNlclJvbGUodGhpcy5zZWxlY3RlZExvY2F0aW9uLmxvY2F0aW9uSWQpLnRoZW4oIHJlc3BvbnNlID0+IHsKICAgICAgdGhpcy51c2VyTG9jYXRpb25zLnJvbGUgPSByZXNwb25zZS5yb2xlOwogICAgfSkKICAgIH0KICAgIGlmKHRoaXMubG9jYXRpb24ubG9jYXRpb25TdHlsZS5sb2dvKSB7CiAgICAgIHRoaXMuY2hhbmdlSW1hZ2UoJ2RhdGE6aW1hZ2UvcG5nO2Jhc2U2NCwnICsgdGhpcy5sb2NhdGlvbi5sb2NhdGlvblN0eWxlLmxvZ28pCiAgICB9CiAgICB0aGlzLmdldExvY2F0aW9uVXNlcnMoKTsKCiAgICB2YXIgdm0gPSB0aGlzOwogICAgbGV0IGN1cnJlbnRVc2VyID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY3VycmVudFVzZXInKSk7CiAgICB2bS5pc0FkbWluID0gY3VycmVudFVzZXIuaXNTdXBlckFkbWluOwogICAgdm0uaXNBbGxvd2VkVG9SZXJlcXVlc3QgPSAoWydtb3JnYW5Ab3Bpbmlpb24uY29tJywnanVzdGluQG9waW5paW9uLmNvbScsJ21hcmtiQG9waW5paW9uLmNvbSddLmluZGV4T2YoY3VycmVudFVzZXIuZW1haWwpID4gLTEpOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0TG9jYXRpb25Vc2VycygpIHsKICAgICAgVXNlclNlcnZpY2UuZ2V0VXNlcnNGb3JMb2NhdGlvbih0aGlzLnNlbGVjdGVkTG9jYXRpb24ubG9jYXRpb25JZCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy5sb2NhdGlvblVzZXJzID0gcmVzcG9uc2UucmVzdWx0czsKICAgICAgfSkKICAgIH0sCiAgICBjaGVja0VkaXRpbmcoKSB7CiAgICAgIHRoaXMuZWRpdGluZyA9IHRydWU7CiAgICB9LAogICAgdmlld0FwaSgpIHsKICAgICAgdGhpcy5hcGlWaWV3ID0gIXRoaXMuYXBpVmlldzsKICAgIH0sCiAgICBjaGFuZ2VJbWFnZShyYXdEYXRhKXsKICAgICAgICB0aGlzLmxvY2F0aW9uTG9nbyA9ICJ1cmwoJyIgKyByYXdEYXRhICsgIicpIjsKICAgIH0sCiAgICBzcG9vZlVzZXIodXNlcikgewogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICBVc2VyU2VydmljZS5zcG9vZlVzZXIodXNlci51c2VySWQpLnRoZW4oCiAgICAgICAgZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgic3Bvb2ZpbmdVc2VyIik7CiAgICAgICAgfSwKICAgICAgICBmdW5jdGlvbihlcnJvcikgewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIH0KICAgICAgKTsKICAgIH0sCiAgICBjaGFuZ2VSZXZpZXdzUHVsbChyZXZpZXdEYXRhKSB7CiAgICAgIGxldCB2bSA9IHRoaXM7CiAgICAgIExvY2F0aW9uU2VydmljZS51cGRhdGVSZXZpZXdzTGlzdCh2bS5sb2NhdGlvbi5sb2NhdGlvbklkLCB2bS5sb2NhdGlvbi5yZXZpZXdzTGlzdCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgaWYocmVzcG9uc2UpIHsKICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgnc3VjY2Vzc01lc3NhZ2UnLCAnRGF0YSBVcGRhdGVkJykKICAgICAgICB9IGVsc2UgewogICAgICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KCdlcnJvck1lc3NhZ2UnLCAnRmFpbGVkIHRvIHNhdmUsIHBsZWFzZSB0cnkgYWdhaW4uJykKICAgICAgICB9CiAgICAgIH0pICAgICAgCiAgICB9LAogICAgZWRpdExvY2F0aW9uKCkgewogICAgICB0aGlzLiRlbWl0KCdlZGl0TG9jYXRpb24nKTsKICAgIH0sCiAgICByZXJlcXVlc3RDdXN0b21lcnMocmF0aW5nQ3JpdGVyaWEpIHsKICAgICAgaWYgKHJhdGluZ0NyaXRlcmlhKSB7CiAgICAgICAgdmFyIHJhdGluZyA9IHJhdGluZ0NyaXRlcmlhOwogICAgICAgIExvY2F0aW9uU2VydmljZS5yZXJlcXVlc3RCeVJhdGluZyh0aGlzLmxvY2F0aW9uLmxvY2F0aW9uSWQsIHJhdGluZykudGhlbigKICAgICAgICAgIGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgic3VjY2Vzc01lc3NhZ2UiLCAiUmV2aWV3cyByZXF1ZXN0ZWQgZm9yIGFsbCB1c2VycyB3aG8gaGFkIGEgcmF0aW5nIG9mICIgKyByYXRpbmcgKyAiLiIpOwogICAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoImVycm9yTWVzc2FnZSIsICJBbiBlcnJvciBvY2N1cnJlZCByZXF1ZXN0aW5nIHJldmlld3MuIik7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgTG9jYXRpb25TZXJ2aWNlLnJlcmVxdWVzdEFsbCh0aGlzLmxvY2F0aW9uLmxvY2F0aW9uSWQpLnRoZW4oCiAgICAgICAgICBmdW5jdGlvbihyZXNwb25zZSkgewogICAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoInN1Y2Nlc3NNZXNzYWdlIiwgIlJldmlld3MgcmVxdWVzdGVkIGZvciBhbGwgdXNlcnMgYXQgdGhpcyBsb2NhdGlvbi4iKTsKICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KCJlcnJvck1lc3NhZ2UiLCAiQW4gZXJyb3Igb2NjdXJyZWQgcmVxdWVzdGluZyByZXZpZXdzLiIpOwogICAgICAgIH0pOwogICAgICB9CiAgICAgIHRoaXMuc2hvd1JlUmVxdWVzdE1lbnUgPSBmYWxzZTsKICAgIH0sCiAgICB1cGRhdGVCQ0MoKSB7CiAgICAgIGxldCB2bSA9IHRoaXM7CiAgICAgIExvY2F0aW9uU2VydmljZS5zZXRFbWFpbEJDQ0xpc3Qodm0ubG9jYXRpb24ubG9jYXRpb25JZCwgdm0ubG9jYXRpb24uYmNjTGlzdCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgaWYocmVzcG9uc2UpIHsgICAgICAgICAgCiAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoInN1Y2Nlc3NNZXNzYWdlIiwgIlN1Y2Nlc3NmdWxseSB1cGRhdGVkIEJDQyBMaXN0LiIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoImVycm9yTWVzc2FnZSIsICJTb21ldGhpbmcgd2VudCB3cm9uZywgcGxlYXNlIHRyeSBhZ2Fpbi4iKTsKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgdXBkYXRlV2ViaG9vaygpIHsKICAgICAgbGV0IHZtID0gdGhpczsKICAgICAgTG9jYXRpb25TZXJ2aWNlLnNldExvY2F0aW9uV2ViaG9vayh2bS5sb2NhdGlvbi5sb2NhdGlvbklkLCB2bS5sb2NhdGlvbi53ZWJob29rKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBpZihyZXNwb25zZSkgeyAgICAgICAgICAKICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgic3VjY2Vzc01lc3NhZ2UiLCAiU3VjY2Vzc2Z1bGx5IHVwZGF0ZWQgd2ViaG9vay4iKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KCJlcnJvck1lc3NhZ2UiLCAiU29tZXRoaW5nIHdlbnQgd3JvbmcsIHBsZWFzZSB0cnkgYWdhaW4uIik7CiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIG9uQ2hhbmdlKGlucHV0TmFtZSwgaW5wdXRPYmopIHsKICAgICAgLy8gY29uc29sZS5sb2coIkNoYW5nZWQgdGhlICIgKyBpbnB1dE5hbWUpOwogICAgICBsZXQgdm0gPSB0aGlzOwogICAgICBMb2NhdGlvblNlcnZpY2VbaW5wdXROYW1lXSh0aGlzLmxvY2F0aW9uLmxvY2F0aW9uSWQsIHRoaXMubG9jYXRpb25baW5wdXRPYmpdKQogICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgICAgICByZXR1cm4gJ1N1Y2Nlc3MnCiAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHsKICAgICAgICAgIHJldHVybiBlcnJvcgogICAgICAgICAgfQogICAgICAgICk7CiAgICB9LAogICAgaGlkZUF1dG9NZW51KCl7CiAgICAgIHRoaXMuJGNoaWxkcmVuWzBdLmNsb3NlTWVudSgpOwogICAgfSwKICAgIGNsb3NlTW9kYWwoKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2Nsb3NlTW9kYWwnKTsKICAgICAgdGhpcy5sb2NhdGlvbkRldGFpbE1vZGFsID0gZmFsc2U7CiAgICB9LAogIH0sCn0K"},{"version":3,"sources":["LocationDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkJA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"LocationDetail.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <el-dialog title=\"Location Details\" width=\"1200px\" center :show-close=\"true\" :before-close=\"closeModal\" :visible.sync=\"locationDetailModal\">\n    <div class=\"content-wrapper\">\n      <div class=\"table-wrapper\">\n        <el-row class=\"table-headers\">\n          <el-col :span=\"8\"><span class=\"users\">User</span></el-col>\n          <el-col :span=\"12\"><span class=\"roles\">Role</span></el-col>\n        </el-row>\n        <el-row class=\"table-content\" v-for=\"(user, index) in locationUsers\" :key=\"index\">\n          <el-col :span=\"8\" class=\"users\">{{user.firstName + ' ' + user.lastName}}</el-col>\n          <el-col :span=\"12\" class=\"roles role\">{{user.role}}</el-col>\n          <el-col :span=\"2\"><el-button size=\"mini\" icon=\"fas fa-user-secret\" @click=\"spoofUser(user)\" v-if=\"isAdmin\" circle></el-button></el-col>\n        </el-row>\n      </div>\n      <div class=\"content\">\n        <div class=\"content-row\">\n          <label>Name:</label>\n          <span>{{location.name}}</span>\n        </div>\n        <div class=\"content-row\">\n          <label>Address:</label>\n          <span class=\"address-span\">{{location.address.street1}} {{location.address.city}} {{location.address.state}}, {{location.address.zip}}</span>\n        </div>\n        <div class=\"content-row\">\n          <label>Phone:</label>\n          <span>{{location.phone}}</span>\n        </div>\n        <div class=\"content-row\" v-if=\"isAdmin\">\n          <label>Location ID:</label>\n          <span>{{location.locationId}}</span>\n        </div>\n        <div class=\"content-row\" v-if=\"isAdmin\">\n          <label>API Key:</label>\n          <span>{{location.apiKey}}</span>\n        </div>\n        <div class=\"inputs-absolute-container\">\n          <!-- <label>BCC List</label>\n          <el-input placeholder=\"BCC List...\" size=\"mini\" v-model=\"location.bccList\" @change=\"updateBCC()\"></el-input> -->\n          <label>Webhook</label>\n          <el-input placeholder=\"Webhook...\" size=\"mini\" v-model=\"location.webhook\" @change=\"updateWebhook()\"></el-input>\n        </div>\n        <el-divider class=\"divider\"></el-divider>\n        <el-row class=\"table-content-headers\">\n          <el-col :span=\"4\">Active</el-col>\n          <el-col :span=\"5\">Source</el-col>\n          <el-col :span=\"12\">URL</el-col>\n        </el-row>\n        <el-row class=\"table-content-row\" v-for=\"(item, index) in location.reviewsList\" :key=\"index\">\n          <el-col :span=\"4\"><el-checkbox v-model=\"item.pullData\" @change=\"changeReviewsPull(index)\"></el-checkbox></el-col>\n          <el-col :span=\"5\" class=\"table-content-source\">{{index}}</el-col>\n          <el-col :span=\"15\"><el-input type=\"url\" size=\"mini\" v-model=\"item.url\" placeholder=\"Source url...\" @change=\"changeReviewsPull(index)\"></el-input></el-col>\n        </el-row>\n      </div>\n    </div>\n    <div class=\"changes-saved\">* Changes are saved automatically</div>\n    <el-button class=\"edit-location\" type=\"primary\" size=\"mini\" @click=\"editLocation()\" v-if=\"isAdmin\">Edit Location</el-button>\n  </el-dialog>\n\n  <!-- OUTDATED CODE -->\n\n  <!-- <transition name=\"modal\"> -->\n    <!-- <div class=\"modal-mask\" @click=\"closeModal()\">\n      <div class=\"modal-container\" @click.stop>\n        <div class=\"modal-body\" v-show=\"editingUsers == false\" @click=\"hideAutoMenu()\">\n          <div class=\"modal-column-left\">\n            Users\n          <div class=\"display-logo\" :style=\"{'background-image':this.locationLogo}\"></div>\n            <div class=\"display-users-box\">\n              <div class=\"display-users\" v-for=\"user in locationUsers\">\n                <span>{{user.firstName}} {{user.lastName}} - {{user.role}}<i  @click=\"spoofUser(user)\" title=\"Login as User\" v-if=\"isAdmin\" class=\"fas fa-user-secret\" ></i></span>\n              </div>\n            </div>\n          </div>\n          <div class=\"modal-column-right\">\n            <div class=\"modal-header\">\n              <h4>Location Details</h4>\n              <span @click=\"closeModal()\"><i class=\"fal fa-times\"></i></span>\n            </div>\n            <div v-if=\"isAllowedToRerequest\" class=\"rerequestButtons\">\n              <div v-if=\"isAllowedToRerequest && !showReRequestMenu\" @click=\"showReRequestMenu = true\">\n                <button class=\"re-request-button\" @click=\"showReRequestMenu = true\">Re-Request Customers For This Location</button>\n              </div>\n              <div v-if=\"isAllowedToRerequest && showReRequestMenu\">\n                <div>\n                  <button @click=\"rerequestCustomers()\">Rerequest from All</button>\n                  <button @click=\"rerequestCustomers(3)\">Rerequest from 3s</button>\n                </div>\n                <div>\n                  <button @click=\"rerequestCustomers(5)\">Rerequest from 5s</button>\n                  <button @click=\"rerequestCustomers(2)\">Rerequest from 2s</button>\n                </div>\n                <div>\n                  <button @click=\"rerequestCustomers(4)\">Rerequest from 4s</button>\n                  <button @click=\"rerequestCustomers(1)\">Rerequest from 1s</button>\n                </div>\n              </div>\n            </div>\n            <div class=\"modal-column-data\">\n              <div class=\"modal-column-data-line\"> <label>ID </label> <span>{{location.locationId}}</span> </div>\n              <div class=\"modal-column-data-line\"> <label>Name </label> <span>{{location.name}}</span> </div>\n              <div class=\"modal-column-data-line\"> <label>Address </label> <span>{{location.address.street1}}</span> </div>\n              <div class=\"modal-column-data-line\"> <label>City </label> <span>{{location.address.city}}</span> </div>\n              <div class=\"modal-column-data-line\"> <label>State </label> <span>{{location.address.state}}</span> </div>\n              <div class=\"modal-column-data-line\"> <label>Zip </label> <span>{{location.address.zip}}</span> </div>\n              <div class=\"modal-column-data-line\"> <label>Phone </label> <span>{{location.phone}}</span> </div>\n              <div class=\"modal-column-data-line rotator\">Rotator(s)\n                <span class=\"modal-column-rotator\" v-for=\"(rotator, rindex) in location.rotators\" :key=\"rindex\">\n                  <a :href='rotator.url' target=\"blank\" rel=\"nofollow\" >{{rotator.name}} </a>\n                  <span v-if=\"rotator.name == 'Google'\">({{location.beginningRating}})</span>\n                </span>\n              </div> -->\n            <!-- <p v-if=\"createdByUser.firstName\">Created by {{createdByUser.firstName}} {{createdByUser.lastName}} at {{createdDateDisplay}}</p> -->\n            <!-- </div>\n            <div class=\"api-data-container\">\n              <button @click=\"viewApi\" v-if=\"!apiView\">View API URL</button>\n              <button @click=\"viewApi\" v-if=\"apiView\">Hide API URL</button>\n              <div class=\"api-data-string\" v-if=\"apiView\"><pre>{{apiString}}</pre></div>\n              <div class=\"api-string-info\" v-if=\"apiView\">\n                For Additional Formats, add \"&q=(1,2,3,4)\" to the end of the query string.\n              </div>\n            </div>\n            <div class=\"additional-location-data\">\n              <div class=\"modal-column-data-line\">\n                <label>BCC List</label>\n                <input v-model=\"location.bccList\" placeholder=\"\" @change=\"checkEditing(); onChange('setEmailBCCList', 'bccList')\" />\n              </div>\n              <div class=\"modal-column-data-line\">\n                <label>Webhook </label>\n                <input v-model=\"location.webhook\" @change=\"checkEditing(); onChange('setLocationWebhook', 'locationWebhook')\" />\n              </div>\n              <div style=\"font-size:10px;display:flex;justify-content:center;\">(Changes are automatically saved)</div>\n            </div>\n            <div class=\"modal-detail-line-tags\" v-if=\"isAdmin\">\n              <label>Tags </label>\n              <div class=\"tag-container\" @click.stop>\n                <autocomplete  :type=\"('location')\" :selectedLocation=\"location\" ref=\"autocompletemodal\" ></autocomplete>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </transition> -->\n</template>\n\n<script>\nimport LocationService from './../services/LocationService'\nimport UserService from './../services/UserService'\nimport { EventService } from \"../main\"\nimport Autocomplete from './Autocomplete';\n\nexport default {\n  name: 'addLocation',\n  props: ['selectedLocation'],\n  components: {\n    Autocomplete\n  },\n  data: function() {\n    return {\n      locationDetailModal: true,\n      user: {},\n      createdDateDisplay: '',\n      createdByUser: {},\n      userLocations: {\n        role: ''\n      },\n      location: {\n        name: '',\n        address: {\n          street1: '',\n          city: '',\n          state: '',\n          zip: ''\n        },\n        phone: '',\n        locationWebhook: '',\n        locationStyle: {\n          logo: ''\n        }\n      },\n      locationLogo: '',\n      isDisabled: {\n        name: true,\n        address: true,\n        city: true,\n        state: true,\n        zip: true,\n        phone: true,\n        webhook: true,\n      },\n      defaultDisabled: {\n        name: true,\n        address: true,\n        city: true,\n        state: true,\n        zip: true,\n        phone: true,\n        webhook: true,\n      },\n      serviceArray: [],\n      editingUsers: false,\n      queryString: '',\n      queryResults: [],\n      role: 'unassigned',\n      userOptions: [ {text:'unassigned'}, {text:'owner'}, {text:'manager'}, {text:'agent'} ],\n      queried: false,\n      checked: false,\n      editing: false,\n      apiString: '',\n      apiView: false,\n      locationUsers: [],\n      isAdmin: false,\n      isAllowedToRerequest: false,\n      showReRequestMenu: false\n    }\n  },\n  mounted () {\n    // console.log(this.location.reviewsList);\n    // console.log(this.selectedLocation);\n  },\n  created() {\n    UserService.logPageVisit('locationDetail');\n    if(this.selectedLocation) {\n    this.location = this.selectedLocation;\n    this.apiString = `https://api.opiniion.com/import/customer\n      {\n        \"uid\": \"`+ this.location.locationId + `\",\n        \"api\": \"`+ this.location.apiKey + `\",\n        \"firstname\": \"{{FirstName}}\",\n        \"lastname\": \"{{LastName}}\",\n        \"email\": \"{{EmailAddress}}\",\n        \"countrycode\": \"+1\",\n        \"phone\": \"{{PhoneNumber}}\",\n        \"notes\": \"Notes\",\n        \"q\": \"default\",\n        \"source\": \"API\"\n      }\n      `\n    }\n    this.user = this.selectedUser;\n    if(this.selectedLocation) {\n    UserService.getUserRole(this.selectedLocation.locationId).then( response => {\n      this.userLocations.role = response.role;\n    })\n    }\n    if(this.location.locationStyle.logo) {\n      this.changeImage('data:image/png;base64,' + this.location.locationStyle.logo)\n    }\n    this.getLocationUsers();\n\n    var vm = this;\n    let currentUser = JSON.parse(localStorage.getItem('currentUser'));\n    vm.isAdmin = currentUser.isSuperAdmin;\n    vm.isAllowedToRerequest = (['morgan@opiniion.com','justin@opiniion.com','markb@opiniion.com'].indexOf(currentUser.email) > -1);\n  },\n  methods: {\n    getLocationUsers() {\n      UserService.getUsersForLocation(this.selectedLocation.locationId).then(response => {\n        this.locationUsers = response.results;\n      })\n    },\n    checkEditing() {\n      this.editing = true;\n    },\n    viewApi() {\n      this.apiView = !this.apiView;\n    },\n    changeImage(rawData){\n        this.locationLogo = \"url('\" + rawData + \"')\";\n    },\n    spoofUser(user) {\n      var vm = this;\n      UserService.spoofUser(user.userId).then(\n        function(response) {\n          EventService.$emit(\"spoofingUser\");\n        },\n        function(error) {\n          console.log(error);\n        }\n      );\n    },\n    changeReviewsPull(reviewData) {\n      let vm = this;\n      LocationService.updateReviewsList(vm.location.locationId, vm.location.reviewsList).then(response => {\n        if(response) {\n          EventService.$emit('successMessage', 'Data Updated')\n        } else {\n          EventService.$emit('errorMessage', 'Failed to save, please try again.')\n        }\n      })      \n    },\n    editLocation() {\n      this.$emit('editLocation');\n    },\n    rerequestCustomers(ratingCriteria) {\n      if (ratingCriteria) {\n        var rating = ratingCriteria;\n        LocationService.rerequestByRating(this.location.locationId, rating).then(\n          function(response) {\n            EventService.$emit(\"successMessage\", \"Reviews requested for all users who had a rating of \" + rating + \".\");\n          }, function(error) {\n            console.log(error);\n            EventService.$emit(\"errorMessage\", \"An error occurred requesting reviews.\");\n        });\n      } else {\n        LocationService.rerequestAll(this.location.locationId).then(\n          function(response) {\n            EventService.$emit(\"successMessage\", \"Reviews requested for all users at this location.\");\n          }, function(error) {\n            console.log(error);\n            EventService.$emit(\"errorMessage\", \"An error occurred requesting reviews.\");\n        });\n      }\n      this.showReRequestMenu = false;\n    },\n    updateBCC() {\n      let vm = this;\n      LocationService.setEmailBCCList(vm.location.locationId, vm.location.bccList).then(response => {\n        if(response) {          \n          EventService.$emit(\"successMessage\", \"Successfully updated BCC List.\");\n        } else {\n          EventService.$emit(\"errorMessage\", \"Something went wrong, please try again.\");\n        }\n      })\n    },\n    updateWebhook() {\n      let vm = this;\n      LocationService.setLocationWebhook(vm.location.locationId, vm.location.webhook).then(response => {\n        if(response) {          \n          EventService.$emit(\"successMessage\", \"Successfully updated webhook.\");\n        } else {\n          EventService.$emit(\"errorMessage\", \"Something went wrong, please try again.\");\n        }\n      })\n    },\n    onChange(inputName, inputObj) {\n      // console.log(\"Changed the \" + inputName);\n      let vm = this;\n      LocationService[inputName](this.location.locationId, this.location[inputObj])\n        .then(function(response) {\n          return 'Success'\n        }, function(error) {\n          return error\n          }\n        );\n    },\n    hideAutoMenu(){\n      this.$children[0].closeMenu();\n    },\n    closeModal() {\n      this.$emit('closeModal');\n      this.locationDetailModal = false;\n    },\n  },\n}\n</script>\n\n<style scoped>\n.address-span {\n  width: 400px;\n}\n.inputs-absolute-container {\n  position: absolute;\n  top: 20px;\n  right: 20px;\n  display: flex;\n  flex-direction: column;\n}\n.inputs-absolute-container label {\n  font-size: 11px;\n  color: #9a9a9a;\n}\n.inputs-absolute-container .el-input {\n  width: 160px;\n  margin-top: 5px;\n}\n.changes-saved {\n  display: flex;\n  justify-content: center;\n  /* margin-top: 20px; */\n  padding-top: 25px;\n  font-size: 12px;\n  color: #9a9a9a;\n}\n.divider {\n  /* margin-top: 12px; */\n  /* margin-bottom: 12px; */\n}\n.table-content-headers {\n  margin-bottom: 15px;\n  font-size: 14px;\n  text-transform: uppercase;\n  font-weight: 600;\n  color: #757575;\n}\n.table-content-row {\n  padding-top: 5px;\n  padding-bottom: 5px;\n}\n.table-content-source {\n  text-transform: capitalize;\n}\n.table-headers {\n  text-transform: uppercase;\n  font-weight: 600;\n}\n.content-row label {\n  width: 120px;\n  margin-bottom: 20px;\n  color: #757575;\n}\n.content-row span {\n  font-weight: 400;\n}\n.content-row {\n  display: flex;\n  font-size: 14px;\n  font-weight: 600;\n}\n.content {\n  position: relative;\n  height: 400px;\n  width: 100%;\n  padding: 20px;\n  box-sizing: border-box;\n  overflow-y: auto;\n}\n.users {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.users, .roles {\n  padding-left: 20px;\n}\n.role {\n  text-transform: capitalize;\n}\n.roles {\n  \n  padding-left: 80px;\n  text-align: left;\n}\n.table-content {\n  display: flex;\n  align-items: center;\n  transition: all .2s ease;\n  -webkit-transition: all .2s ease;\n}\n.table-content, .table-headers {\n  font-size: 14px;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  border-bottom: 1px solid #9a9a9a35;\n}\n.table-content:hover {\n  background: #f2f2f2;\n}\n.table-wrapper {\n  display: inline-block;\n  width: 600px;\n  height: 400px;\n  /* padding-left: 20px; */\n  box-sizing: border-box;\n  overflow: hidden;\n}\n.table-wrapper {\n  overflow-y: scroll;\n}\n.table-wrapper .table-headers {\n  color: #757575;\n  text-transform: uppercase;\n  font-weight: 600;\n}\n.content-wrapper {\n  display: flex;\n  border: 1px solid #9a9a9a35;\n  height: 400px;\n  border-radius: 12px;\n}\n.edit-location {\n  position: absolute;\n  bottom: 0;\n  right: 10px;\n  margin-right: 15px;\n  margin-bottom: 15px;\n}\n</style>\n"]}]}