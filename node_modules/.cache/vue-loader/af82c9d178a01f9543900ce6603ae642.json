{"remainingRequest":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/src/components/Reports/ReviewsByYearReport.vue?vue&type=style&index=0&id=2fcd7353&scoped=true&lang=css&","dependencies":[{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/src/components/Reports/ReviewsByYearReport.vue","mtime":1581270622000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouY3VycmVudC1tb250aCB7CiAgY29sb3I6IHZhcigtLW9waW5paW9uYmx1ZSk7Cn0KLmN1cnJlbnQtbW9udGgucmVwb3J0LWJveCBzcGFuOm50aC1jaGlsZChuKzIpIHsKICBiYWNrZ3JvdW5kOiAjRTlGOUY5OwogIGNvbG9yOiB2YXIoLS1vcGluaWlvbmJsdWUpOwogIGZvbnQtd2VpZ2h0OiBib2xkZXI7CiAgdHJhbnNpdGlvbjogYWxsIC4ycyBlYXNlOwogIC13ZWJraXQtdHJhbnNpdGlvbjogYWxsIC4ycyBlYXNlOwp9Ci5jdXJyZW50LW1vbnRoLnJlcG9ydC1ib3ggc3BhbjpudGgtY2hpbGQobisyKTpob3ZlciB7CiAgYmFja2dyb3VuZDogI0IxRThFODsKICBjb2xvcjogd2hpdGU7Cn0KI3JlcG9ydC1oZWFkZXIgewogICAgYmFja2dyb3VuZDogd2hpdGU7CiAgICBkaXNwbGF5OiBmbGV4OwogICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIG1hcmdpbi1sZWZ0OiAycHg7CiAgICBoZWlnaHQ6IDY2cHg7CiAgICBjb2xvcjogIzU0NTQ1NDsKICB9CgogICNyZXBvcnQtY29udGVudC13cmFwcGVyIHsKICAgIHdpZHRoOiAxMDAlOwogIH0KCiAgI3JlcG9ydC1uYW1lLXdyYXBwZXIgewogICAgZm9udC1zaXplOiAyNHB4OwogICAgcGFkZGluZzogMjBweCAwIDIwcHggMjBweDsKICAgIGZvbnQtd2VpZ2h0OiA3MDA7CiAgfQoKICAuY2FyZC13cmFwcGVyIHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBmbGV4LXdyYXA6IHdyYXA7CiAgICBwYWRkaW5nOiA1cHg7CiAgfQoKICAjcmVwb3J0LW9wdGlvbnMtd3JhcHBlciB7CiAgICBmb250LXNpemU6IDIwcHg7CiAgICBwYWRkaW5nOiAyMHB4IDIwcHggMTBweCAwOwogICAgZGlzcGxheTogZmxleDsKICAgIGFsaWduLWl0ZW1zOiBiYXNlbGluZTsKICB9CgogICNyZXBvcnQtb3B0aW9ucy13cmFwcGVyID4gZGl2IHsKICAgIG1hcmdpbi1yaWdodDogMjBweDsKICB9CgogIC5jYXJkIHsKICAgIHdpZHRoOiAyMHZ3OwogICAgYmFja2dyb3VuZDogd2hpdGU7CiAgICBtYXJnaW46IDVweDsKICB9CgogIC5jYXJkLXRpdGxlIHsKICAgIHdpZHRoOiBhdXRvOwogICAgZGlzcGxheTogZmxleDsKICAgIHBhZGRpbmc6IDEwcHggNXB4OwogICAgYm9yZGVyLWJvdHRvbTogLjVweCBzb2xpZCBsaWdodGdyYXk7CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgZm9udC13ZWlnaHQ6IDYwMDsKICAgIGZvbnQtc2l6ZTogMTRweDsKICB9CgogIC5jYXJkLWJvZHkgewogICAgZGlzcGxheTogZmxleDsKICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtZXZlbmx5OwogICAgcGFkZGluZzogMTBweCAwIDM2cHg7CiAgfQoKICAudG90YWwtcmV2aWV3cy13cmFwcGVyLAogIC5hdmVyYWdlLXJhdGluZy13cmFwcGVyIHsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgbWFyZ2luOiA3cHggMDsKICB9CgogIC50b3RhbC1yZXZpZXdzLWhlYWRlciwKICAuYXZlcmFnZS1yYXRpbmctaGVhZGVyIHsKICAgIGZvbnQtc2l6ZTogMTJweDsKICB9CgogIC50b3RhbC1yZXZpZXdzLWJvZHksCiAgLmF2ZXJhZ2UtcmF0aW5nLWJvZHkgewogICAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7CiAgICBmb250LXNpemU6IDMwcHg7CiAgICBmb250LXdlaWdodDogYm9sZDsKICAgIGFsaWduLXNlbGY6IGNlbnRlcjsKICAgIG1hcmdpbi10b3A6IDVweDsKICB9CgogIC50b3RhbC1yZXZpZXdzLWJvZHkgewogICAgcGFkZGluZzogMjBweDsKICB9CgogIC5hdmVyYWdlLXJhdGluZy1ib2R5IHsKICAgIHBhZGRpbmc6IDE1cHg7CiAgfQoKICAucmVwb3J0LWJvZHkgewogICAgZGlzcGxheTogZmxleDsKICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7CiAgfQoKICAucmVwb3J0LWRhdGEgewogICAgd2lkdGg6IDEwMCU7CiAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgbWFyZ2luOiAyMHB4OwogICAgcGFkZGluZzogMjBweDsKICAgIHBhZGRpbmctdG9wOiA4MHB4OwogICAgcGFkZGluZy1ib3R0b206IDUwcHg7CiAgICBiYWNrZ3JvdW5kOiB3aGl0ZTsKICAgIGJveC1zaGFkb3c6IDAgNHB4IDhweCByZ2JhKDAsMCwwLC4xNSk7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICB9CgogIC5zb3VyY2UtbmFtZS1pY29uIHsKICAgIHRleHQtdHJhbnNmb3JtOiBjYXBpdGFsaXplOwogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgdG9wOiA1cHg7CiAgICBsZWZ0OiAwOwogICAgZGlzcGxheTogZmxleDsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICB3aWR0aDogMTAwJTsKICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCBsaWdodGdyZXk7CiAgICBwYWRkaW5nLWJvdHRvbTogNXB4OwogICAgZm9udC13ZWlnaHQ6IDgwMDsKICB9CgogIC5yZXBvcnQtYm94LXdyYXBwZXIgewogICAgZGlzcGxheTogZmxleDsKICAgIHdpZHRoOiA4ODBweDsKICAgIGhlaWdodDogMjI1cHg7CiAgICBvdmVyZmxvdy14OiBhdXRvOwogICAgb3ZlcmZsb3cteTogaGlkZGVuOwogIH0KCiAgLnJlcG9ydC1ib3ggewogICAgZGlzcGxheTogZmxleDsKICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICB3aWR0aDogMTAwJTsKICB9CgogIC5yZXBvcnQtYm94IHNwYW46bnRoLWNoaWxkKDEpIHsKICAgIG1hcmdpbi1ib3R0b206IDEwcHg7CiAgICBmb250LXdlaWdodDogNjAwOwogICAgZm9udC1zaXplOiAxNHB4OwogIH0KCiAgLnJlcG9ydC1ib3ggc3BhbjpudGgtY2hpbGQobisyKSB7CiAgICBib3JkZXI6IDFweCBzb2xpZCAjZWVlY2VjOwogICAgcGFkZGluZzogMjBweCA1cHg7CiAgICBmb250LXdlaWdodDogNjAwOwogICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgIHRyYW5zaXRpb246IGFsbCAuMnMgZWFzZTsKICAgIC13ZWJraXQtdHJhbnNpdGlvbjogYWxsIC4ycyBlYXNlOwogIH0KICAucmVwb3J0LWJveCBzcGFuOm50aC1jaGlsZChuKzIpOmhvdmVyIHsKICAgIGJhY2tncm91bmQ6ICNmYWZhZmE7CiAgfQoKICAubGFiZWxzIHsKICAgIHRleHQtYWxpZ246IHJpZ2h0OwogICAgZm9udC1zaXplOiAxNHB4OwogICAgZm9udC13ZWlnaHQ6IDYwMDsKICB9CgogIC5sYWJlbHMgc3BhbiB7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIC8qIG1hcmdpbjogMjVweCAxNXB4IDM1cHggMDsgKi8KICAgIC8qIG1hcmdpbi10b3A6IDM4cHggKi8KICAgIG1hcmdpbi10b3A6IDQ1cHg7CiAgfQoKICAjcmVwb3J0LWhlYWRlciB7CiAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICBtYXJnaW4tbGVmdDogMnB4OwogICAgaGVpZ2h0OiA2NnB4OwogICAgYm94LXNoYWRvdzogdHJhbnNwYXJlbnQ7CiAgICBjb2xvcjogIzU0NTQ1NDsKICB9CiAgLmNhcmQtUmJZIHsKICAgIC8qIHdpZHRoOiA5MCU7ICovCiAgICAvKiBtYXJnaW4tdG9wOiA3NXB4OyAqLwogICAgLyogbWFyZ2luLWxlZnQ6IDUlICovCiAgICBtYXJnaW4tdG9wOiA0MHB4OwogICAgcGFkZGluZy1sZWZ0OiAzMHB4OwogICAgLyogd2lkdGg6IDgwJTsgKi8KICAgIHdpZHRoOiA5MCU7CiAgICBtYXgtd2lkdGg6IDEyMDBweDsKICB9CiAgLmNhcmRJY29ucyB7CiAgICBmbG9hdDogbGVmdDsKICAgIGhlaWdodDogMjVweDsKICB9CiAgLmNhcmRUaXRsZSB7CiAgICBmbG9hdDogbGVmdDsKICAgIHRleHQtdHJhbnNmb3JtOmNhcGl0YWxpemU7CiAgICBtYXJnaW4tdG9wOiA1cHg7CiAgICBtYXJnaW4tbGVmdDogMTBweAoKICB9CgogIC5jYXJkRm9vdGVyIHsKICAgIGZvbnQtc2l6ZTogMTRweDsKICAgIHBhZGRpbmctdG9wOiAyMHB4OwogIH0KICAuZXhwb3J0LWJ0biB7CiAgICBtYXJnaW4tdG9wOiAtMTBweDsKICAgIG1hcmdpbi1sZWZ0OiAyMHB4OwogICAgYmFja2dyb3VuZC1jb2xvcjogIzY2NjE1QjsKICAgIGJvcmRlcjogbm9uZQogIH0KICAuZXhwb3J0LWJ0bjpob3ZlciB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNjY2MTVCCiAgfQo="},{"version":3,"sources":["ReviewsByYearReport.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ReviewsByYearReport.vue","sourceRoot":"src/components/Reports","sourcesContent":["<template>\n  <div id=\"reviews-by-source-report-wrapper\">\n    <!-- <div id=\"report-header\">\n      <div id=\"report-name-wrapper\">\n        Reviews by Year\n      </div>\n      <div id=\"report-options-wrapper\">\n        <label>Selected Year</label>\n        <select v-model=\"selectedYear\" @change=\"getReviewsData()\">\n          <option :value=\"option\" v-for=\"option in yearOptions\">{{option}}</option>\n        </select>\n      </div>\n    </div> -->\n    <div id=\"report-header\" class=\"box-shadow\">\n      <div id=\"report-name-wrapper\">\n        Reviews by Year\n      </div>\n      <div id=\"report-options-wrapper\">\n        <el-date-picker\n          v-model=\"selectedYear\"\n          @input=\"getReviewsData\"\n          type=\"year\"\n          placeholder=\"Select year\"\n          value-format=\"yyyy\" />\n      </div>\n    </div>\n    <div id=\"report-body\">\n      <div v-if=\"reviewData && reviewData.length\" class=\"card-wrapper\">\n        <!-- <div class=\"report-data\" v-for=\"data in reviewData\">\n          <span class='source-name-icon'>\n            <img :src=\"getIconForSource(data[0].source)\" height=\"30\" style=\"padding: 0 10px 0 5px;\"/> {{data[0].source}}\n          </span>\n          <div class=\"labels\">\n            <span>Total Reviews</span>\n            <span>New Reviews</span>\n            <span>Monthly Rating</span>\n          </div>\n          <div class=\"report-box\" v-for=\"(datap, i) in data\">\n            <span>\n              {{datap.month.substr(0,3)}}\n            </span>\n            <span v-if=\"data[0].source == 'google'\">\n              {{datap.count + getPriorAmounts(i, data) + priorGoogleData.priorReviews}}\n            </span>\n            <span v-if=\"data[0].source == 'facebook'\">\n              {{datap.count + getPriorAmounts(i, data) + priorFacebookData.priorReviews}}\n            </span>\n            <span v-if=\"data[0].source == 'yelp'\">\n              {{datap.count + getPriorAmounts(i, data) + priorYelpData.priorReviews}}\n            </span>\n            <span v-if=\"data[0].source == 'opiniion'\">\n              {{datap.count + getPriorAmounts(i, data) + priorOpiniionData.priorReviews}}\n            </span>\n            <span>\n            {{checkForDate(datap)}}\n            </span>\n            <span v-if=\"!isNaN(datap.averageRating)\">\n            {{datap.averageRating}}\n            </span>\n            <span v-else>\n              -\n            </span>\n          </div>         \n        </div> -->\n        <div class=\"card-RbY \" v-for=\"(data, dataIndex) in reviewData\" :key=\"dataIndex\">\n              <el-card  class=\"box-card\">\n                  <el-row>\n                    <el-col :span=\"24\">\n                      <img class=\"cardIcons\" :src=\"getIconForSource(data[0].source)\" alt=\"Logo\"> <p  class=\"cardTitle\">{{data[0].source}}</p>\n                    </el-col>\n                    <!-- <el-col :span=\"5\">\n                      <el-select placeholder=\"Last 12 Months\">\n                      </el-select>\n                    </el-col> -->\n                  </el-row>\n                  <br>\n                  <el-row :gutter=\"20\">\n                    <el-col :span=\"4\">\n                      <div class=\"labels\">\n                        <span>Total Reviews</span>\n                        <span>New Reviews</span>\n                        <span>Monthly Rating</span>\n                      </div>\n                    </el-col>\n                    <el-col :span=\"18\" class=\"report-box-wrapper\">\n                      <div :class=\"['report-box', {'current-month': datap.month.substr(0,3) == currentMonth}]\" v-for=\"(datap, i) in data\" :key=\"i\">\n                        <span>\n                          {{datap.month.substr(0,3)}}\n                        </span>\n                        <span v-if=\"data[0].source == 'google'\">\n                          {{datap.count + getPriorAmounts(i, data) + priorGoogleData.priorReviews}}\n                        </span>\n                        <span v-if=\"data[0].source == 'facebook'\">\n                          {{datap.count + getPriorAmounts(i, data) + priorFacebookData.priorReviews}}\n                        </span>\n                        <span v-if=\"data[0].source == 'yelp'\">\n                          {{datap.count + getPriorAmounts(i, data) + priorYelpData.priorReviews}}\n                        </span>\n                        <span v-if=\"data[0].source == 'opiniion'\">\n                          {{datap.count + getPriorAmounts(i, data) + priorOpiniionData.priorReviews}}\n                        </span>\n                        <span>\n                        {{checkForDate(datap)}}\n                        </span>\n                        <span v-if=\"!isNaN(datap.averageRating)\">\n                        {{datap.averageRating}}\n                        </span>\n                        <span v-else>\n                          -\n                        </span>\n                      </div>         \n                    </el-col>\n                  </el-row>\n                  <!-- <el-divider></el-divider> -->\n                  <div class=\"cardFooter\">\n               <!-- <i class=\"el-icon-refresh\"></i> Updated in the last hour -->\n              </div>\n              </el-card>\n        </div>\n      </div>\n      <div v-if=\"!reviewData || !reviewData.length\" class=\"no-data\">\n        No data found for selected year.\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {EventService} from '../../main';\nimport ReportService from './../../services/ReportService'\nimport UserService from './../../services/UserService'\n\nexport default {\n  name: 'ReviewsByYearReport',\n  data: function() {\n    return {\n      reviewData: null,\n      selectedYear: '',\n      yearOptions: [],\n      priorData: [],\n      priorGoogleData: {priorReviews: 0, priorRating: 0.0},\n      priorFacebookData: {priorReviews: 0, priorRating: 0.0},\n      priorYelpData: {priorReviews: 0, priorRating: 0.0},\n      priorOpiniionData: {priorReviews: 0, priorRating: 0.0},\n      displayedCards: [],\n      yearIndex: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec' ]\n    }\n  },\n  computed: {\n    currentMonth () {\n      let vm = this;\n      let newDate = new Date();\n      let currentMonth = newDate.getMonth();\n      return vm.yearIndex[currentMonth];\n    }\n  },\n  created() {\n    this.setYearOptions()\n    this.getReviewsData();\n    this.checkForDate();\n    EventService.$on('locationChange', this.getReviewsData);\n  },\n  beforeDestroy: function () {\n    EventService.$off('locationChange', this.getReviewsData);\n  },\n  filters: {\n    oneDecimal(value) {\n      return (value).toFixed(1);\n    },\n    // commaSeparate(value) {\n    //   return value.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,');\n    // }\n  },\n  methods: {\n    setYearOptions() {\n      let vm = this;\n      var thisYear = new Date().getFullYear();\n      for(var i = 2000; i < thisYear+1; i++) {\n        vm.yearOptions.push(i.toString())\n      }\n      vm.selectedYear = thisYear.toString();\n    },\n    getReviewsData(data) {\n      EventService.$emit(\"loading\", \"show\");\n      this.reviewData = null;\n      var locationIdArray = [];\n      let locationId = localStorage.getItem('locationId');\n      if(locationId) {\n        locationIdArray.push(locationId);\n      } else {\n        let locOptions = JSON.parse(localStorage.getItem('locationOptions'));\n        locOptions.map(el => locationIdArray.push(el.locationId));\n      }\n      \n      var vm = this;\n      ReportService.reviewsByYear(vm.selectedYear, locationIdArray).then(\n        function(response) {\n          EventService.$emit(\"loading\", \"hide\");\n          vm.reviewData = response.result;\n          let google = [];\n          let facebook = [];\n          let yelp = [];\n          let opiniion = [];\n          vm.reviewData.map(month => {\n            month.newReviews.map(source => {\n              let name = source.source.toLowerCase();\n              if(name == 'google') {\n                google.push(\n                  {\n                    source: name,\n                    month: month.name,\n                    averageRating: source.averageRating,\n                    count: source.count\n                  }\n                )\n              } else if(name == 'facebook') {\n                facebook.push(\n                  {\n                    source: name,\n                    month: month.name,\n                    averageRating: source.averageRating,\n                    count: source.count\n                  }\n                )\n              } else if(name == 'yelp') {\n                yelp.push(\n                  {\n                    source: name,\n                    month: month.name,\n                    averageRating: source.averageRating,\n                    count: source.count\n                  }\n                )\n              } else if(name == 'opiniion') {\n                opiniion.push(\n                  {\n                    source: name,\n                    month: month.name,\n                    averageRating: source.averageRating,\n                    count: source.count\n                  }\n                )\n              }\n            })\n          })\n          vm.reviewData = [google, facebook, yelp, opiniion];\n          vm.getPriorData();\n        }, function(error) {\n          console.log(error);\n      });\n    },\n    getPriorData() {\n      let vm = this;\n      vm.priorData = null;\n      vm.priorGoogleData = {priorReviews: 0, priorRating: 0.0};\n      vm.priorFacebookData = {priorReviews: 0, priorRating: 0.0};\n      vm.priorYelpData = {priorReviews: 0, priorRating: 0.0};\n      vm.priorOpiniionData = {priorReviews: 0, priorRating: 0.0};\n      var locationIdArray = [];\n      let locationId = localStorage.getItem('locationId');\n      if(locationId) {\n        locationIdArray.push(locationId);\n      } else {\n        let locOptions = JSON.parse(localStorage.getItem('locationOptions'));\n        locOptions.map(el => locationIdArray.push(el.locationId));\n      }\n      ReportService.reviewsPriorToYear(vm.selectedYear, locationIdArray).then(response => {        \n        if(response.result) {\n          vm.priorData = response.result;\n          vm.priorData.map(el => {\n            if(el._id == 'Google') {\n              vm.priorGoogleData = {priorReviews: el.totalReviews, priorRating: el.averageRating}\n            } else if(el._id == 'Facebook') {\n              vm.priorFacebookData = {priorReviews: el.totalReviews, priorRating: el.averageRating};            \n            } else if(el._id == 'Yelp') {\n              vm.priorYelpData = {priorReviews: el.totalReviews, priorRating: el.averageRating};\n            } else if(el._id == 'Opiniion') {\n              vm.priorOpiniionData = {priorReviews: el.totalReviews, priorRating: el.averageRating};\n            }\n          })\n          if(vm.priorGoogleData.priorReviews == 0) {\n            if(vm.reviewData[0].some(el => {\n              return el.count > 0;\n            })) {\n              // Nothing happens\n            } else {\n              vm.reviewData.splice(0, 1);\n            }\n          } \n          if(vm.priorFacebookData.priorReviews == 0) {\n            if(vm.reviewData[vm.reviewData.length - 3].some(el => {\n              return el.count > 0;\n            })) {\n              // Do Nothing\n            } else {\n              vm.reviewData.splice(vm.reviewData.length - 3, 1);\n            }\n          } \n          if(vm.priorYelpData.priorReviews == 0) {\n            if(vm.reviewData[vm.reviewData.length - 2].some(el => {\n              return el.count > 0;\n            })) {\n              // Do Nothing\n            } else {\n              vm.reviewData.splice(vm.reviewData.length - 2, 1);\n            }\n          }\n          if(vm.priorOpiniionData.priorReviews == 0) {\n            if(vm.reviewData[vm.reviewData.length - 1].some(el => {\n              return el.count > 0;\n            })) {\n              // Do Nothing\n            } else {\n              vm.reviewData.splice(vm.reviewData.length - 1, 1);            \n            }\n          }\n        }\n      })\n    },\n    getIconForSource(source) {\n      if (source == \"google\") {\n        return require(\"../../../public/img/Google_Icon.png\");\n      } else if (source == \"yelp\") {\n        return require(\"../../../public/img/Yelp_Icon.png\");\n      } else if (source == \"facebook\") {\n        return require(\"../../../public/img/Facebook_Icon.png\");\n      } else if (source == \"foursquare\") {\n        return require(\"../../../public/img/Foursquare_Icon.png\");\n      } else if (source == \"citysearch\") {\n        return require(\"../../../public/img/Citysearch_Icon.png\");\n      } else if (source == \"yellowpages\") {\n        return require(\"../../../public/img/YP_Icon.png\");\n        // } else if (source == 'TripAdvisor') {\n        //   return require('../../../public/img/TripAdvisor_Icon.png');\n        // } else if (source == 'BBB') {\n        //   return require('../../../public/img/BBB_Icon.png');\n      } else {\n        return require(\"../../../public/img/Opiniion_Icon.png\");\n      }\n    },\n    getPriorAmounts(index, data) {\n      let vm = this;\n      return data.reduce((acc, curr, i) => {\n        if(i < index) {\n          return acc + curr.count\n        } else {\n          return acc;\n        }\n      }, 0)\n    },\n    checkForDate(datap) {\n      let vm = this;\n      let today = new Date();\n      let thisYear = today.getFullYear();\n      let selYear = vm.selectedYear;\n      if(thisYear == selYear) {        \n        if(datap && datap.month) {\n          let thisMonth = today.toString().substr(4,3)\n          let dataMonth = datap.month.substr(0,3);\n          if(vm.yearIndex.indexOf(dataMonth) > vm.yearIndex.indexOf(thisMonth)) {\n            return '-';\n          } else {\n            return datap.count;\n          }        \n        } else {\n          return '-'\n        }\n      } else {\n        return datap.count;\n      }\n    }\n  }\n}\n</script>\n\n\n<style scoped>\n.current-month {\n  color: var(--opiniionblue);\n}\n.current-month.report-box span:nth-child(n+2) {\n  background: #E9F9F9;\n  color: var(--opiniionblue);\n  font-weight: bolder;\n  transition: all .2s ease;\n  -webkit-transition: all .2s ease;\n}\n.current-month.report-box span:nth-child(n+2):hover {\n  background: #B1E8E8;\n  color: white;\n}\n#report-header {\n    background: white;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-left: 2px;\n    height: 66px;\n    color: #545454;\n  }\n\n  #report-content-wrapper {\n    width: 100%;\n  }\n\n  #report-name-wrapper {\n    font-size: 24px;\n    padding: 20px 0 20px 20px;\n    font-weight: 700;\n  }\n\n  .card-wrapper {\n    display: flex;\n    flex-wrap: wrap;\n    padding: 5px;\n  }\n\n  #report-options-wrapper {\n    font-size: 20px;\n    padding: 20px 20px 10px 0;\n    display: flex;\n    align-items: baseline;\n  }\n\n  #report-options-wrapper > div {\n    margin-right: 20px;\n  }\n\n  .card {\n    width: 20vw;\n    background: white;\n    margin: 5px;\n  }\n\n  .card-title {\n    width: auto;\n    display: flex;\n    padding: 10px 5px;\n    border-bottom: .5px solid lightgray;\n    align-items: center;\n    font-weight: 600;\n    font-size: 14px;\n  }\n\n  .card-body {\n    display: flex;\n    justify-content: space-evenly;\n    padding: 10px 0 36px;\n  }\n\n  .total-reviews-wrapper,\n  .average-rating-wrapper {\n    text-align: center;\n    display: flex;\n    flex-direction: column;\n    margin: 7px 0;\n  }\n\n  .total-reviews-header,\n  .average-rating-header {\n    font-size: 12px;\n  }\n\n  .total-reviews-body,\n  .average-rating-body {\n    border: 1px solid black;\n    font-size: 30px;\n    font-weight: bold;\n    align-self: center;\n    margin-top: 5px;\n  }\n\n  .total-reviews-body {\n    padding: 20px;\n  }\n\n  .average-rating-body {\n    padding: 15px;\n  }\n\n  .report-body {\n    display: flex;\n    flex-direction: row;\n  }\n\n  .report-data {\n    width: 100%;\n    position: relative;\n    display: flex;\n    margin: 20px;\n    padding: 20px;\n    padding-top: 80px;\n    padding-bottom: 50px;\n    background: white;\n    box-shadow: 0 4px 8px rgba(0,0,0,.15);\n    justify-content: center;\n  }\n\n  .source-name-icon {\n    text-transform: capitalize;\n    position: absolute;\n    top: 5px;\n    left: 0;\n    display: flex;\n    align-items: center;\n    width: 100%;\n    border-bottom: 1px solid lightgrey;\n    padding-bottom: 5px;\n    font-weight: 800;\n  }\n\n  .report-box-wrapper {\n    display: flex;\n    width: 880px;\n    height: 225px;\n    overflow-x: auto;\n    overflow-y: hidden;\n  }\n\n  .report-box {\n    display: flex;\n    flex-direction: column;\n    text-align: center;\n    width: 100%;\n  }\n\n  .report-box span:nth-child(1) {\n    margin-bottom: 10px;\n    font-weight: 600;\n    font-size: 14px;\n  }\n\n  .report-box span:nth-child(n+2) {\n    border: 1px solid #eeecec;\n    padding: 20px 5px;\n    font-weight: 600;\n    box-sizing: border-box;\n    transition: all .2s ease;\n    -webkit-transition: all .2s ease;\n  }\n  .report-box span:nth-child(n+2):hover {\n    background: #fafafa;\n  }\n\n  .labels {\n    text-align: right;\n    font-size: 14px;\n    font-weight: 600;\n  }\n\n  .labels span {\n    display: block;\n    /* margin: 25px 15px 35px 0; */\n    /* margin-top: 38px */\n    margin-top: 45px;\n  }\n\n  #report-header {\n    background: transparent;\n    display: flex;\n    justify-content: space-between;\n    margin-left: 2px;\n    height: 66px;\n    box-shadow: transparent;\n    color: #545454;\n  }\n  .card-RbY {\n    /* width: 90%; */\n    /* margin-top: 75px; */\n    /* margin-left: 5% */\n    margin-top: 40px;\n    padding-left: 30px;\n    /* width: 80%; */\n    width: 90%;\n    max-width: 1200px;\n  }\n  .cardIcons {\n    float: left;\n    height: 25px;\n  }\n  .cardTitle {\n    float: left;\n    text-transform:capitalize;\n    margin-top: 5px;\n    margin-left: 10px\n\n  }\n\n  .cardFooter {\n    font-size: 14px;\n    padding-top: 20px;\n  }\n  .export-btn {\n    margin-top: -10px;\n    margin-left: 20px;\n    background-color: #66615B;\n    border: none\n  }\n  .export-btn:hover {\n    background-color: #66615B\n  }\n</style>\n"]}]}