{"remainingRequest":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/src/components/CreateMailbox.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/src/components/CreateMailbox.vue","mtime":1581270622000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBMb2NhdGlvblNlcnZpY2UgZnJvbSAiLi8uLi9zZXJ2aWNlcy9Mb2NhdGlvblNlcnZpY2UiOwppbXBvcnQgeyBFdmVudFNlcnZpY2UgfSBmcm9tICIuLi9tYWluIjsKaW1wb3J0IGNvbmZpZyBmcm9tICcuLi9jb25maWcuanMnOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJjcmVhdGVNYWlsYm94IiwKCiAgZGF0YTogZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gewogICAgICBsb2NhdGlvbnM6IFtdLAogICAgICBkb21haW46ICcnCiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0TG9jYXRpb25zKCk7CiAgICB0aGlzLmRvbWFpbiA9IGNvbmZpZy5zdWJEb21haW47CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRMb2NhdGlvbnMoKSB7CiAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgibG9hZGluZyIsICJzaG93Iik7ICAgCiAgICAgIGxldCB2bSA9IHRoaXM7CiAgICAgIExvY2F0aW9uU2VydmljZS5nZXRMb2NhdGlvbnMoKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB2bS5sb2NhdGlvbnMgPSByZXNwb25zZS5yZXN1bHRzOwogICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgibG9hZGluZyIsICJoaWRlIik7ICAgCiAgICAgIH0pCiAgICB9LAogICAgc2F2ZU1haWxib3gobG9jYXRpb25JZCwgaW5jb21pbmdFbWFpbCkgewogICAgICBsZXQgdm0gPSB0aGlzOwogICAgICBsZXQgc3VmZml4OwogICAgICBpZih2bS5kb21haW4gPT0gJ2RlbW8nIHx8IHZtLmRvbWFpbiA9PSAnbG9jYWxob3N0JyB8fCAhdm0uZG9tYWluKSB7CiAgICAgICAgc3VmZml4ID0gJ0BkZW1vbWFpbC5vcGluaWlvbi5jb20nCiAgICAgIH0gZWxzZSB7CiAgICAgICAgc3VmZml4ID0gJ0BsaXZlbWFpbC5vcGluaWlvbi5jb20nCiAgICAgIH0KICAgICAgbGV0IGZ1bGxBZGRyZXNzCiAgICAgIGlmKGluY29taW5nRW1haWwuaW5jbHVkZXMoJy5vcGluaWlvbi5jb20nKSkgewogICAgICAgIGZ1bGxBZGRyZXNzID0gaW5jb21pbmdFbWFpbDsKICAgICAgfSBlbHNlIHsKICAgICAgICBmdWxsQWRkcmVzcyA9IGluY29taW5nRW1haWwrc3VmZml4OwogICAgICB9CiAgICAgIC8vIGNvbnNvbGUubG9nKGxvY2F0aW9uSWQsIGZ1bGxBZGRyZXNzKTsKICAgICAgTG9jYXRpb25TZXJ2aWNlLnNldExvY2F0aW9uTWFpbGJveChsb2NhdGlvbklkLCBmdWxsQWRkcmVzcykudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdm0uZ2V0TG9jYXRpb25zKCk7CiAgICAgIH0pCiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["CreateMailbox.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAgBA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CreateMailbox.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"creation-container\">\n    <div class=\"location-container\" v-for=\"location in locations\">\n      <span>\n        <div class=\"details\">{{location.name}} {{location.locationId}}</div>\n        <span><input type=\"text\" v-model=\"location.incomingEmail\" /> \n        <span v-if=\"!location.incomingEmail\">@livemail.opiniion.com</span>\n        <span v-if=\"location.incomingEmail\" style=\"opacity: 0;\">thisisaspacertofillthegap</span>\n        </span>\n        <button @click=\"saveMailbox(location.locationId, location.incomingEmail)\">Save Mailbox</button>\n      </span>\n    </div>\n  </div>\n</template>\n\n<script>\nimport LocationService from \"./../services/LocationService\";\nimport { EventService } from \"../main\";\nimport config from '../config.js';\n\nexport default {\n  name: \"createMailbox\",\n\n  data: function() {\n    return {\n      locations: [],\n      domain: ''\n    };\n  },\n  created() {\n    this.getLocations();\n    this.domain = config.subDomain;\n  },\n  methods: {\n    getLocations() {\n      EventService.$emit(\"loading\", \"show\");   \n      let vm = this;\n      LocationService.getLocations().then(response => {\n        vm.locations = response.results;\n        EventService.$emit(\"loading\", \"hide\");   \n      })\n    },\n    saveMailbox(locationId, incomingEmail) {\n      let vm = this;\n      let suffix;\n      if(vm.domain == 'demo' || vm.domain == 'localhost' || !vm.domain) {\n        suffix = '@demomail.opiniion.com'\n      } else {\n        suffix = '@livemail.opiniion.com'\n      }\n      let fullAddress\n      if(incomingEmail.includes('.opiniion.com')) {\n        fullAddress = incomingEmail;\n      } else {\n        fullAddress = incomingEmail+suffix;\n      }\n      // console.log(locationId, fullAddress);\n      LocationService.setLocationMailbox(locationId, fullAddress).then(response => {\n        vm.getLocations();\n      })\n    }\n  }\n};\n</script>\n\n<style scoped>\n\n.creation-container {\n  background: white;\n  width: 100%;\n}\n\n.location-container {\n  display: flex;\n  flex-direction: column;\n  padding-left: 10px;\n  padding-top: 7px;\n  justify-content: space-between;\n}\n\n.location-container span {\n  display: flex;\n  justify-content: space-between;\n  margin: 0 20px 0 10px;\n}\n\n.details {\n  width: 300px;\n}\n\ninput {\n  width: 300px;\n}\n\nbutton {\n  box-shadow: 0px 2px 4px slategrey;\n  padding: 5px 10px;\n  background: #4fcbc5;\n  color: white;\n  cursor: pointer;\n}\n\n</style>\n"]}]}