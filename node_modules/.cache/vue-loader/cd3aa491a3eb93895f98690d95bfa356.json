{"remainingRequest":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/src/components/AddCustomer.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/src/components/AddCustomer.vue","mtime":1581270622000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBDdXN0b21lclNlcnZpY2UgZnJvbSAiLi8uLi9zZXJ2aWNlcy9DdXN0b21lclNlcnZpY2UiOwppbXBvcnQgQ2FtcGFpZ25TZXJ2aWNlIGZyb20gIi4vLi4vc2VydmljZXMvQ2FtcGFpZ25TZXJ2aWNlIjsKaW1wb3J0IExvY2F0aW9uU2VydmljZSBmcm9tICIuLy4uL3NlcnZpY2VzL0xvY2F0aW9uU2VydmljZSI7CmltcG9ydCBVc2VyU2VydmljZSBmcm9tICIuLy4uL3NlcnZpY2VzL1VzZXJTZXJ2aWNlIjsKaW1wb3J0IFNoYXJlZEZ1bmN0aW9ucyBmcm9tICIuLy4uL3NlcnZpY2VzL1NoYXJlZEZ1bmN0aW9ucyI7CmltcG9ydCB7IEV2ZW50U2VydmljZSB9IGZyb20gIi4uL21haW4iOwppbXBvcnQgdlNlbGVjdCBmcm9tICIuLi8uLi9ub2RlX21vZHVsZXMvdnVlLXNlbGVjdC9zcmMvY29tcG9uZW50cy9TZWxlY3QudnVlIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiYWRkQ3VzdG9tZXIiLAogIHByb3BzOiBbInNlbGVjdGVkQ3VzdG9tZXIiLCAib3BlbkN1c3RvbWVyTW9kYWwiXSwKICBjb21wb25lbnRzOiB7CiAgICB2U2VsZWN0CiAgfSwKICBkYXRhOiBmdW5jdGlvbigpIHsKICAgIHZhciBjaGVja0RhdGEgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7CiAgICAgIGlmKCF0aGlzLmN1c3RvbWVyLmVtYWlsICYmICF0aGlzLmN1c3RvbWVyLnBob25lKSB7CiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcignUGhvbmUgb3IgRW1haWwgaXMgUmVxdWlyZWQnKSkKICAgICAgfSBlbHNlIHsKICAgICAgICBjYWxsYmFjaygpOwogICAgICB9CiAgICB9OwogICAgcmV0dXJuIHsKICAgICAgcGFnZUFjdGlvbjogIkNyZWF0ZSBOZXciLAogICAgICBjdXN0b21lcjogewogICAgICAgIGxvY2F0aW9uSWQ6ICIiLAogICAgICAgIHN0YXR1czogImFjdGl2ZSIsCiAgICAgICAgdGVtcGxhdGU6ICIiLAogICAgICAgIHBob25lOiAiIiwKICAgICAgICBlbWFpbDogIiIsCiAgICAgICAgY291bnRyeTogIisxIiwKICAgICAgICBub3RlczogW10sCiAgICAgICAgY2FtcGFpZ25JZDogJycKICAgICAgfSwKICAgICAgZHVwbGljYXRlTGlzdDogW10sCiAgICAgIHRlbXBsYXRlT3B0aW9uczogW10sCiAgICAgIHNlYXJjaFRleHQ6ICIiLAogICAgICBsb2NhdGlvbk9iajoge30sCiAgICAgIGxvY2F0aW9uT3B0aW9uczogW10sCiAgICAgIHN0YXR1c09wdGlvbnM6IFsKICAgICAgICB7dmFsdWU6ICdhY3RpdmUnLCBsYWJlbDogJ1N1YnNjcmliZWQnfSwgCiAgICAgICAge3ZhbHVlOiAnaW5hY3RpdmUnLCBsYWJlbDogJ1Vuc3Vic2NyaWJlZCd9CiAgICAgIF0sCiAgICAgIGNvdW50cnlPcHRpb25zOiBbCiAgICAgICAge2NvdW50cnk6ICdVU0EgLyBDYW5hZGEnLCBjb2RlOiAnKzEnfSwKICAgICAgICB7Y291bnRyeTogJ1BoaWxsaXBpbmVzJywgY29kZTogJys2Myd9LAogICAgICAgIHtjb3VudHJ5OiAnVUFFJywgY29kZTogJys5NzEnfSwKICAgICAgICB7Y291bnRyeTogJ0F1c3RyYWxpYScsIGNvZGU6ICcrNjEnfQogICAgICBdLAogICAgICBxc0VuYWJsZWQ6IGZhbHNlLAogICAgICBpbmFjdGl2ZUR1cGU6IGZhbHNlLAogICAgICBlbWFpbER1cGxpY2F0ZTogZmFsc2UsCiAgICAgIHBob25lRHVwbGljYXRlOiBmYWxzZSwKICAgICAgbm9Mb2NhdGlvbjogZmFsc2UsCiAgICAgIHRlbXBOb3RlOiAnJywKICAgICAgLy8gb3BlbkN1c3RvbWVyTW9kYWw6IHRydWUsCiAgICAgIGN1c3RvbWVyUnVsZXM6IHsKICAgICAgICBlbWFpbDogWwogICAgICAgICAgeyB0eXBlOiAnZW1haWwnLCBtZXNzYWdlOiAnUGxlYXNlIGVudGVyIGEgdmFsaWQgZW1haWwgYWRkcmVzcycsIHRyaWdnZXI6ICJibHVyIn0sCiAgICAgICAgICB7IHZhbGlkYXRvcjogY2hlY2tEYXRhLCBtZXNzYWdlOiAnUGhvbmUgb3IgRW1haWwgaXMgUmVxdWlyZWQnLCB0cmlnZ2VyOiAnYmx1cicgfQogICAgICAgIF0sCiAgICAgICAgcGhvbmU6IFsKICAgICAgICAgIHsgdHlwZTogJ251bWJlcicsIHZhbGlkYXRvcjogY2hlY2tEYXRhLCBtZXNzYWdlOiAnUGhvbmUgb3IgRW1haWwgaXMgUmVxdWlyZWQnLCB0cmlnZ2VyOiAnYmx1cicgfQogICAgICAgIF0sCiAgICAgICAgbG9jYXRpb25JZDogWwogICAgICAgICAgewogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgICAgbWVzc2FnZTogIlBsZWFzZSBzZWxlY3QgYSBsb2NhdGlvbiIsCiAgICAgICAgICAgIHRyaWdnZXI6ICJjaGFuZ2UiCiAgICAgICAgICB9CiAgICAgICAgXQogICAgICB9LAogICAgICBhZGRDdXN0b21lck9wZW46IHRydWUsCiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMubG9jYXRpb25DaGVja2luZygpOwogICAgdGhpcy5nZXRMb2NhdGlvbk9wdGlvbnMoKTsKICAgIHRoaXMudmFsaWRhdGVQaG9uZSA9IFNoYXJlZEZ1bmN0aW9ucy52YWxpZGF0ZVBob25lOwogICAgdGhpcy52YWxpZGF0ZUVtYWlsID0gU2hhcmVkRnVuY3Rpb25zLnZhbGlkYXRlRW1haWw7CiAgICB0aGlzLnZhbGlkYXRlTm90ZXMgPSBTaGFyZWRGdW5jdGlvbnMudmFsaWRhdGVOb3RlczsKICAgIGlmKHRoaXMuc2VsZWN0ZWRDdXN0b21lcikgewogICAgICBsZXQgdGVtcFN0YXR1cyA9IHRoaXMuc2VsZWN0ZWRDdXN0b21lci5zdGF0dXM7CiAgICAgIHRoaXMucGFnZUFjdGlvbiA9ICJFZGl0IgogICAgICB0aGlzLmRhdGEyID0ge2xhYmVsOiB0ZW1wU3RhdHVzWzBdLnRvVXBwZXJDYXNlKCkgKyB0ZW1wU3RhdHVzLnN1YnN0cigxKSwgdmFsdWU6IHRlbXBTdGF0dXN9CiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5yZWZyZXNoTm90ZXMoKTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBjaGVja05vdGVIZWlnaHQoKSB7CiAgICAgIHRoaXMuY3VzdG9tZXIubm90ZXM7CiAgICAgIHRoaXMuY3VzdG9tZXIubm90ZXMubGVuZ3RoOwogICAgICB0aGlzLiRyZWZzLm5vdGVsaXN0OwogICAgICBpZih0aGlzLmN1c3RvbWVyLm5vdGVzICYmIHRoaXMuY3VzdG9tZXIubm90ZXMubGVuZ3RoICYmIHRoaXMuJHJlZnMubm90ZWxpc3QpIHsKICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLiRyZWZzKTsKICAgICAgICBpZih0aGlzLiRyZWZzLm5vdGVsaXN0LmNsaWVudEhlaWdodCA+IDEwMCkgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRMb2NhdGlvbk9wdGlvbnMoKSB7CiAgICAgIGxldCB2bSA9IHRoaXM7CiAgICAgIFVzZXJTZXJ2aWNlLmdldEFsbFVzZXJMb2NhdGlvbnMoKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICByZXNwb25zZS5tYXAoZSA9PiB7CiAgICAgICAgICBsZXQgc2luZ2xlTG9jYXRpb24gPSB7CiAgICAgICAgICAgIGxhYmVsOiBlLm5hbWUsCiAgICAgICAgICAgIHZhbHVlOiBlLmxvY2F0aW9uSWQsCiAgICAgICAgICAgIHByb3A6IGUucHJvcAogICAgICAgICAgfQogICAgICAgICAgdm0ubG9jYXRpb25PcHRpb25zLnB1c2goc2luZ2xlTG9jYXRpb24pOwogICAgICAgIH0pCiAgICAgIH0pOwogICAgfSwKICAgIGxvY2F0aW9uQ2hlY2tpbmcoKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIGlmICh0aGlzLnNlbGVjdGVkQ3VzdG9tZXIpIHsKICAgICAgICB0aGlzLnBhZ2VBY3Rpb24gPSAiVXBkYXRlIjsKICAgICAgICB0aGlzLmN1c3RvbWVyID0gdGhpcy5zZWxlY3RlZEN1c3RvbWVyOwogICAgICAgIGlmICghdGhpcy5jdXN0b21lci5jYW1wYWlnbklkKSB0aGlzLmRhdGEzID0gImRlZmF1bHQiOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuY3VzdG9tZXIubG9jYXRpb25JZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJsb2NhdGlvbklkIik7CiAgICAgICAgaWYgKAogICAgICAgICAgdGhpcy5jdXN0b21lci5sb2NhdGlvbklkICYmCiAgICAgICAgICB0aGlzLmN1c3RvbWVyLmxvY2F0aW9uSWQgPT0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oImxvY2F0aW9uSWQiKQogICAgICAgICkgewogICAgICAgICAgdm0uZ2V0TG9jYXRpb25UZW1wbGF0ZXMoKQogICAgICAgIH0gZWxzZSBpZiAoCiAgICAgICAgICB0aGlzLmN1c3RvbWVyLmxvY2F0aW9uSWQgJiYgCiAgICAgICAgICB0aGlzLmN1c3RvbWVyLmxvY2F0aW9uSWQgIT0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oImxvY2F0aW9uSWQiKQogICAgICAgICkgewogICAgICAgICAgTG9jYXRpb25TZXJ2aWNlLmdldExvY2F0aW9uKHRoaXMuY3VzdG9tZXIubG9jYXRpb25JZCkudGhlbigKICAgICAgICAgICAgcmVzcG9uc2UgPT4gewogICAgICAgICAgICAgIHZtLmN1c3RvbWVyLmxvY2F0aW9uSWQgPSByZXNwb25zZS5sb2NhdGlvbklkOwogICAgICAgICAgICB9CiAgICAgICAgICApOwogICAgICAgICAgdm0uZ2V0TG9jYXRpb25UZW1wbGF0ZXMoKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBudWxsOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGdldExvY2F0aW9uVGVtcGxhdGVzKCkgewogICAgICBsZXQgdm0gPSB0aGlzOwogICAgICBDYW1wYWlnblNlcnZpY2UuZ2V0Q2FtcGFpZ25zQnlMb2NhdGlvbih2bS5jdXN0b21lci5sb2NhdGlvbklkKS50aGVuKHJlc3BvbnNlID0+IHsgICAgICAgIAogICAgICAgIHZtLnRlbXBsYXRlT3B0aW9ucyA9IHJlc3BvbnNlLnJlc3VsdC5maWx0ZXIoZSA9PiBlLnN0YXR1cyA9PT0gImFjdGl2ZSIpOwogICAgICB9KQogICAgfSwKICAgIGNoZWNrRm9yTG9jYXRpb24oKSB7CiAgICAgIGlmKCF0aGlzLmRhdGEpIHsKICAgICAgICB0aGlzLm5vTG9jYXRpb24gPSB0cnVlOwogICAgICB9IGVsc2UgaWYgKHRoaXMuZGF0YSkgewogICAgICAgIHRoaXMubm9Mb2NhdGlvbiA9IGZhbHNlOwogICAgICB9CiAgICB9LAogICAgdmFsaWRhdGVBZnRlckNoYW5nZShydWxlRm9ybSkgewogICAgICBsZXQgdm0gPSB0aGlzOwogICAgICB2bS4kcmVmc1tydWxlRm9ybV0udmFsaWRhdGUodmFsaWQgPT4gewogICAgICAgIGlmICh2YWxpZCkgeyAgICAgICAgICAKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgdmFsaWRhdGVDdXN0b21lcihydWxlRm9ybSkgewogICAgICBsZXQgdm0gPSB0aGlzOwogICAgICB2bS4kcmVmc1tydWxlRm9ybV0udmFsaWRhdGUodmFsaWQgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgdm0uc2F2ZUN1c3RvbWVyKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHNhdmVDdXN0b21lcigpIHsKICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KCJsb2FkaW5nIiwgInNob3ciKTsKICAgICAgbGV0IHZtID0gdGhpczsKICAgICAgQ3VzdG9tZXJTZXJ2aWNlLnNhdmVDdXN0b21lcih2bS5jdXN0b21lcikudGhlbigKICAgICAgICBmdW5jdGlvbihyZXNwb25zZSkgewogICAgICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MgPT0gdHJ1ZSAmJiAhcmVzcG9uc2UuZHVwbGljYXRlICYmICFyZXNwb25zZS51cGRhdGUpIHsKICAgICAgICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KCJsb2FkaW5nIiwgImhpZGUiKTsKICAgICAgICAgICAgaWYocmVzcG9uc2UuY2FtcGFpZ25zID09ICdOb25lJykgewogICAgICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgKICAgICAgICAgICAgICAgICJzdWNjZXNzTWVzc2FnZSIsCiAgICAgICAgICAgICAgICAiSG9vcmF5ISBDdXN0b21lciBhZGRlZCwgdGhvdWdoIHRoZXJlIGFyZSBubyBjYW1wYWlnbnMgdG8gc2VuZC4iCiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoCiAgICAgICAgICAgICAgICAic3VjY2Vzc01lc3NhZ2UiLAogICAgICAgICAgICAgICAgIkhvb3JheSEgQ3VzdG9tZXIgYWRkZWQgYW5kIHdpbGwgYmUgc2VudCBhIG1lc3NhZ2Ugc29vbi4iCiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfQogICAgICAgICAgICB2bS5jdXN0b21lci5jdXN0b21lcklkID0gcmVzcG9uc2UuY3VzdG9tZXJJZDsKICAgICAgICAgICAgdm0uJGVtaXQoInNldEFjdGl2ZUN1c3RvbWVyIiwgdm0uY3VzdG9tZXIpOwogICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5zdWNjZXNzID09IHRydWUgJiYgcmVzcG9uc2UuZHVwbGljYXRlKSB7CiAgICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgibG9hZGluZyIsICJoaWRlIik7CiAgICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgKICAgICAgICAgICAgICAid2FybmluZ01lc3NhZ2UiLAogICAgICAgICAgICAgICJDdXN0b21lciBBbHJlYWR5IEV4aXN0cyBBdCBUaGlzIExvY2F0aW9uISIKICAgICAgICAgICAgKTsKICAgICAgICAgIH0gZWxzZSBpZihyZXNwb25zZS5zdWNjZXNzID09IHRydWUgJiYgcmVzcG9uc2UudXBkYXRlKSB7CiAgICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgibG9hZGluZyIsICJoaWRlIik7CiAgICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgKICAgICAgICAgICAgICAic3VjY2Vzc01lc3NhZ2UiLAogICAgICAgICAgICAgICJDdXN0b21lciBIYXMgQmVlbiBVcGRhdGVkISIKICAgICAgICAgICAgKTsKICAgICAgICAgICAgdm0uJGVtaXQoInNldEFjdGl2ZUN1c3RvbWVyIiwgdm0uY3VzdG9tZXIpOwogICAgICAgICAgfQogICAgICAgICAgdm0uY2xvc2VNb2RhbCgpOwogICAgICAgIH0sCiAgICAgICAgZnVuY3Rpb24oZXJyb3IpIHsKICAgICAgICAgIGlmIChlcnJvcikgewogICAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoImxvYWRpbmciLCAiaGlkZSIpOwogICAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoCiAgICAgICAgICAgICAgImVycm9yTWVzc2FnZSIsCiAgICAgICAgICAgICAgIlNvcnJ5LCBzb21ldGhpbmcgd2VudCB3cm9uZy4gUGxlYXNlIHRyeSBhZ2Fpbi4iCiAgICAgICAgICAgICk7CiAgICAgICAgICB9CiAgICAgICAgICB2bS5jbG9zZU1vZGFsKCk7CiAgICAgICAgfQogICAgICApOwogICAgfSwKICAgIGNsb3NlTW9kYWw6IGZ1bmN0aW9uKCkgewogICAgICB0aGlzLiRlbWl0KCJjbG9zZU1vZGFsIik7CiAgICAgIHRoaXMuY3VzdG9tZXIgPSB7fTsKICAgICAgdGhpcy5hZGRDdXN0b21lck9wZW4gPSBmYWxzZTsKICAgIH0sCgogICAgZ2V0TG9jYXRpb25Rcyhsb2NhdGlvbklkKSB7CiAgICAgIGxldCB2bSA9IHRoaXM7CiAgICAgIExvY2F0aW9uU2VydmljZS5nZXRMb2NhdGlvbihsb2NhdGlvbklkKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB2bS5xc0VuYWJsZWQgPSByZXNwb25zZS5xc0VuYWJsZWQ7CiAgICAgIH0pCiAgICB9LAoKICAgIHJlZnJlc2hOb3RlcygpIHsKICAgICAgdGhpcy5jdXN0b21lci5ub3Rlcy5wdXNoKCdUZW1wJyk7CiAgICAgIHRoaXMuY3VzdG9tZXIubm90ZXMucG9wKCk7CiAgICB9LAogICAgYWRkTm90ZSgpIHsKICAgICAgbGV0IHZtID0gdGhpczsKICAgICAgaWYodm0udGVtcE5vdGUubGVuZ3RoKSB7CiAgICAgICAgdm0uY3VzdG9tZXIubm90ZXMucHVzaCh2bS50ZW1wTm90ZS50cmltKCkpOwogICAgICAgIHZtLnRlbXBOb3RlID0gJyc7CiAgICAgIH0KICAgIH0sCiAgICByZW1vdmVOb3RlKGluZGV4KSB7CiAgICAgIGxldCB2bSA9IHRoaXM7CiAgICAgIHZtLmN1c3RvbWVyLm5vdGVzLnNwbGljZShpbmRleCwgMSk7CiAgICB9LAogICAgY2hlY2tEdXBsaWNhdGUoZXZlbnQsIHR5cGUsIGRhdGEsIGxvY2F0aW9uSWQpIHsKICAgICAgaWYgKGxvY2F0aW9uSWQpIHsKICAgICAgICBpZiAodHlwZSA9PSAicGhvbmUiKSB7CiAgICAgICAgICBpZiAoZGF0YSkgewogICAgICAgICAgICBDdXN0b21lclNlcnZpY2Uuc2VhcmNoQ3VzdG9tZXJzKGRhdGEsIGxvY2F0aW9uSWQpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgIHJlc3BvbnNlLnJlc3VsdHMgJiYKICAgICAgICAgICAgICAgIHJlc3BvbnNlLnJlc3VsdHMubGVuZ3RoID4gMCAmJgogICAgICAgICAgICAgICAgcmVzcG9uc2UucmVzdWx0c1swXS5zdGF0dXMgIT0gImRlbGV0ZWQiICYmCiAgICAgICAgICAgICAgICBkYXRhICYmIHJlc3BvbnNlLnJlc3VsdHNbMF0uc3RhdHVzID09ICdpbmFjdGl2ZScKICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgIHRoaXMuaW5hY3RpdmVEdXBlID0gdHJ1ZTsKICAgICAgICAgICAgICB9IGVsc2UgaWYocmVzcG9uc2UucmVzdWx0cyAmJgogICAgICAgICAgICAgICAgcmVzcG9uc2UucmVzdWx0cy5sZW5ndGggPiAwICYmCiAgICAgICAgICAgICAgICByZXNwb25zZS5yZXN1bHRzWzBdLnN0YXR1cyAhPSAiZGVsZXRlZCIgJiYKICAgICAgICAgICAgICAgIGRhdGEgJiYgcmVzcG9uc2UucmVzdWx0c1swXS5zdGF0dXMgPT0gJ2FjdGl2ZScKICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgIHRoaXMucGhvbmVEdXBsaWNhdGUgPSB0cnVlOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLmluYWN0aXZlRHVwZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgdGhpcy5waG9uZUR1cGxpY2F0ZSA9IGZhbHNlOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLmluYWN0aXZlRHVwZSA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLnBob25lRHVwbGljYXRlID0gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09ICJlbWFpbCIpIHsKICAgICAgICAgIGlmIChkYXRhKSB7CiAgICAgICAgICAgIEN1c3RvbWVyU2VydmljZS5zZWFyY2hDdXN0b21lcnMoZGF0YSwgbG9jYXRpb25JZCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgICAgcmVzcG9uc2UucmVzdWx0cyAmJgogICAgICAgICAgICAgICAgcmVzcG9uc2UucmVzdWx0cy5sZW5ndGggPiAwICYmCiAgICAgICAgICAgICAgICByZXNwb25zZS5yZXN1bHRzWzBdLnN0YXR1cyAhPSAiZGVsZXRlZCIgJiYKICAgICAgICAgICAgICAgIGRhdGEgJiYgcmVzcG9uc2UucmVzdWx0c1swXS5zdGF0dXMgPT0gJ2luYWN0aXZlJwogICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgdGhpcy5pbmFjdGl2ZUR1cGUgPSB0cnVlOwogICAgICAgICAgICAgIH0gZWxzZSBpZihyZXNwb25zZS5yZXN1bHRzICYmCiAgICAgICAgICAgICAgICByZXNwb25zZS5yZXN1bHRzLmxlbmd0aCA+IDAgJiYKICAgICAgICAgICAgICAgIHJlc3BvbnNlLnJlc3VsdHNbMF0uc3RhdHVzICE9ICJkZWxldGVkIiAmJgogICAgICAgICAgICAgICAgZGF0YSAmJiByZXNwb25zZS5yZXN1bHRzWzBdLnN0YXR1cyA9PSAnYWN0aXZlJwogICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgdGhpcy5lbWFpbER1cGxpY2F0ZSA9IHRydWU7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMuZW1haWxEdXBsaWNhdGUgPSBmYWxzZTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5lbWFpbER1cGxpY2F0ZSA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLmluYWN0aXZlRHVwZSA9IGZhbHNlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KfTsK"},{"version":3,"sources":["AddCustomer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AddCustomer.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <el-dialog class=\"rounded\" title=\"Add New Customer\" width=\"600px\" center :show-close=\"false\" :visible.sync=\"addCustomerOpen\" :before-close=\"closeModal\">\n    <el-form :model=\"customer\" ref=\"customerForm\" :rules=\"customerRules\">\n      <div class=\"input-container\">\n        <label class=\"input-label\"> First Name\n          <el-input type=\"text\" placeholder=\"First Name\" v-model=\"customer.firstName\"></el-input>\n        </label>\n        <label class=\"input-label\"> Last Name\n          <el-input type=\"text\" placeholder=\"Last Name\" v-model=\"customer.lastName\"></el-input>\n        </label>\n      </div>\n      <div class=\"input-container\">\n        <label class=\"input-label\"> Email\n          <el-form-item prop=\"email\">\n            <el-input :class=\"{'duplicate': emailDuplicate}\" @blur=\"validateEmail(); checkDuplicate($event, 'email', customer.email, customer.locationId );\" @change=\"validateAfterChange('customerForm');\" type=\"email\" placeholder=\"Email\" v-model=\"customer.email\"></el-input>\n            </el-form-item>\n            <div class=\"duplicate-message\" v-if=\"emailDuplicate\">This email address is associated with an existing customer! Please utilize the re-request functionality instead.</div>\n            <div class=\"duplicate-message\" v-if=\"inactiveDupe\">This email address is associated with an inactive customer! Saving this customer will activate them and re-request a review.</div>\n        </label>\n        <label class=\"input-label\"> Phone\n          <el-form-item prop=\"phone\">\n            <el-input type=\"tel\" placeholder=\"Phone\" v-model=\"customer.phone\" @change=\"validateAfterChange('customerForm');\"></el-input>\n            <div class=\"duplicate-message\" v-if=\"phoneDuplicate\">This phone number is associated with an existing customer! Please utilize the re-request functionality instead.</div>\n            <div class=\"duplicate-message\" v-if=\"inactiveDupe\">This phone number is associated with an inactive customer! Saving this customer will activate them and re-request a review.</div>\n          </el-form-item>\n        </label>\n      </div>\n      <div class=\"input-container\">\n        <label class=\"input-dropdown-label\">Location:</label>\n        <el-form-item prop=\"locationId\">\n          <el-select class=\"input-selector\" v-model=\"customer.locationId\" placeholder=\"Select Location\" @change=\"getLocationTemplates()\">\n            <el-option v-for=\"(location, index) in locationOptions\" :key=\"index\" :label=\"location.label\" :value=\"location.value\"></el-option>\n          </el-select>\n        </el-form-item>\n      </div>\n      <div class=\"input-container\">\n        <label class=\"input-dropdown-label\">Status:</label>\n        <el-select class=\"input-selector\" v-model=\"customer.status\" placeholder=\"Select Status\">\n          <el-option v-for=\"(status, index) in statusOptions\" :key=\"index\" :label=\"status.label\" :value=\"status.value\"></el-option>\n        </el-select>\n      </div>\n      <div class=\"input-container\">\n        <label class=\"input-dropdown-label\">Country:</label>\n        <el-select class=\"input-selector\" v-model=\"customer.country\" placeholder=\"Select Country\">\n          <el-option v-for=\"(country, index) in countryOptions\" :key=\"index\" :label=\"country.country\" :value=\"country.code\"></el-option>\n        </el-select>\n      </div>\n      <div class=\"input-container\" v-if=\"customer.locationId\">\n        <label class=\"input-dropdown-label\">Template:</label>\n        <el-select class=\"input-selector\" v-model=\"customer.campaignId\" placeholder=\"Select Template\">\n          <el-option v-for=\"(template, index) in templateOptions\" :key=\"index\" :label=\"template.name\" :value=\"template.campaignId\"></el-option>\n        </el-select>\n      </div>\n      <div class=\"note-list\" ref=\"notelist\" v-if=\"customer.notes && customer.notes.length && typeof customer.notes != 'string'\">\n        <div class=\"note\" v-for=\"(note, noteIndex) in customer.notes\" :key=\"noteIndex\">\n          <span>{{note}}</span>\n          <i class=\"fal fa-times\" @click=\"removeNote(noteIndex)\"></i>\n        </div>\n      </div>\n      <el-input type=\"textarea\" class=\"textarea\" placeholder=\"Type a note and press enter...\" maxlength=\"125\" show-word-limit v-model=\"tempNote\" @keyup.enter.native=\"addNote()\"></el-input>\n    </el-form>\n    <span slot=\"footer\" class=\"dialog-footer\">\n      <el-button type=\"text\" @click=\"$emit('closeModal')\">Cancel</el-button>\n      <el-button type=\"primary\" @click=\"validateCustomer('customerForm')\">Confirm</el-button>\n    </span>\n  </el-dialog>      \n</template>\n\n<script>\nimport CustomerService from \"./../services/CustomerService\";\nimport CampaignService from \"./../services/CampaignService\";\nimport LocationService from \"./../services/LocationService\";\nimport UserService from \"./../services/UserService\";\nimport SharedFunctions from \"./../services/SharedFunctions\";\nimport { EventService } from \"../main\";\nimport vSelect from \"../../node_modules/vue-select/src/components/Select.vue\";\n\nexport default {\n  name: \"addCustomer\",\n  props: [\"selectedCustomer\", \"openCustomerModal\"],\n  components: {\n    vSelect\n  },\n  data: function() {\n    var checkData = (rule, value, callback) => {\n      if(!this.customer.email && !this.customer.phone) {\n        return callback(new Error('Phone or Email is Required'))\n      } else {\n        callback();\n      }\n    };\n    return {\n      pageAction: \"Create New\",\n      customer: {\n        locationId: \"\",\n        status: \"active\",\n        template: \"\",\n        phone: \"\",\n        email: \"\",\n        country: \"+1\",\n        notes: [],\n        campaignId: ''\n      },\n      duplicateList: [],\n      templateOptions: [],\n      searchText: \"\",\n      locationObj: {},\n      locationOptions: [],\n      statusOptions: [\n        {value: 'active', label: 'Subscribed'}, \n        {value: 'inactive', label: 'Unsubscribed'}\n      ],\n      countryOptions: [\n        {country: 'USA / Canada', code: '+1'},\n        {country: 'Phillipines', code: '+63'},\n        {country: 'UAE', code: '+971'},\n        {country: 'Australia', code: '+61'}\n      ],\n      qsEnabled: false,\n      inactiveDupe: false,\n      emailDuplicate: false,\n      phoneDuplicate: false,\n      noLocation: false,\n      tempNote: '',\n      // openCustomerModal: true,\n      customerRules: {\n        email: [\n          { type: 'email', message: 'Please enter a valid email address', trigger: \"blur\"},\n          { validator: checkData, message: 'Phone or Email is Required', trigger: 'blur' }\n        ],\n        phone: [\n          { type: 'number', validator: checkData, message: 'Phone or Email is Required', trigger: 'blur' }\n        ],\n        locationId: [\n          {\n            required: true,\n            message: \"Please select a location\",\n            trigger: \"change\"\n          }\n        ]\n      },\n      addCustomerOpen: true,\n    };\n  },\n  created() {\n    this.locationChecking();\n    this.getLocationOptions();\n    this.validatePhone = SharedFunctions.validatePhone;\n    this.validateEmail = SharedFunctions.validateEmail;\n    this.validateNotes = SharedFunctions.validateNotes;\n    if(this.selectedCustomer) {\n      let tempStatus = this.selectedCustomer.status;\n      this.pageAction = \"Edit\"\n      this.data2 = {label: tempStatus[0].toUpperCase() + tempStatus.substr(1), value: tempStatus}\n    }\n  },\n  mounted() {\n    this.refreshNotes();\n  },\n  computed: {\n    checkNoteHeight() {\n      this.customer.notes;\n      this.customer.notes.length;\n      this.$refs.notelist;\n      if(this.customer.notes && this.customer.notes.length && this.$refs.notelist) {\n        // console.log(this.$refs);\n        if(this.$refs.notelist.clientHeight > 100) {\n          return true;\n        } else {\n          return false;\n        }\n      }\n    },\n  },\n  methods: {\n    getLocationOptions() {\n      let vm = this;\n      UserService.getAllUserLocations().then(response => {\n        response.map(e => {\n          let singleLocation = {\n            label: e.name,\n            value: e.locationId,\n            prop: e.prop\n          }\n          vm.locationOptions.push(singleLocation);\n        })\n      });\n    },\n    locationChecking() {\n      var vm = this;\n      if (this.selectedCustomer) {\n        this.pageAction = \"Update\";\n        this.customer = this.selectedCustomer;\n        if (!this.customer.campaignId) this.data3 = \"default\";\n      } else {\n        this.customer.locationId = localStorage.getItem(\"locationId\");\n        if (\n          this.customer.locationId &&\n          this.customer.locationId == localStorage.getItem(\"locationId\")\n        ) {\n          vm.getLocationTemplates()\n        } else if (\n          this.customer.locationId && \n          this.customer.locationId != localStorage.getItem(\"locationId\")\n        ) {\n          LocationService.getLocation(this.customer.locationId).then(\n            response => {\n              vm.customer.locationId = response.locationId;\n            }\n          );\n          vm.getLocationTemplates()\n        } else {\n          null;\n        }\n      }\n    },\n    getLocationTemplates() {\n      let vm = this;\n      CampaignService.getCampaignsByLocation(vm.customer.locationId).then(response => {        \n        vm.templateOptions = response.result.filter(e => e.status === \"active\");\n      })\n    },\n    checkForLocation() {\n      if(!this.data) {\n        this.noLocation = true;\n      } else if (this.data) {\n        this.noLocation = false;\n      }\n    },\n    validateAfterChange(ruleForm) {\n      let vm = this;\n      vm.$refs[ruleForm].validate(valid => {\n        if (valid) {          \n        } else {\n          return false;\n        }\n      });\n    },\n    validateCustomer(ruleForm) {\n      let vm = this;\n      vm.$refs[ruleForm].validate(valid => {\n        if (valid) {\n          vm.saveCustomer();\n        } else {\n          return false;\n        }\n      });\n    },\n    saveCustomer() {\n      EventService.$emit(\"loading\", \"show\");\n      let vm = this;\n      CustomerService.saveCustomer(vm.customer).then(\n        function(response) {\n          if (response.success == true && !response.duplicate && !response.update) {\n            EventService.$emit(\"loading\", \"hide\");\n            if(response.campaigns == 'None') {\n              EventService.$emit(\n                \"successMessage\",\n                \"Hooray! Customer added, though there are no campaigns to send.\"\n              );\n            } else {\n              EventService.$emit(\n                \"successMessage\",\n                \"Hooray! Customer added and will be sent a message soon.\"\n              );\n            }\n            vm.customer.customerId = response.customerId;\n            vm.$emit(\"setActiveCustomer\", vm.customer);\n          } else if (response.success == true && response.duplicate) {\n            EventService.$emit(\"loading\", \"hide\");\n            EventService.$emit(\n              \"warningMessage\",\n              \"Customer Already Exists At This Location!\"\n            );\n          } else if(response.success == true && response.update) {\n            EventService.$emit(\"loading\", \"hide\");\n            EventService.$emit(\n              \"successMessage\",\n              \"Customer Has Been Updated!\"\n            );\n            vm.$emit(\"setActiveCustomer\", vm.customer);\n          }\n          vm.closeModal();\n        },\n        function(error) {\n          if (error) {\n            EventService.$emit(\"loading\", \"hide\");\n            EventService.$emit(\n              \"errorMessage\",\n              \"Sorry, something went wrong. Please try again.\"\n            );\n          }\n          vm.closeModal();\n        }\n      );\n    },\n    closeModal: function() {\n      this.$emit(\"closeModal\");\n      this.customer = {};\n      this.addCustomerOpen = false;\n    },\n\n    getLocationQs(locationId) {\n      let vm = this;\n      LocationService.getLocation(locationId).then(response => {\n        vm.qsEnabled = response.qsEnabled;\n      })\n    },\n\n    refreshNotes() {\n      this.customer.notes.push('Temp');\n      this.customer.notes.pop();\n    },\n    addNote() {\n      let vm = this;\n      if(vm.tempNote.length) {\n        vm.customer.notes.push(vm.tempNote.trim());\n        vm.tempNote = '';\n      }\n    },\n    removeNote(index) {\n      let vm = this;\n      vm.customer.notes.splice(index, 1);\n    },\n    checkDuplicate(event, type, data, locationId) {\n      if (locationId) {\n        if (type == \"phone\") {\n          if (data) {\n            CustomerService.searchCustomers(data, locationId).then(response => {\n              if (\n                response.results &&\n                response.results.length > 0 &&\n                response.results[0].status != \"deleted\" &&\n                data && response.results[0].status == 'inactive'\n              ) {\n                this.inactiveDupe = true;\n              } else if(response.results &&\n                response.results.length > 0 &&\n                response.results[0].status != \"deleted\" &&\n                data && response.results[0].status == 'active'\n              ) {\n                this.phoneDuplicate = true;\n              } else {\n                this.inactiveDupe = false;\n                this.phoneDuplicate = false;\n              }\n            });\n          } else {\n            this.inactiveDupe = false;\n            this.phoneDuplicate = false;\n          }\n        } else if (type == \"email\") {\n          if (data) {\n            CustomerService.searchCustomers(data, locationId).then(response => {\n              if (\n                response.results &&\n                response.results.length > 0 &&\n                response.results[0].status != \"deleted\" &&\n                data && response.results[0].status == 'inactive'\n              ) {\n                this.inactiveDupe = true;\n              } else if(response.results &&\n                response.results.length > 0 &&\n                response.results[0].status != \"deleted\" &&\n                data && response.results[0].status == 'active'\n              ) {\n                this.emailDuplicate = true;\n              } else {\n                this.emailDuplicate = false;\n              }\n            });\n          } else {\n            this.emailDuplicate = false;\n            this.inactiveDupe = false;\n          }\n        }\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n\n.note {\n  animation: .35s cubic-bezier(0.165, 0.84, 0.44, 1) slideFromTop;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  box-sizing: border-box;\n  padding: 14px;\n  background: #FAFAFA;\n  color: #757575;\n  height: 40px;\n  width: 100%;\n  margin-top: 10px;\n  margin-bottom: 10px;\n  border-radius: 4px;\n  font-weight: medium;\n  line-height: 24px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, .15);\n  transition: all 1s ease;\n}\n\n.note i {\n  padding-left: 20px;\n  color: #DD2C00;\n  cursor: pointer;\n  transform: rotate(360deg);\n}\n.textarea {\n  margin-top: 20px;\n}\n.input-selector {\n  width: 260px;\n}\n.wrapper {\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n}\n.input-container {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-top: 10px;\n  width: 100%;\n  max-width: 100%;\n}\n\n.input-container .input-dropdown-label{\n  font-size: 18px; \n  font-weight: medium;\n  color: #757575;\n}\n\n.input-label {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n.el-input {\n  min-width: 260px;\n  max-width: 260px;\n  padding-top: 5px;\n}\n.el-input__inner {\n  border-radius: 1000px;\n}\n.dialog-footer button {\n  width: 260px;\n}\n\n</style>\n"]}]}