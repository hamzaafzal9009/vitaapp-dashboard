{"remainingRequest":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/src/components/AddOutreach.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/src/components/AddOutreach.vue","mtime":1581270622000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBPdXRyZWFjaFNlcnZpY2UgZnJvbSAiLi8uLi9zZXJ2aWNlcy9PdXRyZWFjaFNlcnZpY2UiOwppbXBvcnQgTG9jYXRpb25TZXJ2aWNlIGZyb20gIi4vLi4vc2VydmljZXMvTG9jYXRpb25TZXJ2aWNlIjsKaW1wb3J0IEN1c3RvbWVyU2VydmljZSBmcm9tICIuLy4uL3NlcnZpY2VzL0N1c3RvbWVyU2VydmljZSI7CmltcG9ydCBBdXRoU2VydmljZSBmcm9tICIuLy4uL3NlcnZpY2VzL0F1dGhTZXJ2aWNlIjsKaW1wb3J0IFNoYXJlZEZ1bmN0aW9ucyBmcm9tICIuLy4uL3NlcnZpY2VzL1NoYXJlZEZ1bmN0aW9ucyI7CmltcG9ydCBVc2VyU2VydmljZSBmcm9tICIuLy4uL3NlcnZpY2VzL1VzZXJTZXJ2aWNlIjsKaW1wb3J0IHsgRXZlbnRTZXJ2aWNlIH0gZnJvbSAiLi4vbWFpbiI7CmltcG9ydCBjb25maWcgZnJvbSAnLi4vY29uZmlnJzsKaW1wb3J0IHZTZWxlY3QgZnJvbSAiLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1zZWxlY3Qvc3JjL2NvbXBvbmVudHMvU2VsZWN0LnZ1ZSI7CmltcG9ydCBwaG9uZUltYWdlIGZyb20gJy4uL2Fzc2V0cy9pbWcvcGhvbmUtYmFja2dyb3VuZC5zdmcnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImFkZE91dHJlYWNoIiwKICBwcm9wczogWyJzZWxlY3RlZE91dHJlYWNoIiwgInNlbGVjdGVkTG9jYXRpb24iXSwKICBjb21wb25lbnRzOiB7CiAgICB2U2VsZWN0CiAgfSwKICBkYXRhOiBmdW5jdGlvbigpIHsKICAgIHJldHVybiB7CiAgICAgIHN0ZXA6IDEsCiAgICAgIG91dHJlYWNoU3R5bGU6ICdub25lJywKICAgICAgZW1haWxMb2FkaW5nOiBmYWxzZSwKICAgICAgb3V0cmVhY2g6IHsKICAgICAgICBuYW1lOiAnJywKICAgICAgICBsb2NhdGlvbklkOiAnJywKICAgICAgICBzdHlsZTogWydTTVMnLCAnRW1haWwnXSwKICAgICAgICBlbWFpbDogewogICAgICAgICAgc3ViamVjdDogJycsCiAgICAgICAgICBkYXRhOiAnJywKICAgICAgICAgIGRlc2lnbjogJycKICAgICAgICB9LAogICAgICAgIHNtczogJycsCiAgICAgICAgdGFyZ2V0OiBudWxsLAogICAgICAgIHNjaGVkdWxlOiB7CiAgICAgICAgICBkYXRlOiBudWxsLAogICAgICAgICAgdGltZTogbnVsbAogICAgICAgIH0KICAgICAgfSwKICAgICAgdGVzdEVtYWlsQWRkcmVzczogJycsCiAgICAgIHRlc3RQaG9uZU51bWJlcjogbnVsbCwKICAgICAgc3RhdHVzOiAnaW5jb21wbGV0ZScsCiAgICAgIGluaXRpYWxpemVkVW5sYXllcjogZmFsc2UsCiAgICAgIHBhZ2VBY3Rpb246ICdBZGQnLAogICAgICBzZWFyY2hUZXh0OiAnJywKICAgICAgdG90YWxDdXN0b21lcnM6IFtdLAogICAgICB0YWdMaXN0OiBbXSwKICAgICAgYWxsU2VsZWN0ZWQ6IGZhbHNlLAogICAgICBkaXNwbGF5VGFnQ29udGFpbmVyOiBmYWxzZSwKICAgICAgZGlzcGxheUZpbHRlck1lbnU6IGZhbHNlLAogICAgICBkaXNwbGF5UmF0aW5nTWVudTogZmFsc2UsCiAgICAgIGZpbHRlcnM6IHsKICAgICAgICB0YWdzOiBbXSwKICAgICAgICBzZXR1cDogbnVsbCwKICAgICAgICByYXRpbmc6IG51bGwKICAgICAgfSwKICAgICAgdGVzdEVtYWlsOiAnJywKICAgICAgdGVzdFNNUzogbnVsbCwKICAgICAgbWluRGF0ZTogbnVsbCwKICAgICAgbWluVGltZTogbnVsbCwKICAgICAgaW52YWxpZEVtYWlsOiBmYWxzZSwKICAgICAgaW52YWxpZFNNUzogZmFsc2UsCiAgICAgIHBhcnNlZERhdGU6IG51bGwsCiAgICAgIGRhdGE6ICcnLAogICAgICBsb2NhdGlvbk9wdGlvbnM6IFtdLAogICAgICBjdXJyZW50VGltZTogbnVsbCwKICAgICAgdGltZUludGVydmFsOiBudWxsLAogICAgICBuZXdIb3VyOiAnJywKICAgICAgbmV3TWludXRlOiAnJywKICAgICAgbmV3VGltZTogJycsCiAgICAgIGhvdXJzOiBbJzAxJywnMDInLCcwMycsJzA0JywnMDUnLCcwNicsJzA3JywnMDgnLCcwOScsJzEwJywnMTEnLCcxMiddLAogICAgICBtaW51dGVzOiBbJzAwJywnMDEnLCcwMicsJzAzJywnMDQnLCcwNScsJzA2JywnMDcnLCcwOCcsJzA5JywnMTAnLCcxMScsJzEyJywnMTMnLCcxNCcsJzE1JywnMTYnLCcxNycsJzE4JywnMTknLCcyMCcsJzIxJywnMjInLCcyMycsJzI0JywnMjUnLCcyNicsJzI3JywnMjgnLCcyOScsJzMwJywnMzEnLCczMicsJzMzJywnMzQnLCczNScsJzM2JywnMzcnLCczOCcsJzM5JywnNDAnLCc0MScsJzQyJywnNDMnLCc0NCcsJzQ1JywnNDYnLCc0NycsJzQ4JywnNDknLCc1MCcsJzUxJywnNTInLCc1MycsJzU0JywnNTUnLCc1NicsJzU3JywnNTgnLCc1OScsJzYwJyBdLAogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHN0ZXBDb21wbGV0ZShjaGVjaykgewogICAgICBsZXQgdm0gPSB0aGlzOwogICAgICByZXR1cm4gY2hlY2sgPj0gdm0uc3RlcDsKICAgIH0sCiAgICBjb21wbGV0ZWQoKSB7CiAgICAgIGxldCB2bSA9IHRoaXM7CiAgICAgIGxldCB0ZXN0MSA9ICh2bS5vdXRyZWFjaC5uYW1lICYmIHZtLm91dHJlYWNoLm5hbWUubGVuZ3RoID4gMyAmJiB2bS5vdXRyZWFjaC5zdHlsZSAmJiB2bS5vdXRyZWFjaC5zdHlsZS5sZW5ndGggPiAwICYmIHZtLm91dHJlYWNoLmxvY2F0aW9uSWQpOwogICAgICBsZXQgdGVzdDIgPSAoICF2bS5vdXRyZWFjaC5zdHlsZS5pbmNsdWRlcygnRW1haWwnKSB8fCAodm0ub3V0cmVhY2guZW1haWwgJiYgdm0ub3V0cmVhY2guZW1haWwuc3ViamVjdCkpOwogICAgICBsZXQgdGVzdDMgPSAoICF2bS5vdXRyZWFjaC5zdHlsZS5pbmNsdWRlcygnU01TJykgfHwgKHZtLm91dHJlYWNoLnNtcyAmJiB2bS5vdXRyZWFjaC5zbXMubGVuZ3RoID4gMTAgKSk7CiAgICAgIGxldCB0ZXN0NCA9ICh2bS5vdXRyZWFjaC50YXJnZXQgfHwgKHZtLnNlbGVjdGVkQ3VzdG9tZXJzICYmIHZtLnNlbGVjdGVkQ3VzdG9tZXJzLmxlbmd0aCA+IDApICk7CiAgICAgIGxldCB0ZXN0NSA9ICggdm0ucGFyc2VkRGF0ZSApOwogICAgICBpZiggdGVzdDEgJiYgdGVzdDIgJiYgdGVzdDMgJiYgdGVzdDQgJiYgdGVzdDUgKSB7CiAgICAgICAgcmV0dXJuIDUKICAgICAgfSBlbHNlIGlmKCB0ZXN0MSAmJiB0ZXN0MiAmJiB0ZXN0MyAmJiB0ZXN0NCApIHsKICAgICAgICByZXR1cm4gNAogICAgICB9IGVsc2UgaWYoIHRlc3QxICYmIHRlc3QyICYmIHRlc3QzICkgewogICAgICAgIHJldHVybiAzCiAgICAgIH0gZWxzZSBpZiggdGVzdDEgJiYgdGVzdDIgKSB7CiAgICAgICAgcmV0dXJuIDIKICAgICAgfSBlbHNlIGlmKCB0ZXN0MSApIHsKICAgICAgICByZXR1cm4gMTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gMDsKICAgICAgfQogICAgfSwKICAgIG5leHRUaXRsZSgpIHsKICAgICAgbGV0IHZtID0gdGhpczsKICAgICAgaWYodm0uc3RlcCA8PSB2bS5jb21wbGV0ZWQpIHsKICAgICAgICByZXR1cm4gJ05leHQnCiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICJNb3JlIGRhdGEgbmVlZGVkIHRvIGNvbnRpbnVlLiIKICAgICAgfQogICAgfSwKICAgIGZpbHRlcmVkQ3VzdG9tZXJzKCkgewogICAgICBsZXQgdm0gPSB0aGlzOwogICAgICB2bS50b3RhbEN1c3RvbWVyczsKICAgICAgbGV0IGZpbHRlclRhZ3MgPSB2bS5maWx0ZXJzLnRhZ3M7CiAgICAgIGxldCBydW5uaW5nQ3VzdG9tZXJMaXN0OwogICAgICBsZXQgY3VzdG9tZXJzTGlzdDsKICAgICAgaWYodm0ub3V0cmVhY2gudGFyZ2V0KSB7CiAgICAgICAgdm0ub3V0cmVhY2gudGFyZ2V0Lm1hcChlbCA9PiB7CiAgICAgICAgICB2bS50b3RhbEN1c3RvbWVycy5tYXAoY3VzdCA9PiB7CiAgICAgICAgICAgIGlmKGN1c3QuY3VzdG9tZXJJZCA9PSBlbC5jdXN0b21lcklkKSB7CiAgICAgICAgICAgICAgY3VzdC5zZWxlY3RlZCA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgfSkKICAgICAgICBydW5uaW5nQ3VzdG9tZXJMaXN0ID0gdm0udG90YWxDdXN0b21lcnM7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcnVubmluZ0N1c3RvbWVyTGlzdCA9IHZtLnRvdGFsQ3VzdG9tZXJzOwogICAgICB9CgogICAgICBpZih2bS5maWx0ZXJzLnRhZ3MgJiYgdm0uZmlsdGVycy50YWdzLmxlbmd0aCkgewogICAgICAgIGN1c3RvbWVyc0xpc3QgPSBydW5uaW5nQ3VzdG9tZXJMaXN0LmZpbHRlcihjdXN0b21lciA9PiB7CiAgICAgICAgICByZXR1cm4gdm0uZmlsdGVycy50YWdzLnNvbWUodGFnID0+IHsKICAgICAgICAgICAgcmV0dXJuIGN1c3RvbWVyLnRhZ3MuaW5jbHVkZXModGFnKTsKICAgICAgICAgIH0pCiAgICAgICAgfSkKICAgICAgfSBlbHNlIHsKICAgICAgICBjdXN0b21lcnNMaXN0ID0gcnVubmluZ0N1c3RvbWVyTGlzdDsKICAgICAgfQoKICAgICAgaWYodm0uZmlsdGVycy5zZXR1cCkgewogICAgICAgIGlmKHZtLmZpbHRlcnMuc2V0dXAgPT0gJ2FjdGl2ZScpIHsKICAgICAgICAgIGN1c3RvbWVyc0xpc3QgPSBjdXN0b21lcnNMaXN0LmZpbHRlcihjdXN0b21lciA9PiB7CiAgICAgICAgICAgIHJldHVybiBjdXN0b21lci5zdGF0dXMgPT0gJ2FjdGl2ZSc7CiAgICAgICAgICB9KQogICAgICAgIH0gZWxzZSBpZih0eXBlb2Ygdm0uZmlsdGVycy5zZXR1cCA9PSAnbnVtYmVyJykgewogICAgICAgICAgbGV0IHRvZGF5ID0gRGF0ZS5ub3coKTsKICAgICAgICAgIGN1c3RvbWVyc0xpc3QgPSBjdXN0b21lcnNMaXN0LmZpbHRlcihjdXN0b21lciA9PiB7CiAgICAgICAgICAgIHJldHVybiBjdXN0b21lci5jcmVhdGVkRGF0ZSA+PSB0b2RheSAtICh2bS5maWx0ZXJzLnNldHVwICogKDEwMDAgKiA2MCAqIDYwICogMjQpKTsKICAgICAgICAgIH0pCiAgICAgICAgfQogICAgICB9CiAgICAgIGlmKHZtLmZpbHRlcnMucmF0aW5nKSB7CiAgICAgICAgaWYodm0uZmlsdGVycy5yYXRpbmcgPT0gJ25vUmF0aW5nJykgewogICAgICAgICAgY3VzdG9tZXJzTGlzdCA9IGN1c3RvbWVyc0xpc3QuZmlsdGVyKGN1c3RvbWVyID0+IHsKICAgICAgICAgICAgcmV0dXJuICFjdXN0b21lci5yYXRpbmc7CiAgICAgICAgICB9KQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjdXN0b21lcnNMaXN0ID0gY3VzdG9tZXJzTGlzdC5maWx0ZXIoY3VzdG9tZXIgPT4gewogICAgICAgICAgICByZXR1cm4gY3VzdG9tZXIucmF0aW5nID09IHZtLmZpbHRlcnMucmF0aW5nOwogICAgICAgICAgfSkKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBjdXN0b21lcnNMaXN0OwogICAgfSwKICAgIHNlbGVjdGVkQ3VzdG9tZXJzKCkgewogICAgICBsZXQgdm0gPSB0aGlzOwogICAgICBpZih2bS5maWx0ZXJlZEN1c3RvbWVycyAmJiB2bS5maWx0ZXJlZEN1c3RvbWVycy5sZW5ndGggPiAwKSB7CiAgICAgICAgbGV0IHNlbGVjdGVkQ3VzdG9tZXJzID0gdm0uZmlsdGVyZWRDdXN0b21lcnMuZmlsdGVyKGN1c3RvbWVyID0+IHsKICAgICAgICAgIHJldHVybiBjdXN0b21lci5zZWxlY3RlZDsKICAgICAgICB9KQogICAgICByZXR1cm4gc2VsZWN0ZWRDdXN0b21lcnM7CiAgICAgIH0KICAgIH0sCiAgICBmaWx0ZXJlZFRhZ0xpc3QoKSB7CiAgICAgIGxldCB2bSA9IHRoaXM7CiAgICAgIGxldCBmaWx0ZXJUYWdMaXN0ID0gdm0uZmlsdGVycy50YWdzOwogICAgICBsZXQgdGFncyA9IHZtLnRhZ0xpc3QuZmlsdGVyKHRhZyA9PiB7CiAgICAgICAgaWYoIWZpbHRlclRhZ0xpc3QuaW5jbHVkZXModGFnKSkgewogICAgICAgICAgcmV0dXJuIHRhZzsKICAgICAgICB9CiAgICAgIH0pCiAgICAgIHJldHVybiB0YWdzOwogICAgfSwKICAgIHRpbWVDaGVjaygpIHsKICAgICAgbGV0IHZtID0gdGhpczsKICAgICAgLy8gY3VycmVudFRpbWUgbmVlZHMgdG8gYmUgaGVyZSBpbiBvcmRlciB0byBtYW51YWxseSB1c2UgaXQgYXMgYSAiJGdldHRlciIuIERvIG5vdCByZW1vdmUuCiAgICAgIHZtLmN1cnJlbnRUaW1lOwogICAgICBpZih2bS5zdGVwID09PSA1ICYmIHZtLmN1cnJlbnRUaW1lKSB7CiAgICAgICAgaWYodm0ucGFyc2VkRGF0ZSA+IHZtLmN1cnJlbnRUaW1lKSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgfQogIH0sCiAgYmVmb3JlRGVzdHJveSgpIHsKICAgIHRoaXMuc2VsZWN0ZWRMb2NhdGlvbiA9IG51bGw7CiAgfSwKICBtb3VudGVkKCkgewogICAgbGV0IHZtID0gdGhpczsKICAgIGlmKHZtLnNlbGVjdGVkT3V0cmVhY2gpIHsKICAgICAgdm0ub3V0cmVhY2ggPSB2bS5zZWxlY3RlZE91dHJlYWNoOwogICAgICBpZih2bS5vdXRyZWFjaC5zZW5kRGF0ZSkgewogICAgICAgIHZtLnBhcnNlU2VuZERhdGUoKQogICAgICB9CiAgICAgIHZtLmdldExvY2F0aW9uT3B0aW9ucygpOwogICAgfSBlbHNlIHsKICAgICAgaWYodm0uc2VsZWN0ZWRMb2NhdGlvbikgewogICAgICAgIHZtLm91dHJlYWNoLmxvY2F0aW9uSWQgPSB2bS5zZWxlY3RlZExvY2F0aW9uOwogICAgICB9CiAgICAgIHZtLmdldExvY2F0aW9uT3B0aW9ucygpOwogICAgICB2bS5nZXREYXRlQW5kVGltZUl0ZW1zKCkKICAgIH0KICAgIHZtLnNjcm9sbE9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKChbZW50cnldKSA9PiB7CiAgICAgIGlmIChlbnRyeSAmJiBlbnRyeS5pc0ludGVyc2VjdGluZykgewogICAgICAgIHZtLmFwcGVuZEN1c3RvbWVycyh2bS5zZWxlY3RlZFBhZ2UrMSk7CiAgICAgIH0KICAgIH0pOwogICAgLy8gdGhpcy5oaWRlQ2hhdCgpOwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIEV2ZW50U2VydmljZS4kb24oImxvY2F0aW9uQ2hhbmdlIiwgdGhpcy5sb2NhdGlvbkNoYW5nZSk7CiAgfSwKICBiZWZvcmVEZXN0cm95KCkgewogICAgdGhpcy5zY3JvbGxPYnNlcnZlci5kaXNjb25uZWN0KCk7CiAgICBFdmVudFNlcnZpY2UuJG9mZigibG9jYXRpb25DaGFuZ2UiLCB0aGlzLmxvY2F0aW9uQ2hhbmdlKTsKICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lSW50ZXJ2YWwpOwogICAgLy8gdGhpcy5zaG93Q2hhdCgpOwogIH0sCiAgbWV0aG9kczogewogICAgcmVmcmVzaEFjdGl2aXR5KCkgewogICAgICBBdXRoU2VydmljZS5yZWZyZXNoQWN0aXZpdHkoKTsKICAgIH0sCiAgICAvLyBoaWRlQ2hhdCgpIHsKICAgIC8vICAgbGV0IGZvdW5kRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3pscy1idG5tbicpOwogICAgLy8gICBpZihmb3VuZEVsZW1lbnRbMF0pIGZvdW5kRWxlbWVudFswXS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgLy8gfSwKICAgIC8vIHNob3dDaGF0KCkgewogICAgLy8gICBsZXQgZm91bmRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnemxzLWJ0bm1uJyk7CiAgICAvLyAgIGlmKGZvdW5kRWxlbWVudFswXSkgZm91bmRFbGVtZW50WzBdLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgLy8gfSwKICAgIGdldERhdGVBbmRUaW1lSXRlbXMoKSB7CiAgICAgIGxldCB2bSA9IHRoaXM7CiAgICAgIC8vIEdldCB0aGUgZGF0ZSBhbmQgcGllY2VzIG9mIGl0IGZvciAzMCBtaW51dGVzIGZyb20gbm93LgogICAgICBsZXQgdG9kYXkgPSBEYXRlLm5vdygpOwogICAgICBsZXQgbWludXRlc0Zyb21Ob3cgPSAxMDsKICAgICAgbGV0IHNldE1pbnV0ZXNGcm9tTm93ID0gdG9kYXkgKyAoMTAwMCAqIDYwICogbWludXRlc0Zyb21Ob3cpOwogICAgICBzZXRNaW51dGVzRnJvbU5vdyA9IG5ldyBEYXRlKHNldE1pbnV0ZXNGcm9tTm93KTsKICAgICAgbGV0IHRvZGF5WWVhciA9IHNldE1pbnV0ZXNGcm9tTm93LmdldEZ1bGxZZWFyKCk7CiAgICAgIGxldCB0b2RheU1vbnRoID0gc2V0TWludXRlc0Zyb21Ob3cuZ2V0TW9udGgoKSsxOwogICAgICBsZXQgdG9kYXlEYXRlID0gc2V0TWludXRlc0Zyb21Ob3cuZ2V0RGF0ZSgpOwogICAgICBsZXQgdG9kYXlIb3VycyA9IHNldE1pbnV0ZXNGcm9tTm93LmdldEhvdXJzKCk7CiAgICAgIGxldCB0b2RheU1pbnV0ZXMgPSBzZXRNaW51dGVzRnJvbU5vdy5nZXRNaW51dGVzKCk7CgogICAgICAvLyBGb3JtYXQgdGhlIGRhdGUgdG8gYmUgYWJsZSB0byBiZSBwYXJzZWQgY29ycmVjdGx5LgogICAgICBpZihKU09OLnN0cmluZ2lmeSh0b2RheU1pbnV0ZXMpLmxlbmd0aCAhPSAyKSB7CiAgICAgICAgdG9kYXlNaW51dGVzID0gJzAnICsgdG9kYXlNaW51dGVzOwogICAgICB9CiAgICAgIGlmKEpTT04uc3RyaW5naWZ5KHRvZGF5SG91cnMpLmxlbmd0aCAhPSAyKSB7CiAgICAgICAgdG9kYXlIb3VycyA9ICcwJyArIHRvZGF5SG91cnM7CiAgICAgIH0KICAgICAgaWYoSlNPTi5zdHJpbmdpZnkodG9kYXlEYXRlKS5sZW5ndGggIT0gMikgewogICAgICAgIHRvZGF5RGF0ZSA9ICcwJyArIHRvZGF5RGF0ZTsKICAgICAgfQogICAgICBpZihKU09OLnN0cmluZ2lmeSh0b2RheU1vbnRoKS5sZW5ndGggIT0gMikgewogICAgICAgIHRvZGF5TW9udGggPSAnMCcgKyB0b2RheU1vbnRoOwogICAgICB9CgogICAgICAvLyBTZXQgdG9kYXkgbGV2ZWxzLgogICAgICBsZXQgbWluVGltZSA9IHRvZGF5SG91cnMgKyAnOicgKyB0b2RheU1pbnV0ZXM7CiAgICAgIGxldCBtaW5EYXRlID0gdG9kYXlZZWFyICsgJy0nICsgdG9kYXlNb250aCArICctJyArIHRvZGF5RGF0ZTsKCiAgICAgIC8vIFNldCBBbGwgTWluaW11bSBTY2hlZHVsZSBEYXRlcyBhbmQgQXV0by1zZXQgdG9kYXkncyBkYXRlIGFuZCB0aW1lLgogICAgICB2bS5taW5EYXRlID0gbWluRGF0ZTsKICAgICAgdm0ub3V0cmVhY2guc2NoZWR1bGUuZGF0ZSA9IG1pbkRhdGU7CiAgICAgIHZtLm1pblRpbWUgPSBtaW5UaW1lOwogICAgICB2bS5vdXRyZWFjaC5zY2hlZHVsZS50aW1lID0gbWluVGltZTsKICAgICAgaWYodG9kYXlIb3VycyA+IDEyKSB7CiAgICAgICAgdm0ubmV3SG91ciA9IEpTT04uc3RyaW5naWZ5KHRvZGF5SG91cnMgLSAxMik7CiAgICAgICAgdm0ubmV3VGltZSA9ICdQTScKICAgICAgfSBlbHNlIHsKICAgICAgICB2bS5uZXdIb3VyID0gSlNPTi5zdHJpbmdpZnkodG9kYXlIb3Vycyk7CiAgICAgICAgdm0ubmV3VGltZSA9ICdBTScKICAgICAgfQogICAgICBpZihKU09OLnN0cmluZ2lmeSh2bS5uZXdIb3VyKS5sZW5ndGggIT0gMikgewogICAgICAgIHZtLm5ld0hvdXIgPSAnMCcgKyB2bS5uZXdIb3VyOwogICAgICB9CiAgICAgIHZtLm5ld01pbnV0ZSA9IEpTT04uc3RyaW5naWZ5KHRvZGF5TWludXRlcyk7CiAgICAgIHZtLnBhcnNlRGF0ZSgpOwogICAgfSwKICAgIHBhcnNlU2VuZERhdGUoKSB7CiAgICAgIGxldCB2bSA9IHRoaXM7CiAgICAgIGxldCBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKHZtLm91dHJlYWNoLnNlbmREYXRlKTsKICAgIH0sCiAgICBwYXJzZURhdGUoKSB7CiAgICAgIGxldCB2bSA9IHRoaXM7CiAgICAgIGlmKHZtLm5ld01pbnV0ZSAmJiB2bS5uZXdUaW1lICYmIHZtLm5ld0hvdXIgJiYgdm0ub3V0cmVhY2guc2NoZWR1bGUuZGF0ZSkgewogICAgICAgIC8vIGxldCBkYXRlID0gdm0ub3V0cmVhY2guc2NoZWR1bGUuZGF0ZTsKICAgICAgICAvLyBsZXQgdGltZSA9IHZtLm91dHJlYWNoLnNjaGVkdWxlLnRpbWU7CiAgICAgICAgLy8gbGV0IGRhdGVTdHJpbmcgPSBkYXRlICsgJyAnICsgdGltZSArICc6MDAgR01UJzsKICAgICAgICB2YXIgZGF0ZVN0cmluZzsKICAgICAgICBpZih0aGlzLm5ld1RpbWUgPT0gJ1BNJykgewogICAgICAgICAgbGV0IHBhcnNlZEhvdXIgPSBwYXJzZUludCh2bS5uZXdIb3VyKSsxMjsKICAgICAgICAgIGRhdGVTdHJpbmcgPSB2bS5vdXRyZWFjaC5zY2hlZHVsZS5kYXRlICsgJyAnICsgcGFyc2VkSG91ciArICc6JyArIHZtLm5ld01pbnV0ZSArICc6MDAgR01UJzsKICAgICAgICB9IGVsc2UgaWYodGhpcy5uZXdUaW1lID09ICdBTScpewogICAgICAgICAgZGF0ZVN0cmluZyA9IHZtLm91dHJlYWNoLnNjaGVkdWxlLmRhdGUgKyAnICcgKyB2bS5uZXdIb3VyICsgJzonICsgdm0ubmV3TWludXRlICsgJzowMCBHTVQnOwogICAgICAgIH0KICAgICAgICBkYXRlU3RyaW5nID0gZGF0ZVN0cmluZy5yZXBsYWNlKC8tL2csICcgJyk7CiAgICAgICAgbGV0IHNpeEhvdXJzR01URGlmZiA9IDEwMDAgKiA2MCAqIDYwICogNjsKICAgICAgICBsZXQgcGFyc2VkRGF0ZSA9IERhdGUucGFyc2UoZGF0ZVN0cmluZykgKyBzaXhIb3Vyc0dNVERpZmY7CiAgICAgICAgdm0ucGFyc2VkRGF0ZSA9IHBhcnNlZERhdGU7CiAgICAgICAgdm0udGltZUludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgICAgdm0uY3VycmVudFRpbWUgPSBEYXRlLm5vdygpOwogICAgICAgIH0sIDMwMDAwKTsKICAgICAgICAvLyBjb25zb2xlLmxvZygncGFyc2VkJywgdm0ucGFyc2VkRGF0ZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gY29uc29sZS5sb2coJ25vdHBhcnNlZCcsIHZtLm5ld01pbnV0ZSwgdm0ubmV3SG91ciwgdm0ubmV3VGltZSwgdm0ub3V0cmVhY2guc2NoZWR1bGUuZGF0ZSk7CiAgICAgIH0KICAgIH0sCiAgICBvbkNoYW5nZShkYXRhKSB7CiAgICAgIGxldCB2bSA9IHRoaXM7CiAgICAgIGlmKHZtLm91dHJlYWNoLmxvY2F0aW9uSWQgIT0gZGF0YS52YWx1ZSAmJiB2bS5vdXRyZWFjaC5sb2NhdGlvbiAhPSB1bmRlZmluZWQpIHsKICAgICAgICB2bS5vdXRyZWFjaC5sb2NhdGlvbklkID0gZGF0YS52YWx1ZTsKICAgICAgfSBlbHNlIGlmKGRhdGEudmFsdWUpIHsKICAgICAgICB2bS5vdXRyZWFjaC5sb2NhdGlvbklkID0gZGF0YS52YWx1ZTsKICAgICAgfQogICAgfSwKICAgIHJlc2V0T3V0cmVhY2goKSB7CiAgICAgIHRoaXMub3V0cmVhY2ggPSB7CiAgICAgICAgbmFtZTogdGhpcy5vdXRyZWFjaC5uYW1lLAogICAgICAgIGxvY2F0aW9uSWQ6IHRoaXMub3V0cmVhY2gubG9jYXRpb25JZCwKICAgICAgICBzdHlsZTogWydTTVMnLCAnRW1haWwnXSwKICAgICAgICBlbWFpbDogewogICAgICAgICAgc3ViamVjdDogJycsCiAgICAgICAgICBkYXRhOiAnJywKICAgICAgICAgIGRlc2lnbjogJycKICAgICAgICB9LAogICAgICAgIHNtczogJycsCiAgICAgICAgdGFyZ2V0OiBudWxsLAogICAgICAgIHNjaGVkdWxlOiB7CiAgICAgICAgICBkYXRlOiBudWxsLAogICAgICAgICAgdGltZTogbnVsbAogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGdldExvY2F0aW9uT3B0aW9ucygpIHsKICAgICAgbGV0IHZtID0gdGhpczsKICAgICAgVXNlclNlcnZpY2UuZ2V0QWxsVXNlckxvY2F0aW9ucygpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIGxldCB0ZXN0ID0gcmVzcG9uc2U7CiAgICAgICAgdGVzdC5mb3JFYWNoKGUgPT4gewogICAgICAgICAgbGV0IHNpbmdsZUxvY2F0aW9uID0gewogICAgICAgICAgICBsYWJlbDogZS5uYW1lLAogICAgICAgICAgICB2YWx1ZTogZS5sb2NhdGlvbklkLAogICAgICAgICAgfQogICAgICAgICAgaWYoZS5wcm9wKSB7CiAgICAgICAgICAgIHNpbmdsZUxvY2F0aW9uLnByb3AgPSBlLnByb3A7CiAgICAgICAgICB9CiAgICAgICAgICB2bS5sb2NhdGlvbk9wdGlvbnMucHVzaChzaW5nbGVMb2NhdGlvbik7CiAgICAgICAgfSkKICAgICAgICAvLyBjb25zb2xlLmxvZygnPycsIHZtLm91dHJlYWNoLmxvY2F0aW9uSWQsIHZtLmxvY2F0aW9uT3B0aW9ucyk7CiAgICAgICAgaWYodm0ub3V0cmVhY2gubG9jYXRpb25JZCkgewogICAgICAgICAgaWYodm0ubG9jYXRpb25PcHRpb25zICYmIHZtLmxvY2F0aW9uT3B0aW9ucy5sZW5ndGgpIHsKICAgICAgICAgICAgdm0ubG9jYXRpb25PcHRpb25zLm1hcChlID0+IHsKICAgICAgICAgICAgICBpZih2bS5vdXRyZWFjaC5sb2NhdGlvbklkID09IGUudmFsdWUpIHsKICAgICAgICAgICAgICAgIHZtLmRhdGEgPSBlOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIG5hdihzdGVwKSB7CiAgICAgIGxldCB2bSA9IHRoaXM7CiAgICAgIGlmKHZtLnN0ZXAgIT0gc3RlcCkgewogICAgICAgIGlmKHZtLnN0ZXAgPj0gMikgewogICAgICAgICAgdm0uc2F2ZUVtYWlsRGVzaWduKCk7CiAgICAgICAgfQogICAgICAgIGlmKHN0ZXAgPT0gNCkgewogICAgICAgICAgdm0uc2VhcmNoQ3VzdG9tZXJzKCk7CiAgICAgICAgfQogICAgICAgIGlmKHZtLnN0ZXAgPT0gNCkgdm0uc2V0VGFyZ2V0KCk7CiAgICAgICAgaWYoc3RlcCAtIHZtLmNvbXBsZXRlZCA8PSAxKSB7CiAgICAgICAgICB2bS5zdGVwID0gc3RlcDsKICAgICAgICAgIGlmKHZtLnN0ZXAgPT0gMiAmJiB2bS5vdXRyZWFjaC5sb2NhdGlvbklkKSB7CiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgIHZtLnByZXZpZXdFbWFpbCgpCiAgICAgICAgICAgIH0sIDEwMCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgcHJldmlld0VtYWlsKGFjdGlvbikgewogICAgICBsZXQgdm0gPSB0aGlzOwogICAgICB2bS5lbWFpbExvYWRpbmcgPSB0cnVlOwogICAgICAvLyB2bS5lbWFpbFByZXZpZXcgPSB0cnVlOwogICAgICAvLyBDaGVja3MgZm9yIHByb3BlciBpbmZvcm1hdGlvbiBpbiBvcmRlciB0byBwYXNzIGNvcnJlY3QgZGF0YSB0byBtYWlsY2hpbXAgZm9yIHRlc3RpbmcuCiAgICAgIGlmIChjb25maWcuc3ViRG9tYWluKSB7CiAgICAgICAgdmFyIHN1YkRvbWFpbiA9IGNvbmZpZy5zdWJEb21haW47CiAgICAgIH0KICAgICAgaWYgKGNvbmZpZy5iYXNlVXJsKSB7CiAgICAgICAgdmFyIGJhc2VVcmwgPSBjb25maWcuYmFzZVVybDsKICAgICAgfQogICAgICAvLyBUaW1lb3V0IGlzIHNldCB0byBiZSBtYW5pcHVsYXRlZCBpZiB3ZSBuZWVkIG1vcmUgdGltZSBsYXRlciBpbiBhIHNpbmdsZSB2YXJpYWJsZS4KICAgICAgdmFyIHRpbWVPdXQgPSA1MDA7CiAgICAgIC8vIENoZWNrIGlmIHRoZSBhY3Rpb24gcGFzc2VkIGludG8gdGhlIGZ1bmN0aW9uIGFscmVhZHkgaGFzIGJlZW4gc2F2ZWQsIHNvIHRoYXQgaXQgaXMgbm90IG92ZXJ3cml0dGVuIGlmIGl0IGlzLgogICAgICBpZiAodm0ub3V0cmVhY2guZW1haWwuZGVzaWduKSB7CgogICAgICAgIC8vIENyZWF0ZSB0aGUgc2NyaXB0IGFuZCBpZnJhbWUgdG8gYmUgdXNlZCB0byBlZGl0IHRoZSBlbWFpbC4KICAgICAgICB2bS4kdW5sYXllclNjcmlwdCA9IHsKICAgICAgICAgIGlkOiAiZW1haWwtZWRpdG9yIiwKICAgICAgICAgIHByb2plY3RJZDogMTc3NywKICAgICAgICAgIC8vIGRpc3BsYXlNb2RlOiAiZW1haWwiCiAgICAgICAgfTsKCiAgICAgICAgY29uc3QgdW5sYXllckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTsKICAgICAgICAgIHVubGF5ZXJFbGVtZW50LnNldEF0dHJpYnV0ZSgnc3JjJywgJy8vZWRpdG9yLnVubGF5ZXIuY29tL2VtYmVkLmpzJyk7CiAgICAgICAgICB1bmxheWVyRWxlbWVudC5vbmxvYWQgPSAoKSA9PiB7CiAgICAgICAgICAgIGlmKCF2bS5pbml0aWFsaXplZFVubGF5ZXIpIHsKICAgICAgICAgICAgICB1bmxheWVyLmluaXQodm0uJHVubGF5ZXJTY3JpcHQpOwogICAgICAgICAgICAgIHZtLmluaXRpYWxpemVkVW5sYXllciA9IHRydWU7CiAgICAgICAgICAgICAgdW5sYXllci5sb2FkRGVzaWduKHZtLm91dHJlYWNoLmVtYWlsLmRlc2lnbik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQodW5sYXllckVsZW1lbnQpCgogICAgICAgIC8vIHZhciBkID0gZG9jdW1lbnQ7CiAgICAgICAgLy8gdmFyIHMgPSBkLmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpOwogICAgICAgIC8vIHMudHlwZSA9ICJ0ZXh0L2phdmFzY3JpcHQiOwogICAgICAgIC8vIHMuZGVmZXIgPSB0cnVlOwogICAgICAgIC8vIHMuc3JjID0gIi8vZWRpdG9yLnVubGF5ZXIuY29tL2VtYmVkLmpzIjsKICAgICAgICAvLyB2YXIgdCA9IGQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpWzBdOwogICAgICAgIC8vIHQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUocywgdCk7CiAgICAgICAgLy8gLy8gQWN0dWFsbHkgbG9hZCB0aGUgZXhpc3RpbmcgZGVzaWduIGluIHRoZSBhY3Rpb24sIGNoZWNrIGZvciBpbml0aWFsaXplZFVubGF5ZXIgZXhpc3RzIGFzIGZhaWxzYWZlIGZvciB0aGUgaWZyYW1lIG5vdCBiZWluZyByZXNldCBwcm9wZXJseS4KICAgICAgICAvLyBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAvLyAgIGlmICghdm0uaW5pdGlhbGl6ZWRVbmxheWVyKSB7CiAgICAgICAgLy8gICAgIHVubGF5ZXIuaW5pdCh2bS4kdW5sYXllclNjcmlwdCk7CiAgICAgICAgLy8gICAgIHZtLmluaXRpYWxpemVkVW5sYXllciA9IHRydWU7CiAgICAgICAgLy8gICAgIHVubGF5ZXIubG9hZERlc2lnbih2bS5vdXRyZWFjaC5lbWFpbC5kZXNpZ24pOwogICAgICAgIC8vICAgfQogICAgICAgIC8vIH0sIHRpbWVPdXQpOwogICAgICB9IGVsc2UgewoKICAgICAgICB2YXIgb3V0cmVhY2hJZCA9ICdPVScgKyB2bS5nZW5lcmF0ZU91dHJlYWNoSWQoJzAnLCAxMSk7CiAgICAgICAgdm0ub3V0cmVhY2gub3V0cmVhY2hJZCA9IG91dHJlYWNoSWQ7CgogICAgICAgIC8vIElmIGVtYWlsIGRlc2lnbiBkb2Vucyd0IGV4aXN0IGZvciB0aGUgc2VsZWN0ZWQgYWN0aW9uLCBjcmVhdGUgYWxsIG5lY2Vzc2FyeSBmaWVsZHMgdG8gcGFzcyBhcyBkZXNpZ25UYWdzIGFuZCBzZXQgdGhlIGluaXRpYWwgZGVzaWduLgogICAgICAgIExvY2F0aW9uU2VydmljZS5nZXRMb2NhdGlvbih2bS5vdXRyZWFjaC5sb2NhdGlvbklkKS50aGVuKHJlc3BvbnNlID0+IHsKCiAgICAgICAgICBpZih2bS5vdXRyZWFjaFN0eWxlID09ICdub25lJykgewoKICAgICAgICAgICAgdmFyIHN0eWxlID0gcmVzcG9uc2UubG9jYXRpb25TdHlsZTsKICAgICAgICAgICAgdmFyIGxvZ28gPSBzdHlsZS5sb2dvOwogICAgICAgICAgICB2YXIgbG9jYXRpb25OYW1lID0gcmVzcG9uc2UuZGlzcGxheU5hbWU7CgogICAgICAgICAgICB2bS4kdW5sYXllclNjcmlwdCA9IHsKICAgICAgICAgICAgICBpZDogImVtYWlsLWVkaXRvciIsCiAgICAgICAgICAgICAgcHJvamVjdElkOiAxNzc3LAogICAgICAgICAgICAgIHRlbXBsYXRlSWQ6IDQ5NzcsCiAgICAgICAgICAgICAgZGlzcGxheU1vZGU6ICJlbWFpbCIsCiAgICAgICAgICAgICAgZGVzaWduVGFnczogewogICAgICAgICAgICAgICAgaW1hZ2VfdXJsOiBiYXNlVXJsICsgYGxvY2F0aW9uXC9zaG93SW1hZ2VcL2AgKyB2bS5vdXRyZWFjaC5sb2NhdGlvbklkLAogICAgICAgICAgICAgICAgZm9vdGVyX2NvbG9yOiBzdHlsZS5mb290ZXJDb2xvciB8fCAibGlnaHRncmV5IiwKICAgICAgICAgICAgICAgIGxvY2F0aW9uX25hbWU6IGxvY2F0aW9uTmFtZSwKICAgICAgICAgICAgICAgIHVuc3Vic2NyaWJlX3VybDogImh0dHBzOi8vIiArIHN1YkRvbWFpbiArICIub3Bpbmlpb24uY29tL3Vuc3Vic2NyaWJlP2NpZD0qfGNpZHwqIgogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKCiAgICAgICAgICB9IGVsc2UgaWYodm0ub3V0cmVhY2hTdHlsZSA9PSAncmV2aWV3UmVxdWVzdCcpIHsKCiAgICAgICAgICAgIGlmIChyZXNwb25zZS5kaXNwbGF5TmFtZSkgewogICAgICAgICAgICAgIHZtLmF1dG9tYXRpb25Mb2NhdGlvbk5hbWUgPSByZXNwb25zZS5kaXNwbGF5TmFtZTsKICAgICAgICAgICAgICB2bS5hZGRMYW5kaW5nUGFnZURhdGEoKTsKICAgICAgICAgICAgICB2YXIgbG9jYXRpb25OYW1lID0gcmVzcG9uc2UuZGlzcGxheU5hbWU7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdmFyIGxvY2F0aW9uTmFtZSA9IHJlc3BvbnNlLm5hbWU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIHN0eWxlID0gcmVzcG9uc2UubG9jYXRpb25TdHlsZTsKICAgICAgICAgICAgdmFyIGxvZ28gPSBzdHlsZS5sb2dvOwogICAgICAgICAgICB2YXIgY29sb3JzID0gc3R5bGUuYnV0dG9uQ29sb3IgfHwgIiM0ZmNiYzUiOwogICAgICAgICAgICB2YXIgYnV0dG9uQ29sb3JzID0gdm0uZ2VuZXJhdGVCdXR0b25Db2xvcnMoY29sb3JzKTsKCiAgICAgICAgICAgIHZtLiR1bmxheWVyU2NyaXB0ID0gewogICAgICAgICAgICAgIGlkOiAiZW1haWwtZWRpdG9yIiwKICAgICAgICAgICAgICBwcm9qZWN0SWQ6IDE3NzcsCiAgICAgICAgICAgICAgdGVtcGxhdGVJZDogNTMwNywKICAgICAgICAgICAgICBkaXNwbGF5TW9kZTogImVtYWlsIiwKICAgICAgICAgICAgICBkZXNpZ25UYWdzOiB7CiAgICAgICAgICAgICAgICBsb2NhdGlvbl9uYW1lOiBsb2NhdGlvbk5hbWUsCiAgICAgICAgICAgICAgICAvLyBOZWVkIHRvIGZpZ3VyZSBvdXQgaG93IHRvIGRvIHRoZSByZXZpZXdfdXJsIHdpdGhvdXQgaGF2aW5nIGFuIGF1dG9tYXRpb25JZCB0byB0aWUgaXQgdG8uCiAgICAgICAgICAgICAgICByZXZpZXdfdXJsOiAiaHR0cHM6Ly8iICsgc3ViRG9tYWluICsgIi5vcGluaWlvbi5jb20vYXV0b21hdGlvblJldmlld0VtYWlsLyIgKyB2bS5vdXRyZWFjaC5sb2NhdGlvbklkICsgJy8nICsgdm0ub3V0cmVhY2gub3V0cmVhY2hJZCArICc6JyArICcqfGNpZHwqJywKICAgICAgICAgICAgICAgIGRpc3BsYXlfdXJsOiAiaHR0cHM6Ly8iICsgc3ViRG9tYWluICsgIi5vcGluaWlvbi5jb20vbGVhdmVGZWVkYmFjay8iICsgdm0ub3V0cmVhY2gubG9jYXRpb25JZCArICcvKnxjaWR8Ki9FbWFpbCcsCiAgICAgICAgICAgICAgICB1bnN1YnNjcmliZV91cmw6ICJodHRwczovLyIgKyBzdWJEb21haW4gKyAiLm9waW5paW9uLmNvbS91bnN1YnNjcmliZT9jaWQ9KnxjaWR8KiIsCiAgICAgICAgICAgICAgICBpbWFnZV91cmw6IGJhc2VVcmwgKyBgbG9jYXRpb25cL3Nob3dJbWFnZVwvYCArIHZtLm91dHJlYWNoLmxvY2F0aW9uSWQsCiAgICAgICAgICAgICAgICBzdXJ2ZXlfdXJsOiBiYXNlVXJsICsgJ3N1cnZleVJlc3BvbnNlLycsCiAgICAgICAgICAgICAgICBidXR0b25fY29sb3JfMDogYnV0dG9uQ29sb3JzWzBdLAogICAgICAgICAgICAgICAgYnV0dG9uX2NvbG9yXzE6IGJ1dHRvbkNvbG9yc1sxXSwKICAgICAgICAgICAgICAgIGJ1dHRvbl9jb2xvcl8yOiBidXR0b25Db2xvcnNbMl0sCiAgICAgICAgICAgICAgICBidXR0b25fY29sb3JfMzogYnV0dG9uQ29sb3JzWzNdLAogICAgICAgICAgICAgICAgYnV0dG9uX2NvbG9yXzQ6IGJ1dHRvbkNvbG9yc1s0XSwKICAgICAgICAgICAgICAgIGZvb3Rlcl9jb2xvcjogc3R5bGUuZm9vdGVyQ29sb3IgfHwgImxpZ2h0Z3JleSIKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CiAgICAgICAgICB9CgogICAgICAgICAgY29uc3QgdW5sYXllckVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTsKICAgICAgICAgIHVubGF5ZXJFbGVtZW50LnNldEF0dHJpYnV0ZSgnc3JjJywgJy8vZWRpdG9yLnVubGF5ZXIuY29tL2VtYmVkLmpzJyk7CiAgICAgICAgICB1bmxheWVyRWxlbWVudC5vbmxvYWQgPSAoKSA9PiB7CiAgICAgICAgICAgIGlmKCF2bS5pbml0aWFsaXplZFVubGF5ZXIpIHsKICAgICAgICAgICAgICB1bmxheWVyLmluaXQodm0uJHVubGF5ZXJTY3JpcHQpOwogICAgICAgICAgICAgIHZtLmluaXRpYWxpemVkVW5sYXllciA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQodW5sYXllckVsZW1lbnQpCgogICAgICAgICAgLy8gdmFyIGQgPSBkb2N1bWVudDsKICAgICAgICAgIC8vIHZhciBzID0gZC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTsKICAgICAgICAgIC8vIHMudHlwZSA9ICJ0ZXh0L2phdmFzY3JpcHQiOwogICAgICAgICAgLy8gcy5kZWZlciA9IHRydWU7CiAgICAgICAgICAvLyBzLnNyYyA9ICIvL2VkaXRvci51bmxheWVyLmNvbS9lbWJlZC5qcyI7CiAgICAgICAgICAvLyB2YXIgdCA9IGQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpWzBdOwogICAgICAgICAgLy8gdC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShzLCB0KTsKICAgICAgICAgIC8vIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgLy8gICBpZiAoIXZtLmluaXRpYWxpemVkVW5sYXllcikgewogICAgICAgICAgLy8gICAgIHZtLmluaXRpYWxpemVkVW5sYXllciA9IHRydWU7CiAgICAgICAgICAvLyAgICAgdW5sYXllci5pbml0KHZtLiR1bmxheWVyU2NyaXB0KTsKICAgICAgICAgIC8vICAgfQogICAgICAgICAgLy8gfSwgdGltZU91dCk7CiAgICAgICAgfSkKICAgICAgfQogICAgICB2bS5lbWFpbExvYWRpbmcgPSBmYWxzZTsKICAgIH0sCiAgICBnZW5lcmF0ZU91dHJlYWNoSWQocG9zc0l0ZW1zLCBsZW5ndGgpIHsKICAgICAgdmFyIHRleHQgPSAnJzsKICAgICAgdmFyIG9wdGlvbnMgPSAnJzsKICAgICAgaWYgKHBvc3NJdGVtcy5pbmRleE9mKCcwJykgPiAtMSkgb3B0aW9ucyArPSAnMDEyMzQ1Njc4OSc7CiAgICAgIGlmIChwb3NzSXRlbXMuaW5kZXhPZignYScpID4gLTEpIG9wdGlvbnMgKz0gJ2FiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6JzsKICAgICAgaWYgKHBvc3NJdGVtcy5pbmRleE9mKCdBJykgPiAtMSkgb3B0aW9ucyArPSAnQUJDREVGR0hJa0xNTk9QUVJTVFVWV1hZWic7CiAgICAgIGZvciAodmFyIGk9MDsgaTxsZW5ndGggJiYgb3B0aW9ucy5sZW5ndGg+MDsgaSsrKSB7CiAgICAgICAgdGV4dCArPSBvcHRpb25zLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBvcHRpb25zLmxlbmd0aCkpOwogICAgICB9CiAgICAgIHJldHVybiB0ZXh0OwogICAgfSwKICAgIHJlbW92ZUlmcmFtZSgpIHsKICAgICAgbGV0IHZtID0gdGhpczsKICAgICAgaWYgKHZtLmluaXRpYWxpemVkVW5sYXllcikgewogICAgICAgIHZhciB4ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImlmcmFtZSIpOwogICAgICAgIHZhciBkID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpOwogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgeC5sZW5ndGg7IGkrKykgewogICAgICAgICAgbGV0IGlmcmFtZSA9IHhbaV07CiAgICAgICAgICBpZihpZnJhbWUuc3JjLmluY2x1ZGVzKCd1bmxheWVyJykpIHsKICAgICAgICAgICAgaWZyYW1lLnJlbW92ZSgpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdub3QgZm91bmQnKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBsZXQgc2NyaXB0ID0gZFtpXTsKICAgICAgICAgIGlmKHNjcmlwdC5zcmMuaW5jbHVkZXMoJ3VubGF5ZXInKSkgewogICAgICAgICAgICBzY3JpcHQucmVtb3ZlKCk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ05vdCBmb3VuZCcpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgICB2bS5pbml0aWFsaXplZFVubGF5ZXIgPSBmYWxzZTsKICAgIH0sCiAgICBhZGRMYW5kaW5nUGFnZURhdGEoKSB7CiAgICAgIGxldCB2bSA9IHRoaXM7CiAgICAgIGxldCBzZWxlY3RlZExvY2F0aW9uID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xvY2F0aW9uSWQnKTsKICAgICAgbGV0IGxvY09wdGlvbnMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsb2NhdGlvbk9wdGlvbnMnKSk7CiAgICAgIGxvY09wdGlvbnMubWFwKGxvYyA9PiB7CiAgICAgICAgaWYobG9jLmxvY2F0aW9uSWQgPT0gc2VsZWN0ZWRMb2NhdGlvbikgewogICAgICAgICAgbGV0IG1hdGNoZWRMb2NhdGlvbiA9IGxvYzsKICAgICAgICAgIHZtLmF1dG9tYXRpb25Mb2NhdGlvbk5hbWUgPSBsb2MuZGlzcGxheU5hbWU7CiAgICAgICAgfTsKICAgICAgfSkKICAgIH0sCiAgICBzYXZlRW1haWxEZXNpZ24oKSB7CiAgICAgIGxldCB2bSA9IHRoaXM7CiAgICAgIGlmICh2bS5pbml0aWFsaXplZFVubGF5ZXIpIHsKICAgICAgICBpZih3aW5kb3cudW5sYXllcikgewogICAgICAgICAgd2luZG93LnVubGF5ZXIuZXhwb3J0SHRtbCgoZGF0YSkgPT4gewogICAgICAgICAgICB2bS5vdXRyZWFjaC5lbWFpbC5kYXRhID0gZGF0YS5odG1sOwogICAgICAgICAgICB2bS5vdXRyZWFjaC5lbWFpbC5kZXNpZ24gPSBkYXRhLmRlc2lnbjsKICAgICAgICAgICAgdm0ucmVtb3ZlSWZyYW1lKCk7CiAgICAgICAgICB9KTsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHZtLm91dHJlYWNoLmVtYWlsKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gY29uc29sZS5sb2coJ25vIHVubGF5ZXIgdG8gZXhwb3J0Jyk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgLy8gVGhlIGJlbG93IGZ1bmN0aW9ucyBtYXkgbmVlZCB0byBiZSByZS13cml0dGVuIGZvciBiZWluZyBsZXNzIHZlcmJvc2UsIGhvd2V2ZXIgdGhlIGxvZ2ljIGlzIHNvdW5kLgogICAgbmV4dFN0ZXAoKSB7CiAgICAgIGxldCB2bSA9IHRoaXM7CiAgICAgIGxldCBvdSA9IHZtLm91dHJlYWNoLnN0eWxlOwogICAgICBpZih2bS5zdGVwID09IDQpIHZtLnNldFRhcmdldCgpOwogICAgICBpZihvdS5pbmNsdWRlcygnU01TJykgJiYgb3UuaW5jbHVkZXMoJ0VtYWlsJykpIHsKICAgICAgICBpZih2bS5zdGVwID09IDIpIHsKICAgICAgICAgIHZtLnNhdmVFbWFpbERlc2lnbigpCiAgICAgICAgICB2bS5zdGVwKys7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmKHZtLnN0ZXAgIT0gNSkgIHsKICAgICAgICAgICAgdm0uc3RlcCsrOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIGlmKG91LmluY2x1ZGVzKCdFbWFpbCcpKSB7CiAgICAgICAgaWYodm0uc3RlcCA9PSAyKSB7CiAgICAgICAgICB2bS5zYXZlRW1haWxEZXNpZ24oKQogICAgICAgICAgdm0uc3RlcCArPSAyOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2bS5zdGVwKysKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZihvdS5pbmNsdWRlcygnU01TJykpIHsKICAgICAgICBpZih2bS5zdGVwID09IDEpIHsKICAgICAgICAgIHZtLnN0ZXAgKz0gMjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdm0uc3RlcCsrCiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHZtLnN0ZXAgKz0gMzsKICAgICAgfQogICAgICBpZih2bS5zdGVwID09IDIgJiYgdm0ub3V0cmVhY2gubG9jYXRpb25JZCkgewogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgdm0ucHJldmlld0VtYWlsKCkKICAgICAgICB9LCA1MDApOwogICAgICB9IGVsc2UgaWYodm0uc3RlcCA9PSA0KSB7CiAgICAgICAgdm0uc2VhcmNoQ3VzdG9tZXJzKCk7CiAgICAgIH0gZWxzZSBpZih2bS5zdGVwID09IDUpewogICAgICAgIHZtLnBhcnNlRGF0ZSgpOwogICAgICB9CiAgICB9LAogICAgcHJldmlvdXNTdGVwKCl7CiAgICAgIGxldCB2bSA9IHRoaXM7CiAgICAgIGxldCBvdSA9IHZtLm91dHJlYWNoLnN0eWxlOwogICAgICBpZih2bS5zdGVwID09IDQpIHZtLnNldFRhcmdldCgpOwogICAgICBpZihvdS5pbmNsdWRlcygnU01TJykgJiYgb3UuaW5jbHVkZXMoJ0VtYWlsJykpIHsKICAgICAgICBpZih2bS5zdGVwID09IDIpIHsKICAgICAgICAgIHZtLnNhdmVFbWFpbERlc2lnbigpOwogICAgICAgIH0KICAgICAgICBpZih2bS5zdGVwICE9IDEpIHsKICAgICAgICAgIHZtLnN0ZXAtLTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZihvdS5pbmNsdWRlcygnRW1haWwnKSkgewogICAgICAgIGlmKHN0ZXAgPT0gMikgewogICAgICAgICAgdm0uc2F2ZUVtYWlsRGVzaWduKCk7CiAgICAgICAgfQogICAgICAgIGlmKHZtLnN0ZXAgPT0gNCkgewogICAgICAgICAgdm0uc3RlcCAtPSAyOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2bS5zdGVwLS0KICAgICAgICB9CiAgICAgIH0gZWxzZSBpZihvdS5pbmNsdWRlcygnU01TJykpIHsKICAgICAgICBpZih2bS5zdGVwID09IDMpIHsKICAgICAgICAgIHZtLnN0ZXAgLT0gMjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdm0uc3RlcC0tCiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHZtLnN0ZXAgLT0gMzsKICAgICAgfQogICAgICBpZih2bS5zdGVwID09IDIgJiYgdm0ub3V0cmVhY2gubG9jYXRpb25JZCkgewogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgdm0ucHJldmlld0VtYWlsKCkKICAgICAgICB9LCA1MDApOwogICAgICB9IGVsc2UgaWYodm0uc3RlcCA9PSA0KSB7CiAgICAgICAgdm0uc2VhcmNoQ3VzdG9tZXJzKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gdm0ucmVtb3ZlUHJldmlldygpOwogICAgICB9CiAgICB9LAogICAgc2F2ZUFuZEV4aXQoKSB7CiAgICAgIGxldCB2bSA9IHRoaXM7CiAgICAgIHZtLm91dHJlYWNoLnNjaGVkdWxlID0gewogICAgICAgIGRhdGU6IG51bGwsCiAgICAgICAgdGltZTogbnVsbAogICAgICB9OwogICAgICB2bS5vdXRyZWFjaC5zZW5kRGF0ZSA9IG51bGw7CiAgICAgIHZtLm91dHJlYWNoLnRhcmdldCA9IHZtLnNlbGVjdGVkQ3VzdG9tZXJzOwogICAgICB2bS5vdXRyZWFjaC5zdGF0dXMgPSAndW5zY2hlZHVsZWQnOwogICAgICBMb2NhdGlvblNlcnZpY2UuZ2V0TG9jYXRpb24odm0ub3V0cmVhY2gubG9jYXRpb25JZCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgaWYoIXJlc3BvbnNlKSB7CiAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoJ2Vycm9yTWVzc2FnZScsICdTb21ldGhpbmcgd2VudCB3cm9uZywgcGxlYXNlIHdhaXQgYSBtaW51dGUgYW5kIHRyeSBhZ2Fpbi4nKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdm0ub3V0cmVhY2guZnJvbU5hbWUgPSByZXNwb25zZS5lbWFpbEZyb21OYW1lOwogICAgICAgICAgT3V0cmVhY2hTZXJ2aWNlLnNhdmVPdXRyZWFjaE1lc3NhZ2Uodm0ub3V0cmVhY2gpLnRoZW4ocmVzcG9uc2UyID0+IHsKICAgICAgICAgICAgaWYocmVzcG9uc2UyLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoJ3N1Y2Nlc3NNZXNzYWdlJywgJ1lvdXIgT3V0cmVhY2ggaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5IHNhdmVkIScpOwogICAgICAgICAgICAgIHZtLmNsb3NlTW9kYWwoKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoJ2Vycm9yTWVzc2FnZScsICdTb21ldGhpbmcgd2VudCB3cm9uZywgcGxlYXNlIHdhaXQgYSBtaW51dGUgYW5kIHRyeSBhZ2Fpbi4nKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgc2NoZWR1bGVPdXRyZWFjaCgpIHsKICAgICAgbGV0IHZtID0gdGhpczsKICAgICAgdm0ub3V0cmVhY2gudGFyZ2V0ID0gdm0uc2VsZWN0ZWRDdXN0b21lcnM7CiAgICAgIHZtLm91dHJlYWNoLnN0YXR1cyA9ICdzY2hlZHVsZWQnCiAgICAgIExvY2F0aW9uU2VydmljZS5nZXRMb2NhdGlvbih2bS5vdXRyZWFjaC5sb2NhdGlvbklkKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBpZighcmVzcG9uc2UpIHsKICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgnZXJyb3JNZXNzYWdlJywgJ1NvbWV0aGluZyB3ZW50IHdyb25nLCBwbGVhc2Ugd2FpdCBhIG1pbnV0ZSBhbmQgdHJ5IGFnYWluLicpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2bS5vdXRyZWFjaC5mcm9tTmFtZSA9IHJlc3BvbnNlLmVtYWlsRnJvbU5hbWU7CiAgICAgICAgICBPdXRyZWFjaFNlcnZpY2Uuc2F2ZU91dHJlYWNoTWVzc2FnZSh2bS5vdXRyZWFjaCwgdm0ucGFyc2VkRGF0ZSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgIGlmKHJlc3BvbnNlLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoJ3N1Y2Nlc3NNZXNzYWdlJywgJ1lvdXIgT3V0cmVhY2ggaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5IHNjaGVkdWxlZCEnKTsKICAgICAgICAgICAgICB2bS5jbG9zZU1vZGFsKCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KCdlcnJvck1lc3NhZ2UnLCAnU29tZXRoaW5nIHdlbnQgd3JvbmcsIHBsZWFzZSB3YWl0IGEgbWludXRlIGFuZCB0cnkgYWdhaW4uJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIHNldFRhcmdldCgpIHsKICAgICAgbGV0IHZtID0gdGhpczsKICAgICAgdm0ub3V0cmVhY2gudGFyZ2V0ID0gdm0uc2VsZWN0ZWRDdXN0b21lcnM7CiAgICB9LAogICAgdG9nZ2xlRGlzcGxheVRhZygpIHsKICAgICAgdGhpcy5kaXNwbGF5VGFnQ29udGFpbmVyID0gIXRoaXMuZGlzcGxheVRhZ0NvbnRhaW5lcjsKICAgICAgdGhpcy5oaWRlRmlsdGVyTWVudSgpCiAgICAgIHRoaXMuaGlkZVJhdGluZ01lbnUoKTsKICAgIH0sCiAgICBoaWRlRGlzcGxheVRhZygpIHsKICAgICAgaWYodGhpcy5kaXNwbGF5VGFnQ29udGFpbmVyKSB0aGlzLmRpc3BsYXlUYWdDb250YWluZXIgPSBmYWxzZTsKICAgIH0sCiAgICBoaWRlUmF0aW5nTWVudSgpIHsKICAgICAgaWYodGhpcy5kaXNwbGF5UmF0aW5nTWVudSkgdGhpcy5kaXNwbGF5UmF0aW5nTWVudSA9IGZhbHNlOwogICAgfSwKICAgIHRvZ2dsZUZpbHRlck1lbnUoKSB7CiAgICAgIHRoaXMuZGlzcGxheUZpbHRlck1lbnUgPSAhdGhpcy5kaXNwbGF5RmlsdGVyTWVudTsKICAgICAgdGhpcy5oaWRlRGlzcGxheVRhZygpOwogICAgICB0aGlzLmhpZGVSYXRpbmdNZW51KCk7CiAgICB9LAogICAgdG9nZ2xlUmF0aW5nTWVudSgpIHsKICAgICAgdGhpcy5kaXNwbGF5UmF0aW5nTWVudSA9ICF0aGlzLmRpc3BsYXlSYXRpbmdNZW51OwogICAgICB0aGlzLmhpZGVEaXNwbGF5VGFnKCk7CiAgICAgIHRoaXMuaGlkZUZpbHRlck1lbnUoKTsKICAgIH0sCiAgICBoaWRlRmlsdGVyTWVudSgpIHsKICAgICAgaWYodGhpcy5kaXNwbGF5RmlsdGVyTWVudSkgdGhpcy5kaXNwbGF5RmlsdGVyTWVudSA9IGZhbHNlOwogICAgfSwKICAgIHNlbGVjdFRhZ0ZpbHRlcih0YWcpIHsKICAgICAgbGV0IHZtID0gdGhpczsKICAgICAgdm0uZmlsdGVycy50YWdzLnB1c2godGFnKQogICAgICB2bS5kaXNwbGF5VGFnQ29udGFpbmVyID0gZmFsc2U7CiAgICB9LAogICAgcmVtb3ZlVGFnKHRhZykgewogICAgICBsZXQgdm0gPSB0aGlzOwogICAgICB2bS5maWx0ZXJzLnRhZ3Muc3BsaWNlKHZtLmZpbHRlcnMudGFncy5pbmRleE9mKHRhZyksIDEpCiAgICB9LAogICAgc2VsZWN0RmlsdGVyKGZpbHRlcikgewogICAgICBsZXQgdm0gPSB0aGlzOwogICAgICBpZihmaWx0ZXIgPT0gJ2FjdGl2ZScpIHsKICAgICAgICB2bS5maWx0ZXJzLnNldHVwID0gJ2FjdGl2ZSc7CiAgICAgIH0gZWxzZSBpZih0eXBlb2YgZmlsdGVyID09ICdudW1iZXInKSB7CiAgICAgICAgdm0uZmlsdGVycy5zZXR1cCA9IGZpbHRlcjsKICAgICAgfQogICAgICB2bS5oaWRlRmlsdGVyTWVudSgpOwogICAgfSwKICAgIHNlbGVjdFJhdGluZyhyYXRpbmcpIHsKICAgICAgdGhpcy5maWx0ZXJzLnJhdGluZyA9IHJhdGluZzsKICAgICAgdGhpcy5oaWRlUmF0aW5nTWVudSgpOwogICAgfSwKICAgIGNsZWFyRmlsdGVycygpIHsKICAgICAgdGhpcy5maWx0ZXJzLnNldHVwID0gbnVsbDsKICAgIH0sCiAgICBjbGVhclJhdGluZygpIHsKICAgICAgdGhpcy5maWx0ZXJzLnJhdGluZyA9IG51bGw7CiAgICB9LAogICAgc2VhcmNoQ3VzdG9tZXJzKCkgewogICAgICBFdmVudFNlcnZpY2UuJGVtaXQoJ2xvYWRpbmcnLCAnc2hvdycpOwogICAgICBsZXQgdm0gPSB0aGlzOwogICAgICBMb2NhdGlvblNlcnZpY2UuZ2V0QWxsTG9jYXRpb25DdXN0b21lcnModm0ub3V0cmVhY2gubG9jYXRpb25JZCwgdm0ub3V0cmVhY2guc3R5bGUpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIGlmKHZtLnNlYXJjaFRleHQpIHsKICAgICAgICAgIHZtLnRvdGFsQ3VzdG9tZXJzID0gcmVzcG9uc2UucmVzdWx0cy5maWx0ZXIoY3VzdG9tZXIgPT4gewogICAgICAgICAgICBsZXQgY3VzdG9tZXJNYXRjaCA9IGZhbHNlOwogICAgICAgICAgICBpZihjdXN0b21lci5maXJzdE5hbWUpIGN1c3RvbWVyTWF0Y2ggPSBjdXN0b21lck1hdGNoIHx8IGN1c3RvbWVyLmZpcnN0TmFtZS50b0xvd2VyQ2FzZSgpLmluZGV4T2Yodm0uc2VhcmNoVGV4dC50b0xvd2VyQ2FzZSgpKSA+IC0xCiAgICAgICAgICAgIGlmKGN1c3RvbWVyLmxhc3ROYW1lKSBjdXN0b21lck1hdGNoID0gY3VzdG9tZXJNYXRjaCB8fCBjdXN0b21lci5sYXN0TmFtZS50b0xvd2VyQ2FzZSgpLmluZGV4T2Yodm0uc2VhcmNoVGV4dC50b0xvd2VyQ2FzZSgpKSA+IC0xCiAgICAgICAgICAgIGlmKGN1c3RvbWVyLmVtYWlsKSBjdXN0b21lck1hdGNoID0gY3VzdG9tZXJNYXRjaCB8fCBjdXN0b21lci5lbWFpbC50b0xvd2VyQ2FzZSgpLmluZGV4T2Yodm0uc2VhcmNoVGV4dC50b0xvd2VyQ2FzZSgpKSA+IC0xCiAgICAgICAgICAgIGlmKGN1c3RvbWVyLnBob25lKSBjdXN0b21lck1hdGNoID0gY3VzdG9tZXJNYXRjaCB8fCBjdXN0b21lci5waG9uZS5pbmRleE9mKHZtLnNlYXJjaFRleHQpPiAtMQogICAgICAgICAgICByZXR1cm4gY3VzdG9tZXJNYXRjaDsKICAgICAgICAgIH0pCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZtLnRvdGFsQ3VzdG9tZXJzID0gcmVzcG9uc2UucmVzdWx0czsKICAgICAgICB9CgogICAgICAgIGlmKHZtLnNlbGVjdGVkT3V0cmVhY2gpIHsKICAgICAgICAgIHZtLnRvdGFsQ3VzdG9tZXJzLm1hcChjdXN0b21lciA9PiB7CiAgICAgICAgICAgIHZtLnNlbGVjdGVkT3V0cmVhY2gudGFyZ2V0Lm1hcChjdXN0ID0+IHsKICAgICAgICAgICAgICBpZihjdXN0LmN1c3RvbWVySWQgPT0gY3VzdG9tZXIuY3VzdG9tZXJJZCkgewogICAgICAgICAgICAgICAgY3VzdG9tZXIuc2VsZWN0ZWQgPSB0cnVlOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICAgIH0pCiAgICAgICAgfQogICAgICAgIHZtLnRhZ0xpc3QgPSByZXNwb25zZS50YWdzOwogICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgnbG9hZGluZycsICdoaWRlJyk7CgogICAgICB9KQogICAgfSwKICAgIHNlbGVjdEFsbEN1c3RvbWVycyh0ZXN0KSB7CiAgICAgIGxldCB2bSA9IHRoaXM7CiAgICAgIHZtLmZpbHRlcmVkQ3VzdG9tZXJzLm1hcChjdXN0b21lciA9PiB7CiAgICAgICAgY3VzdG9tZXIuc2VsZWN0ZWQgPSAhdGVzdDsKICAgICAgfSkKICAgIH0sCiAgICBzZW5kVGVzdEVtYWlsKCkgewogICAgICBsZXQgdm0gPSB0aGlzOwogICAgICBpZih2bS50ZXN0RW1haWwubWF0Y2goL1thLXowLTkuXyUrLV0rQFthLXowLTkuLV0rXC5bYS16XXsyLH0kL2cpKSB7CiAgICAgICAgLy8gY29uc29sZS5sb2coJ1NlbmRpbmcgdG8gRW1haWwgU2VydmVyIScsIHZtLm91dHJlYWNoLmVtYWlsLCB2bS5vdXRyZWFjaC5sb2NhdGlvbklkLCB2bS50ZXN0RW1haWwpOwogICAgICAgIE91dHJlYWNoU2VydmljZS50ZXN0T3V0cmVhY2hNZXNzYWdlKHZtLm91dHJlYWNoLmVtYWlsLCB2bS5vdXRyZWFjaC5sb2NhdGlvbklkLCB2bS50ZXN0RW1haWwsIG51bGwsdm0uZGF0YS5sYWJlbCkKICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoJ3N1Y2Nlc3NNZXNzYWdlJywgJ1Rlc3QgTWVzc2FnZSBTZW50LiBZb3Ugc2hvdWxkIHJlY2VpdmUgaXQgc2hvcnRseS4nKQogICAgICB9IGVsc2UgewogICAgICAgIHZtLmludmFsaWRFbWFpbCA9IHRydWU7CiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICB2bS5pbnZhbGlkRW1haWwgPSBmYWxzZQogICAgICAgIH0sIDMwMDApOwogICAgICB9CiAgICB9LAogICAgc2VuZFRlc3RTTVMoKSB7CiAgICAgIGxldCB2bSA9IHRoaXM7CiAgICAgIGlmKHZtLnRlc3RTTVMubWF0Y2goL1swLTldezEwfS9nKSkgewogICAgICAgIC8vIGNvbnNvbGUubG9nKCdTZW5kaW5nIHRvIFNNUyBTZXJ2ZXIhJywgdm0ub3V0cmVhY2guc21zLCB2bS5vdXRyZWFjaC5sb2NhdGlvbklkLCB2bS50ZXN0U01TKTsKICAgICAgICBPdXRyZWFjaFNlcnZpY2UudGVzdE91dHJlYWNoTWVzc2FnZSh2bS5vdXRyZWFjaC5zbXMsIHZtLm91dHJlYWNoLmxvY2F0aW9uSWQsIG51bGwsIHZtLnRlc3RTTVMpCiAgICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KCdzdWNjZXNzTWVzc2FnZScsICdUZXN0IE1lc3NhZ2UgU2VudC4gWW91IHNob3VsZCByZWNlaXZlIGl0IHNob3J0bHkuJykKICAgICAgfSBlbHNlIHsKICAgICAgICB2bS5pbnZhbGlkU01TID0gdHJ1ZTsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIHZtLmludmFsaWRTTVMgPSBmYWxzZQogICAgICAgIH0sIDMwMDApOwogICAgICB9CiAgICB9LAogICAgZ2VuZXJhdGVCdXR0b25Db2xvcnMoaW5pdGlhbENvbG9yKSB7CiAgICAgIGxldCB2bSA9IHRoaXM7CiAgICAgIHJldHVybiBbCiAgICAgICAgdm0ubGlnaHRlbkNvbG9yKGluaXRpYWxDb2xvciwgNDApLAogICAgICAgIHZtLmxpZ2h0ZW5Db2xvcihpbml0aWFsQ29sb3IsIDMwKSwKICAgICAgICB2bS5saWdodGVuQ29sb3IoaW5pdGlhbENvbG9yLCAyMCksCiAgICAgICAgdm0ubGlnaHRlbkNvbG9yKGluaXRpYWxDb2xvciwgMTApLAogICAgICAgIGluaXRpYWxDb2xvcgogICAgICBdOwogICAgfSwKICAgIGxpZ2h0ZW5Db2xvcihpbml0aWFsQ29sb3IsIGFtdCkgewogICAgICB2YXIgY29sID0gaW5pdGlhbENvbG9yLnNsaWNlKDEpOwoKICAgICAgdmFyIG51bSA9IHBhcnNlSW50KGNvbCwgMTYpOwoKICAgICAgdmFyIHIgPSAobnVtID4+IDE2KSArIGFtdDsKCiAgICAgIGlmIChyID4gMjU1KSByID0gMjU1OwogICAgICBlbHNlIGlmIChyIDwgMCkgciA9IDA7CgogICAgICB2YXIgYiA9ICgobnVtID4+IDgpICYgMHgwMGZmKSArIGFtdDsKCiAgICAgIGlmIChiID4gMjU1KSBiID0gMjU1OwogICAgICBlbHNlIGlmIChiIDwgMCkgYiA9IDA7CgogICAgICB2YXIgZyA9IChudW0gJiAweDAwMDBmZikgKyBhbXQ7CgogICAgICBpZiAoZyA+IDI1NSkgZyA9IDI1NTsKICAgICAgZWxzZSBpZiAoZyA8IDApIGcgPSAwOwoKICAgICAgcmV0dXJuICgKICAgICAgICAiIyIgKwogICAgICAgIFN0cmluZygiMDAwMDAwIiArIChnIHwgKGIgPDwgOCkgfCAociA8PCAxNikpLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTYpCiAgICAgICk7CiAgICB9LAogICAgY2xvc2VNb2RhbCgpewogICAgICB0aGlzLiRlbWl0KCdjbG9zZU1vZGFsJykKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["AddOutreach.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AddOutreach.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <transition name=\"modal\">\n    <div class=\"modal-mask\" @click=\"closeModal()\">\n      <div class=\"modal-container\" @click.stop>\n        <!-- <div class=\"modal-header\">\n          <h3>{{pageAction}} Outreach</h3>\n          <span @click=\"closeModal()\"><i class=\"fal fa-times\"></i></span>\n        </div> -->\n        <div class=\"modal-sub-header\">\n          <h3 @click=\"nav(1)\" class=\"header-name\" :class=\"{'completed': step >= 1}\">Name </h3>\n          <h3 @click=\"nav(2)\" v-if=\"outreach.style.includes('Email')\" class=\"header-name\" :class=\"{'completed': step >= 2}\">Email Design </h3>\n          <h3 @click=\"nav(3)\" v-if=\"outreach.style.includes('SMS')\" class=\"header-name\" :class=\"{'completed': step >= 3}\">SMS Design </h3>\n          <h3 @click=\"nav(4)\" class=\"header-name\" :class=\"{'completed': step >= 4}\">Target Audience </h3>\n          <h3 @click=\"nav(5)\" class=\"header-name\" :class=\"{'completed': step >= 5}\">Schedule </h3>\n          <span class=\"close-modal\" @click=\"closeModal()\"><i class=\"fal fa-times\"></i></span>\n        </div>\n\n        <div class=\"modal-body\" >\n          <div class=\"input-container\" v-if=\"step == 1\">\n            <span class=\"campaign-name\">Campaign Name</span>\n            <span>Enter a name to help you remember what this outreach campaign is all about. Only you will see this.</span>\n            <input class=\"name-input\" type=\"text\" v-model=\"outreach.name\" maxlength=\"100\">\n            <span class=\"select-text\">Please Select Message Style</span>\n            <div class=\"message-style\">\n              <span class=\"checkbox-container\">\n                <input type=\"checkbox\" value=\"SMS\" v-model=\"outreach.style\"><label>SMS</label>\n              </span>\n              <span class=\"checkbox-container\">\n                <input type=\"checkbox\" value=\"Email\" v-model=\"outreach.style\" ><label>Email</label>\n              </span>\n            </div>\n            <div class=\"select-location\">\n              <span class=\"select-text\">Template</span>\n              <span class=\"checkbox-container\" style=\"padding: 10px;\">\n                <select v-model=\"outreachStyle\" @change=\"resetOutreach()\">\n                  <option value=\"none\">None</option>\n                  <option value=\"reviewRequest\">Review Request</option>\n                </select>\n              </span>\n            </div>\n            <div class=\"select-location\">\n              <span class=\"select-text\" style=\"margin-bottom: 5px;\">Location</span>\n\n              <v-select class=\"v-select-style\" v-model=\"data\" :options=\"locationOptions\" :on-change=\"onChange(data)\" v-if=\"pageAction !== 'Update'\" maxHeight=\"250px\" >\n\n              <span slot=\"no-options\">Sorry, no locations were found with that filter.</span>\n\n              </v-select>\n            </div>\n          </div>\n          <!-- Email -->\n          <div class=\"input-container\" v-show=\"step == 2\" @mouseover=\"refreshActivity()\">\n            <div class=\"email-subject\">\n              <label>Email Subject</label>\n              <input type=\"text\" v-model=\"outreach.email.subject\">\n            </div>\n            <div class=\"outreach-email-editor\" style=\"height: 450px;\" id=\"email-editor\"></div>\n            <!-- <div class=\"loading-spinner\" v-if=\"emailLoading\"><i class=\"fal fa-hourglass-half fa-spin\"></i></div> -->\n          </div>\n          <!-- SMS -->\n          <div class=\"input-container\" v-show=\"step == 3\">\n            <div class=\"sms-design\">\n              <div class=\"phone-background\">\n                <img src=\"../assets/img/phone-background.svg\" />\n              </div>\n              <div class=\"phone-message\" v-if=\"outreach.sms.length > 0\">{{outreach.sms.substr(0, 135)}}</div>\n              <div class=\"phone-message\" v-if=\"outreach.sms.length > 135\">{{outreach.sms.substr(135, 270)}}</div>\n            </div>\n            <div class=\"sms-message\">\n              <label>Type a Message</label>\n              <textarea class=\"sms-text-box\" maxlength=\"270\" v-model=\"outreach.sms\"></textarea>\n              <span>{{outreach.sms.length}}</span>\n            </div>\n          </div>\n          <!-- Target Audience -->\n          <div class=\"input-container\" v-if=\"step == 4\" @click=\"hideDisplayTag(), hideFilterMenu()\" >\n            <span class=\"audience-selection-header\">Select Audience</span>\n            <span>Select the person(s) you would like this outreach to send to. Filter by tags, names, campaign, to specific contacts that match those conditions.</span>\n            <div class=\"selection-box\">\n              <div class=\"top-select\">\n                <span class=\"select-all\">\n                  <input type=\"checkbox\" @click.stop @click=\"selectAllCustomers(allSelected)\" v-model=\"allSelected\">\n                  <span>Select All</span>\n                </span>\n                <span class=\"tag-section\" title=\"Tags\">\n                  <i class=\"fas fa-tag\" @click.stop @click=\"toggleDisplayTag()\"></i>\n                  <div class=\"tag-container\" v-if=\"displayTagContainer\">\n                    <div class=\"taglist\" v-for=\"tag in filteredTagList\" @click=\"selectTagFilter(tag)\">\n                      <span >{{tag}}</span>\n                    </div>\n                    <span class=\"no-tags\" v-if=\"filteredTagList && filteredTagList.length == 0\">No Tags</span>\n                  </div>\n                </span>\n                <span title=\"Filter\">\n                  <i class=\"fas fa-filter\" @click.stop @click=\"toggleFilterMenu()\"></i><span v-if=\"filters.setup\" class=\"clear-filters\" @click=\"clearFilters()\">Clear Filters</span>\n                  <div class=\"filter-container\" v-if=\"displayFilterMenu\">\n                    <span @click=\"selectFilter('active')\">Active <i class=\"fal fa-check-circle\" v-if=\"filters.setup == 'active'\"></i></span>\n                    <span @click=\"selectFilter(30)\">Last 30 Days <i class=\"fal fa-check-circle\" v-if=\"filters.setup == 30\"></i></span>\n                    <span @click=\"selectFilter(90)\">Last 90 Days <i class=\"fal fa-check-circle\" v-if=\"filters.setup == 90\"></i></span>\n                    <span @click=\"selectFilter(180)\">Last 6 Months <i class=\"fal fa-check-circle\" v-if=\"filters.setup == 180\"></i></span>\n                  </div>\n                </span>\n                <span title=\"Rating\">\n                  <i class=\"fas fa-star\" @click.stop @click=\"toggleRatingMenu()\"></i><span v-if=\"filters.rating\" class=\"clear-filters\" @click=\"clearRating()\">Clear Rating</span>\n                  <div class=\"rating-container\" v-if=\"displayRatingMenu\">\n                    <span @click=\"selectRating('noRating')\">No Rating <i class=\"fal fa-check-circle\" v-if=\"filters.rating == 'noRating'\"></i></span>\n                    <span @click=\"selectRating(1)\">Rated 1 <i class=\"fal fa-check-circle\" v-if=\"filters.rating == 1\"></i></span>\n                    <span @click=\"selectRating(2)\">Rated 2 <i class=\"fal fa-check-circle\" v-if=\"filters.rating == 2\"></i></span>\n                    <span @click=\"selectRating(3)\">Rated 3 <i class=\"fal fa-check-circle\" v-if=\"filters.rating == 3\"></i></span>\n                    <span @click=\"selectRating(4)\">Rated 4 <i class=\"fal fa-check-circle\" v-if=\"filters.rating == 4\"></i></span>\n                    <span @click=\"selectRating(5)\">Rated 5 <i class=\"fal fa-check-circle\" v-if=\"filters.rating == 5\"></i></span>\n                  </div>\n                </span>\n                <div class=\"searchbox\">\n                  <i class=\"far fa-search\" @click=\"searchCustomers()\"></i>\n                  <input type=\"text\" placeholder=\"Search...\" v-model=\"searchText\" @keyup.enter=\"searchCustomers()\">\n                </div>\n              </div>\n              <div class=\"customer-list\" >\n                <div class=\"customer-line\" v-for=\"customer in filteredCustomers\" v-if=\"customer.phone || customer.email\" :key=\"customer.customerId\">\n                  <div>\n                    <input type=\"checkbox\" v-model=\"customer.selected\">\n                    <span>{{customer.firstName}} </span>\n                    <span>{{customer.lastName}} </span>\n                  <span v-if=\"(!customer.firstName || !customer.lastName) && customer.phone\">{{customer.phone}}</span>\n                  <span v-if=\"(!customer.firstName || !customer.lastName) && customer.email\">{{customer.email}}</span>\n                  </div>\n                  <div class=\"customer-tags\">\n                    <div class=\"customer-tag\" v-for=\"tag in customer.tags\">{{tag}}</div>\n                  </div>\n                  <!-- <span>{{new Date(customer.createdDate)}} </span>\n                  <span>{{customer.status}}</span> -->\n                </div>\n              </div>\n            </div>\n            <div class=\"filters\">\n              <div class=\"filter\">\n                <div class=\"filter-tags-header\" v-if=\"filters.tags && filters.tags.length\">\n                  Selected Tags:\n                </div>\n                <div :class=\"{'scroll': filters.tags.length > 7}\">\n                  <span class=\"tag\" v-for=\"tag in filters.tags\" >\n                    {{tag}} <i class=\"far fa-times\" title=\"Remove\" @click=\"removeTag(tag)\"></i>\n                  </span>\n                </div>\n              </div>\n            </div>\n            <div style=\"display: none;\">{{selectedCustomers}}</div>\n          </div>\n          <!-- Schedule -->\n          <div class=\"input-container\" v-if=\"step == 5\">\n            <span class=\"summary-header\">Summary</span>\n            <div class=\"summary-container\">\n              <div class=\"summary-detail\">\n                <span class=\"summary-detail-subheader\">Outreach Name</span>\n                <span class=\"summary-data\">{{outreach.name}} <button @click=\"nav(1)\">Edit</button></span>\n              </div>\n              <div class=\"summary-detail\" v-if=\"outreach.style.includes('Email')\">\n                <span class=\"summary-detail-subheader\">Email Subject</span>\n                <span class=\"summary-data\">{{outreach.email.subject}} <button @click=\"nav(2)\">Edit</button></span>\n              </div>\n              <div class=\"summary-detail\" v-if=\"outreach.style.includes('SMS')\">\n                <span class=\"summary-detail-subheader\">SMS Preview Text</span>\n                <span class=\"summary-data\"><span class=\"sms-preview-text\">{{outreach.sms}}</span> <button @click=\"nav(3)\">Edit</button></span>\n              </div>\n              <div class=\"summary-detail\">\n                <span class=\"summary-detail-subheader\">Selected Audience Size</span>\n                <span class=\"summary-data greyed\" v-if=\"selectedCustomers\">{{selectedCustomers.length}} Contacts Selected<button @click=\"nav(4)\">Edit</button></span>\n              </div>\n              <div class=\"summary-detail no-border\">\n                <span class=\"summary-detail-subheader\">Schedule <span v-if=\"!timeCheck\" class=\"error-message\">Setting an outreach for the past will automatically send as soon as possible.</span></span>\n                <span class=\"schedule\">\n                  <input type=\"date\" :min=\"minDate\" @change=\"parseDate()\" v-model=\"outreach.schedule.date\" placeholder=\"MM/DD/YYYY\"> at\n                  <select v-model=\"newHour\" @change=\"parseDate()\">\n                    <option v-for=\"hour in hours\" :value=\"hour\">{{hour}}</option>\n                  </select> :\n                  <select style=\"margin-right:4px;\" v-model=\"newMinute\" @change=\"parseDate()\">\n                    <option v-for=\"minute in minutes\" :value=\"minute\">{{minute}}</option>\n                  </select>\n                  <select v-model=\"newTime\" @change=\"parseDate()\">\n                    <option value=\"AM\">AM</option>\n                    <option value=\"PM\">PM</option>\n                  </select>\n                  <span style=\"margin-left: 5px; font-size:12px;\"> America/Denver (-06:00, DST GMT) </span>\n                </span>\n              </div>\n              <!-- <div class=\"summary-detail no-border\">\n                <span class=\"summary-detail-subheader\">Schedule <span v-if=\"!timeCheck\" class=\"error-message\">Setting an outreach for the past will automatically send as soon as possible.</span></span>\n                <span class=\"schedule\">\n                  <input type=\"date\" :min=\"minDate\" @change=\"parseDate()\" v-model=\"outreach.schedule.date\"> at\n                  <input type=\"time\" :min=\"minTime\" @change=\"parseDate()\" v-model=\"outreach.schedule.time\"> America/Denver (-06:00, DST GMT)\n                </span>\n              </div> -->\n            </div>\n            <div class=\"test-message-container\">\n              <span class=\"test-message border\">\n                <span class=\"summary-detail-subheader dropped\">Send a Test Email</span>\n                <span class=\"send-message-details\">\n                  <span class=\"error-message\" v-if=\"testEmail && invalidEmail\">Invalid Email</span>\n                  <input type=\"email\" @keyup.enter=\"sendTestEmail()\" placeholder=\"Format: test@test.com\" v-model=\"testEmail\">\n                  <button @click=\"sendTestEmail()\" :disabled=\"!outreach.style.includes('Email') || !testEmail\" :class=\"{'disabled' : outreach.style.includes('Email') == false}\">Send Test</button>\n                </span>\n              </span>\n              <span class=\"test-message\">\n                <span class=\"summary-detail-subheader dropped\">Send a Test SMS</span>\n                <span class=\"send-message-details\">\n                  <span class=\"error-message\" v-if=\"testSMS && invalidSMS\">Invalid Phone #</span>\n                  <input type=\"tel\" @keyup.enter=\"sendTestSMS()\" placeholder=\"Format: 5555551234\" v-model=\"testSMS\">\n                  <button @click=\"sendTestSMS()\" :disabled=\"!outreach.style.includes('SMS') || !testSMS\" :class=\"{'disabled' : outreach.style.includes('SMS') == false }\">Send Test</button>\n                </span>\n              </span>\n            </div>\n          </div>\n          <div class=\"bottom-nav\">\n            <div class=\"previous\" v-show=\"step != 1\">\n              <button @click=\"previousStep()\">Previous</button>\n            </div>\n            <div v-show=\"step == 1\">\n              <!-- Here to preserve spacing since v-show isn't behaving as expected. -->\n            </div>\n            <div class=\"next-or-save\">\n              <button class=\"save-and-exit\" v-if=\"step >= 4\" @click.stop @click=\"saveAndExit()\">Save and Exit</button>\n              <button class=\"save-and-schedule\" v-if=\"step == 5\" @click.stop @click=\"scheduleOutreach()\" :disabled=\"!parsedDate\">Schedule Outreach</button>\n              <!-- Hidden save button apparently needs to be in here in order for the iframe removal function to fire and the email design to save. -->\n              <button v-if=\"step == 2\" @click=\"saveEmailDesign()\" hidden>Save</button>\n              <button v-if=\"step !== 5 \" :class=\"{ 'completed' : step <= completed }\" :disabled=\"step > completed\" :title=\"nextTitle\" @click=\"nextStep()\">Next</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script>\nimport OutreachService from \"./../services/OutreachService\";\nimport LocationService from \"./../services/LocationService\";\nimport CustomerService from \"./../services/CustomerService\";\nimport AuthService from \"./../services/AuthService\";\nimport SharedFunctions from \"./../services/SharedFunctions\";\nimport UserService from \"./../services/UserService\";\nimport { EventService } from \"../main\";\nimport config from '../config';\nimport vSelect from \"../../node_modules/vue-select/src/components/Select.vue\";\nimport phoneImage from '../assets/img/phone-background.svg'\n\nexport default {\n  name: \"addOutreach\",\n  props: [\"selectedOutreach\", \"selectedLocation\"],\n  components: {\n    vSelect\n  },\n  data: function() {\n    return {\n      step: 1,\n      outreachStyle: 'none',\n      emailLoading: false,\n      outreach: {\n        name: '',\n        locationId: '',\n        style: ['SMS', 'Email'],\n        email: {\n          subject: '',\n          data: '',\n          design: ''\n        },\n        sms: '',\n        target: null,\n        schedule: {\n          date: null,\n          time: null\n        }\n      },\n      testEmailAddress: '',\n      testPhoneNumber: null,\n      status: 'incomplete',\n      initializedUnlayer: false,\n      pageAction: 'Add',\n      searchText: '',\n      totalCustomers: [],\n      tagList: [],\n      allSelected: false,\n      displayTagContainer: false,\n      displayFilterMenu: false,\n      displayRatingMenu: false,\n      filters: {\n        tags: [],\n        setup: null,\n        rating: null\n      },\n      testEmail: '',\n      testSMS: null,\n      minDate: null,\n      minTime: null,\n      invalidEmail: false,\n      invalidSMS: false,\n      parsedDate: null,\n      data: '',\n      locationOptions: [],\n      currentTime: null,\n      timeInterval: null,\n      newHour: '',\n      newMinute: '',\n      newTime: '',\n      hours: ['01','02','03','04','05','06','07','08','09','10','11','12'],\n      minutes: ['00','01','02','03','04','05','06','07','08','09','10','11','12','13','14','15','16','17','18','19','20','21','22','23','24','25','26','27','28','29','30','31','32','33','34','35','36','37','38','39','40','41','42','43','44','45','46','47','48','49','50','51','52','53','54','55','56','57','58','59','60' ],\n    }\n  },\n  computed: {\n    stepComplete(check) {\n      let vm = this;\n      return check >= vm.step;\n    },\n    completed() {\n      let vm = this;\n      let test1 = (vm.outreach.name && vm.outreach.name.length > 3 && vm.outreach.style && vm.outreach.style.length > 0 && vm.outreach.locationId);\n      let test2 = ( !vm.outreach.style.includes('Email') || (vm.outreach.email && vm.outreach.email.subject));\n      let test3 = ( !vm.outreach.style.includes('SMS') || (vm.outreach.sms && vm.outreach.sms.length > 10 ));\n      let test4 = (vm.outreach.target || (vm.selectedCustomers && vm.selectedCustomers.length > 0) );\n      let test5 = ( vm.parsedDate );\n      if( test1 && test2 && test3 && test4 && test5 ) {\n        return 5\n      } else if( test1 && test2 && test3 && test4 ) {\n        return 4\n      } else if( test1 && test2 && test3 ) {\n        return 3\n      } else if( test1 && test2 ) {\n        return 2\n      } else if( test1 ) {\n        return 1;\n      } else {\n        return 0;\n      }\n    },\n    nextTitle() {\n      let vm = this;\n      if(vm.step <= vm.completed) {\n        return 'Next'\n      } else {\n        return \"More data needed to continue.\"\n      }\n    },\n    filteredCustomers() {\n      let vm = this;\n      vm.totalCustomers;\n      let filterTags = vm.filters.tags;\n      let runningCustomerList;\n      let customersList;\n      if(vm.outreach.target) {\n        vm.outreach.target.map(el => {\n          vm.totalCustomers.map(cust => {\n            if(cust.customerId == el.customerId) {\n              cust.selected = true;\n            }\n          })\n        })\n        runningCustomerList = vm.totalCustomers;\n      } else {\n        runningCustomerList = vm.totalCustomers;\n      }\n\n      if(vm.filters.tags && vm.filters.tags.length) {\n        customersList = runningCustomerList.filter(customer => {\n          return vm.filters.tags.some(tag => {\n            return customer.tags.includes(tag);\n          })\n        })\n      } else {\n        customersList = runningCustomerList;\n      }\n\n      if(vm.filters.setup) {\n        if(vm.filters.setup == 'active') {\n          customersList = customersList.filter(customer => {\n            return customer.status == 'active';\n          })\n        } else if(typeof vm.filters.setup == 'number') {\n          let today = Date.now();\n          customersList = customersList.filter(customer => {\n            return customer.createdDate >= today - (vm.filters.setup * (1000 * 60 * 60 * 24));\n          })\n        }\n      }\n      if(vm.filters.rating) {\n        if(vm.filters.rating == 'noRating') {\n          customersList = customersList.filter(customer => {\n            return !customer.rating;\n          })\n        } else {\n          customersList = customersList.filter(customer => {\n            return customer.rating == vm.filters.rating;\n          })\n        }\n      }\n\n      return customersList;\n    },\n    selectedCustomers() {\n      let vm = this;\n      if(vm.filteredCustomers && vm.filteredCustomers.length > 0) {\n        let selectedCustomers = vm.filteredCustomers.filter(customer => {\n          return customer.selected;\n        })\n      return selectedCustomers;\n      }\n    },\n    filteredTagList() {\n      let vm = this;\n      let filterTagList = vm.filters.tags;\n      let tags = vm.tagList.filter(tag => {\n        if(!filterTagList.includes(tag)) {\n          return tag;\n        }\n      })\n      return tags;\n    },\n    timeCheck() {\n      let vm = this;\n      // currentTime needs to be here in order to manually use it as a \"$getter\". Do not remove.\n      vm.currentTime;\n      if(vm.step === 5 && vm.currentTime) {\n        if(vm.parsedDate > vm.currentTime) {\n          return true;\n        } else {\n          return false;\n        }\n      } else {\n        return true;\n      }\n    }\n  },\n  beforeDestroy() {\n    this.selectedLocation = null;\n  },\n  mounted() {\n    let vm = this;\n    if(vm.selectedOutreach) {\n      vm.outreach = vm.selectedOutreach;\n      if(vm.outreach.sendDate) {\n        vm.parseSendDate()\n      }\n      vm.getLocationOptions();\n    } else {\n      if(vm.selectedLocation) {\n        vm.outreach.locationId = vm.selectedLocation;\n      }\n      vm.getLocationOptions();\n      vm.getDateAndTimeItems()\n    }\n    vm.scrollObserver = new IntersectionObserver(([entry]) => {\n      if (entry && entry.isIntersecting) {\n        vm.appendCustomers(vm.selectedPage+1);\n      }\n    });\n    // this.hideChat();\n  },\n  created() {\n    EventService.$on(\"locationChange\", this.locationChange);\n  },\n  beforeDestroy() {\n    this.scrollObserver.disconnect();\n    EventService.$off(\"locationChange\", this.locationChange);\n    clearInterval(this.timeInterval);\n    // this.showChat();\n  },\n  methods: {\n    refreshActivity() {\n      AuthService.refreshActivity();\n    },\n    // hideChat() {\n    //   let foundElement = document.getElementsByClassName('zls-btnmn');\n    //   if(foundElement[0]) foundElement[0].style.display = 'none';\n    // },\n    // showChat() {\n    //   let foundElement = document.getElementsByClassName('zls-btnmn');\n    //   if(foundElement[0]) foundElement[0].style.display = 'block';\n    // },\n    getDateAndTimeItems() {\n      let vm = this;\n      // Get the date and pieces of it for 30 minutes from now.\n      let today = Date.now();\n      let minutesFromNow = 10;\n      let setMinutesFromNow = today + (1000 * 60 * minutesFromNow);\n      setMinutesFromNow = new Date(setMinutesFromNow);\n      let todayYear = setMinutesFromNow.getFullYear();\n      let todayMonth = setMinutesFromNow.getMonth()+1;\n      let todayDate = setMinutesFromNow.getDate();\n      let todayHours = setMinutesFromNow.getHours();\n      let todayMinutes = setMinutesFromNow.getMinutes();\n\n      // Format the date to be able to be parsed correctly.\n      if(JSON.stringify(todayMinutes).length != 2) {\n        todayMinutes = '0' + todayMinutes;\n      }\n      if(JSON.stringify(todayHours).length != 2) {\n        todayHours = '0' + todayHours;\n      }\n      if(JSON.stringify(todayDate).length != 2) {\n        todayDate = '0' + todayDate;\n      }\n      if(JSON.stringify(todayMonth).length != 2) {\n        todayMonth = '0' + todayMonth;\n      }\n\n      // Set today levels.\n      let minTime = todayHours + ':' + todayMinutes;\n      let minDate = todayYear + '-' + todayMonth + '-' + todayDate;\n\n      // Set All Minimum Schedule Dates and Auto-set today's date and time.\n      vm.minDate = minDate;\n      vm.outreach.schedule.date = minDate;\n      vm.minTime = minTime;\n      vm.outreach.schedule.time = minTime;\n      if(todayHours > 12) {\n        vm.newHour = JSON.stringify(todayHours - 12);\n        vm.newTime = 'PM'\n      } else {\n        vm.newHour = JSON.stringify(todayHours);\n        vm.newTime = 'AM'\n      }\n      if(JSON.stringify(vm.newHour).length != 2) {\n        vm.newHour = '0' + vm.newHour;\n      }\n      vm.newMinute = JSON.stringify(todayMinutes);\n      vm.parseDate();\n    },\n    parseSendDate() {\n      let vm = this;\n      let currentDate = new Date(vm.outreach.sendDate);\n    },\n    parseDate() {\n      let vm = this;\n      if(vm.newMinute && vm.newTime && vm.newHour && vm.outreach.schedule.date) {\n        // let date = vm.outreach.schedule.date;\n        // let time = vm.outreach.schedule.time;\n        // let dateString = date + ' ' + time + ':00 GMT';\n        var dateString;\n        if(this.newTime == 'PM') {\n          let parsedHour = parseInt(vm.newHour)+12;\n          dateString = vm.outreach.schedule.date + ' ' + parsedHour + ':' + vm.newMinute + ':00 GMT';\n        } else if(this.newTime == 'AM'){\n          dateString = vm.outreach.schedule.date + ' ' + vm.newHour + ':' + vm.newMinute + ':00 GMT';\n        }\n        dateString = dateString.replace(/-/g, ' ');\n        let sixHoursGMTDiff = 1000 * 60 * 60 * 6;\n        let parsedDate = Date.parse(dateString) + sixHoursGMTDiff;\n        vm.parsedDate = parsedDate;\n        vm.timeInterval = setInterval(() => {\n          vm.currentTime = Date.now();\n        }, 30000);\n        // console.log('parsed', vm.parsedDate);\n      } else {\n        // console.log('notparsed', vm.newMinute, vm.newHour, vm.newTime, vm.outreach.schedule.date);\n      }\n    },\n    onChange(data) {\n      let vm = this;\n      if(vm.outreach.locationId != data.value && vm.outreach.location != undefined) {\n        vm.outreach.locationId = data.value;\n      } else if(data.value) {\n        vm.outreach.locationId = data.value;\n      }\n    },\n    resetOutreach() {\n      this.outreach = {\n        name: this.outreach.name,\n        locationId: this.outreach.locationId,\n        style: ['SMS', 'Email'],\n        email: {\n          subject: '',\n          data: '',\n          design: ''\n        },\n        sms: '',\n        target: null,\n        schedule: {\n          date: null,\n          time: null\n        }\n      }\n    },\n    getLocationOptions() {\n      let vm = this;\n      UserService.getAllUserLocations().then(response => {\n        let test = response;\n        test.forEach(e => {\n          let singleLocation = {\n            label: e.name,\n            value: e.locationId,\n          }\n          if(e.prop) {\n            singleLocation.prop = e.prop;\n          }\n          vm.locationOptions.push(singleLocation);\n        })\n        // console.log('?', vm.outreach.locationId, vm.locationOptions);\n        if(vm.outreach.locationId) {\n          if(vm.locationOptions && vm.locationOptions.length) {\n            vm.locationOptions.map(e => {\n              if(vm.outreach.locationId == e.value) {\n                vm.data = e;\n              }\n            })\n          }\n        }\n      });\n    },\n    nav(step) {\n      let vm = this;\n      if(vm.step != step) {\n        if(vm.step >= 2) {\n          vm.saveEmailDesign();\n        }\n        if(step == 4) {\n          vm.searchCustomers();\n        }\n        if(vm.step == 4) vm.setTarget();\n        if(step - vm.completed <= 1) {\n          vm.step = step;\n          if(vm.step == 2 && vm.outreach.locationId) {\n            setTimeout(() => {\n              vm.previewEmail()\n            }, 100);\n          }\n        }\n      }\n    },\n    previewEmail(action) {\n      let vm = this;\n      vm.emailLoading = true;\n      // vm.emailPreview = true;\n      // Checks for proper information in order to pass correct data to mailchimp for testing.\n      if (config.subDomain) {\n        var subDomain = config.subDomain;\n      }\n      if (config.baseUrl) {\n        var baseUrl = config.baseUrl;\n      }\n      // Timeout is set to be manipulated if we need more time later in a single variable.\n      var timeOut = 500;\n      // Check if the action passed into the function already has been saved, so that it is not overwritten if it is.\n      if (vm.outreach.email.design) {\n\n        // Create the script and iframe to be used to edit the email.\n        vm.$unlayerScript = {\n          id: \"email-editor\",\n          projectId: 1777,\n          // displayMode: \"email\"\n        };\n\n        const unlayerElement = document.createElement(\"script\");\n          unlayerElement.setAttribute('src', '//editor.unlayer.com/embed.js');\n          unlayerElement.onload = () => {\n            if(!vm.initializedUnlayer) {\n              unlayer.init(vm.$unlayerScript);\n              vm.initializedUnlayer = true;\n              unlayer.loadDesign(vm.outreach.email.design);\n            }\n          }\n          document.head.appendChild(unlayerElement)\n\n        // var d = document;\n        // var s = d.createElement(\"script\");\n        // s.type = \"text/javascript\";\n        // s.defer = true;\n        // s.src = \"//editor.unlayer.com/embed.js\";\n        // var t = d.getElementsByTagName(\"script\")[0];\n        // t.parentNode.insertBefore(s, t);\n        // // Actually load the existing design in the action, check for initializedUnlayer exists as failsafe for the iframe not being reset properly.\n        // setTimeout(() => {\n        //   if (!vm.initializedUnlayer) {\n        //     unlayer.init(vm.$unlayerScript);\n        //     vm.initializedUnlayer = true;\n        //     unlayer.loadDesign(vm.outreach.email.design);\n        //   }\n        // }, timeOut);\n      } else {\n\n        var outreachId = 'OU' + vm.generateOutreachId('0', 11);\n        vm.outreach.outreachId = outreachId;\n\n        // If email design doens't exist for the selected action, create all necessary fields to pass as designTags and set the initial design.\n        LocationService.getLocation(vm.outreach.locationId).then(response => {\n\n          if(vm.outreachStyle == 'none') {\n\n            var style = response.locationStyle;\n            var logo = style.logo;\n            var locationName = response.displayName;\n\n            vm.$unlayerScript = {\n              id: \"email-editor\",\n              projectId: 1777,\n              templateId: 4977,\n              displayMode: \"email\",\n              designTags: {\n                image_url: baseUrl + `location\\/showImage\\/` + vm.outreach.locationId,\n                footer_color: style.footerColor || \"lightgrey\",\n                location_name: locationName,\n                unsubscribe_url: \"https://\" + subDomain + \".opiniion.com/unsubscribe?cid=*|cid|*\"\n              }\n            };\n\n          } else if(vm.outreachStyle == 'reviewRequest') {\n\n            if (response.displayName) {\n              vm.automationLocationName = response.displayName;\n              vm.addLandingPageData();\n              var locationName = response.displayName;\n            } else {\n              var locationName = response.name;\n            }\n            var style = response.locationStyle;\n            var logo = style.logo;\n            var colors = style.buttonColor || \"#4fcbc5\";\n            var buttonColors = vm.generateButtonColors(colors);\n\n            vm.$unlayerScript = {\n              id: \"email-editor\",\n              projectId: 1777,\n              templateId: 5307,\n              displayMode: \"email\",\n              designTags: {\n                location_name: locationName,\n                // Need to figure out how to do the review_url without having an automationId to tie it to.\n                review_url: \"https://\" + subDomain + \".opiniion.com/automationReviewEmail/\" + vm.outreach.locationId + '/' + vm.outreach.outreachId + ':' + '*|cid|*',\n                display_url: \"https://\" + subDomain + \".opiniion.com/leaveFeedback/\" + vm.outreach.locationId + '/*|cid|*/Email',\n                unsubscribe_url: \"https://\" + subDomain + \".opiniion.com/unsubscribe?cid=*|cid|*\",\n                image_url: baseUrl + `location\\/showImage\\/` + vm.outreach.locationId,\n                survey_url: baseUrl + 'surveyResponse/',\n                button_color_0: buttonColors[0],\n                button_color_1: buttonColors[1],\n                button_color_2: buttonColors[2],\n                button_color_3: buttonColors[3],\n                button_color_4: buttonColors[4],\n                footer_color: style.footerColor || \"lightgrey\"\n              }\n            };\n          }\n\n          const unlayerElement = document.createElement('script');\n          unlayerElement.setAttribute('src', '//editor.unlayer.com/embed.js');\n          unlayerElement.onload = () => {\n            if(!vm.initializedUnlayer) {\n              unlayer.init(vm.$unlayerScript);\n              vm.initializedUnlayer = true;\n            }\n          }\n          document.head.appendChild(unlayerElement)\n\n          // var d = document;\n          // var s = d.createElement(\"script\");\n          // s.type = \"text/javascript\";\n          // s.defer = true;\n          // s.src = \"//editor.unlayer.com/embed.js\";\n          // var t = d.getElementsByTagName(\"script\")[0];\n          // t.parentNode.insertBefore(s, t);\n          // setTimeout(() => {\n          //   if (!vm.initializedUnlayer) {\n          //     vm.initializedUnlayer = true;\n          //     unlayer.init(vm.$unlayerScript);\n          //   }\n          // }, timeOut);\n        })\n      }\n      vm.emailLoading = false;\n    },\n    generateOutreachId(possItems, length) {\n      var text = '';\n      var options = '';\n      if (possItems.indexOf('0') > -1) options += '0123456789';\n      if (possItems.indexOf('a') > -1) options += 'abcdefghijklmnopqrstuvwxyz';\n      if (possItems.indexOf('A') > -1) options += 'ABCDEFGHIkLMNOPQRSTUVWXYZ';\n      for (var i=0; i<length && options.length>0; i++) {\n        text += options.charAt(Math.floor(Math.random() * options.length));\n      }\n      return text;\n    },\n    removeIframe() {\n      let vm = this;\n      if (vm.initializedUnlayer) {\n        var x = document.getElementsByTagName(\"iframe\");\n        var d = document.getElementsByTagName(\"script\");\n        for (let i = 0; i < x.length; i++) {\n          let iframe = x[i];\n          if(iframe.src.includes('unlayer')) {\n            iframe.remove();\n            break;\n          } else {\n            // console.log('not found');\n          }\n        }\n        for (let i = 0; i < d.length; i++) {\n          let script = d[i];\n          if(script.src.includes('unlayer')) {\n            script.remove();\n            break;\n          } else {\n            // console.log('Not found');\n          }\n        }\n      }\n      vm.initializedUnlayer = false;\n    },\n    addLandingPageData() {\n      let vm = this;\n      let selectedLocation = localStorage.getItem('locationId');\n      let locOptions = JSON.parse(localStorage.getItem('locationOptions'));\n      locOptions.map(loc => {\n        if(loc.locationId == selectedLocation) {\n          let matchedLocation = loc;\n          vm.automationLocationName = loc.displayName;\n        };\n      })\n    },\n    saveEmailDesign() {\n      let vm = this;\n      if (vm.initializedUnlayer) {\n        if(window.unlayer) {\n          window.unlayer.exportHtml((data) => {\n            vm.outreach.email.data = data.html;\n            vm.outreach.email.design = data.design;\n            vm.removeIframe();\n          });\n          // console.log(vm.outreach.email);\n        } else {\n          // console.log('no unlayer to export');\n        }\n      }\n    },\n    // The below functions may need to be re-written for being less verbose, however the logic is sound.\n    nextStep() {\n      let vm = this;\n      let ou = vm.outreach.style;\n      if(vm.step == 4) vm.setTarget();\n      if(ou.includes('SMS') && ou.includes('Email')) {\n        if(vm.step == 2) {\n          vm.saveEmailDesign()\n          vm.step++;\n        } else {\n          if(vm.step != 5)  {\n            vm.step++;\n          }\n        }\n      } else if(ou.includes('Email')) {\n        if(vm.step == 2) {\n          vm.saveEmailDesign()\n          vm.step += 2;\n        } else {\n          vm.step++\n        }\n      } else if(ou.includes('SMS')) {\n        if(vm.step == 1) {\n          vm.step += 2;\n        } else {\n          vm.step++\n        }\n      } else {\n        vm.step += 3;\n      }\n      if(vm.step == 2 && vm.outreach.locationId) {\n        setTimeout(() => {\n          vm.previewEmail()\n        }, 500);\n      } else if(vm.step == 4) {\n        vm.searchCustomers();\n      } else if(vm.step == 5){\n        vm.parseDate();\n      }\n    },\n    previousStep(){\n      let vm = this;\n      let ou = vm.outreach.style;\n      if(vm.step == 4) vm.setTarget();\n      if(ou.includes('SMS') && ou.includes('Email')) {\n        if(vm.step == 2) {\n          vm.saveEmailDesign();\n        }\n        if(vm.step != 1) {\n          vm.step--;\n        }\n      } else if(ou.includes('Email')) {\n        if(step == 2) {\n          vm.saveEmailDesign();\n        }\n        if(vm.step == 4) {\n          vm.step -= 2;\n        } else {\n          vm.step--\n        }\n      } else if(ou.includes('SMS')) {\n        if(vm.step == 3) {\n          vm.step -= 2;\n        } else {\n          vm.step--\n        }\n      } else {\n        vm.step -= 3;\n      }\n      if(vm.step == 2 && vm.outreach.locationId) {\n        setTimeout(() => {\n          vm.previewEmail()\n        }, 500);\n      } else if(vm.step == 4) {\n        vm.searchCustomers();\n      } else {\n        // vm.removePreview();\n      }\n    },\n    saveAndExit() {\n      let vm = this;\n      vm.outreach.schedule = {\n        date: null,\n        time: null\n      };\n      vm.outreach.sendDate = null;\n      vm.outreach.target = vm.selectedCustomers;\n      vm.outreach.status = 'unscheduled';\n      LocationService.getLocation(vm.outreach.locationId).then(response => {\n        if(!response) {\n          EventService.$emit('errorMessage', 'Something went wrong, please wait a minute and try again.');\n        } else {\n          vm.outreach.fromName = response.emailFromName;\n          OutreachService.saveOutreachMessage(vm.outreach).then(response2 => {\n            if(response2.success) {\n              EventService.$emit('successMessage', 'Your Outreach has been successfully saved!');\n              vm.closeModal();\n            } else {\n              EventService.$emit('errorMessage', 'Something went wrong, please wait a minute and try again.');\n            }\n          })\n        }\n      })\n    },\n    scheduleOutreach() {\n      let vm = this;\n      vm.outreach.target = vm.selectedCustomers;\n      vm.outreach.status = 'scheduled'\n      LocationService.getLocation(vm.outreach.locationId).then(response => {\n        if(!response) {\n          EventService.$emit('errorMessage', 'Something went wrong, please wait a minute and try again.');\n        } else {\n          vm.outreach.fromName = response.emailFromName;\n          OutreachService.saveOutreachMessage(vm.outreach, vm.parsedDate).then(response => {\n            if(response.success) {\n              EventService.$emit('successMessage', 'Your Outreach has been successfully scheduled!');\n              vm.closeModal();\n            } else {\n              EventService.$emit('errorMessage', 'Something went wrong, please wait a minute and try again.');\n            }\n          })\n        }\n      })\n    },\n    setTarget() {\n      let vm = this;\n      vm.outreach.target = vm.selectedCustomers;\n    },\n    toggleDisplayTag() {\n      this.displayTagContainer = !this.displayTagContainer;\n      this.hideFilterMenu()\n      this.hideRatingMenu();\n    },\n    hideDisplayTag() {\n      if(this.displayTagContainer) this.displayTagContainer = false;\n    },\n    hideRatingMenu() {\n      if(this.displayRatingMenu) this.displayRatingMenu = false;\n    },\n    toggleFilterMenu() {\n      this.displayFilterMenu = !this.displayFilterMenu;\n      this.hideDisplayTag();\n      this.hideRatingMenu();\n    },\n    toggleRatingMenu() {\n      this.displayRatingMenu = !this.displayRatingMenu;\n      this.hideDisplayTag();\n      this.hideFilterMenu();\n    },\n    hideFilterMenu() {\n      if(this.displayFilterMenu) this.displayFilterMenu = false;\n    },\n    selectTagFilter(tag) {\n      let vm = this;\n      vm.filters.tags.push(tag)\n      vm.displayTagContainer = false;\n    },\n    removeTag(tag) {\n      let vm = this;\n      vm.filters.tags.splice(vm.filters.tags.indexOf(tag), 1)\n    },\n    selectFilter(filter) {\n      let vm = this;\n      if(filter == 'active') {\n        vm.filters.setup = 'active';\n      } else if(typeof filter == 'number') {\n        vm.filters.setup = filter;\n      }\n      vm.hideFilterMenu();\n    },\n    selectRating(rating) {\n      this.filters.rating = rating;\n      this.hideRatingMenu();\n    },\n    clearFilters() {\n      this.filters.setup = null;\n    },\n    clearRating() {\n      this.filters.rating = null;\n    },\n    searchCustomers() {\n      EventService.$emit('loading', 'show');\n      let vm = this;\n      LocationService.getAllLocationCustomers(vm.outreach.locationId, vm.outreach.style).then(response => {\n        if(vm.searchText) {\n          vm.totalCustomers = response.results.filter(customer => {\n            let customerMatch = false;\n            if(customer.firstName) customerMatch = customerMatch || customer.firstName.toLowerCase().indexOf(vm.searchText.toLowerCase()) > -1\n            if(customer.lastName) customerMatch = customerMatch || customer.lastName.toLowerCase().indexOf(vm.searchText.toLowerCase()) > -1\n            if(customer.email) customerMatch = customerMatch || customer.email.toLowerCase().indexOf(vm.searchText.toLowerCase()) > -1\n            if(customer.phone) customerMatch = customerMatch || customer.phone.indexOf(vm.searchText)> -1\n            return customerMatch;\n          })\n        } else {\n          vm.totalCustomers = response.results;\n        }\n\n        if(vm.selectedOutreach) {\n          vm.totalCustomers.map(customer => {\n            vm.selectedOutreach.target.map(cust => {\n              if(cust.customerId == customer.customerId) {\n                customer.selected = true;\n              }\n            })\n          })\n        }\n        vm.tagList = response.tags;\n        EventService.$emit('loading', 'hide');\n\n      })\n    },\n    selectAllCustomers(test) {\n      let vm = this;\n      vm.filteredCustomers.map(customer => {\n        customer.selected = !test;\n      })\n    },\n    sendTestEmail() {\n      let vm = this;\n      if(vm.testEmail.match(/[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$/g)) {\n        // console.log('Sending to Email Server!', vm.outreach.email, vm.outreach.locationId, vm.testEmail);\n        OutreachService.testOutreachMessage(vm.outreach.email, vm.outreach.locationId, vm.testEmail, null,vm.data.label)\n        EventService.$emit('successMessage', 'Test Message Sent. You should receive it shortly.')\n      } else {\n        vm.invalidEmail = true;\n        setTimeout(() => {\n          vm.invalidEmail = false\n        }, 3000);\n      }\n    },\n    sendTestSMS() {\n      let vm = this;\n      if(vm.testSMS.match(/[0-9]{10}/g)) {\n        // console.log('Sending to SMS Server!', vm.outreach.sms, vm.outreach.locationId, vm.testSMS);\n        OutreachService.testOutreachMessage(vm.outreach.sms, vm.outreach.locationId, null, vm.testSMS)\n        EventService.$emit('successMessage', 'Test Message Sent. You should receive it shortly.')\n      } else {\n        vm.invalidSMS = true;\n        setTimeout(() => {\n          vm.invalidSMS = false\n        }, 3000);\n      }\n    },\n    generateButtonColors(initialColor) {\n      let vm = this;\n      return [\n        vm.lightenColor(initialColor, 40),\n        vm.lightenColor(initialColor, 30),\n        vm.lightenColor(initialColor, 20),\n        vm.lightenColor(initialColor, 10),\n        initialColor\n      ];\n    },\n    lightenColor(initialColor, amt) {\n      var col = initialColor.slice(1);\n\n      var num = parseInt(col, 16);\n\n      var r = (num >> 16) + amt;\n\n      if (r > 255) r = 255;\n      else if (r < 0) r = 0;\n\n      var b = ((num >> 8) & 0x00ff) + amt;\n\n      if (b > 255) b = 255;\n      else if (b < 0) b = 0;\n\n      var g = (num & 0x0000ff) + amt;\n\n      if (g > 255) g = 255;\n      else if (g < 0) g = 0;\n\n      return (\n        \"#\" +\n        String(\"000000\" + (g | (b << 8) | (r << 16)).toString(16)).slice(-6)\n      );\n    },\n    closeModal(){\n      this.$emit('closeModal')\n    }\n  }\n};\n</script>\n\n<style scoped>\n\n/* Headers and Step 1 */\n\n.modal-container {\n  width: 90%;\n  height: 95%;\n  background: white;\n  margin: auto;\n  padding: 10px 20px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.33);\n  transition: all 0.3s ease;\n  position: sticky;\n  top: 40px;\n  z-index: 850;\n}\n\n.modal-mask {\n  z-index: 850;\n}\n\n.modal-header {\n  display: flex;\n  justify-content: space-between;\n}\n\n.modal-header span {\n  font-size: 25px;\n  color: #696969;\n  margin: 10px 10px 0 0;\n  cursor: pointer;\n}\n\n.modal-sub-header {\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  margin-bottom: 0px;\n  position: relative;\n}\n\n.modal-sub-header h3 {\n  width: 150px;\n  padding: 20px;\n  margin-right: 5px;\n  background: lightskyblue;\n  color: white;\n  position: relative;\n  text-align: center;\n  border-bottom: 2px solid white;\n}\n\n.close-modal {\n  position: absolute;\n  right: 0;\n  top: 0;\n  font-size: 30px;\n  color: #545454;\n  cursor: pointer;\n}\n\n.completed {\n  background: rgba(2, 2, 249, 0.824) !important;\n}\n\n.completed::after {\n  border-left: 10px solid rgba(2, 2, 249, 0.824) !important;\n}\n\n.active-header {\n  box-shadow: 0 2px 0px -0px white, 0 4px 0px -0px black;\n  /* border-bottom: 2px solid black !important; */\n}\n\n.modal-sub-header h3::after {\n  content: '';\n  position: absolute;\n  left: 100%;\n  top: 1px;\n  width: 0;\n  height: 0;\n  border-top: 30px solid transparent;\n  border-left: 10px solid lightskyblue;\n  border-bottom: 30px solid transparent;\n  z-index: 3;\n}\n\n.modal-sub-header h3::before {\n  content: '';\n  position: absolute;\n  right: 95%;\n  top: 1px;\n  width: 0;\n  height: 0;\n  border-top: 30px solid transparent;\n  border-left: 10px solid white;\n  border-bottom: 30px solid transparent;\n  z-index: 2;\n}\n\n.header-name {\n  cursor: pointer;\n  border-bottom: none;\n}\n\n.modal-body {\n  /* position: relative; */\n}\n\n.input-container {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-content: center;\n  align-items: center;\n}\n\n.target-audience {\n\n}\n\n.message-style {\n  display: flex;\n  flex-direction: row;\n  width: 150px;\n  justify-content: space-around;\n  margin-top: 10px;\n}\n\n.select-text {\n  font-size: 20px;\n}\n\n.checkbox-container {\n  font-size: 12px;\n}\n\n.checkbox-container input {\n  margin-right: 5px;\n  /* transform: translateY(-2px); */\n}\n\n.campaign-name {\n  font-size: 30px;\n  margin-bottom: 25px;\n  margin-top: 5%;\n  /* text-shadow:\n   -1px -1px 4px rgba(8, 145, 208, 0.324),\n    1px -1px 4px rgba(8, 145, 208, 0.324),\n    -1px 1px 4px rgba(8, 145, 208, 0.324),\n     1px 1px 4px rgba(8, 145, 208, 0.324); */\n}\n\n.name-input {\n  width: 350px;\n  border: 1px solid lightgrey;\n  border-radius: 3px;\n  margin: 20px;\n  text-align: left;\n}\n\n.select-location {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n\n.v-select-style {\n  width: 250px;\n}\n\n/* Email And Editor */\n\n.email-subject {\n\n}\n\n.email-subject label {\n  margin-right: 15px;\n}\n\n.email-subject input {\n  border-bottom: 1px solid grey;\n}\n\n.outreach-email-editor {\n  width: 100%;\n  height: 100%;\n  border: 1px solid lightgrey;\n}\n\n/* SMS */\n\n.sms-design {\n  position: relative;\n}\n\n.phone-background {\n  color: grey;\n}\n\n.phone-message {\n  position: absolute;\n  top: 50px;\n  left: 50px;\n  font-size: 15px;\n  background: #d3d3d3;\n  max-width: 50%;\n  font-family: Arial, Helvetica, sans-serif;\n  padding: 5px 8px;\n  border-radius: 15px;\n  word-break: break-all;\n}\n\n.phone-message::after {\n  position: absolute;\n  content: '';\n  bottom: 2px;\n  left: 6px;\n  width: 0;\n  height: 0;\n  border: 10px solid transparent;\n  border-top-color: #d3d3d3;\n  border-bottom: 0;\n  border-left: 0;\n  margin-bottom: -9px;\n}\n\n.phone-message:nth-child(3) {\n  transform: translateY(178px);\n}\n\n.sms-message {\n  display: flex;\n  flex-direction: column;\n}\n\n.sms-message label {\n  font-size: 20px;\n  margin: 10px;\n}\n\n.sms-message span {\n  font-size: 12px;\n  margin: 3px;\n}\n\n.sms-text-box {\n  width: 550px;\n  max-width: 550px;\n  min-width: 550px;\n  height: 50px;\n  max-height: 50px;\n  min-height: 50px;\n}\n\n/* Target Audience */\n\n.audience-selection-header {\n  margin: 15px;\n  font-size: 25px;\n}\n\n.selection-box {\n  margin-top: 20px;\n  width: 600px;\n  border: 1px solid lightgrey;\n  border-radius: 2px;\n}\n\n.top-select {\n  display: flex;\n  height: 50px;\n  justify-content: space-around;\n  align-items: center;\n  border-bottom: 1px solid lightgrey;\n}\n\n.top-select .fas {\n  color: #4fcbc5;\n  cursor: pointer;\n}\n\n.top-select .far {\n  color: lightslategrey;\n}\n\n.clear-filters {\n  font-size: 10px;\n  cursor: pointer;\n  margin-left: 5px;\n}\n\n.select-all {\n  transform: translateX(-10px);\n}\n\n.select-all input {\n  transform: translateY(-2px);\n  margin: 5px;\n}\n\n.tag-section {\n  position: relative;\n  z-index: 4;\n}\n\n.tag-container {\n  width: 150px;\n  height: 100px;\n  background: white;\n  border: 1px solid lightgrey;\n  position: absolute;\n  margin-top: 15px;\n  overflow-y: scroll;\n  text-transform: capitalize;\n}\n\n.taglist {\n  padding: 5px;\n  border-bottom: 1px solid lightgrey;\n  cursor: pointer;\n}\n\n.filter-container {\n  display: flex;\n  flex-direction: column;\n  width: 150px;\n  height: 115px;\n  background: white;\n  border: 1px solid lightgrey;\n  position: absolute;\n  margin-top: 15px;\n  text-transform: capitalize;\n  z-index: 999;\n}\n\n.filter-container span {\n  padding: 5px;\n  border-bottom: 1px solid lightgrey;\n  cursor: pointer;\n  display: flex;\n  justify-content: space-between;\n}\n\n.rating-container {\n  display: flex;\n  flex-direction: column;\n  width: 150px;\n  height: 173px;\n  background: white;\n  border: 1px solid lightgrey;\n  position: absolute;\n  margin-top: 15px;\n  text-transform: capitalize;\n  z-index: 999;\n}\n\n.rating-container span {\n  padding: 5px;\n  border-bottom: 1px solid lightgrey;\n  cursor: pointer;\n  display: flex;\n  justify-content: space-between;\n}\n\n.fa-check-circle {\n  color: #4fcbc5;\n  margin-right: 5px;\n}\n\n.no-tags {\n  margin: 5px;\n}\n\n/* .tag-container::after {\n  position: absolute;\n  content: '';\n  top: -9px;\n  left: 10px;\n  width: 0;\n  height: 0;\n  border: 10px solid transparent;\n  border-top-color: red;\n  border-bottom: 0;\n  border-right: 0;\n  transform: rotate(180deg);\n  z-index: 5;\n} */\n\n.searchbox {\n  width: 40%;\n  height: 25px;\n  border-radius: 2px;\n  border: 1px solid lightgrey;\n  padding: 5px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.searchbox input {\n  transform: translateY(5px);\n  height: 10px;\n  width: 70%;\n}\n\n.customer-list {\n  max-height: 400px;\n  overflow-y: scroll;\n}\n\n.customer-line {\n  padding: 10px;\n  border-bottom: 1px solid rgb(218, 217, 217);\n  display: flex;\n  justify-content: space-between;\n}\n\n.customer-line input {\n  margin: 5px;\n}\n\n.customer-line span {\n\n}\n\n.customer-tags {\n  display: flex;\n  align-items: center;\n}\n\n.customer-tag {\n  font-size: 10px;\n  text-transform: capitalize;\n  border: 1px solid #4fcbc5;\n  border-radius: 10px;\n  padding: 2px 5px;\n  margin-right: 2px;\n}\n\n.filters {\n  position: absolute;\n  right: 50px;\n  top: 250px;\n  width: 300px;\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.filter {\n  display: flex;\n  flex-direction: column;\n}\n\n.tag {\n  border: 1px solid #328ba8;\n  border-radius: 10px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 5px;\n  margin: 5px;\n  text-transform: capitalize;\n  color: #328ba8;\n}\n\n.tag .fa-times {\n  margin-right: 3px;\n  cursor: pointer;\n  font-size: 18px;\n}\n\n/* Schedule */\n\n.summary-header {\n  font-size: 25px;\n  margin-top: 0px;\n  margin-bottom: 10px;\n}\n\n.summary-container {\n  border: 1px solid lightblue;\n  border-radius: 3px;\n  padding: 0 20px;\n  width: 600px;\n}\n\n.summary-detail {\n  border-bottom: 1px solid lightblue;\n  padding: 10px 0;\n  display: flex;\n  flex-direction: column;\n}\n\n.summary-detail-subheader {\n  margin-bottom: 10px;\n  font-weight: 500;\n}\n\n.summary-data {\n  display: flex;\n  justify-content: space-between;\n  font-size: 14px;\n  position: relative;\n  margin-bottom: 5px;\n}\n\n.summary-data button {\n  color: #595959;\n  text-transform: capitalize;\n  border: 1px solid grey;\n  border-radius: 3px;\n  padding: 7px 10px;\n  transform: translateY(-10px);\n  position: absolute;\n  right: 0;\n}\n\n.sms-preview-text {\n  width: 90%;\n}\n\n.schedule {\n  font-size: 14px;\n}\n\n.greyed {\n  color: grey;\n}\n\n.no-border {\n  border: none;\n}\n\n.test-message-container {\n  display: flex;\n  flex-direction: column;\n  margin-top: 10px;\n  border: 1px solid lightblue;\n  border-radius: 3px;\n  padding: 0 20px;\n  width: 600px;\n}\n\n.test-message {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.border {\n  border-bottom: 1px solid lightblue;\n}\n\n.dropped {\n  transform: translateY(5px);\n}\n\n.send-message-details {\n  margin-top: 10px;\n}\n\n.send-message-details input {\n  margin-right: 10px;\n  border: 1px solid lightgrey;\n}\n\n.send-message-details button {\n  color: white;\n  background: blue;\n  padding: 5px 10px;\n  border-radius: 3px;\n  text-transform: capitalize;\n  font-weight: 500;\n}\n\n.disabled {\n  background: grey !important;\n}\n\n.error-message {\n  font-size: 12px;\n  color: red;\n  margin-right: 20px;\n}\n\n/* Bottom Navigation */\n\n.bottom-nav {\n  width: 90%;\n  position: absolute;\n  bottom: 10px;\n  right: 70px;\n  display: flex;\n  justify-content: space-between;\n}\n\n.bottom-nav button {\n  background: lightskyblue;\n  padding: 15px 30px;\n  color: white;\n  border-radius: 3px;\n}\n\n.previous button {\n  background: orange;\n}\n\n.next-or-save button {\n  margin-right: 20px;\n}\n\n.save-and-exit {\n  background: blue !important;\n}\n\n.save-and-schedule {\n  background: blue !important;\n}\n\n.scroll {\n  max-height: 250px;\n  overflow-y: scroll;\n}\n\n</style>\n"]}]}