{"remainingRequest":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/src/components/CustomerList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/src/components/CustomerList.vue","mtime":1581270622000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBhZGRDdXN0b21lciBmcm9tICIuL0FkZEN1c3RvbWVyIjsKaW1wb3J0IGN1c3RvbWVyRGV0YWlsIGZyb20gIi4vQ3VzdG9tZXJEZXRhaWwiOwppbXBvcnQgQWRkTm90ZSBmcm9tICIuL0FkZE5vdGUiOwppbXBvcnQgQ3VzdG9tZXJTZXJ2aWNlIGZyb20gIi4vLi4vc2VydmljZXMvQ3VzdG9tZXJTZXJ2aWNlIjsKaW1wb3J0IExvY2F0aW9uU2VydmljZSBmcm9tICIuLy4uL3NlcnZpY2VzL0xvY2F0aW9uU2VydmljZSI7CmltcG9ydCBDU1ZQcmV2aWV3IGZyb20gIi4vQ1NWUHJldmlldyI7Ci8vIGltcG9ydCBSZVJlcXVlc3RNb2RhbCBmcm9tICcuL1JlUmVxdWVzdE1vZGFsJzsKaW1wb3J0IEF1dG9jb21wbGV0ZSBmcm9tICcuL0F1dG9jb21wbGV0ZSc7CmltcG9ydCB7IEV2ZW50U2VydmljZSB9IGZyb20gIi4uL21haW4iOwppbXBvcnQgVXNlclNlcnZpY2UgZnJvbSAiLi8uLi9zZXJ2aWNlcy9Vc2VyU2VydmljZSI7CmltcG9ydCBQYXBhIGZyb20gIi4uLy4uL25vZGVfbW9kdWxlcy9wYXBhcGFyc2UvcGFwYXBhcnNlLmpzIjsKaW1wb3J0IEN1c3RvbWVyQ2hhdCBmcm9tICcuL0N1c3RvbWVyQ2hhdCc7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImN1c3RvbWVyTGlzdCIsCiAgY29tcG9uZW50czogewogICAgYWRkQ3VzdG9tZXIsCiAgICBjdXN0b21lckRldGFpbCwKICAgIENTVlByZXZpZXcsCiAgICAvLyBSZVJlcXVlc3RNb2RhbCwKICAgIEN1c3RvbWVyQ2hhdCwKICAgIEF1dG9jb21wbGV0ZSwKICAgIEFkZE5vdGUKICB9LAogIGRhdGE6IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHsKICAgICAgc2VsZWN0ZWQ6ICdhbGwnLAogICAgICBjdXN0b21lcnM6IFtdLAogICAgICBkaXNwbGF5SW5mbzogdHJ1ZSwKICAgICAgZGlzcGxheU5vdGVzOiB0cnVlLAogICAgICBkaXNwbGF5VGFnczogZmFsc2UsCiAgICAgIGRpc3BsYXlBZG1pbjogZmFsc2UsCiAgICAgIGRpc3BsYXlDb250YWN0OiB0cnVlLAogICAgICBhZGRpbmdOb3RlOiBmYWxzZSwKICAgICAgc2VhcmNoVGV4dDogIiIsCiAgICAgIG5ld05vdGU6ICIiLAogICAgICBzZWxlY3RlZFZpZXc6ICdjaGF0JywKICAgICAgb3BlbkN1c3RvbWVyTW9kYWw6IGZhbHNlLAogICAgICBvcGVuQ3VzdG9tZXJEZXRhaWxNb2RhbDogZmFsc2UsCiAgICAgIGRpc3BsYXlOb3RlTW9kYWw6IGZhbHNlLAogICAgICBzZWxlY3RlZEN1c3RvbWVyOiBudWxsLAogICAgICBzZWxlY3RlZEN1c3RvbWVyTm90ZXM6IFtdLAogICAgICBzaG93Q3VzdG9tZXJDaGF0OiBmYWxzZSwKICAgICAgcHJldmlld0NTVjogZmFsc2UsCiAgICAgIHJlcXVlc3RBZ2FpbjogZmFsc2UsCiAgICAgIHNvcnRUeXBlOiAiLWRhdGUiLAogICAgICBkZWxldGVMaXN0OiBbXSwKICAgICAgZGlzcGxheUJ1dHRvbnM6IGZhbHNlLAogICAgICByYXdEYXRhOiBbXSwKICAgICAgbG9jYXRpb25TZWxlY3RlZDogIiIsCiAgICAgIGxvY2F0aW9uczogW10sCiAgICAgIGlzU3VwZXJBZG1pbjogZmFsc2UsCiAgICAgIHN0YXR1c0ZpbHRlcjogIiIsCiAgICAgIHJhdGluZ0ZpbHRlcjogIiIsCiAgICAgIGxvY2F0aW9uRmlsdGVyOiAiIiwKICAgICAgdG90YWxSZXN1bHRzOiAwLAogICAgICB0b3RhbFVucmVhZDogMCwKICAgICAgc2VsZWN0ZWRQYWdlOiAwLAogICAgICByZXN1bHRzUGVyUGFnZTogNTAsCiAgICAgIG1vcmVDdXN0b21lcnNUb0xvYWQ6IGZhbHNlLAogICAgICBzY3JvbGxPYnNlcnZlcjogbnVsbCwKICAgICAgZmlsZU5hbWU6ICcnLAogICAgICBhbGxTOiBmYWxzZSwKICAgICAgc2VsZWN0ZWRMb2NhdGlvblFzOiAnJywKICAgICAgdXNlclJvbGU6ICcnLAogICAgICBsb2NhdGlvbk5hbWU6ICcnLAogICAgICByYXdEYXRhOiAnJywKICAgICAgbm90ZTogJycKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgdXBwZXJCb3VuZCgpIHsKICAgICAgcmV0dXJuIE1hdGguY2VpbCh0aGlzLnRvdGFsUmVzdWx0cy90aGlzLnJlc3VsdHNQZXJQYWdlKQogICAgfSwKICAgIHBhZ2luYXRpb24oKSB7CiAgICAgIGlmKHRoaXMuc2VsZWN0ZWRQYWdlID4gNCAmJiB0aGlzLnNlbGVjdGVkUGFnZSA8IHRoaXMudXBwZXJCb3VuZCAtIDUgJiYgdGhpcy51cHBlckJvdW5kID4gMTAgKSB7CiAgICAgICAgcmV0dXJuIFt0aGlzLnNlbGVjdGVkUGFnZSAtNCwgdGhpcy5zZWxlY3RlZFBhZ2UgLTMsIHRoaXMuc2VsZWN0ZWRQYWdlIC0yLCB0aGlzLnNlbGVjdGVkUGFnZSAtMSwgdGhpcy5zZWxlY3RlZFBhZ2UsIHRoaXMuc2VsZWN0ZWRQYWdlICsgMSwgdGhpcy5zZWxlY3RlZFBhZ2UgKyAyLCB0aGlzLnNlbGVjdGVkUGFnZSArIDMsIHRoaXMuc2VsZWN0ZWRQYWdlICsgNCwgdGhpcy5zZWxlY3RlZFBhZ2UgKyA1XQogICAgICB9CiAgICAgIGlmKHRoaXMuc2VsZWN0ZWRQYWdlID49IHRoaXMudXBwZXJCb3VuZCAtIDYgJiYgdGhpcy51cHBlckJvdW5kID4gMTAgKSB7CiAgICAgICAgcmV0dXJuIFt0aGlzLnVwcGVyQm91bmQgLSA5LCB0aGlzLnVwcGVyQm91bmQgLSA4LCB0aGlzLnVwcGVyQm91bmQgLSA3LCB0aGlzLnVwcGVyQm91bmQgLSA2LCB0aGlzLnVwcGVyQm91bmQgLSA1LCB0aGlzLnVwcGVyQm91bmQgLSA0LCB0aGlzLnVwcGVyQm91bmQgLSAzLCB0aGlzLnVwcGVyQm91bmQgLSAyLCB0aGlzLnVwcGVyQm91bmQgLSAxLCB0aGlzLnVwcGVyQm91bmQgXQogICAgICB9CiAgICAgIGVsc2UgewogICAgICAgIHJldHVybiBNYXRoLm1pbigxMCwgTWF0aC5jZWlsKHRoaXMudG90YWxSZXN1bHRzL3RoaXMucmVzdWx0c1BlclBhZ2UpKQogICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5sb2NhdGlvblNlbGVjdGVkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oImxvY2F0aW9uSWQiKTsKICAgIGlmKHRoaXMuJHJvdXRlLnBhcmFtcy5jdXN0b21lcklkKSB7CiAgICAgIGxldCByb3V0ZUN1c3RvbWVySWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuY3VzdG9tZXJJZDsKICAgICAgQ3VzdG9tZXJTZXJ2aWNlLmdldEN1c3RvbWVyKHJvdXRlQ3VzdG9tZXJJZCkudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMuc2VsZWN0Q3VzdG9tZXIocmVzKTsKICAgICAgfSkKICAgIH0gZWxzZSBpZih0aGlzLiRyb3V0ZS5xdWVyeS5saXN0KSB7CiAgICAgIHRoaXMuY2hhbmdlU2VsZWN0ZWQoJ3VucmVwbGllZCcpOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5jaGVja0ZvckFkbWluKCk7CiAgICB9CgogICAgVXNlclNlcnZpY2UubG9nUGFnZVZpc2l0KCdjdXN0b21lckxpc3QnKTsKICAgIHRoaXMuZ2V0TG9jYXRpb25RcygpOwogICAgdGhpcy5nZXRVc2VyKCk7CiAgICBFdmVudFNlcnZpY2UuJG9uKCJsb2NhdGlvbkNoYW5nZSIsIHRoaXMubG9jYXRpb25DaGFuZ2UpOwogICAgRXZlbnRTZXJ2aWNlLiRvbigicmVsb2FkQ3VzdG9tZXJDaGF0TGlzdCIsIHRoaXMucmVsb2FkQ3VzdG9tZXJDaGF0TGlzdCk7CiAgICBFdmVudFNlcnZpY2UuJG9uKCJzZXRBY3RpdmVDdXN0b21lckFzVW5yZXNvbHZlZCIsIHRoaXMuc2V0QWN0aXZlQ3VzdG9tZXJBc1VucmVzb2x2ZWQpOwogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuc2Nyb2xsT2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoKFtlbnRyeV0pID0+IHsKICAgICAgaWYgKGVudHJ5ICYmIGVudHJ5LmlzSW50ZXJzZWN0aW5nKSB7CiAgICAgICAgdGhpcy5hcHBlbmRDdXN0b21lcnModGhpcy5zZWxlY3RlZFBhZ2UrMSk7CiAgICAgIH0KICAgIH0pOwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24oKSB7CiAgICBpZih0aGlzLmludGVydmFsKSB7CiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCk7CiAgICB9CiAgICB0aGlzLnNjcm9sbE9ic2VydmVyLmRpc2Nvbm5lY3QoKTsKICAgIEV2ZW50U2VydmljZS4kb2ZmKCJsb2NhdGlvbkNoYW5nZSIsIHRoaXMubG9jYXRpb25DaGFuZ2UpOwogICAgRXZlbnRTZXJ2aWNlLiRvZmYoInJlbG9hZEN1c3RvbWVyQ2hhdExpc3QiLCB0aGlzLnJlbG9hZEN1c3RvbWVyQ2hhdExpc3QpOwogICAgRXZlbnRTZXJ2aWNlLiRvZmYoInNldEFjdGl2ZUN1c3RvbWVyQXNVbnJlc29sdmVkIiwgdGhpcy5zZXRBY3RpdmVDdXN0b21lckFzVW5yZXNvbHZlZCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRVc2VyKCkgewogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICBVc2VyU2VydmljZS5nZXRVc2VyUm9sZSh2bS5sb2NhdGlvbklkKS50aGVuKAogICAgICAgIGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgICAgICB2bS51c2VyUm9sZSA9IHJlc3BvbnNlLnJvbGU7CiAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgZXhwb3J0Q3VzdG9tZXIoKSB7CiAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgibG9hZGluZyIsICJzaG93Iik7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIEN1c3RvbWVyU2VydmljZS5nZXRBbGxDdXN0b21lcnModGhpcy5sb2NhdGlvblNlbGVjdGVkKS50aGVuKCByZXNwb25zZSA9PiB7CiAgICAgICAgdmFyIGV4cG9ydGFibGVDdXN0b21lciA9IFtdOwogICAgICAgIGZvciAodmFyIGk9MDsgaTxyZXNwb25zZS5yZXN1bHRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2YXIgbmV3Q3VzdG9tZXIgPSB7CiAgICAgICAgICAgIGN1c3RvbWVySWQ6IHJlc3BvbnNlLnJlc3VsdHNbaV0uY3VzdG9tZXJJZCwKICAgICAgICAgICAgbG9jYXRpb25JZDogcmVzcG9uc2UucmVzdWx0c1tpXS5sb2NhdGlvbklkLAogICAgICAgICAgICBmaXJzdE5hbWU6IHJlc3BvbnNlLnJlc3VsdHNbaV0uZmlyc3ROYW1lLAogICAgICAgICAgICBsYXN0TmFtZTogcmVzcG9uc2UucmVzdWx0c1tpXS5sYXN0TmFtZSwKICAgICAgICAgICAgY3JlYXRlZERhdGU6IG5ldyBEYXRlKHJlc3BvbnNlLnJlc3VsdHNbaV0uY3JlYXRlZERhdGUpLnRvTG9jYWxlU3RyaW5nKCksCiAgICAgICAgICAgIGVtYWlsOiByZXNwb25zZS5yZXN1bHRzW2ldLmVtYWlsLAogICAgICAgICAgICBwaG9uZTogcmVzcG9uc2UucmVzdWx0c1tpXS5waG9uZSwKICAgICAgICAgICAgbm90ZXM6IHJlc3BvbnNlLnJlc3VsdHNbaV0ubm90ZXMsCiAgICAgICAgICAgIHN0YXR1czogcmVzcG9uc2UucmVzdWx0c1tpXS5zdGF0dXMsCiAgICAgICAgICAgIGxvY2F0aW9uOiByZXNwb25zZS5yZXN1bHRzW2ldLmxvY2F0aW9uLAogICAgICAgICAgICByYXRpbmc6IHJlc3BvbnNlLnJlc3VsdHNbaV0ucmF0aW5nCiAgICAgICAgICB9OwogICAgICAgICAgZXhwb3J0YWJsZUN1c3RvbWVyLnB1c2gobmV3Q3VzdG9tZXIpOwogICAgICAgIH0KICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoImxvYWRpbmciLCAiaGlkZSIpOwogICAgICAgIHZtLmRvd25sb2FkQ3VzdG9tZXIoZXhwb3J0YWJsZUN1c3RvbWVyKTsKICAgICAgfSkKICAgIH0sCiAgICBkaXNwbGF5Q3VzdG9tZXJJbmZvKGN1c3RvbWVyKSB7CiAgICAgIGlmKGN1c3RvbWVyLmZpcnN0TmFtZSB8fCBjdXN0b21lci5sYXN0TmFtZSkgewogICAgICAgIHJldHVybiBjdXN0b21lci5maXJzdE5hbWUgKyAnICcgKyBjdXN0b21lci5sYXN0TmFtZTsKICAgICAgfSBlbHNlIGlmKGN1c3RvbWVyLnBob25lKSB7CiAgICAgICAgcmV0dXJuIGN1c3RvbWVyLnBob25lOwogICAgICB9IGVsc2UgaWYoY3VzdG9tZXIuZW1haWwpIHsKICAgICAgICByZXR1cm4gY3VzdG9tZXIuZW1haWw7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICdVbmtub3duIEN1c3RvbWVyJwogICAgICB9CiAgICB9LAogICAgZG93bmxvYWRDdXN0b21lcihkYXRhKSB7CiAgICAgIGxldCB2bSA9IHRoaXM7CiAgICAgIExvY2F0aW9uU2VydmljZS5nZXRMb2NhdGlvbih2bS5sb2NhdGlvblNlbGVjdGVkKS50aGVuKCByZXNwb25zZSA9PiB7CiAgICAgICAgdm0ubG9jYXRpb25OYW1lID0gcmVzcG9uc2UubmFtZQogICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgibG9hZGluZyIsICJzaG93Iik7CiAgICAgICAgdmFyIGNzdkRvd25sb2FkID0gUGFwYS51bnBhcnNlKGRhdGEpOwogICAgICAgIHZhciBNSU1FX1RZUEUgPSAidGV4dC9jc3YiOwogICAgICAgIHZhciBibG9iID0gbmV3IEJsb2IoW2NzdkRvd25sb2FkXSwge3R5cGU6IE1JTUVfVFlQRX0pOwogICAgICAgIHZhciBjc3ZVUkwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTsKICAgICAgICB2YXIgdGVtcExpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CiAgICAgICAgdGVtcExpbmsuaHJlZiA9IGNzdlVSTDsKICAgICAgICB0ZW1wTGluay5zZXRBdHRyaWJ1dGUoJ2Rvd25sb2FkJywgYCR7dm0ubG9jYXRpb25OYW1lfSBDdXN0b21lciBSZXBvcnQuY3N2YCk7CiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0ZW1wTGluayk7CiAgICAgICAgdGVtcExpbmsuY2xpY2soKTsKICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoImxvYWRpbmciLCAiaGlkZSIpOwogICAgICAgIGNzdkRvd25sb2FkID0ge307CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGVtcExpbmspOwogICAgICAgIH0gY2F0Y2goZSkge30KICAgICAgfSkKICAgIH0sCiAgICBjaGVja0ZvckFkbWluKCkgewogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICBsZXQgY3VycmVudFVzZXIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjdXJyZW50VXNlcicpKTsKICAgICAgdm0uaXNTdXBlckFkbWluID0gY3VycmVudFVzZXIuaXNTdXBlckFkbWluOwogICAgICB2bS51c2VySWQgPSBjdXJyZW50VXNlci51c2VySWQ7CiAgICAgIGlmICghdm0uaXNTdXBlckFkbWluKSB2bS5jaGFuZ2VTZWxlY3RlZCgnYWxsJyk7CiAgICB9LAogICAgZGlzcGxheURhdGUobWlsbGlzKSB7CiAgICAgIHZhciBkYXRlID0gbmV3IERhdGUobWlsbGlzKTsKICAgICAgcmV0dXJuICgKICAgICAgICAxICsKICAgICAgICBkYXRlLmdldE1vbnRoKCkgKwogICAgICAgICIvIiArCiAgICAgICAgZGF0ZS5nZXREYXRlKCkgKwogICAgICAgICIvIiArCiAgICAgICAgZGF0ZS5nZXRGdWxsWWVhcigpICUgMTAwCiAgICAgICk7CiAgICB9LAogICAgc2VsZWN0QWxsKCkgewogICAgICB0aGlzLmN1c3RvbWVycy5tYXAoKGUsIGkpID0+IHsKICAgICAgICB0aGlzLnByZXBGb3JEZWxldGUoZSk7CiAgICAgIH0pOwogICAgfSwKICAgIGxvY2F0aW9uQ2hhbmdlKCkgewogICAgICB0aGlzLmxvY2F0aW9uU2VsZWN0ZWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgibG9jYXRpb25JZCIpOwogICAgICB0aGlzLmRlbGV0ZUxpc3QgPSBbXTsKICAgICAgdGhpcy5zZWFyY2hDdXN0b21lcnMoKTsKICAgIH0sCiAgICBnZXRMb2NhdGlvblFzKCkgewogICAgICBsZXQgdm0gPSB0aGlzOwogICAgICBpZiAodm0ubG9jYXRpb25TZWxlY3RlZCkgewogICAgICAgIExvY2F0aW9uU2VydmljZS5nZXRMb2NhdGlvbih2bS5sb2NhdGlvblNlbGVjdGVkKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgIHZtLnNlbGVjdGVkTG9jYXRpb25RcyA9IHJlc3BvbnNlLnFzRW5hYmxlZDsKICAgICAgICAgIHZtLnRlbXBsYXRlT3B0aW9ucyA9IHJlc3BvbnNlLmd1ZXN0aW9uVGVtcGxhdGU7CiAgICAgICAgfSkKICAgICAgfQogICAgfSwKICAgIHNlYXJjaEN1c3RvbWVycyhwYWdlTnVtKSB7CiAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgibG9hZGluZyIsICJzaG93Iik7CiAgICAgIHRoaXMubW9yZUN1c3RvbWVyc1RvTG9hZCA9IGZhbHNlOwogICAgICB0aGlzLmN1c3RvbWVycyA9IFtdOwogICAgICB0aGlzLnRvdGFsUmVzdWx0cyA9IDA7CiAgICAgIHRoaXMudG90YWxVbnJlYWQgPSAwOwogICAgICB0aGlzLmRlbGV0ZUxpc3QgPSBbXTsKICAgICAgdGhpcy5hbGxTID0gZmFsc2U7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIHZhciBzZWFyY2hPYmplY3QgPSB7fTsKICAgICAgaWYgKHRoaXMuc2VhcmNoVGV4dCkgc2VhcmNoT2JqZWN0LnNlYXJjaFRleHQgPSB0aGlzLnNlYXJjaFRleHQudHJpbSgpOwogICAgICBpZiAodGhpcy5zb3J0VHlwZSkgewogICAgICAgIGlmICh0aGlzLnNvcnRUeXBlID09ICduYW1lJykgewogICAgICAgICAgc2VhcmNoT2JqZWN0LnNvcnQgPSAnZmlyc3ROYW1lJzsKICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc29ydFR5cGUgPT0gJy1uYW1lJykgewogICAgICAgICAgc2VhcmNoT2JqZWN0LnNvcnQgPSAnLWZpcnN0TmFtZSc7CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnNvcnRUeXBlID09ICdkYXRlJykgewogICAgICAgICAgc2VhcmNoT2JqZWN0LnNvcnQgPSAnY3JlYXRlZERhdGUnOwogICAgICAgIH0gZWxzZSBpZiAodGhpcy5zb3J0VHlwZSA9PSAnLWRhdGUnKSB7CiAgICAgICAgICBzZWFyY2hPYmplY3Quc29ydCA9ICctY3JlYXRlZERhdGUnOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzZWFyY2hPYmplY3Quc29ydCA9IHRoaXMuc29ydFR5cGU7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAodGhpcy5sb2NhdGlvblNlbGVjdGVkKSB7CiAgICAgICAgc2VhcmNoT2JqZWN0LmxvY2F0aW9uSWQgPSB0aGlzLmxvY2F0aW9uU2VsZWN0ZWQ7CiAgICAgIH0KCiAgICAgIGlmIChwYWdlTnVtKSB7CiAgICAgICAgc2VhcmNoT2JqZWN0LnBhZ2VOdW0gPSBwYWdlTnVtOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2VsZWN0ZWRQYWdlID0gMDsKICAgICAgfQoKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgaWYodm0uc2VsZWN0ZWRWaWV3ID09ICdsaXN0JykgewogICAgICAgIEN1c3RvbWVyU2VydmljZS5zZWFyY2hDdXN0b21lcnNBZHZhbmNlZChzZWFyY2hPYmplY3QpLnRoZW4oCiAgICAgICAgICBmdW5jdGlvbihyZXNwb25zZSkgewogICAgICAgICAgICB2bS5jdXN0b21lcnMgPSByZXNwb25zZS5yZXN1bHRzOwogICAgICAgICAgICB2bS50b3RhbFJlc3VsdHMgPSByZXNwb25zZS5jb3VudDsKICAgICAgICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KCJsb2FkaW5nIiwgImhpZGUiKTsKICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KCJsb2FkaW5nIiwgImhpZGUiKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmKHZtLnNlbGVjdGVkVmlldyA9PSAnY2hhdCcpIHsKICAgICAgICBsZXQgcmVmcmVzaGluZzsKICAgICAgICB2bS5zZWxlY3RlZEN1c3RvbWVyID8gcmVmcmVzaGluZyA9IHRydWUgOiByZWZyZXNoaW5nID0gZmFsc2U7CiAgICAgICAgQ3VzdG9tZXJTZXJ2aWNlLnNlYXJjaEN1c3RvbWVyRW5nYWdlbWVudChzZWFyY2hPYmplY3QpLnRoZW4oCiAgICAgICAgICBmdW5jdGlvbihyZXNwb25zZSkgewogICAgICAgICAgICB2bS50b3RhbFVucmVhZCA9IDA7CiAgICAgICAgICAgIGxldCBjdXN0b21lcnMgPSByZXNwb25zZS5yZXN1bHRzOwogICAgICAgICAgICB2bS50b3RhbFJlc3VsdHMgPSByZXNwb25zZS5jb3VudDsKICAgICAgICAgICAgY3VzdG9tZXJzLm1hcChjdXN0b21lciA9PiB7CiAgICAgICAgICAgICAgaWYoY3VzdG9tZXIudW5yZWFkTWVzc2FnZXMgJiYgIXZtLmN1c3RvbWVycy5pbmNsdWRlcyhjdXN0b21lcikpIHZtLnRvdGFsVW5yZWFkICs9IDE7CiAgICAgICAgICAgICAgaWYodm0uc2VsZWN0ZWQgPT0gJ3VucmVwbGllZCcgJiYgY3VzdG9tZXIudW5yZWFkTWVzc2FnZXMgPiAwKSB7CiAgICAgICAgICAgICAgICBjdXN0b21lci5yZXNvbHZlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgaWYocmVmcmVzaGluZyAmJiBjdXN0b21lci5jdXN0b21lcklkID09PSB2bS5zZWxlY3RlZEN1c3RvbWVyLmN1c3RvbWVySWQpIHsKICAgICAgICAgICAgICAgICAgY3VzdG9tZXIucmVzb2x2ZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdm0uY3VzdG9tZXJzLnB1c2goY3VzdG9tZXIpCiAgICAgICAgICAgICAgfSBlbHNlIGlmKHZtLnNlbGVjdGVkID09ICdhbGwnKXsKICAgICAgICAgICAgICAgIGlmKGN1c3RvbWVyLnVucmVhZE1lc3NhZ2VzKSB7CiAgICAgICAgICAgICAgICAgIGN1c3RvbWVyLnJlc29sdmVkID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIGlmKHJlZnJlc2hpbmcgJiYgY3VzdG9tZXIuY3VzdG9tZXJJZCA9PT0gdm0uc2VsZWN0ZWRDdXN0b21lci5jdXN0b21lcklkKSB7CiAgICAgICAgICAgICAgICAgICAgY3VzdG9tZXIucmVzb2x2ZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBjdXN0b21lci5yZXNvbHZlZCA9IHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB2bS5jdXN0b21lcnMucHVzaChjdXN0b21lcikKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIGlmICgodm0uc2VsZWN0ZWQgPT0gJ3VucmVwbGllZCcgJiYgdm0uY3VzdG9tZXJzLmxlbmd0aCA8IDE1KSB8fCByZXNwb25zZS5yZXN1bHRzLmxlbmd0aCA8IDE1IHx8IHZtLmN1c3RvbWVycy5sZW5ndGggPT0gdm0udG90YWxSZXN1bHRzKSB7CiAgICAgICAgICAgICAgdm0ubW9yZUN1c3RvbWVyc1RvTG9hZCA9IGZhbHNlOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHZtLm1vcmVDdXN0b21lcnNUb0xvYWQgPSB0cnVlOwogICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICB2bS5zY3JvbGxPYnNlcnZlci5kaXNjb25uZWN0KCk7CiAgICAgICAgICAgICAgICB2bS5zY3JvbGxPYnNlcnZlci5vYnNlcnZlKHZtLiRyZWZzLmN1c3RvbWVyTGlzdEZldGNoKTsKICAgICAgICAgICAgICB9LCAxKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoImxvYWRpbmciLCAiaGlkZSIpOwogICAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoImxvYWRpbmciLCAiaGlkZSIpOwogICAgICAgICAgfQogICAgICAgICkKICAgICAgfQogICAgfSwKICAgIGFwcGVuZEN1c3RvbWVycyhwYWdlTnVtKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIHZhciBzZWFyY2hPYmplY3QgPSB7CiAgICAgICAgcGFnZU51bTogcGFnZU51bQogICAgICB9OwogICAgICBpZiAodGhpcy5zZWFyY2hUZXh0KSBzZWFyY2hPYmplY3Quc2VhcmNoVGV4dCA9IHRoaXMuc2VhcmNoVGV4dC50cmltKCk7CiAgICAgIGlmICh0aGlzLmxvY2F0aW9uU2VsZWN0ZWQpIHsKICAgICAgICBzZWFyY2hPYmplY3QubG9jYXRpb25JZCA9IHRoaXMubG9jYXRpb25TZWxlY3RlZDsKICAgICAgfQoKICAgICAgQ3VzdG9tZXJTZXJ2aWNlLnNlYXJjaEN1c3RvbWVyRW5nYWdlbWVudChzZWFyY2hPYmplY3QpLnRoZW4oCiAgICAgICAgZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAgIGxldCBjdXN0b21lcnMgPSByZXNwb25zZS5yZXN1bHRzOwogICAgICAgICAgdm0udG90YWxSZXN1bHRzID0gcmVzcG9uc2UuY291bnQ7CiAgICAgICAgICB2bS5zZWxlY3RlZFBhZ2UrKzsKICAgICAgICAgIGN1c3RvbWVycy5tYXAoY3VzdG9tZXIgPT4gewogICAgICAgICAgICBpZihjdXN0b21lci51bnJlYWRNZXNzYWdlcyAmJiAhdm0uY3VzdG9tZXJzLmluY2x1ZGVzKGN1c3RvbWVyKSkgdm0udG90YWxVbnJlYWQgKz0gMTsKICAgICAgICAgICAgaWYodm0uc2VsZWN0ZWQgPT0gJ3VucmVwbGllZCcgJiYgY3VzdG9tZXIudW5yZWFkTWVzc2FnZXMgPiAwKSB7CiAgICAgICAgICAgICAgY3VzdG9tZXIucmVzb2x2ZWQgPSBmYWxzZTsKICAgICAgICAgICAgICB2bS5jdXN0b21lcnMucHVzaChjdXN0b21lcikKICAgICAgICAgICAgfSBlbHNlIGlmKHZtLnNlbGVjdGVkID09ICdhbGwnKXsKICAgICAgICAgICAgICBpZihjdXN0b21lci51bnJlYWRNZXNzYWdlcykgewogICAgICAgICAgICAgICAgY3VzdG9tZXIucmVzb2x2ZWQgPSBmYWxzZTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgY3VzdG9tZXIucmVzb2x2ZWQgPSB0cnVlOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB2bS5jdXN0b21lcnMucHVzaChjdXN0b21lcikKICAgICAgICAgICAgfQogICAgICAgICAgfSkKICAgICAgICAgIGlmICgodm0uc2VsZWN0ZWQgPT0gJ3VucmVwbGllZCcgJiYgdm0uY3VzdG9tZXJzLmxlbmd0aCA8ICgxNSAqICh2bS5zZWxlY3RlZFBhZ2UgKyAxKSkpIHx8IHJlc3BvbnNlLnJlc3VsdHMubGVuZ3RoIDwgMTUgfHwgdm0uY3VzdG9tZXJzLmxlbmd0aCA9PSB2bS50b3RhbFJlc3VsdHMpIHsKICAgICAgICAgICAgdm0ubW9yZUN1c3RvbWVyc1RvTG9hZCA9IGZhbHNlOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdm0ubW9yZUN1c3RvbWVyc1RvTG9hZCA9IHRydWU7CiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgdm0uc2Nyb2xsT2JzZXJ2ZXIuZGlzY29ubmVjdCgpOwogICAgICAgICAgICAgIHZtLnNjcm9sbE9ic2VydmVyLm9ic2VydmUodm0uJHJlZnMuY3VzdG9tZXJMaXN0RmV0Y2gpOwogICAgICAgICAgICB9LCAxKTsKICAgICAgICAgIH0KICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgibG9hZGluZyIsICJoaWRlIik7CiAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgibG9hZGluZyIsICJoaWRlIik7CiAgICAgICAgfQogICAgICApCiAgICB9LAogICAgcmVsb2FkQ3VzdG9tZXJDaGF0TGlzdCgpIHsKICAgICAgdGhpcy50b3RhbFJlc3VsdHMgPSAwOwogICAgICB0aGlzLnNlYXJjaEN1c3RvbWVycygwKTsKICAgIH0sCiAgICBzZXRQYWdlTnVtKHBhZ2VOdW0pIHsKICAgICAgdGhpcy5zZWxlY3RlZFBhZ2UgPSBwYWdlTnVtOwogICAgICB0aGlzLnNlYXJjaEN1c3RvbWVycyhwYWdlTnVtKTsKICAgIH0sCiAgICB0b2dnbGVTb3J0KHNldFNvcnRUeXBlKSB7CiAgICAgIGlmICh0aGlzLnNvcnRUeXBlICE9IHNldFNvcnRUeXBlKSB7CiAgICAgICAgdGhpcy5zb3J0VHlwZSA9IHNldFNvcnRUeXBlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc29ydFR5cGUgPSAiLSIgKyB0aGlzLnNvcnRUeXBlOwogICAgICB9CiAgICAgIHRoaXMuc2VhcmNoQ3VzdG9tZXJzKHRoaXMuc2VsZWN0ZWRQYWdlKTsKICAgIH0sCiAgICBlZGl0Q3VzdG9tZXIoY3VzdG9tZXIpIHsKICAgICAgaWYoY3VzdG9tZXIpIHsKICAgICAgICB0aGlzLnNlbGVjdGVkQ3VzdG9tZXIgPSBjdXN0b21lcjsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnNlbGVjdGVkQ3VzdG9tZXIgPSBudWxsOwogICAgICB9CiAgICAgIHRoaXMub3BlbkN1c3RvbWVyTW9kYWwgPSB0cnVlOwogICAgfSwKICAgIG1hc3NBZGRDdXN0b21lcihldmVudCkgewogICAgICBFdmVudFNlcnZpY2UuJGVtaXQoImxvYWRpbmciLCAic2hvdyIpOwogICAgICBpZiAoZXZlbnQudGFyZ2V0LmZpbGVzWzBdKSB7CiAgICAgICAgbGV0IGZpbGVzTGlzdCA9IGV2ZW50LnRhcmdldC5maWxlc1swXTsKICAgICAgICB0aGlzLmZpbGVOYW1lID0gZXZlbnQudGFyZ2V0LmZpbGVzWzBdLm5hbWU7CiAgICAgICAgbGV0IHZtID0gdGhpczsKICAgICAgICBQYXBhLnBhcnNlKGZpbGVzTGlzdCwgewogICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uKHJlc3VsdCkgewogICAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoImxvYWRpbmciLCAiaGlkZSIpOwogICAgICAgICAgICB2bS5yYXdEYXRhID0gcmVzdWx0LmRhdGE7CiAgICAgICAgICAgIHZtLnByZXZpZXdNb2RhbCgpOwogICAgICAgICAgICAvLyBjb25zb2xlLmxvZygiSW5pdCBSYXciLCB2bS5yYXdEYXRhKTsKICAgICAgICAgIH0sCiAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oZXJyb3IpIHsKICAgICAgICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KCJsb2FkaW5nIiwgImhpZGUiKTsKICAgICAgICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KAogICAgICAgICAgICAgICJlcnJvck1lc3NhZ2UiLAogICAgICAgICAgICAgICJTb3JyeSwgc29tZXRoaW5nIHdlbnQgd3JvbmcuIFBsZWFzZSB0cnkgYWdhaW4uIgogICAgICAgICAgICApOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgc2VsZWN0Q3VzdG9tZXIoY3VzdG9tZXIpIHsKICAgICAgdGhpcy5zZWFyY2hUZXh0ID0gY3VzdG9tZXIuY3VzdG9tZXJJZAogICAgICB0aGlzLnNlbGVjdGVkVmlldyA9ICdjaGF0JzsKICAgICAgdGhpcy5zZWxlY3RDdXN0b21lckNoYXQoY3VzdG9tZXIpOwogICAgICB0aGlzLnNlYXJjaEN1c3RvbWVycygpOwogICAgICB0aGlzLnNlYXJjaFRleHQgPSBjdXN0b21lci5maXJzdE5hbWUgKyAnICcgKyBjdXN0b21lci5sYXN0TmFtZTsKICAgIH0sCiAgICBkZWxldGVDdXN0b21lcihjdXN0b21lcikgewogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICBpZiAod2luZG93LmNvbmZpcm0oIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhpcyBjdXN0b21lcj8iKSkgewogICAgICAgIEN1c3RvbWVyU2VydmljZS5kZWxldGVDdXN0b21lcihjdXN0b21lci5jdXN0b21lcklkKS50aGVuKAogICAgICAgICAgZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAgICAgdm0uY2xvc2VDdXN0b21lckNoYXQoKTsKICAgICAgICAgICAgdm0uc2VhcmNoVGV4dCA9ICcnOwogICAgICAgICAgICB2bS5zZWFyY2hDdXN0b21lcnMoKTsKICAgICAgICAgIH0sCiAgICAgICAgICBmdW5jdGlvbihlcnJvcikgewogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICB9CiAgICAgICAgKTsKICAgICAgfQogICAgfSwKICAgIGRpc3BsYXlPcHRpb25zKCkgewogICAgICB0aGlzLmRpc3BsYXlCdXR0b25zID0gIXRoaXMuZGlzcGxheUJ1dHRvbnM7CiAgICB9LAogICAgcHJlcEZvckRlbGV0ZShjdXN0b21lcikgewogICAgICB0aGlzLmxvY2F0aW9uU2VsZWN0ZWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgibG9jYXRpb25JZCIpOwogICAgICBpZiAoIXRoaXMuZGVsZXRlTGlzdC5pbmNsdWRlcyhjdXN0b21lcikpIHsKICAgICAgICB0aGlzLmRlbGV0ZUxpc3QucHVzaChjdXN0b21lcik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5kZWxldGVMaXN0ID0gdGhpcy5kZWxldGVMaXN0LmZpbHRlcihkYXRhID0+IHsKICAgICAgICAgIHJldHVybiBkYXRhICE9PSBjdXN0b21lcjsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIG1hc3NDaGFuZ2VTdGF0dXMoKSB7CiAgICAgIGlmICh3aW5kb3cuY29uZmlybSgiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGNoYW5nZSB0aGVzZSBzdGF0dXNlcz8iKSkgewogICAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgICAgbGV0IG5ld0N1c3RvbWVyU3RhdHVzID0gJyc7CiAgICAgICAgdGhpcy5kZWxldGVMaXN0Lm1hcCgoZSwgaSkgPT4gewogICAgICAgICAgICBpZiAoZS5zdGF0dXMgPT0gJ2FjdGl2ZScpIG5ld0N1c3RvbWVyU3RhdHVzID0gJ2luYWN0aXZlJwogICAgICAgICAgICBpZiAoZS5zdGF0dXMgPT0gJ2luYWN0aXZlJykgbmV3Q3VzdG9tZXJTdGF0dXMgPSAnYWN0aXZlJwogICAgICAgICAgICBDdXN0b21lclNlcnZpY2Uuc2V0Q3VzdG9tZXJTdGF0dXMoZS5jdXN0b21lcklkLCBuZXdDdXN0b21lclN0YXR1cykudGhlbigKICAgICAgICAgICAgICByZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICB2bS5zZWFyY2hDdXN0b21lcnMoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICk7CiAgICAgICAgICB9KQogICAgICAgIHRoaXMuZGlzcGxheUJ1dHRvbnMgPSBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIG1hc3NEZWxldGUoKSB7CiAgICAgIGlmICh3aW5kb3cuY29uZmlybSgiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGVzZSBjdXN0b21lcnM/IikpIHsKICAgICAgICB2YXIgdm0gPSB0aGlzOwogICAgICAgIHRoaXMuZGVsZXRlTGlzdC5tYXAoKGUsIGkpID0+IHsKICAgICAgICAgIEN1c3RvbWVyU2VydmljZS5kZWxldGVDdXN0b21lcihlLmN1c3RvbWVySWQpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICB2bS5zZWFyY2hDdXN0b21lcnMoKTsKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICAgIHRoaXMuZGlzcGxheUJ1dHRvbnMgPSBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIHNldEN1c3RvbWVyU3RhdHVzKGN1c3RvbWVyLCBzdGF0dXMpIHsKICAgICAgbGV0IHZtID0gdGhpczsKICAgICAgQ3VzdG9tZXJTZXJ2aWNlLnNldEN1c3RvbWVyU3RhdHVzKGN1c3RvbWVyLmN1c3RvbWVySWQsIHN0YXR1cykudGhlbigKICAgICAgICByZXNwb25zZSA9PiB7CiAgICAgICAgICB2bS5zZWFyY2hDdXN0b21lcnMoKTsKICAgICAgICB9CiAgICAgICk7CiAgICB9LAogICAgY2xvc2VSZVJlcXVlc3RNb2RhbCgpIHsKICAgICAgdGhpcy5yZXF1ZXN0QWdhaW4gPSBmYWxzZTsKICAgIH0sCiAgICByZVJlcXVlc3RSZXZpZXcoc2luZ2xlKSB7CiAgICAgIGlmKHNpbmdsZSkgewogICAgICAgIHRoaXMucmVxdWVzdEFnYWluID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoCiAgICAgICAgICB3aW5kb3cuY29uZmlybSgKICAgICAgICAgICAgIlBsZWFzZSBjb25maXJtIHlvdSB3b3VsZCBsaWtlIHRvIGFzayB0aGVzZSBjdXN0b21lcnMgZm9yIGEgcmV2aWV3IGFnYWluLiIKICAgICAgICAgICkKICAgICAgICApIHsKICAgICAgICAgIGxldCBsb2NhdGlvbklkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oImxvY2F0aW9uSWQiKTsKICAgICAgICAgIGxldCB2bSA9IHRoaXM7CiAgICAgICAgICB2bS5yZXF1ZXN0QWdhaW4gPSB0cnVlOwogICAgICAgICAgLy8gQmVsb3cgaXMgb2xkIGNvZGUgZm9yIGF1dG9tYXRpYyByZS1yZXF1ZXN0aW5nIGlmIG5vIFFzIGFyZSBlbmFibGVkLgogICAgICAgICAgLy8gaWYodm0uc2VsZWN0ZWRMb2NhdGlvblFzICYmIHZtLnNlbGVjdGVkTG9jYXRpb25RcyA9PSB0cnVlKSB7CiAgICAgICAgICAvLyAgIHZtLnJlcXVlc3RBZ2FpbiA9IHRydWU7CiAgICAgICAgICAvLyB9CiAgICAgICAgICAvLyBlbHNlIHsKICAgICAgICAgIC8vICAgQ3VzdG9tZXJTZXJ2aWNlLnJlUmVxdWVzdChsb2NhdGlvbklkLCB2bS5kZWxldGVMaXN0KS50aGVuKCByZXNwb25zZSA9PiB7CiAgICAgICAgICAvLyAgIGlmIChyZXNwb25zZS5zdWNjZXNzID09IHRydWUpIHsKICAgICAgICAgIC8vICAgICBFdmVudFNlcnZpY2UuJGVtaXQoImxvYWRpbmciLCAiaGlkZSIpOwogICAgICAgICAgLy8gICAgIEV2ZW50U2VydmljZS4kZW1pdCgic3VjY2Vzc01lc3NhZ2UiLCAiSG9vcmF5ISBSZXZpZXdzIFJlcXVlc3RlZC4iKTsKICAgICAgICAgIC8vICAgfSBlbHNlIHsKICAgICAgICAgIC8vICAgICBFdmVudFNlcnZpY2UuJGVtaXQoImxvYWRpbmciLCAiaGlkZSIpOwogICAgICAgICAgLy8gICAgIEV2ZW50U2VydmljZS4kZW1pdCgKICAgICAgICAgIC8vICAgICAgICJlcnJvck1lc3NhZ2UiLAogICAgICAgICAgLy8gICAgICAgIlNvcnJ5LCBzb21ldGhpbmcgd2VudCB3cm9uZy4gUGxlYXNlIHRyeSBhZ2Fpbi4iCiAgICAgICAgICAvLyAgICAgKTsKICAgICAgICAgIC8vICAgfQogICAgICAgICAgLy8gICB9KQogICAgICAgICAgLy8gfQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGNhbkFjdGlvbkN1c3RvbWVyKGFjdGlvbiwgY3VzdG9tZXIpIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9LAogICAgcHJldmlld01vZGFsKCkgewogICAgICB0aGlzLnByZXZpZXdDU1YgPSB0cnVlOwogICAgfSwKICAgIGNoYW5nZVZpZXcoKSB7CiAgICAgIGxldCB2bSA9IHRoaXM7CiAgICAgIGlmKHZtLnNlbGVjdGVkVmlldyA9PSAnbGlzdCcpIHsKICAgICAgICB2bS5zZWxlY3RlZFZpZXcgPSAnY2hhdCc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdm0uc2VhcmNoVGV4dCA9ICcnOwogICAgICAgIHZtLnNlbGVjdGVkVmlldyA9ICdsaXN0JzsKICAgICAgfQogICAgICB2bS5zZWFyY2hDdXN0b21lcnMoKTsKICAgIH0sCiAgICBmb3JtYXRGdWxsRGF0ZShkYXRlKSB7CiAgICAgIGxldCBtZXNzYWdlRGF0ZSA9IG5ldyBEYXRlKGRhdGUpLnRvU3RyaW5nKCkuc3Vic3RyKDQsMjApLnRyaW0oKTsKICAgICAgcmV0dXJuIG1lc3NhZ2VEYXRlOwogICAgfSwKICAgIGZvcm1hdERhdGUoZGF0ZSkgewogICAgICBsZXQgbWVzc2FnZURhdGUgPSBuZXcgRGF0ZShkYXRlKS50b0xvY2FsZVRpbWVTdHJpbmcoKTsKICAgICAgbGV0IGxhc3RDb2xvblBvcyA9IG1lc3NhZ2VEYXRlLmxhc3RJbmRleE9mKCc6Jyk7CiAgICAgIG1lc3NhZ2VEYXRlID0gbWVzc2FnZURhdGUuc3Vic3RyaW5nKDAsIGxhc3RDb2xvblBvcykgKyBtZXNzYWdlRGF0ZS5zdWJzdHJpbmcobGFzdENvbG9uUG9zKzMpOwogICAgICBpZiAoKERhdGUubm93KCkgLSBkYXRlKSA+ICgxMDAwICogNjAgKiA2MCAqIDI0KSkgewogICAgICAgIG1lc3NhZ2VEYXRlID0gbmV3IERhdGUoZGF0ZSkudG9TdHJpbmcoKS5zdWJzdHIoNCw2KS50cmltKCk7CiAgICAgIH0KICAgICAgcmV0dXJuIG1lc3NhZ2VEYXRlOwogICAgfSwKICAgIGdldExhc3RNZXNzYWdlVGV4dChsb2dzKSB7CiAgICAgIGxldCBsYXN0TWVzc2FnZVRleHQgPSAnJzsKICAgICAgZm9yICh2YXIgaT0wOyBpPGxvZ3MubGVuZ3RoICYmIGxhc3RNZXNzYWdlVGV4dCA9PSAnJzsgaSsrKSB7CiAgICAgICAgaWYgKGxvZ3NbaV0udGV4dCkgewogICAgICAgICAgbGFzdE1lc3NhZ2VUZXh0ID0gbG9nc1tpXS50ZXh0OwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gbGFzdE1lc3NhZ2VUZXh0OwogICAgfSwKICAgIGNoYW5nZVNlbGVjdGVkKHR5cGUpIHsKICAgICAgbGV0IHZtID0gdGhpczsKICAgICAgdm0uc2VsZWN0ZWQgPSB0eXBlOwogICAgICB2bS5zZWFyY2hDdXN0b21lcnMoKTsKICAgIH0sCiAgICBzZWxlY3RDdXN0b21lckNoYXQoY3VzdG9tZXIpIHsKICAgICAgdGhpcy5zZWxlY3RlZEN1c3RvbWVyID0gbnVsbDsKICAgICAgdGhpcy5zaG93Q3VzdG9tZXJDaGF0ID0gZmFsc2U7CiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIHRoaXMuc2VsZWN0ZWRDdXN0b21lciA9IGN1c3RvbWVyOwogICAgICAgIHRoaXMuc2VsZWN0ZWRDdXN0b21lck5vdGVzID0gY3VzdG9tZXIubm90ZXMgPyB0eXBlb2YgY3VzdG9tZXIubm90ZXMgPT0gJ3N0cmluZycgPyBbY3VzdG9tZXIubm90ZXNdIDogY3VzdG9tZXIubm90ZXMgOiBbXTsKICAgICAgICB0aGlzLnNob3dDdXN0b21lckNoYXQgPSB0cnVlOwogICAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgICAgTG9jYXRpb25TZXJ2aWNlLmdldExvY2F0aW9uKHRoaXMuc2VsZWN0ZWRDdXN0b21lci5sb2NhdGlvbklkKS50aGVuKGZ1bmN0aW9uKGxvY1JlcykgewogICAgICAgICAgdm0uc2VsZWN0ZWRDdXN0b21lci5sb2NhdGlvbiA9IGxvY1JlczsKICAgICAgICB9KTsKICAgICAgfSwgMSk7CiAgICB9LAogICAgdG9nZ2xlTm90ZSgpewogICAgICB0aGlzLmFkZGluZ05vdGUgPSAhdGhpcy5hZGRpbmdOb3RlOwogICAgICB0aGlzLm5ld05vdGUgPSAnJzsKICAgICAgaWYodGhpcy5hZGRpbmdOb3RlKSB7CiAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gIHRoaXMuJHJlZnMubm90ZUlucHV0LmZvY3VzKCkpOwogICAgICB9CiAgICB9LAogICAgc2F2ZU5vdGUoKSB7CiAgICAgIGxldCB2bSA9IHRoaXM7CiAgICAgIGlmKHZtLm5ld05vdGUgJiYgdm0ubmV3Tm90ZS5sZW5ndGgpIHsKICAgICAgICBsZXQgbm90ZSA9IHZtLm5ld05vdGU7CiAgICAgICAgQ3VzdG9tZXJTZXJ2aWNlLmFkZEN1c3RvbWVyTm90ZSh2bS5zZWxlY3RlZEN1c3RvbWVyLmN1c3RvbWVySWQsIHZtLm5ld05vdGUpLnRoZW4ocmVzID0+IHsKICAgICAgICAgIGlmKHJlcykgewogICAgICAgICAgICB2bS5zZWxlY3RlZEN1c3RvbWVyTm90ZXMucHVzaCh2bS5uZXdOb3RlKTsKICAgICAgICAgICAgdm0ubmV3Tm90ZSA9ICcnOwogICAgICAgICAgICB2bS5hZGRpbmdOb3RlID0gZmFsc2U7CiAgICAgICAgICAgIHZtLnNlbGVjdEN1c3RvbWVyQ2hhdCh2bS5zZWxlY3RlZEN1c3RvbWVyKTsKICAgICAgICAgICAgaWYoIXZtLnNlbGVjdGVkQ3VzdG9tZXJOb3Rlcy5pbmNsdWRlcyhub3RlKSl7CiAgICAgICAgICAgICAgdm0uc2VsZWN0ZWRDdXN0b21lck5vdGVzLnB1c2gobm90ZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KQogICAgICB9CiAgICB9LAogICAgY2xvc2VDdXN0b21lckNoYXQoKSB7CiAgICAgIHRoaXMuc2VsZWN0ZWRDdXN0b21lciA9IG51bGw7CiAgICAgIHRoaXMuc2hvd0N1c3RvbWVyQ2hhdCA9IGZhbHNlOwogICAgfSwKICAgIGNhbmNlbE5vdGUoKSB7CiAgICAgIHRoaXMuZGlzcGxheU5vdGVNb2RhbCA9IGZhbHNlOwogICAgfSwKICAgIGNsb3NlTm90ZU1vZGFsKG5ld05vdGUpIHsKICAgICAgLy8gQWRkIG5vdGUgdG8gbm90ZXMgYXJyYXkgb24gdGhlIGJhY2tlbmQuCiAgICAgIGxldCB2bSA9IHRoaXM7CiAgICAgIEN1c3RvbWVyU2VydmljZS5hZGRDdXN0b21lck5vdGUodm0uc2VsZWN0ZWRDdXN0b21lci5jdXN0b21lcklkLCBuZXdOb3RlKS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYocmVzKSB7CiAgICAgICAgICB0aGlzLnNlbGVjdGVkQ3VzdG9tZXJOb3Rlcy5wdXNoKG5ld05vdGUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zb2xlLmxvZygnQW4gZXJyb3IgaGFzIG9jY3VycmVkLicpOwogICAgICAgIH0KICAgICAgfSkKICAgICAgdGhpcy5kaXNwbGF5Tm90ZU1vZGFsID0gZmFsc2U7CiAgICB9LAogICAgc2V0QWN0aXZlQ3VzdG9tZXIoY3VzdG9tZXIpIHsKICAgICAgbGV0IHZtID0gdGhpczsKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgdm0uc2VhcmNoVGV4dCA9IGN1c3RvbWVyLmVtYWlsIHx8IGN1c3RvbWVyLnBob25lOwogICAgICAgIHZtLnNlbGVjdEN1c3RvbWVyQ2hhdChjdXN0b21lcikKICAgICAgfSwgMTAwMCkKICAgIH0sCiAgICBzZXRBY3RpdmVDdXN0b21lckFzVW5yZXNvbHZlZCgpIHsKICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRDdXN0b21lcikgewogICAgICAgIHRoaXMuc2VsZWN0ZWRDdXN0b21lci5yZXNvbHZlZCAtIGZhbHNlOwogICAgICB9CiAgICB9LAogICAgY2xvc2VUYWdNZW51KCkgewogICAgICBsZXQgY2hpbGRyZW4gPSB0aGlzLiRjaGlsZHJlbjsKICAgICAgaWYoY2hpbGRyZW4gJiYgY2hpbGRyZW4ubGVuZ3RoID4gMSkgewogICAgICAgIGlmKHRoaXMuJGNoaWxkcmVuWzBdLmNsb3NlTWVudSkgewogICAgICAgICAgdGhpcy4kY2hpbGRyZW5bMF0uY2xvc2VNZW51KCk7CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLiRjaGlsZHJlblsxXS5jbG9zZU1lbnUpewogICAgICAgICAgdGhpcy4kY2hpbGRyZW5bMV0uY2xvc2VNZW51KCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgY2xvc2VDdXN0b21lck1vZGFsKCkgewogICAgICB0aGlzLnNlbGVjdGVkQ3VzdG9tZXIgPSBudWxsOwogICAgICB0aGlzLm9wZW5DdXN0b21lck1vZGFsID0gZmFsc2U7CiAgICAgIHRoaXMub3BlbkN1c3RvbWVyRGV0YWlsTW9kYWwgPSBmYWxzZTsKICAgICAgdGhpcy5zaG93Q3VzdG9tZXJDaGF0ID0gZmFsc2U7CiAgICAgIHRoaXMucHJldmlld0NTViA9IGZhbHNlOwogICAgICB0aGlzLnJhd0RhdGEgPSBbXTsKICAgICAgdGhpcy5kZWxldGVMaXN0ID0gW107CiAgICAgIHRoaXMucmVxdWVzdEFnYWluID0gZmFsc2U7CiAgICAgIHRoaXMuJHJlZnMuY3N2SW5wdXQudmFsdWUgPSBudWxsOwogICAgICBFdmVudFNlcnZpY2UuJGVtaXQoImxvYWRpbmciLCAiaGlkZSIpOwogICAgICAvL3RoaXMuc2VhcmNoQ3VzdG9tZXJzKCk7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["CustomerList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CustomerList.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"all\" v-if=\"selectedView == 'list'\">\n      <div class=\"customer-controls\">\n        <div class=\"customer-controls-container\">\n          <div class=\"customer-controls-add\" title=\"Add User\" @click=\"editCustomer()\">\n            <i class=\"fas fa-user-plus\" style=\"margin-bottom: 1px;\" ></i>\n            <span style=\"font-family: FuturaPTDemi;font-weight: bolder;\">Add Customer</span>\n          </div>\n          <div class=\"customer-controls-add\" style=\"margin-left:15px;\" title=\"Mass Upload Via CSV\" @click=\"$refs.csvInput.click()\" >\n            <div><i class=\"fas fa-users\"></i><sup>+</sup></div>\n            <input ref=\"csvInput\" type=\"file\" accept=\"text/csv\" @change=\"massAddCustomer\" />\n            <span style=\"margin-top: 5px; font-family: FuturaPTDemi;font-weight: bolder;\" >Bulk Upload</span>\n          </div>\n          <div class=\"customer-controls-add\" style=\"margin-left:15px;\" title=\"Chat View\" @click=\"changeView()\">\n            <i class=\"fas fa-comments\" style=\"margin-bottom: 1px;\"></i>\n            <span style=\"font-family: FuturaPTDemi;font-weight: bolder;\">Chat View</span>\n          </div>\n          <div class=\"customer-controls-add\" style=\"margin-left:10px;\" v-show=\"deleteList.length > 0\" @click=\"displayOptions\">\n            <i class=\"fas fa-pencil-alt\"></i>\n            <span style=\"font-family: FuturaPTDemi;font-weight: bolder;\">Actions</span>\n            <div class=\"customer-change-options\" v-if=\"displayButtons == true && deleteList.length > 0\">\n              <button @click=\"massChangeStatus()\">Change Statuses</button>\n              <button @click=\"reRequestReview()\" :disabled=\"!locationSelected\" title=\"A location must be selected to re-request these customers.\">Re-Request Reviews</button>\n              <button @click=\"massDelete()\">Delete Selected</button>\n            </div>\n          </div>\n        </div>\n        <div class=\"customer-controls-search\">\n          <input v-model=\"searchText\" @keyup.enter=\"searchCustomers()\" placeholder=\"Search Customers...\"/>\n          <span class=\"customer-controls-search-icon\" @click=\"searchCustomers()\">\n            <i class=\"fas fa-search\"></i>\n          </span>\n        </div>\n      </div>\n      <div class=\"customer-table\">\n        <div class=\"customer-header-row\" style=\"font-family: FuturaPTDemi;font-weight: bolder;\">\n          <div class=\"customer-table-cell-check\">\n            <span class=\"select-all\"> <input v-model=\"allS\" type=\"checkbox\" @change=\"selectAll()\" /><label>Select</label></span>\n          </div>\n          <div class=\"customer-table-cell-0 location\" v-if=\"!locationSelected\">\n            <span>Location </span>\n          </div>\n          <div class=\"customer-table-cell-0 shift\" @click=\"toggleSort('name')\">\n            <span>Name </span>\n            <span v-if=\"sortType == '-name'\"><i class=\"fas fa-sort-up\"></i></span>\n            <span v-if=\"sortType == 'name'\"><i class=\"fas fa-sort-down\"></i></span>\n          </div>\n          <div class=\"customer-table-cell-1 shift\" @click=\"toggleSort('email')\">\n            <span>Email </span>\n            <span v-if=\"sortType == '-email'\"><i class=\"fas fa-sort-up\"></i></span>\n            <span v-if=\"sortType == 'email'\"><i class=\"fas fa-sort-down\"></i></span>\n          </div>\n          <div class=\"customer-table-cell-6 shift\" @click=\"toggleSort('phone')\">\n            <span>Phone </span>\n            <span v-if=\"sortType == '-phone'\"><i class=\"fas fa-sort-up\"></i></span>\n            <span v-if=\"sortType == 'phone'\"><i class=\"fas fa-sort-down\"></i></span>\n          </div>\n          <div class=\"customer-table-cell-2 shift\" @click=\"toggleSort('rating')\">\n            <span>Rating</span>\n            <span v-if=\"sortType == '-rating'\"><i class=\"fas fa-sort-up\"></i></span>\n            <span v-if=\"sortType == 'rating'\"><i class=\"fas fa-sort-down\"></i></span>\n          </div>\n          <div class=\"customer-table-cell-3\" @click=\"toggleSort('status')\">\n            <span>Status </span>\n            <span v-if=\"sortType == '-status'\"><i class=\"fas fa-sort-up\"></i></span>\n            <span v-if=\"sortType == 'status'\"><i class=\"fas fa-sort-down\"></i></span>\n          </div>\n          <div class=\"customer-table-cell-5\" @click=\"toggleSort('date')\">\n            <span>Added On </span>\n            <span v-if=\"sortType == '-date'\"><i class=\"fas fa-sort-up\"></i></span>\n            <span v-if=\"sortType == 'date'\"><i class=\"fas fa-sort-down\"></i></span>\n          </div>\n          <div class=\"customer-table-cell-4\">Actions</div>\n        </div>\n        <div class=\"customer-row quick-transition\" v-for=\"customer in customers\" :key=\"customer._id\" :class=\"{'superadmin-row': customer.isSuperAdmin}\" v-if=\"customer.status != 'deleted' || isSuperAdmin\">\n          <div class=\"customer-table-cell-check\">\n            <span ><input type=\"checkbox\" title=\"Select Customer\" @change=\"prepForDelete(customer)\" v-if=\"canActionCustomer('delete', customer)\" :checked=\"deleteList.includes(customer)\" /></span>\n          </div>\n          <div class=\"customer-table-cell-0 location\" v-if=\"!locationSelected\">{{customer.location.name}}</div>\n          <div class=\"customer-table-cell-0\" @click=\"selectCustomer(customer)\"><span v-if=\"!customer.firstName && !customer.lastName\">Unnamed</span><span v-if=\"customer.firstName\">{{customer.firstName + ' '}}</span><span v-if=\"customer.lastName\">{{customer.lastName}}</span></div>\n          <div class=\"customer-table-cell-1\">{{customer.email}}</div>\n          <div class=\"customer-table-cell-6\">{{customer.phone}}</div>\n          <div class=\"customer-table-cell-2\" v-if=\"!customer.rating\"></div>\n          <div class=\"customer-table-cell-2\" v-if=\"customer.rating == 1\">\n            <i class=\"fa fa-star checked\"></i>\n          </div>\n          <div class=\"customer-table-cell-2\" v-if=\"customer.rating == 2\">\n            <i class=\"fa fa-star checked\"></i>\n            <i class=\"fa fa-star checked\"></i>\n          </div>\n          <div class=\"customer-table-cell-2\" v-if=\"customer.rating == 3\">\n            <i class=\"fa fa-star checked\"></i>\n            <i class=\"fa fa-star checked\"></i>\n            <i class=\"fa fa-star checked\"></i>\n          </div>\n          <div class=\"customer-table-cell-2\" v-if=\"customer.rating == 4\">\n            <i class=\"fa fa-star checked\"></i>\n            <i class=\"fa fa-star checked\"></i>\n            <i class=\"fa fa-star checked\"></i>\n            <i class=\"fa fa-star checked\"></i>\n          </div>\n          <div class=\"customer-table-cell-2\" v-if=\"customer.rating == 5\">\n            <i class=\"fa fa-star checked\"></i>\n            <i class=\"fa fa-star checked\"></i>\n            <i class=\"fa fa-star checked\"></i>\n            <i class=\"fa fa-star checked\"></i>\n            <i class=\"fa fa-star checked\"></i>\n          </div>\n          <div class=\"customer-table-cell-3 right\" v-if=\"customer.status == 'active' || customer.status == 'migrated'\"><i title=\"Active\" class=\"fas fa-check\"></i></div>\n          <div class=\"customer-table-cell-3 right\" v-else-if=\"customer.status == 'inactive'\"><i title=\"Inactive\" class=\"fas fa-ban\"></i></div>\n          <div class=\"customer-table-cell-3 right\" v-else-if=\"customer.status == 'deleted'\"><i title=\"Deleted\" class=\"far fa-times-circle\"></i></div>\n          <div class=\"customer-table-cell-3 right\" v-else>{{customer.status}}</div>\n          <div class=\"customer-table-cell-5\">{{displayDate(customer.createdDate)}}</div>\n          <div class=\"customer-table-cell-4 color-change\">\n            <span @click=\"editCustomer(customer)\" title=\"Edit Customer\" v-if=\"canActionCustomer('edit', customer)\"><i class=\"fas fa-pencil-alt\"></i></span>\n            <span @click=\"setCustomerStatus(customer, 'active')\" title=\"Activate Customer\" v-if=\"customer.status == 'inactive'\">&nbsp;<i class=\"fas fa-unlock\"></i></span>\n            <span @click=\"setCustomerStatus(customer, 'inactive')\" title=\"Deactivate Customer\" v-if=\"['active', 'migrated'].indexOf(customer.status) > -1\">&nbsp;<i class=\"fas fa-ban\"></i></span>\n            <span @click=\"deleteCustomer(customer)\" title=\"Delete Customer\" v-if=\"canActionCustomer('delete', customer) && customer.status !== 'deleted'\"><i class=\"fas fa-times\"></i></span>\n          </div>\n        </div>\n        <div class=\"customer-row\" style=\"text-align: center\" v-if=\"customers.length == 0\">\n          No customers match your search criteria.\n        </div>\n        <div class=\"lower-container\">\n          <div class=\"customer-pagination\" v-if=\"totalResults > resultsPerPage\">\n            <button @click=\"setPageNum(0)\">First</button>\n            <button @click=\"setPageNum(selectedPage-1)\" :disabled=\"selectedPage == 0\">Previous</button>\n            <button v-for=\"i in pagination\" @click=\"setPageNum(i-1)\" :class=\"{'button-selected': selectedPage == i-1}\">{{i}}</button>\n            <button @click=\"setPageNum(selectedPage+1)\" :disabled=\"selectedPage == Math.ceil(totalResults/resultsPerPage) - 1\">Next</button>\n            <button @click=\"setPageNum(Math.ceil(totalResults/resultsPerPage) - 1)\">Last</button>\n          </div>\n          <div class=\"export-container\" v-if=\"userRole && locationSelected && (userRole == 'owner' || userRole == 'manager' )\">\n            <button @click=\"exportCustomer()\">Export Customers</button>\n          </div>\n        </div>\n        <customerDetail :selectedCustomer=\"selectedCustomer\" :locationSelected=\"locationSelected\" v-if=\"openCustomerDetailModal\" v-on:closeModal=\"closeCustomerModal()\"/>\n        <re-request-modal :customerList=\"deleteList\" :locationSelected=\"locationSelected\" v-if=\"requestAgain && selectedView == 'list'\" v-on:closeModal=\"closeCustomerModal()\" />\n      </div>\n    </div>\n\n    <div class=\"chat-view\" v-if=\"selectedView == 'chat'\" @click=\"closeTagMenu()\">\n      <div class=\"customer-nav-container\">\n        <div class=\"command-container\">\n          <div class=\"customer-controls-add\" title=\"Add Customer\" @click=\"editCustomer()\">\n            <i class=\"fas fa-user-plus\" style=\"margin-bottom: 1px;\" ></i>\n            <span style=\"font-weight: bolder;\">Add Customer</span>\n          </div>\n          <div class=\"customer-controls-add\" title=\"Mass Upload Via CSV\" @click=\"$refs.csvInput.click()\" >\n            <div><i class=\"fas fa-users\"></i><sup>+</sup></div>\n            <input ref=\"csvInput\" type=\"file\" accept=\"text/csv\" @change=\"massAddCustomer\" />\n            <span style=\"margin-top: 5px; font-weight: bolder;\" >Bulk Upload</span>\n          </div>\n          <div class=\"customer-controls-add\" title=\"Add User\" @click=\"changeView()\">\n            <i class=\"fas fa-th-list\" ></i>\n            <span style=\"font-weight: bolder;\">List View</span>\n          </div>\n        </div>\n        <div class=\"customer-search\">\n          <input v-model=\"searchText\" @keyup.enter=\"searchCustomers()\" placeholder=\"Search...\"/>\n          <span class=\"customer-chat-search-icon\" @click=\"searchCustomers()\">\n            <i class=\"fas fa-search\"></i>\n          </span>\n        </div>\n        <div class=\"customer-list\">\n          <div class=\"selection-element\">\n            <span @click=\"changeSelected('unreplied')\" :class=\"{'selection-selected': selected == 'unreplied'}\" style=\"position: relative;\">Open <span class=\"circle-selection unreplied-messages circle-selection-single\" style=\"top: 5px; margin-top: 0px;\" v-if=\"totalUnread > 0\">{{totalUnread}}</span></span>\n            <span @click=\"changeSelected('all')\" :class=\"{'selection-selected': selected == 'all'}\">All</span>\n          </div>\n          <div class=\"contain-scroll hide-scroll\" v-if=\"customers && customers.length > 0\">\n            <div class=\"customers-scroll-container\" v-for=\"customer in customers\" :class=\"{'customer-selected': selectedCustomer == customer}\" @click=\"selectCustomerChat(customer)\">\n              <img class=\"customer-list-icon\" src=\"../assets/img/Opiniioncx_Icon.png\">\n              <div class=\"customer-scroll-details\">\n                <span class=\"customer-scroll-name\">\n                  {{displayCustomerInfo(customer)}}\n                </span>\n                <span class=\"customer-last-message\">{{getLastMessageText(customer.logs)}}</span>\n                <span class=\"customer-last-message-timestamp\" v-if=\"customer.lastLogDate\">{{formatDate(customer.lastLogDate)}}</span>\n                <span class=\"customer-list-status\" v-if=\"!customer.resolved\">Open</span>\n                <span class=\"customer-list-status\" v-if=\"customer.resolved\"></span>\n              </div>\n              <div class=\"circle-selection unreplied-messages\" v-if=\"customer.unreadMessages > 1 && !customer.resolved\">{{customer.unreadMessages > 9 ? '9+' : customer.unreadMessages}}</div>\n              <div class=\"circle-selection unreplied-messages circle-selection-single one-message\" v-show=\"customer.unreadMessages == 1 && !customer.resolved\"></div>\n            </div>\n            <div class=\"customer-list-loading\" v-if=\"moreCustomersToLoad\" ref=\"customerListFetch\" @click=\"appendCustomers(selectedPage + 1)\">\n              Loading more...\n            </div>\n          </div>\n          <div class=\"customers-scroll-empty\" v-if=\"customers.length == 0\">\n            <span class=\"customer-scroll-no-customers\">No customers were found.</span>\n          </div>\n        </div>\n      </div>\n      <div class=\"customer-not-selected\" v-if=\"!showCustomerChat\">\n        <div class=\"customer-not-selected-content\">\n          <div class=\"customer-not-selected-img\"><img src=\"../assets/img/favi_opiniion_grey.png\" /></div>\n          <div class=\"customer-not-selected-text\">\n            <div style=\"font-weight: bold\">Start Interacting with Customers!</div>\n            <div>Select a Customer to Start a Conversation</div>\n          </div>\n        </div>\n      </div>\n      <customer-chat class=\"embedded-customer-chat\" :selectedCustomer=\"selectedCustomer\"  v-on:addCustomerNote=\"closeNoteModal($event)\" v-on:closeCustomerChat=\"closeCustomerChat()\" v-if=\"showCustomerChat\"></customer-chat>\n      <div class=\"customer-detail-container\" v-if=\"selectedCustomer\">\n        <div class=\"customer-detail-header\">\n          <span @click=\"displayContact = !displayContact\"> <i class=\"fas fa-chevron-up\" v-if=\"displayContact\"></i>\n          <i class=\"fas fa-chevron-down\" v-if=\"!displayContact\"></i> CONTACT </span>\n        </div>\n        <div class=\"detail-box\">\n          <header>\n            <div class=\"customer-name-container\" v-if=\"displayContact\">\n              <span class=\"customer-right-name\" v-if=\"displayContact\">{{selectedCustomer.firstName}} {{selectedCustomer.lastName}} &nbsp; <i class=\"fas fa-pencil-alt abs\" style=\"cursor:pointer; font-size:12px;\" @click=\"editCustomer(selectedCustomer)\"></i> <br/> </span>\n              <span v-if=\"selectedCustomer.rating && displayContact\" >\n                  <div class=\"stars\" v-if=\"selectedCustomer.rating == 1\">\n                    <i class=\"fa fa-star checked\"></i>\n                  </div>\n                  <div class=\"stars\" v-if=\"selectedCustomer.rating == 2\">\n                    <i class=\"fa fa-star checked\"></i>\n                    <i class=\"fa fa-star checked\"></i>\n                  </div>\n                  <div class=\"stars\" v-if=\"selectedCustomer.rating == 3\">\n                    <i class=\"fa fa-star checked\"></i>\n                    <i class=\"fa fa-star checked\"></i>\n                    <i class=\"fa fa-star checked\"></i>\n                  </div>\n                  <div class=\"stars\" v-if=\"selectedCustomer.rating == 4\">\n                    <i class=\"fa fa-star checked\"></i>\n                    <i class=\"fa fa-star checked\"></i>\n                    <i class=\"fa fa-star checked\"></i>\n                    <i class=\"fa fa-star checked\"></i>\n                  </div>\n                  <div class=\"stars\" v-if=\"selectedCustomer.rating == 5\">\n                    <i class=\"fa fa-star checked\"></i>\n                    <i class=\"fa fa-star checked\"></i>\n                    <i class=\"fa fa-star checked\"></i>\n                    <i class=\"fa fa-star checked\"></i>\n                    <i class=\"fa fa-star checked\"></i>\n                  </div>\n              </span>\n              <span class=\"no-rating\" v-else-if=\"displayContact\"><div style=\"margin-top:5px;font-style:italic;\">No rating</div></span>\n              <span class=\"customer-name-location\">{{selectedCustomer.locationName}}</span>\n            </div>\n          </header>\n          <div class=\"right-info\">\n            <div class=\"notes-button\">\n              <span @click=\"displayInfo = !displayInfo\"><i class=\"fas fa-chevron-down\" v-if=\"!displayInfo\"></i><i class=\"fas fa-chevron-up\" v-if=\"displayInfo\"></i> INFO</span>\n            </div>\n            <div class=\"contact-info\" v-if=\"displayInfo\">\n              <span> Email: <span v-if=\"selectedCustomer.email\">{{selectedCustomer.email}}</span> <span v-else>None</span></span>\n              <span> Phone: <span v-if=\"selectedCustomer.phone\">{{selectedCustomer.phone.substring(0, 3)}}-{{selectedCustomer.phone.substring(3, 6)}}-{{selectedCustomer.phone.substring(6)}}</span> <span v-else>None</span></span>\n              <span style=\"text-transform: capitalize; margin-top:10px;\"> Status <br/> {{selectedCustomer.status}} </span>\n            </div>\n          </div>\n          <div class=\"right-info notes\">\n            <div class=\"notes-button\">\n              <span @click=\"displayNotes = !displayNotes\"><i class=\"fas fa-chevron-down\" v-if=\"!displayNotes\"></i><i class=\"fas fa-chevron-up\" v-if=\"displayNotes\"></i> NOTES</span>\n            </div>\n            <div class=\"contact-info\" v-if=\"displayNotes\">\n              <span class=\"add-note first-button\" @click=\"toggleNote()\" v-if=\"!addingNote\">Add a Note</span>\n              <span class=\"add-note-span\" v-if=\"addingNote\">\n                <input class=\"note-input\" @keyup.enter=\"saveNote();\" ref=\"noteInput\" type=\"text\" v-model=\"newNote\" maxlength=\"500\" placeholder=\"Write a new note...\">\n                <span class=\"add-note\" @click=\"saveNote()\">Add Note</span>\n                <span class=\"close-note\" @click=\"toggleNote()\">X</span>\n              </span>\n              <span class=\"notes-list hide-scroll\" v-if=\"selectedCustomerNotes && selectedCustomerNotes.length >= 1\"><br/>\n                <span v-for=\"note in selectedCustomerNotes\" >\n                  <span v-if=\"note\">- {{note}}</span>\n                </span>\n                <span v-if=\"!selectedCustomerNotes || (selectedCustomerNotes && selectedCustomerNotes.length == 0)\">None</span>\n              </span>\n            </div>\n          </div>\n          <div class=\"right-info\">\n            <div class=\"notes-button\">\n              <span @click=\"displayTags = !displayTags\"><i class=\"fas fa-chevron-down\" v-if=\"!displayTags\"></i><i class=\"fas fa-chevron-up\" v-if=\"displayTags\"></i> TAGS</span>\n            </div>\n            <div class=\"tags-details\" v-if=\"displayTags\" @click.stop>\n              <autocomplete v-if=\"selectedCustomer\" :type=\"('customer')\" :selectedCustomer=\"selectedCustomer\"></autocomplete>\n            </div>\n          </div>\n          <div class=\"right-info\">\n            <div class=\"notes-button\">\n              <span @click=\"displayAdmin = !displayAdmin\"><i class=\"fas fa-chevron-down\" v-if=\"!displayAdmin\"></i><i class=\"fas fa-chevron-up\" v-if=\"displayAdmin\"></i> ADMIN</span>\n            </div>\n           <div class=\"admin-details\" v-if=\"displayAdmin\">\n              <span>Customer ID: {{selectedCustomer.customerId}}</span>\n              <br>\n              <p class=\"add-note first-button blue\" @click=\"reRequestReview('single')\">Re-Request Review</p>\n              <span>Created on {{formatFullDate(selectedCustomer.createdDate)}}</span>\n              <br>\n              <p class=\"add-note first-button orange\" @click=\"deleteCustomer(selectedCustomer)\">Delete Customer</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <addCustomer :selectedCustomer=\"selectedCustomer\" v-if=\"openCustomerModal\" v-on:setActiveCustomer=\"setActiveCustomer($event)\" v-on:closeModal=\"closeCustomerModal()\"/>\n    <CSVPreview :rawData=\"rawData\" :fileName=\"fileName\" v-if=\"previewCSV\" v-on:closeModal=\"closeCustomerModal()\" />\n    <!-- <re-request-modal v-if=\"requestAgain && selectedView == 'chat'\" :locationSelected=\"(selectedCustomer ? selectedCustomer.locationId : locationSelected)\" :customer=\"selectedCustomer\" v-on:closeModal=\"closeReRequestModal()\" /> -->\n    <add-note v-if=\"displayNoteModal\" @closeNoteModal=\"closeNoteModal\" v-on:cancelNote=\"cancelNote()\" :selectedCustomer=\"selectedCustomer\" :note=\"note\"></add-note>\n  </div>\n</template>\n\n<script>\nimport addCustomer from \"./AddCustomer\";\nimport customerDetail from \"./CustomerDetail\";\nimport AddNote from \"./AddNote\";\nimport CustomerService from \"./../services/CustomerService\";\nimport LocationService from \"./../services/LocationService\";\nimport CSVPreview from \"./CSVPreview\";\n// import ReRequestModal from './ReRequestModal';\nimport Autocomplete from './Autocomplete';\nimport { EventService } from \"../main\";\nimport UserService from \"./../services/UserService\";\nimport Papa from \"../../node_modules/papaparse/papaparse.js\";\nimport CustomerChat from './CustomerChat';\n\nexport default {\n  name: \"customerList\",\n  components: {\n    addCustomer,\n    customerDetail,\n    CSVPreview,\n    // ReRequestModal,\n    CustomerChat,\n    Autocomplete,\n    AddNote\n  },\n  data: function() {\n    return {\n      selected: 'all',\n      customers: [],\n      displayInfo: true,\n      displayNotes: true,\n      displayTags: false,\n      displayAdmin: false,\n      displayContact: true,\n      addingNote: false,\n      searchText: \"\",\n      newNote: \"\",\n      selectedView: 'chat',\n      openCustomerModal: false,\n      openCustomerDetailModal: false,\n      displayNoteModal: false,\n      selectedCustomer: null,\n      selectedCustomerNotes: [],\n      showCustomerChat: false,\n      previewCSV: false,\n      requestAgain: false,\n      sortType: \"-date\",\n      deleteList: [],\n      displayButtons: false,\n      rawData: [],\n      locationSelected: \"\",\n      locations: [],\n      isSuperAdmin: false,\n      statusFilter: \"\",\n      ratingFilter: \"\",\n      locationFilter: \"\",\n      totalResults: 0,\n      totalUnread: 0,\n      selectedPage: 0,\n      resultsPerPage: 50,\n      moreCustomersToLoad: false,\n      scrollObserver: null,\n      fileName: '',\n      allS: false,\n      selectedLocationQs: '',\n      userRole: '',\n      locationName: '',\n      rawData: '',\n      note: ''\n    };\n  },\n  computed: {\n    upperBound() {\n      return Math.ceil(this.totalResults/this.resultsPerPage)\n    },\n    pagination() {\n      if(this.selectedPage > 4 && this.selectedPage < this.upperBound - 5 && this.upperBound > 10 ) {\n        return [this.selectedPage -4, this.selectedPage -3, this.selectedPage -2, this.selectedPage -1, this.selectedPage, this.selectedPage + 1, this.selectedPage + 2, this.selectedPage + 3, this.selectedPage + 4, this.selectedPage + 5]\n      }\n      if(this.selectedPage >= this.upperBound - 6 && this.upperBound > 10 ) {\n        return [this.upperBound - 9, this.upperBound - 8, this.upperBound - 7, this.upperBound - 6, this.upperBound - 5, this.upperBound - 4, this.upperBound - 3, this.upperBound - 2, this.upperBound - 1, this.upperBound ]\n      }\n      else {\n        return Math.min(10, Math.ceil(this.totalResults/this.resultsPerPage))\n      }\n    }\n  },\n  created() {\n    this.locationSelected = localStorage.getItem(\"locationId\");\n    if(this.$route.params.customerId) {\n      let routeCustomerId = this.$route.params.customerId;\n      CustomerService.getCustomer(routeCustomerId).then(res => {\n        this.selectCustomer(res);\n      })\n    } else if(this.$route.query.list) {\n      this.changeSelected('unreplied');\n    } else {\n      this.checkForAdmin();\n    }\n\n    UserService.logPageVisit('customerList');\n    this.getLocationQs();\n    this.getUser();\n    EventService.$on(\"locationChange\", this.locationChange);\n    EventService.$on(\"reloadCustomerChatList\", this.reloadCustomerChatList);\n    EventService.$on(\"setActiveCustomerAsUnresolved\", this.setActiveCustomerAsUnresolved);\n  },\n  mounted() {\n    this.scrollObserver = new IntersectionObserver(([entry]) => {\n      if (entry && entry.isIntersecting) {\n        this.appendCustomers(this.selectedPage+1);\n      }\n    });\n  },\n  beforeDestroy: function() {\n    if(this.interval) {\n      clearInterval(this.interval);\n    }\n    this.scrollObserver.disconnect();\n    EventService.$off(\"locationChange\", this.locationChange);\n    EventService.$off(\"reloadCustomerChatList\", this.reloadCustomerChatList);\n    EventService.$off(\"setActiveCustomerAsUnresolved\", this.setActiveCustomerAsUnresolved);\n  },\n  methods: {\n    getUser() {\n      var vm = this;\n      UserService.getUserRole(vm.locationId).then(\n        function(response) {\n          vm.userRole = response.role;\n        }, function(error) {\n          console.log(error);\n      });\n    },\n    exportCustomer() {\n      EventService.$emit(\"loading\", \"show\");\n      var vm = this;\n      CustomerService.getAllCustomers(this.locationSelected).then( response => {\n        var exportableCustomer = [];\n        for (var i=0; i<response.results.length; i++) {\n          var newCustomer = {\n            customerId: response.results[i].customerId,\n            locationId: response.results[i].locationId,\n            firstName: response.results[i].firstName,\n            lastName: response.results[i].lastName,\n            createdDate: new Date(response.results[i].createdDate).toLocaleString(),\n            email: response.results[i].email,\n            phone: response.results[i].phone,\n            notes: response.results[i].notes,\n            status: response.results[i].status,\n            location: response.results[i].location,\n            rating: response.results[i].rating\n          };\n          exportableCustomer.push(newCustomer);\n        }\n        EventService.$emit(\"loading\", \"hide\");\n        vm.downloadCustomer(exportableCustomer);\n      })\n    },\n    displayCustomerInfo(customer) {\n      if(customer.firstName || customer.lastName) {\n        return customer.firstName + ' ' + customer.lastName;\n      } else if(customer.phone) {\n        return customer.phone;\n      } else if(customer.email) {\n        return customer.email;\n      } else {\n        return 'Unknown Customer'\n      }\n    },\n    downloadCustomer(data) {\n      let vm = this;\n      LocationService.getLocation(vm.locationSelected).then( response => {\n        vm.locationName = response.name\n        EventService.$emit(\"loading\", \"show\");\n        var csvDownload = Papa.unparse(data);\n        var MIME_TYPE = \"text/csv\";\n        var blob = new Blob([csvDownload], {type: MIME_TYPE});\n        var csvURL = window.URL.createObjectURL(blob);\n        var tempLink = document.createElement('a');\n        tempLink.href = csvURL;\n        tempLink.setAttribute('download', `${vm.locationName} Customer Report.csv`);\n        document.body.appendChild(tempLink);\n        tempLink.click();\n        EventService.$emit(\"loading\", \"hide\");\n        csvDownload = {};\n        try {\n          document.body.removeChild(tempLink);\n        } catch(e) {}\n      })\n    },\n    checkForAdmin() {\n      var vm = this;\n      let currentUser = JSON.parse(localStorage.getItem('currentUser'));\n      vm.isSuperAdmin = currentUser.isSuperAdmin;\n      vm.userId = currentUser.userId;\n      if (!vm.isSuperAdmin) vm.changeSelected('all');\n    },\n    displayDate(millis) {\n      var date = new Date(millis);\n      return (\n        1 +\n        date.getMonth() +\n        \"/\" +\n        date.getDate() +\n        \"/\" +\n        date.getFullYear() % 100\n      );\n    },\n    selectAll() {\n      this.customers.map((e, i) => {\n        this.prepForDelete(e);\n      });\n    },\n    locationChange() {\n      this.locationSelected = localStorage.getItem(\"locationId\");\n      this.deleteList = [];\n      this.searchCustomers();\n    },\n    getLocationQs() {\n      let vm = this;\n      if (vm.locationSelected) {\n        LocationService.getLocation(vm.locationSelected).then(response => {\n          vm.selectedLocationQs = response.qsEnabled;\n          vm.templateOptions = response.guestionTemplate;\n        })\n      }\n    },\n    searchCustomers(pageNum) {\n      EventService.$emit(\"loading\", \"show\");\n      this.moreCustomersToLoad = false;\n      this.customers = [];\n      this.totalResults = 0;\n      this.totalUnread = 0;\n      this.deleteList = [];\n      this.allS = false;\n      var vm = this;\n      var searchObject = {};\n      if (this.searchText) searchObject.searchText = this.searchText.trim();\n      if (this.sortType) {\n        if (this.sortType == 'name') {\n          searchObject.sort = 'firstName';\n        } else if (this.sortType == '-name') {\n          searchObject.sort = '-firstName';\n        } else if (this.sortType == 'date') {\n          searchObject.sort = 'createdDate';\n        } else if (this.sortType == '-date') {\n          searchObject.sort = '-createdDate';\n        } else {\n          searchObject.sort = this.sortType;\n        }\n      }\n\n      if (this.locationSelected) {\n        searchObject.locationId = this.locationSelected;\n      }\n\n      if (pageNum) {\n        searchObject.pageNum = pageNum;\n      } else {\n        this.selectedPage = 0;\n      }\n\n      var vm = this;\n      if(vm.selectedView == 'list') {\n        CustomerService.searchCustomersAdvanced(searchObject).then(\n          function(response) {\n            vm.customers = response.results;\n            vm.totalResults = response.count;\n            EventService.$emit(\"loading\", \"hide\");\n          }, function(error) {\n            console.log(error);\n            EventService.$emit(\"loading\", \"hide\");\n        });\n      } else if(vm.selectedView == 'chat') {\n        let refreshing;\n        vm.selectedCustomer ? refreshing = true : refreshing = false;\n        CustomerService.searchCustomerEngagement(searchObject).then(\n          function(response) {\n            vm.totalUnread = 0;\n            let customers = response.results;\n            vm.totalResults = response.count;\n            customers.map(customer => {\n              if(customer.unreadMessages && !vm.customers.includes(customer)) vm.totalUnread += 1;\n              if(vm.selected == 'unreplied' && customer.unreadMessages > 0) {\n                customer.resolved = false;\n                if(refreshing && customer.customerId === vm.selectedCustomer.customerId) {\n                  customer.resolved = true;\n                }\n                vm.customers.push(customer)\n              } else if(vm.selected == 'all'){\n                if(customer.unreadMessages) {\n                  customer.resolved = false;\n                  if(refreshing && customer.customerId === vm.selectedCustomer.customerId) {\n                    customer.resolved = true;\n                  }\n                } else {\n                  customer.resolved = true;\n                }\n                vm.customers.push(customer)\n              }\n            })\n            if ((vm.selected == 'unreplied' && vm.customers.length < 15) || response.results.length < 15 || vm.customers.length == vm.totalResults) {\n              vm.moreCustomersToLoad = false;\n            } else {\n              vm.moreCustomersToLoad = true;\n              setTimeout(function() {\n                vm.scrollObserver.disconnect();\n                vm.scrollObserver.observe(vm.$refs.customerListFetch);\n              }, 1);\n            }\n            EventService.$emit(\"loading\", \"hide\");\n          }, function(error) {\n            console.log(error);\n            EventService.$emit(\"loading\", \"hide\");\n          }\n        )\n      }\n    },\n    appendCustomers(pageNum) {\n      var vm = this;\n      var searchObject = {\n        pageNum: pageNum\n      };\n      if (this.searchText) searchObject.searchText = this.searchText.trim();\n      if (this.locationSelected) {\n        searchObject.locationId = this.locationSelected;\n      }\n\n      CustomerService.searchCustomerEngagement(searchObject).then(\n        function(response) {\n          let customers = response.results;\n          vm.totalResults = response.count;\n          vm.selectedPage++;\n          customers.map(customer => {\n            if(customer.unreadMessages && !vm.customers.includes(customer)) vm.totalUnread += 1;\n            if(vm.selected == 'unreplied' && customer.unreadMessages > 0) {\n              customer.resolved = false;\n              vm.customers.push(customer)\n            } else if(vm.selected == 'all'){\n              if(customer.unreadMessages) {\n                customer.resolved = false;\n              } else {\n                customer.resolved = true;\n              }\n              vm.customers.push(customer)\n            }\n          })\n          if ((vm.selected == 'unreplied' && vm.customers.length < (15 * (vm.selectedPage + 1))) || response.results.length < 15 || vm.customers.length == vm.totalResults) {\n            vm.moreCustomersToLoad = false;\n          } else {\n            vm.moreCustomersToLoad = true;\n            setTimeout(function() {\n              vm.scrollObserver.disconnect();\n              vm.scrollObserver.observe(vm.$refs.customerListFetch);\n            }, 1);\n          }\n          EventService.$emit(\"loading\", \"hide\");\n        }, function(error) {\n          console.log(error);\n          EventService.$emit(\"loading\", \"hide\");\n        }\n      )\n    },\n    reloadCustomerChatList() {\n      this.totalResults = 0;\n      this.searchCustomers(0);\n    },\n    setPageNum(pageNum) {\n      this.selectedPage = pageNum;\n      this.searchCustomers(pageNum);\n    },\n    toggleSort(setSortType) {\n      if (this.sortType != setSortType) {\n        this.sortType = setSortType;\n      } else {\n        this.sortType = \"-\" + this.sortType;\n      }\n      this.searchCustomers(this.selectedPage);\n    },\n    editCustomer(customer) {\n      if(customer) {\n        this.selectedCustomer = customer;\n      } else {\n        this.selectedCustomer = null;\n      }\n      this.openCustomerModal = true;\n    },\n    massAddCustomer(event) {\n      EventService.$emit(\"loading\", \"show\");\n      if (event.target.files[0]) {\n        let filesList = event.target.files[0];\n        this.fileName = event.target.files[0].name;\n        let vm = this;\n        Papa.parse(filesList, {\n          complete: function(result) {\n            EventService.$emit(\"loading\", \"hide\");\n            vm.rawData = result.data;\n            vm.previewModal();\n            // console.log(\"Init Raw\", vm.rawData);\n          },\n          error: function(error) {\n            EventService.$emit(\"loading\", \"hide\");\n            EventService.$emit(\n              \"errorMessage\",\n              \"Sorry, something went wrong. Please try again.\"\n            );\n          }\n        });\n      }\n    },\n    selectCustomer(customer) {\n      this.searchText = customer.customerId\n      this.selectedView = 'chat';\n      this.selectCustomerChat(customer);\n      this.searchCustomers();\n      this.searchText = customer.firstName + ' ' + customer.lastName;\n    },\n    deleteCustomer(customer) {\n      var vm = this;\n      if (window.confirm(\"Are you sure you want to delete this customer?\")) {\n        CustomerService.deleteCustomer(customer.customerId).then(\n          function(response) {\n            vm.closeCustomerChat();\n            vm.searchText = '';\n            vm.searchCustomers();\n          },\n          function(error) {\n            console.log(error);\n          }\n        );\n      }\n    },\n    displayOptions() {\n      this.displayButtons = !this.displayButtons;\n    },\n    prepForDelete(customer) {\n      this.locationSelected = localStorage.getItem(\"locationId\");\n      if (!this.deleteList.includes(customer)) {\n        this.deleteList.push(customer);\n      } else {\n        this.deleteList = this.deleteList.filter(data => {\n          return data !== customer;\n        });\n      }\n    },\n    massChangeStatus() {\n      if (window.confirm(\"Are you sure you want to change these statuses?\")) {\n        var vm = this;\n        let newCustomerStatus = '';\n        this.deleteList.map((e, i) => {\n            if (e.status == 'active') newCustomerStatus = 'inactive'\n            if (e.status == 'inactive') newCustomerStatus = 'active'\n            CustomerService.setCustomerStatus(e.customerId, newCustomerStatus).then(\n              response => {\n                vm.searchCustomers();\n              }\n            );\n          })\n        this.displayButtons = false;\n      }\n    },\n    massDelete() {\n      if (window.confirm(\"Are you sure you want to delete these customers?\")) {\n        var vm = this;\n        this.deleteList.map((e, i) => {\n          CustomerService.deleteCustomer(e.customerId).then(response => {\n            vm.searchCustomers();\n          });\n        });\n        this.displayButtons = false;\n      }\n    },\n    setCustomerStatus(customer, status) {\n      let vm = this;\n      CustomerService.setCustomerStatus(customer.customerId, status).then(\n        response => {\n          vm.searchCustomers();\n        }\n      );\n    },\n    closeReRequestModal() {\n      this.requestAgain = false;\n    },\n    reRequestReview(single) {\n      if(single) {\n        this.requestAgain = true;\n      } else {\n        if (\n          window.confirm(\n            \"Please confirm you would like to ask these customers for a review again.\"\n          )\n        ) {\n          let locationId = localStorage.getItem(\"locationId\");\n          let vm = this;\n          vm.requestAgain = true;\n          // Below is old code for automatic re-requesting if no Qs are enabled.\n          // if(vm.selectedLocationQs && vm.selectedLocationQs == true) {\n          //   vm.requestAgain = true;\n          // }\n          // else {\n          //   CustomerService.reRequest(locationId, vm.deleteList).then( response => {\n          //   if (response.success == true) {\n          //     EventService.$emit(\"loading\", \"hide\");\n          //     EventService.$emit(\"successMessage\", \"Hooray! Reviews Requested.\");\n          //   } else {\n          //     EventService.$emit(\"loading\", \"hide\");\n          //     EventService.$emit(\n          //       \"errorMessage\",\n          //       \"Sorry, something went wrong. Please try again.\"\n          //     );\n          //   }\n          //   })\n          // }\n        }\n      }\n    },\n    canActionCustomer(action, customer) {\n      return true;\n    },\n    previewModal() {\n      this.previewCSV = true;\n    },\n    changeView() {\n      let vm = this;\n      if(vm.selectedView == 'list') {\n        vm.selectedView = 'chat';\n      } else {\n        vm.searchText = '';\n        vm.selectedView = 'list';\n      }\n      vm.searchCustomers();\n    },\n    formatFullDate(date) {\n      let messageDate = new Date(date).toString().substr(4,20).trim();\n      return messageDate;\n    },\n    formatDate(date) {\n      let messageDate = new Date(date).toLocaleTimeString();\n      let lastColonPos = messageDate.lastIndexOf(':');\n      messageDate = messageDate.substring(0, lastColonPos) + messageDate.substring(lastColonPos+3);\n      if ((Date.now() - date) > (1000 * 60 * 60 * 24)) {\n        messageDate = new Date(date).toString().substr(4,6).trim();\n      }\n      return messageDate;\n    },\n    getLastMessageText(logs) {\n      let lastMessageText = '';\n      for (var i=0; i<logs.length && lastMessageText == ''; i++) {\n        if (logs[i].text) {\n          lastMessageText = logs[i].text;\n        }\n      }\n      return lastMessageText;\n    },\n    changeSelected(type) {\n      let vm = this;\n      vm.selected = type;\n      vm.searchCustomers();\n    },\n    selectCustomerChat(customer) {\n      this.selectedCustomer = null;\n      this.showCustomerChat = false;\n      setTimeout(() => {\n        this.selectedCustomer = customer;\n        this.selectedCustomerNotes = customer.notes ? typeof customer.notes == 'string' ? [customer.notes] : customer.notes : [];\n        this.showCustomerChat = true;\n        var vm = this;\n        LocationService.getLocation(this.selectedCustomer.locationId).then(function(locRes) {\n          vm.selectedCustomer.location = locRes;\n        });\n      }, 1);\n    },\n    toggleNote(){\n      this.addingNote = !this.addingNote;\n      this.newNote = '';\n      if(this.addingNote) {\n        this.$nextTick(() =>  this.$refs.noteInput.focus());\n      }\n    },\n    saveNote() {\n      let vm = this;\n      if(vm.newNote && vm.newNote.length) {\n        let note = vm.newNote;\n        CustomerService.addCustomerNote(vm.selectedCustomer.customerId, vm.newNote).then(res => {\n          if(res) {\n            vm.selectedCustomerNotes.push(vm.newNote);\n            vm.newNote = '';\n            vm.addingNote = false;\n            vm.selectCustomerChat(vm.selectedCustomer);\n            if(!vm.selectedCustomerNotes.includes(note)){\n              vm.selectedCustomerNotes.push(note);\n            }\n          }\n        })\n      }\n    },\n    closeCustomerChat() {\n      this.selectedCustomer = null;\n      this.showCustomerChat = false;\n    },\n    cancelNote() {\n      this.displayNoteModal = false;\n    },\n    closeNoteModal(newNote) {\n      // Add note to notes array on the backend.\n      let vm = this;\n      CustomerService.addCustomerNote(vm.selectedCustomer.customerId, newNote).then(res => {\n        if(res) {\n          this.selectedCustomerNotes.push(newNote);\n        } else {\n          console.log('An error has occurred.');\n        }\n      })\n      this.displayNoteModal = false;\n    },\n    setActiveCustomer(customer) {\n      let vm = this;\n      setTimeout(() => {\n        vm.searchText = customer.email || customer.phone;\n        vm.selectCustomerChat(customer)\n      }, 1000)\n    },\n    setActiveCustomerAsUnresolved() {\n      if (this.selectedCustomer) {\n        this.selectedCustomer.resolved - false;\n      }\n    },\n    closeTagMenu() {\n      let children = this.$children;\n      if(children && children.length > 1) {\n        if(this.$children[0].closeMenu) {\n          this.$children[0].closeMenu();\n        } else if (this.$children[1].closeMenu){\n          this.$children[1].closeMenu();\n        }\n      }\n    },\n    closeCustomerModal() {\n      this.selectedCustomer = null;\n      this.openCustomerModal = false;\n      this.openCustomerDetailModal = false;\n      this.showCustomerChat = false;\n      this.previewCSV = false;\n      this.rawData = [];\n      this.deleteList = [];\n      this.requestAgain = false;\n      this.$refs.csvInput.value = null;\n      EventService.$emit(\"loading\", \"hide\");\n      //this.searchCustomers();\n    }\n  }\n};\n</script>\n\n<style scoped>\n\n.chat-view {\n  all: unset;\n  background: white;\n  width: 100%;\n  height: calc(100vh - 55px);\n  display: flex;\n}\n\n.customer-nav-container {\n  display: flex;\n  flex-direction: column;\n  border-right: 2px solid lightgrey;\n  min-width: 275px;\n  max-width: 275px;\n}\n\n.command-container {\n  display: flex;\n  justify-content: space-around;\n  margin: 10px 10px 16px 10px;\n}\n\n.customer-list {\n  margin-top: 8px;\n}\n\n.customer-search {\n  width: 90%;\n  border: none;\n  background: #F8F8F8;\n  border-radius: 15px;\n  margin: 5px 10px 0 10px;\n  display: flex;\n  justify-content: space-between;\n}\n\n.customer-search input {\n  background: transparent;\n  border: none;\n  width: 100%;\n  padding: 0;\n  margin: 0 0 0 15px;\n}\n\n.customer-chat-search-icon {\n  margin: 7px 10px 7px 0;\n  color: #9B9B9B;\n}\n\n.selection-element {\n  display: flex;\n  width: 100%;\n  justify-content: space-between;\n  border-bottom: 1px solid lightgrey;\n  font-size: 12px;\n  color: gray;\n}\n\n.selection-element span {\n  width: 50%;\n  text-align: center;\n  padding: 5px;\n  cursor: pointer;\n  text-transform: uppercase;\n}\n\n.selection-selected {\n  border-bottom: 1.25px solid #4fcbc5;\n}\n\n.customers-scroll-container:hover {\n  background: #F8F8F8;\n}\n\n.customers-scroll-container.customer-selected {\n  background: lightgrey;\n}\n\n.contain-scroll {\n  overflow-x: hidden;\n  height: calc(100vh - 202px);\n}\n\n.customers-scroll-container {\n  padding-top: 5px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  align-content: center;\n  cursor: pointer;\n  padding: 10px 5px;\n  width: 100%;\n  min-height: 50px;\n  position: relative;\n  border-bottom: .5px solid #F5F5F5\n}\n\n.customer-scroll-details {\n  display: flex;\n  flex-direction: column;\n  line-height: 1.3;\n  width: 90%;\n}\n\n.customers-scroll-empty {\n  display: flex;\n  margin-top: 25px;\n}\n\n.customer-scroll-name {\n  width: 75%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.customer-last-message {\n  width: calc(90% - 50px);\n  overflow: hidden;\n  min-height: 20px;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  font-size: 10pt;\n  color: grey;\n}\n\n.customer-last-message-method {\n  position: absolute;\n  right: 24px;\n  bottom: 9px;\n  font-size: 10pt;\n  color: gray;\n}\n\n.customer-last-message-timestamp {\n  font-size: 10pt;\n  color: grey;\n  position: absolute;\n  top: 10px;\n  right: 20px;\n}\n\n.customer-list-status {\n  font-size: 10pt;\n  min-height: 15px;\n  color: gray;\n}\n\n.unread-messages {\n  position: absolute;\n  right: 24px;\n  background: gray;\n  border-radius: 50%;\n  width: 13px;\n  padding: 4px;\n  text-align: center;\n  color: white;\n  font-weight: bold;\n  font-size: 8pt;\n}\n\n.customer-scroll-no-customers {\n  margin-left: 35px;\n}\n\n.customer-list-loading {\n  margin: 25px;\n  text-align: center;\n}\n\n.customer-list-icon {\n  width: 35px;\n  height: 35px;\n  min-width: 35px;\n  min-height: 35px;\n  margin-right: 10px;\n  border: 1px solid #EFEFEF;\n  border-radius: 50%;\n}\n\n/* .customer-detail-container {\n  width: 250px;\n  min-width: 250px;\n  max-width: 250px;\n  border-left: 1px solid #EFEFEF;\n} */\n\n.circle-selection {\n  width: 24px;\n  height: 20px;\n  border: 2px solid #4fcbc5;\n  border-radius: 50%;\n  margin-right: 20px;\n  margin-top: 5px;\n  text-align: center;\n  display: inline-block;\n}\n\n.circle-selection.circle-selection-single {\n  width: 10px;\n  height: 10px;\n  font-size: 10px;\n  padding: 0;\n  position: absolute;\n  right: 10px;\n  top: 30px;\n}\n\n.one-message {\n  height: 5px !important;\n  width: 5px !important;\n}\n\n\n.unreplied-messages {\n  background: #4fcbc5;\n  color: white;\n  font-weight: bolder;\n}\n\ndiv.customer-chat-page.embedded-customer-chat {\n  width: calc(100% - 563px);\n}\n\n.customer-not-selected {\n  background: #f8f8f8;\n  height: 100%;\n  width: 100%;\n}\n\n.customer-not-selected-content {\n  margin: 0 auto;\n  text-align: center;\n  padding-top: calc(50vh - 200px);\n}\n\n.customer-not-selected-img img {\n  height: 200px;\n}\n\n.customer-not-selected-text {\n  color: #999;\n}\n\n.customer-detail-container {\n  width: 285px;\n  min-width: 285px;\n  max-width: 285px;\n  border-left: 1px solid lightgrey;\n  display: flex;\n  /* justify-content: center; */\n  align-content: center;\n  flex-direction: column;\n  color: #545454;\n}\n\n.customer-detail-header {\n  display: flex;\n  flex-direction: row;\n  padding: 10px;\n  border-bottom: 1px solid #EFEFEF;\n}\n\n.customer-name-container {\n  padding: 15px;\n  margin: 0;\n  background: white;\n  font-size: 16pt;\n}\n\n.customer-name-container span {\n  text-align: center;\n}\n\n.stars {\n  margin: 0;\n  color: #4fcbc5;\n  text-align: center;\n}\n\n.customer-controls {\n  float: right;\n  color: #545454;\n  font-size: 20px;\n  background: white;\n  width: calc(100% - 10px);\n  margin-bottom: 20px;\n  padding: 0px 10px 0px 0px;\n  border-radius: 1px;\n  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.25);\n  display: flex;\n  justify-content: space-between;\n  align-content: center;\n  align-items: center;\n}\n\n.customer-controls-container {\n  padding-left: 20px;\n  display: flex;\n}\n\n.customer-controls-add {\n  float: left;\n  padding: 10px 10px 0 0;\n  cursor: pointer;\n  font-weight: normal;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  color: #4fcbc5;\n}\n\n.customer-controls-add span {\n  font-size: 12px;\n  margin-top: 4px;\n  color: #545454;\n}\n\n.customer-controls-add i {\n  font-size: 16pt;\n}\n\n.customer-controls-add input {\n  display: none;\n}\n\n.customer-controls-search {\n  background: transparent;\n  margin: 20px 20px;\n  border: 2px solid #efefef;\n  border-radius: 1px;\n  width: 350px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.customer-controls-search input{\n  border: none;\n  padding: 15px 15px 5px 15px;\n  font-size: 12px;\n}\n\n.customer-controls-search-icon {\n  vertical-align: middle;\n  margin-right: 15px;\n  color: #4fcbc5;\n  cursor: pointer;\n  font-size: 16px;\n}\n\n.customer-mass-edit {\n  display: flex;\n  flex-direction: column;\n  margin-left: 20px;\n}\n\n.customer-mass-edit i{\n  border: 1px solid #4fcbc5;\n  border-radius: 50%;\n  padding: 7px 8px;\n  color: #4fcbc5;\n  width: 20px;\n  margin: 10px 0px 0px 20px;\n}\n\n.customer-mass-edit span{\n  font-size: 12px;\n  padding-top: 4px;\n  /* transform: translate(10px, -5px); */\n}\n\n.customer-change-options {\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  z-index: 2;\n  margin-top: 90px;\n  border: 1px solid lightgrey;\n  border-bottom-left-radius: 3px;\n  border-bottom-right-radius: 3px;\n  transform: translateX(-70px);\n}\n\n.customer-change-options button {\n  border-bottom: 1px solid lightgrey;\n  padding: 5px 10px;\n}\n\n.customer-filters-container {\n  height: 100%;\n  display: flex;\n  margin-top: 5px;\n}\n\n.customer-filter select {\n  width: 200px;\n  margin-right: 20px;\n  background: transparent;\n  font-size: 13px;\n  border-radius: 0px;\n  height: 35px;\n}\n\n.clear-filter-button {\n  font-size: 14px;\n  margin-top: 4px;\n  cursor: pointer;\n  padding: 5px 10px;\n  border: 1px solid #545454ef;\n  border-radius: 5px;\n}\n\n.customer-mass-actions {\n  border: 1px solid #4fcbc5;\n  border-radius: 50%;\n  height: 50px;\n  width: 50px;\n}\n\n.message-date {\n  font-size: 11px;\n}\n\n.message-type {\n  font-size: 12px;\n  font-weight: bold;\n  width: 50%;\n}\n\n.pagination {\n  padding-top: 15px;\n  text-align: center;\n  width: 100%;\n  border-top: 1px solid lightgrey;\n  font-size: 18px;\n}\n\n.pagination i {\n  margin: 0 6px;\n  cursor: pointer;\n}\n\n.fa-caret-left, .fa-caret-right {\n  font-size: 29px;\n  transform: translateY(4px);\n}\n\n\n@keyframes slide {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n.customer-change-options {\n\n}\n\n.customer-change-options button {\n\n}\n\n.customer-table {\n  background: white;\n  font-size: 14px;\n  padding: 10px 0px;\n  clear: both;\n  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.25);\n  border-radius: 1px;\n}\n\ndiv.customer-table div.superadmin-row {\n  background: #ffff00;\n}\n\n.customer-header-row {\n  width: calc(100% - 20px);\n  font-weight: bold;\n  padding: 10px 0 20px 20px;\n  /* border-top: 1px solid #efefef; */\n  border-bottom: 3px solid #efefef;\n  height: 14px;\n  display: flex;\n  flex-wrap: nowrap;\n  justify-content: space-evenly;\n  cursor: pointer;\n}\n\n.customer-header-row div,\n.customer-row div {\n  margin: auto;\n}\n\n.customer-row {\n  width: calc(100% - 20px);\n  clear: both;\n  padding: 10px;\n  border-bottom: 1px solid #efefef;\n  height: auto;\n  display: flex;\n  flex-wrap: nowrap;\n  justify-content: space-evenly;\n  font-size: 12px;\n}\n\n.customer-row:nth-child(even) {\n  /* background: #efefef; */\n}\n\n.customer-row:hover {\n  background: #dfdfdf;\n}\n\n.customer-table-cell-check {\n  flex: 0 0 80px;\n  display: flex;\n  flex-direction: row;\n}\n\n.customer-table-cell-check span {\n  /* margin-right: 10px; */\n}\n\n.customer-table-cell-check input {\n  transform: translateY(4px);\n  margin-left: 25px;\n}\n\n.select-all input {\n  transform: translateY(0px) translateX(-10px);\n  margin-left: 5px;\n}\n\n.customer-table-cell-0 {\n  flex: 0 0 225px;\n  cursor: pointer;\n}\n\n.location {\n  flex: 0 0 155px;\n  text-overflow: ellipsis;\n  cursor: default;\n}\n\n.customer-row .customer-table-cell-0:nth-child(2) {\n  cursor: default;\n}\n\n.customer-table-cell-1 {\n  flex: 0 0 220px;\n  /* text-transform: capitalize; */\n}\n\n.customer-table-cell-2 {\n  flex: 0 0 75px;\n}\n\n.customer-table-cell-3 {\n  flex: 0 0 100px;\n}\n\n.right {\n  transform: translateX(50px);\n}\n\n.customer-table-cell-3 i{\n  font-size: 16px;\n}\n\n.customer-table-cell-3 .fa-check {\n  color: green;\n}\n\n.customer-table-cell-3  .fa-ban {\n  color: orange;\n}\n\n.customer-table-cell-3  .fa-times-circle {\n  color: red;\n}\n\n.customer-row .customer-table-cell-3 div {\n  border: 1px solid #545454;\n  border-radius: 50%;\n  height: 8px;\n  width: 8px;\n}\n\ndiv.active {\n  background: lightgreen;\n}\n\ndiv.inactive {\n  background: lightgrey;\n}\n\ndiv.deleted {\n  background: red;\n}\n\n.customer-row .customer-table-cell-3 {\n  margin-right: 40px;\n}\n\n.customer-table-cell-4 {\n  flex: 0 0 100px;\n  text-align: center;\n}\n.color-change {\n  color: #2d2d2d;\n\n}\n\n.customer-table-cell-5 {\n  flex: 0 0 100px;\n  text-align: center;\n}\n\n.customer-table-cell-6 {\n  flex: 0 0 100px;\n}\n\n.customer-table-cell-4 span {\n  margin-right: 5px;\n  cursor: pointer;\n}\n\n.customer-pagination {\n  border-top: 3px solid #efefef;\n  padding: 10px 10px 0 10px;\n}\n\n\n.customer-pagination button {\n  border: 1px solid #efefef;\n  padding: 10px;\n  cursor: pointer;\n  background: white;\n  border-radius: 0;\n  min-width: 50px;\n}\n\n.customer-pagination button.button-selected {\n  background: #dfdfdf;\n}\n\n.customer-pagination button:hover {\n  background: #dfdfdf;\n}\n\n.fa-star {\n  color: #4fcbc5;\n  text-shadow: 0 3px 0 #fff 0 0 -3px #fff 0 3px 0 #fff 0 0 -3px #fff;\n}\n\n.shift {\n  transform: translateX(-25px);\n}\n\n.lower-container {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n}\n\n.export-container {\n  margin-top: 10px;\n  margin-right: 150px;\n  display: flex;\n  justify-content: center;\n}\n\n.export-container button {\n  background: #4fcbc5;\n  color: white;\n  padding: 10px 20px;\n  margin-left: 20px;\n  border-radius: 1px;\n  cursor: pointer;\n}\n\n.contact-header {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n\n.right-info {\n  padding: 20px 0 20px 10px;\n  max-height: 20vh;\n}\n\n.contact-info {\n  color: #999;\n}\n\n.info-button > span,\n.notes-button > span {\n  cursor: pointer;\n}\n\n.contact-info {\n  display: flex;\n  flex-direction: column;\n  margin-top: 10px;\n}\n\n.contact-info .notes-list{\n  display: flex;\n  flex-direction: column;\n  max-height: 15vh;\n}\n\n.detail-box {\n  width: 100%;\n  padding: 5px;\n  flex-grow: 2;\n  padding: 0;\n}\n\n.detail-box header {\n  display: flex;\n  justify-content: center;\n  text-align: center;\n  height: auto;\n\n}\n\n.detail-box > div {\n  border-top: 1px solid #EFEFEF;\n}\n\n.detail-box > div:last-child {\n  border-bottom: 1px solid #EFEFEF;\n}\n\ni[class*=\"fa-chevron\"] {\n  font-size: 10pt;\n  padding-right: 3px;\n  font-weight: bold;\n}\n\n.tags-details {\n  margin-top: 20px;\n}\n\n.contact-header {\n  margin-bottom: 10px;\n}\n\n.customer-right-name {\n  margin-left: 10px;\n}\n\n.customer-right-edit {\n  font-size: 12px;\n  color: #aaa;\n  vertical-align: middle;\n  cursor: pointer;\n}\n\n.no-rating {\n  font-size: 10pt;\n}\n\n.customer-name-location {\n  font-size: 12px;\n  color: #999;\n}\n\n.add-note {\n  color: white;\n  background: #55B375;\n  border-radius: 10px;\n  width: 100px;\n  text-align: center;\n  padding: 8px 10px;\n  cursor: pointer;\n  font-size: 14px;\n}\n\n.first-button {\n  margin-top: 5px;\n}\n\n.add-note-span {\n  color: black;\n}\n\n.note-input {\n  width: 125px;\n}\n\n.close-note {\n  background: #f48d46;\n  border-radius: 50%;\n  margin-left: 5px;\n  color: white;\n  padding: 2px 6px;\n  cursor: pointer;\n}\n\n.orange {\n  background: #f48d46;\n  width: 125px;\n}\n\n.blue {\n  background: #4fcbc5;\n  width: 125px;\n}\n\n.abs {\n  position: absolute;\n  margin-top: 8px;\n}\n\n</style>\n"]}]}