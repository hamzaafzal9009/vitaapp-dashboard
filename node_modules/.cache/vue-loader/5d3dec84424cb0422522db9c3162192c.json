{"remainingRequest":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js??vue-loader-options!/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/src/components/Navbar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/src/components/Navbar.vue","mtime":1581270622000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBBdXRoU2VydmljZSBmcm9tICIuLi9zZXJ2aWNlcy9BdXRoU2VydmljZSI7CmltcG9ydCBVc2VyU2VydmljZSBmcm9tICIuLi9zZXJ2aWNlcy9Vc2VyU2VydmljZSI7CmltcG9ydCB7IEV2ZW50U2VydmljZSB9IGZyb20gIi4uL21haW4iOwppbXBvcnQgdlNlbGVjdCBmcm9tICIuLi8uLi9ub2RlX21vZHVsZXMvdnVlLXNlbGVjdC9zcmMvY29tcG9uZW50cy9TZWxlY3QudnVlIjsKaW1wb3J0IGltYWdlRmlsZSBmcm9tICcuLi9hc3NldHMvaW1hZ2VGaWxlLmpzJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAibmF2YmFyIiwKICBwcm9wczogWyJwYWdlVGl0bGUiXSwKICBjb21wb25lbnRzOiB7CiAgICB2U2VsZWN0CiAgfSwKICBkYXRhOiBmdW5jdGlvbigpIHsKICAgIHJldHVybiB7CiAgICAgIGxvY2F0aW9uczogW10sCiAgICAgIHNlYXJjaExvY2F0aW9uVGV4dDogJycsCiAgICAgIHNlbGVjdGVkTG9jYXRpb246IG51bGwsCiAgICAgIHNob3dNZW51OiBmYWxzZSwKICAgICAgc3Bvb2ZpbmdVc2VyOiBmYWxzZSwKICAgICAgbm90aWZpY2F0aW9uczogMCwKICAgICAgY3VycmVudFVzZXI6IHsKICAgICAgICB1c2VySW1hZ2U6ICIiCiAgICAgIH0sCiAgICAgIGlzRGlzcGxheWVkOiBmYWxzZSwKICAgICAgYWxsTG9jYXRpb25zOiAnQWxsIExvY2F0aW9ucycsCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGZpbHRlcmVkTG9jYXRpb25MaXN0KCkgewogICAgICBsZXQgdm0gPSB0aGlzOwogICAgICB2YXIgZmlsdGVyZWRMaXN0ID0gdGhpcy5sb2NhdGlvbnMuZmlsdGVyKGxvY2F0aW9uID0+IHsKICAgICAgICAvLyBpZighbG9jYXRpb24pIHJldHVybiBmYWxzZTsKICAgICAgICB2YXIgbG9jYXRpb25NYXRjaCA9IGZhbHNlOwogICAgICAgIGxvY2F0aW9uTWF0Y2ggPSBsb2NhdGlvbk1hdGNoIHx8IGxvY2F0aW9uLm5hbWUudG9Mb3dlckNhc2UoKS5pbmRleE9mKHZtLnNlYXJjaExvY2F0aW9uVGV4dC50b0xvd2VyQ2FzZSgpKSA+IC0xOwogICAgICAgIHJldHVybiBsb2NhdGlvbk1hdGNoOwogICAgICB9KQogICAgICByZXR1cm4gZmlsdGVyZWRMaXN0OwogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIGlmICh0aGlzLnBhZ2VUaXRsZSAmJiB0aGlzLnBhZ2VUaXRsZSAhPSAiTG9naW4iKSB7CiAgICAgIHRoaXMubG9hZERhdGEoKTsKICAgIH0KICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgic3Bvb2ZpbmciKSkgdGhpcy5zcG9vZmluZ1VzZXIgPSB0cnVlOwogICAgRXZlbnRTZXJ2aWNlLiRvbigic3Bvb2ZpbmdVc2VyIiwgdGhpcy5zcG9vZlVzZXIpOwogICAgdGhpcy5jdXJyZW50VXNlckltYWdlQmFja2dyb3VuZCA9ICd1cmwoImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCwnICsgaW1hZ2VGaWxlLmltZ0Jsb2NrKCk7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbigpIHsKICAgIEV2ZW50U2VydmljZS4kb2ZmKCJzcG9vZmluZ1VzZXIiLCB0aGlzLnNwb29mVXNlcik7CiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnbG9jYXRpb25PcHRpb25zJyk7CiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnY3VycmVudFVzZXInKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGxvYWREYXRhKCkgewogICAgICAvLyBjdXJyZW50VXNlciBhbmQgbG9jYXRpb25PcHRpb25zIGFyZSBhcnJheXMvb2JqZWN0cyBhbmQgbXVzdCBiZSBKU09OLnBhcnNlZCgpIGJlZm9yZSBhY2Nlc3NpbmcgdGhlaXIgcHJvcGVydGllcy4KICAgICAgdGhpcy5nZXRDdXJyZW50VXNlcigpOwogICAgICB0aGlzLmdldFVzZXJMb2NhdGlvbnMoKTsKICAgIH0sCiAgICBnZXRVc2VyTG9jYXRpb25zKCkgewogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICB2YXIgY3VycmVudExvY2F0aW9uSWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgibG9jYXRpb25JZCIpOwogICAgICAvLyB2YXIgY3VycmVudFVzZXIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjdXJyZW50VXNlcicpKTsKICAgICAgVXNlclNlcnZpY2UuZ2V0QWxsVXNlckxvY2F0aW9ucygpLnRoZW4oCiAgICAgICAgZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAgIGlmIChyZXNwb25zZSAmJiByZXNwb25zZS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIHZtLmxvY2F0aW9ucyA9IHJlc3BvbnNlOwogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdsb2NhdGlvbk9wdGlvbnMnLCBKU09OLnN0cmluZ2lmeShyZXNwb25zZSkpOwogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIWN1cnJlbnRMb2NhdGlvbklkKSB7CiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmxlbmd0aCA9PSAxKSB7CiAgICAgICAgICAgICAgICB2bS5zZWxlY3ROZXdMb2NhdGlvbih2bS5sb2NhdGlvbnNbMF0pCiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHZtLnNlbGVjdGVkTG9jYXRpb24gPSAiQWxsIExvY2F0aW9ucyI7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGlmKHJlc3BvbnNlLmxlbmd0aCA+IDEpIHsKICAgICAgICAgICAgICAgIHZtLnNlbGVjdE5ld0xvY2F0aW9uKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdm0ubG9jYXRpb25zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICBpZiAodm0ubG9jYXRpb25zW2ldLmxvY2F0aW9uSWQgPT0gY3VycmVudExvY2F0aW9uSWQpCiAgICAgICAgICAgICAgICAgIHZtLnNlbGVjdGVkTG9jYXRpb24gPSB2bS5sb2NhdGlvbnNbaV07CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBmdW5jdGlvbihlcnJvcikgewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIH0KICAgICAgKTsKICAgIH0sCiAgICBnZXRDdXJyZW50VXNlcigpIHsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgVXNlclNlcnZpY2UuZ2V0Q3VycmVudFVzZXIoKS50aGVuKAogICAgICAgIGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgICAgICB2bS5jdXJyZW50VXNlciA9IHJlc3BvbnNlOwogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2N1cnJlbnRVc2VyJywgSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UpKTsgIAogICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgZnVuY3Rpb24oZXJyb3IpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICB9CiAgICAgICk7CiAgICB9LAogICAgYXBwZW5kSW1hZ2VIZWFkZXIoaW1nVGV4dCkgewogICAgICBpZiAoaW1nVGV4dCAmJiBpbWdUZXh0WzBdID09ICIsIikgewogICAgICAgIHJldHVybiAiZGF0YTppbWFnZS9wbmc7YmFzZTY0IiArIGltZ1RleHQ7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICJkYXRhOmltYWdlL3BuZztiYXNlNjQsIiArIGltZ1RleHQ7CiAgICAgIH0KICAgIH0sCiAgICBzZWxlY3ROZXdMb2NhdGlvbihsb2NhdGlvbikgeyAgICAgIAogICAgICB0aGlzLnNlbGVjdGVkTG9jYXRpb24gPSBsb2NhdGlvbjsKICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRMb2NhdGlvbiAmJiB0aGlzLnNlbGVjdGVkTG9jYXRpb24gIT0gIkFsbCBMb2NhdGlvbnMiKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJsb2NhdGlvbklkIiwgdGhpcy5zZWxlY3RlZExvY2F0aW9uLmxvY2F0aW9uSWQpOwogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgfQogICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgibG9jYXRpb25DaGFuZ2UiLCB0aGlzLnNlbGVjdGVkTG9jYXRpb24pOwogICAgICB9IGVsc2UgeyAgICAgICAgCiAgICAgICAgdGhpcy5zZWxlY3RlZExvY2F0aW9uID0gbnVsbDsKICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgibG9jYXRpb25JZCIpOwogICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgibG9jYXRpb25DaGFuZ2UiKTsKICAgICAgfQoKICAgICAgbGV0IGNsaWNrQXdheUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjbGlja0F3YXlCdXR0b24iKTsKICAgICAgaWYgKGNsaWNrQXdheUJ1dHRvbikgewogICAgICAgIGNsaWNrQXdheUJ1dHRvbi5jbGljaygpOwogICAgICB9CiAgICB9LAogICAgdG9nZ2xlTWVudSgpIHsKICAgICAgdGhpcy5pc0Rpc3BsYXllZCA9IGZhbHNlOwogICAgICB0aGlzLnNob3dNZW51ID0gIXRoaXMuc2hvd01lbnU7CiAgICB9LAogICAgaGlkZU1lbnUoKSB7CiAgICAgIHRoaXMuaXNEaXNwbGF5ZWQgPSBmYWxzZTsKICAgICAgdGhpcy5zaG93TWVudSA9IGZhbHNlOwogICAgfSwKICAgIGhhbmRsZU1lbnVDbGlja3MgKGNvbW1hbmQpIHsKICAgICAgaWYgKGNvbW1hbmQgPT0gJy91c2VyTGlzdCcpIHsKICAgICAgICBsZXQgdXJsID0gY29tbWFuZCArICcvJyArIHRoaXMuY3VycmVudFVzZXIudXNlcklkCiAgICAgICAgaWYodGhpcy4kcm91dGVyLmN1cnJlbnRSb3V0ZS5wYXRoLnN1YnN0cigwLDkpICE9ICcvdXNlckxpc3QnKSB7CiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh1cmwpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoJ3NlbGVjdFVzZXInLCB0aGlzLmN1cnJlbnRVc2VyKQogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChjb21tYW5kID09ICdiYWNrVG9BZG1pbicpIHsKICAgICAgICB0aGlzLnN0b3BTcG9vZmluZygpOwogICAgICB9IGVsc2UgaWYgKGNvbW1hbmQgPT0gJ2xvZ291dCcpIHsKICAgICAgICB0aGlzLmxvZ291dCgpOwogICAgICB9CiAgICB9LAogICAgbG9nb3V0KCkgewogICAgICBBdXRoU2VydmljZS5sb2dvdXQoKTsKICAgIH0sCiAgICBzcG9vZlVzZXIoKSB7CiAgICAgIHRoaXMuc3Bvb2ZpbmdVc2VyID0gdHJ1ZTsKICAgICAgdHJ5IHsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgic3Bvb2ZpbmciLCB0cnVlKTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0KICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oImxvY2F0aW9uSWQiKTsKICAgICAgdGhpcy5sb2FkRGF0YSgpOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiZGFzaGJvYXJkIik7CiAgICB9LAogICAgc3RvcFNwb29maW5nKCkgewogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICBVc2VyU2VydmljZS5lbmRTcG9vZlVzZXIoKS50aGVuKAogICAgICAgIGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgICAgICB2bS5zcG9vZmluZ1VzZXIgPSBmYWxzZTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJzcG9vZmluZyIpOwogICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oImxvY2F0aW9uSWQiKTsKICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQodHJ1ZSk7CiAgICAgICAgfSwKICAgICAgICBmdW5jdGlvbihlcnJvcikgewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIH0KICAgICAgKTsKICAgIH0sCiAgICB0b2dnbGVTZWxlY3Rpb24oKSB7CiAgICAgIGlmKHRoaXMubG9jYXRpb25zLmxlbmd0aCA+IDEpIHsKICAgICAgICBpZih0aGlzLmlzRGlzcGxheWVkKSB7CiAgICAgICAgICAgIHRoaXMuaXNEaXNwbGF5ZWQgPSBmYWxzZTsKICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLmlzRGlzcGxheWVkKSB7CiAgICAgICAgICB0aGlzLnNob3dNZW51ID0gZmFsc2U7CiAgICAgICAgICB0aGlzLmlzRGlzcGxheWVkID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KICAgICAgdGhpcy5zZWFyY2hMb2NhdGlvblRleHQgPSAnJzsKICAgIH0sCiAgICBnZW5lcmF0ZUNvbG9yKCkgewogICAgICByZXR1cm4gJyM2NTYxNUInCiAgICB9CiAgfSwKICB3YXRjaDogewogICAgcGFnZVRpdGxlKHRvLCBmcm9tKSB7CiAgICAgIGlmICh0aGlzLnBhZ2VUaXRsZSAmJiB0aGlzLnBhZ2VUaXRsZSAhPSAiTG9naW4iKSB0aGlzLmxvYWREYXRhKCk7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["Navbar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Navbar.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"navbar\">\n    <div class=\"navbar-right\">\n      <div class=\"navbar-profile\">\n        <div class=\"navbar-profile-spoof\" v-if=\"spoofingUser\">Impersonating User: {{currentUser.firstName}} {{currentUser.lastName}} ({{currentUser.email}})\n        </div>\n        <el-popover\n          class=\"location-popover\"\n          placement=\"bottom\"\n          width=\"340\"\n          trigger=\"click\">\n          <el-button slot=\"reference\" id=\"location-button\" type=\"primary\" class=\"location-select\">\n            <span v-if=\"selectedLocation\">{{selectedLocation.name}}</span>\n            <span v-if=\"locations.length > 1 && !selectedLocation\">{{`All Locations` + ` (${locations.length})`}}</span>\n            <span class=\"caret\">&nbsp;&nbsp;<i class=\"fas fa-caret-down\"></i></span>\n          </el-button>\n          <div class=\"location-popover-content\">\n            <el-input class=\"location-search\" placeholder=\"Search Locations\" type=\"text\" v-model=\"searchLocationText\"></el-input>\n            <div class=\"location-item\" v-if=\"locations.length > 1\" @click=\"selectNewLocation(allLocations)\"><span>{{allLocations}}</span></div>\n            <div class=\"location-item\" @click=\"selectNewLocation(userLocation)\" v-for=\"(userLocation, locationIndex) in filteredLocationList\" :key=\"locationIndex\">\n              <span>{{userLocation.name}}</span>\n            </div>\n          </div>\n        </el-popover>\n        <el-popover\n          class=\"profile-popover\"\n          width=\"200\"\n          placement=\"bottom\"\n          trigger=\"click\">\n          <div slot=\"reference\" class=\"navbar-profile-wrapper\">\n            <div class=\"profile-image\" :style=\"{'background': generateColor()}\" v-if=\"!currentUser.userImage\" >\n              <span v-if=\"!currentUser.userImage\" class=\"initials\">{{currentUser.firstName && currentUser.firstName.length > 0 ? currentUser.firstName[0] : ''}}{{currentUser.lastName && currentUser.lastName.length > 0 ? currentUser.lastName[0] : ''}}</span>\n              <!-- <img width=\"30\" height=\"30\" v-if=\"currentUser.userImage\" :src=\"appendImageHeader(currentUser.userImage)\"/> -->\n            </div>\n            <span  v-else><img width=\"40\" height=\"40\" style=\"border-radius:50%;\" :src=\"appendImageHeader(currentUser.userImage)\" alt=\"\"></span>\n            <span class=\"profile-caret\"><i class=\"profile-caret fas fa-caret-down\"></i></span>\n          </div>\n          <div class=\"profile-popover-content\">\n            <div class=\"profile-popover-item\"  @click=\"handleMenuClicks('/userList')\"><i class=\"item-icon fas fa-user\"></i>Profile</div>\n            <div class=\"profile-popover-item\" v-if=\"spoofingUser\" @click=\"stopSpoofing()\"><i class=\"item-icon fas fa-sign-out-alt\"></i>Back to Admin</div>\n            <div class=\"profile-popover-item\" v-if=\"!spoofingUser\" @click=\"logout()\"><i class=\"item-icon fas fa-sign-out-alt\" ></i>Logout</div>\n          </div>\n        </el-popover>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport AuthService from \"../services/AuthService\";\nimport UserService from \"../services/UserService\";\nimport { EventService } from \"../main\";\nimport vSelect from \"../../node_modules/vue-select/src/components/Select.vue\";\nimport imageFile from '../assets/imageFile.js';\n\nexport default {\n  name: \"navbar\",\n  props: [\"pageTitle\"],\n  components: {\n    vSelect\n  },\n  data: function() {\n    return {\n      locations: [],\n      searchLocationText: '',\n      selectedLocation: null,\n      showMenu: false,\n      spoofingUser: false,\n      notifications: 0,\n      currentUser: {\n        userImage: \"\"\n      },\n      isDisplayed: false,\n      allLocations: 'All Locations',\n    };\n  },\n  computed: {\n    filteredLocationList() {\n      let vm = this;\n      var filteredList = this.locations.filter(location => {\n        // if(!location) return false;\n        var locationMatch = false;\n        locationMatch = locationMatch || location.name.toLowerCase().indexOf(vm.searchLocationText.toLowerCase()) > -1;\n        return locationMatch;\n      })\n      return filteredList;\n    }\n  },\n  created() {\n    if (this.pageTitle && this.pageTitle != \"Login\") {\n      this.loadData();\n    }\n    if (localStorage.getItem(\"spoofing\")) this.spoofingUser = true;\n    EventService.$on(\"spoofingUser\", this.spoofUser);\n    this.currentUserImageBackground = 'url(\"data:image/png;base64,' + imageFile.imgBlock();\n  },\n  beforeDestroy: function() {\n    EventService.$off(\"spoofingUser\", this.spoofUser);\n    localStorage.removeItem('locationOptions');\n    localStorage.removeItem('currentUser');\n  },\n  methods: {\n    loadData() {\n      // currentUser and locationOptions are arrays/objects and must be JSON.parsed() before accessing their properties.\n      this.getCurrentUser();\n      this.getUserLocations();\n    },\n    getUserLocations() {\n      var vm = this;\n      var currentLocationId = localStorage.getItem(\"locationId\");\n      // var currentUser = JSON.parse(localStorage.getItem('currentUser'));\n      UserService.getAllUserLocations().then(\n        function(response) {\n          if (response && response.length > 0) {\n            vm.locations = response;\n            try {\n              localStorage.setItem('locationOptions', JSON.stringify(response));\n            } catch (error) {\n              console.log(error);\n            }\n            if (!currentLocationId) {\n              if (response.length == 1) {\n                vm.selectNewLocation(vm.locations[0])\n              } else {\n                vm.selectedLocation = \"All Locations\";\n              }\n              if(response.length > 1) {\n                vm.selectNewLocation();\n              }\n            } else {\n              for (var i = 0; i < vm.locations.length; i++) {\n                if (vm.locations[i].locationId == currentLocationId)\n                  vm.selectedLocation = vm.locations[i];\n              }\n            }\n          }\n        },\n        function(error) {\n          console.log(error);\n        }\n      );\n    },\n    getCurrentUser() {\n      var vm = this;\n      UserService.getCurrentUser().then(\n        function(response) {\n          vm.currentUser = response;\n          try {\n            localStorage.setItem('currentUser', JSON.stringify(response));  \n          } catch (error) {\n            console.log(error);\n          }\n        },\n        function(error) {\n          console.log(error);\n        }\n      );\n    },\n    appendImageHeader(imgText) {\n      if (imgText && imgText[0] == \",\") {\n        return \"data:image/png;base64\" + imgText;\n      } else {\n        return \"data:image/png;base64,\" + imgText;\n      }\n    },\n    selectNewLocation(location) {      \n      this.selectedLocation = location;\n      if (this.selectedLocation && this.selectedLocation != \"All Locations\") {\n        try {\n          localStorage.setItem(\"locationId\", this.selectedLocation.locationId);\n        } catch (error) {\n          console.log(error);\n        }\n        EventService.$emit(\"locationChange\", this.selectedLocation);\n      } else {        \n        this.selectedLocation = null;\n        localStorage.removeItem(\"locationId\");\n        EventService.$emit(\"locationChange\");\n      }\n\n      let clickAwayButton = document.getElementById(\"clickAwayButton\");\n      if (clickAwayButton) {\n        clickAwayButton.click();\n      }\n    },\n    toggleMenu() {\n      this.isDisplayed = false;\n      this.showMenu = !this.showMenu;\n    },\n    hideMenu() {\n      this.isDisplayed = false;\n      this.showMenu = false;\n    },\n    handleMenuClicks (command) {\n      if (command == '/userList') {\n        let url = command + '/' + this.currentUser.userId\n        if(this.$router.currentRoute.path.substr(0,9) != '/userList') {\n          this.$router.push(url);\n        } else {\n          EventService.$emit('selectUser', this.currentUser)\n        }\n      } else if (command == 'backToAdmin') {\n        this.stopSpoofing();\n      } else if (command == 'logout') {\n        this.logout();\n      }\n    },\n    logout() {\n      AuthService.logout();\n    },\n    spoofUser() {\n      this.spoofingUser = true;\n      try {\n        localStorage.setItem(\"spoofing\", true);\n      } catch (error) {\n        console.log(error);\n      }\n      localStorage.removeItem(\"locationId\");\n      this.loadData();\n      this.$router.push(\"dashboard\");\n    },\n    stopSpoofing() {\n      var vm = this;\n      UserService.endSpoofUser().then(\n        function(response) {\n          vm.spoofingUser = false;\n          localStorage.removeItem(\"spoofing\");\n          localStorage.removeItem(\"locationId\");\n          window.location.reload(true);\n        },\n        function(error) {\n          console.log(error);\n        }\n      );\n    },\n    toggleSelection() {\n      if(this.locations.length > 1) {\n        if(this.isDisplayed) {\n            this.isDisplayed = false;\n        } else if (!this.isDisplayed) {\n          this.showMenu = false;\n          this.isDisplayed = true;\n        }\n      }\n      this.searchLocationText = '';\n    },\n    generateColor() {\n      return '#65615B'\n    }\n  },\n  watch: {\n    pageTitle(to, from) {\n      if (this.pageTitle && this.pageTitle != \"Login\") this.loadData();\n    }\n  }\n};\n</script>\n\n<style scoped>\n.profile-caret {\n  color: #65615B;\n}\n.item-icon {\n  width: 30px;\n  max-width: 100%;\n}\n.profile-popover-content {\n  box-sizing: border-box;\n  padding: 5px;\n}\n.profile-popover-item {\n  font-size: 16px;\n  padding-top: 12px;\n  padding-left: 10px;\n  padding-bottom: 12px;\n  border: 1px solid rgba(0,0,0,0);\n  color: #65615B;\n}\n.profile-popover-item:hover {\n  background: #f2f2f2;\n  border: 1px solid #9a9a9a35;\n  border-radius: 6px;\n  cursor: pointer;\n}\n#location-button {\n  width: 100%;\n  max-width: 360px;\n  min-width: 270px;\n  font-weight: 600;\n  position: relative;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n#location-button:hover .caret i {\n  transform: rotate(180deg);\n  -webkit-transform: rotate(180deg);\n}\n.location-popover-content {\n  height: 300px;\n  box-sizing: border-box;\n  padding: 10px;\n  overflow-y: auto;\n}\n.location-item {\n  font-size: 14px;\n  padding-top: 12px;\n  padding-left: 10px;\n  padding-bottom: 12px;\n  border: 1px solid rgba(0,0,0,0);\n  color: #65615B;\n}\n.location-item:hover {\n  background: #f2f2f2;\n  border: 1px solid #9a9a9a35;\n  border-radius: 6px;\n  cursor: pointer;\n}\n.navbar {\n  display: flex;\n  align-items: center;\n  position: fixed;\n  right: 0;\n  /* left: 0px; */\n  top: 0;\n  height: var(--navbar-height);\n  /* width: calc(100% - var(--sidebar-width)); */\n  width: 100%;\n  max-width: 100%;\n  display: flex;\n  background: #F4F3EF;\n  align-items: center;\n  border-bottom: 1px solid #ddd;\n}\n\n.navbar-menu {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-content: center;\n  align-items: center;\n  margin-left: calc(var(--sidebar-width) + 50px);\n  color: white;\n  background: #65615B;\n  /* float: left; */\n  height: 38px;\n  width: 38px;\n  border-radius: 50%;\n  cursor: pointer;\n  font-size: 40px;\n}\n\n.navbar-menu span {\n  width: 40%;\n  background: rgba(255, 255, 255, 0.95);\n  border-radius: 2px;\n  /* box-shadow: 0px 1px 1px rgba(0, 0, 0, 0.3); */\n  height: 1px;\n  margin: 2.5px 0px 2.5px 0px;\n}\n\n.navbar-logo img {\n  height: 45px;\n  margin: 5px 0 0 15px;\n}\n\n.navbar-right {\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.navbar-profile {\n  padding-top: 5px;\n  color: white;\n  display: flex;\n  align-items: center;\n}\n\n.el-dropdown-menu {\n  transform-origin: center top;\n  z-index: 2023;\n  position: fixed;\n  top: 50px !important;\n  left: 1480px;\n  /* max-height: 200px; */\n  /* min-width: 300px; */\n  overflow: hidden;\n  overflow-y: scroll;\n}\n\n.location-select {\n  width: 300px;\n  margin-right: 20px;\n}\n\n.navbar-notifications-container {\n  padding: 11px 15px;\n  font-size: 28px;\n  border-left: 2px solid rgb(27, 26, 26);\n  color: #4fcbc5;\n  background: rgb(92, 92, 92);\n}\n\n.notification-number {\n  font-size: 12px;\n  border-radius: 50%;\n  padding: 4px;\n  border: .5px solid #4fcbc5;\n  background: #545454;\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  top: 0;\n  margin-top: 7px;\n  transform: translateX(10px);\n  color: #f48d46;\n}\n\n.navbar-profile-icons {\n  float: right;\n  padding: 7px 0px 0 10px;\n  font-size: 24px;\n  cursor: pointer;\n}\n\n.navbar-profile-icons-menu {\n  margin-right: 10px;\n  margin-top: 7px;\n  float: left;\n  color: #4fcbc6;\n}\n\n.navbar-profile-menu-backdrop {\n  position: absolute;\n  background: transparent;\n  right: 0px;\n  left: 0px;\n  top: 0px;\n  height: 100vh;\n  cursor: pointer;\n}\n\n.navbar-profile-menu {\n  height: 0;\n  position: absolute;\n  background: white;\n  right: 8px;\n  top: 50px;\n  padding: 0;\n  overflow: hidden;\n  font-size: 15px;\n  color: #545454;\n  text-align: center;\n  border: none;\n  border-radius: 3px;\n}\n\n.navbar-profile-menu div {\n  margin: 0;\n  display: flex;\n  padding: 5px;\n  width: 175px;\n}\n.navbar-profile-menu i {\n  margin: 3px 15px 0px 10px;\n  width: 15px;\n}\n.hover-indicator:nth-child(2) {\n    border-radius: 3px 3px 0 0;\n    margin-top: 10px;\n}\n.hover-indicator:last-child {\n    border-radius: 0 0 3px 3px;\n    margin-bottom: 15px;\n}\n\n#nav-caret {\n  color: white;\n  position: absolute;\n  right: 16px;\n  top: -8px;\n  margin: 0;\n  pointer-events: none;\n}\n\n.navbar-profile-menu-show {\n  height: auto;\n  overflow: initial;\n  box-shadow: 1px 10px 17px -10px;\n}\n.navbar-profile-wrapper {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px;\n  width: 60px;\n  margin-right: 60px;\n  cursor: pointer;\n}\n.navbar-profile-wrapper:hover {\n  opacity: .9;\n}\n.navbar-profile-wrapper:hover i {\n  transform: rotate(180deg);\n  -webkit-transform: rotate(180deg);\n}\n.profile-image {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 40px;\n  height: 40px;\n  border-radius: 1000px;\n  color: white;\n}\n.initials {\n  font-size: 16px;\n  font-weight: 600;\n}\n/* \n.navbar-profile-image {\n  height: 40px;\n  width: 40px;\n  margin-right: 40px;\n  border-radius: 50%;\n  color: black;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\n\n.navbar-profile-image > div {\n  height: 30px;\n  width: 25px;\n  margin-right: 5px;\n  border-radius: 50%;\n  padding: 5px 10px;\n  color: black;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\n\n.initials {\n  font-size: 14px;\n  font-weight: 400;\n}\n\n.navbar-profile-image img {\n  margin-right: 5px;\n}\n\n.navbar-profile-image i {\n  font-size: 20px;\n} */\n\n.el-dropdown-link {\n  cursor: pointer;\n  color: #409EFF;\n}\n\n.navbar-profile-locations select {\n  background: transparent;\n  appearance: none;\n  border: none;\n  height: 38px;\n  color: white;\n  transform: translateY(-6px);\n  z-index: 999;\n  width: 100%;\n  padding-left: 20px;\n}\n\n.navbar-profile-locations options {\n  appearance: none;\n}\n\n.open-indicator {\n  z-index: 998;\n  position: absolute;\n  right: 100px;\n  top: 0;\n  margin-top: 20px;\n  display: inline-block;\n  cursor: pointer;\n  pointer-events: all;\n  transition: all 150ms cubic-bezier(1.000, -0.115, 0.975, 0.855);\n  transition-timing-function: cubic-bezier(1.000, -0.115, 0.975, 0.855);\n  opacity: 1;\n  height: 15px; width: 10px;\n}\n.open-indicator:before {\n  border-color: #fff;\n  border-style: solid;\n  border-width: 3px 3px 0 0;\n  content: '';\n  display: inline-block;\n  height: 7px;\n  width: 7px;\n  vertical-align: top;\n  transform: rotate(133deg);\n  transition: all 150ms cubic-bezier(1.000, -0.115, 0.975, 0.855);\n  transition-timing-function: cubic-bezier(1.000, -0.115, 0.975, 0.855);\n  box-sizing: inherit;\n}\n\n.closed-indicator {\n  z-index: 998;\n  position: absolute;\n  right: 100px;\n  top: 0;\n  margin-top: 20px;\n  display: inline-block;\n  cursor: pointer;\n  pointer-events: all;\n  transition: all 150ms cubic-bezier(1.000, -0.115, 0.975, 0.855);\n  transition-timing-function: cubic-bezier(1.000, -0.115, 0.975, 0.855);\n  opacity: 1;\n  height: 3px; width: 10px;\n}\n.closed-indicator:before {\n  border-color: #fff;\n  border-style: solid;\n  border-width: 3px 3px 0 0;\n  content: '';\n  display: inline-block;\n  height: 7px;\n  width: 7px;\n  vertical-align: top;\n  transform: rotate(-45deg);\n  transition: all 150ms cubic-bezier(1.000, -0.115, 0.975, 0.855);\n  transition-timing-function: cubic-bezier(1.000, -0.115, 0.975, 0.855);\n  box-sizing: inherit;\n}\n\n.navbar-profile-locations option {\n  color: white;\n}\n\n.navbar-select-location {\n  background: white;\n  border-radius: 5px;\n  min-width: 250px;\n}\n\n.navbar-profile-spoof {\n  float: right;\n  text-align: right;\n  margin: 20px 20px 0 0;\n  color: #65615B;\n}\n\n.one-location {\n  /* margin-bottom: 10px; */\n  width: 250px;\n  background: #4fcbc5;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 55px;\n}\n\n.navbar-profile-new-locations:first-child {\n  background: #4fcbc5;\n  display: flex;\n  align-content: center;\n  align-items: center;\n  height: 55px;\n  padding: 0 40px;\n  width: 200px;\n  overflow: hidden;\n}\n\n.search-drop-menu {\n  /* display: flex; */\n  top: 0;\n  flex-direction: column;\n  position: absolute;\n  background: white;\n  border: 1px solid lightgrey;\n  color: black;\n  z-index: 999;\n  margin: 0px 50px 0 0;\n  border-radius: 1px;\n  width: 280px;\n  display: none;\n  transform: translateX(-41px) translateY(55px);\n  max-height: 361px;\n  overflow-y: scroll;\n}\n\n.navbar-location-name {\n  text-overflow: ellipsis;\n  width: 250px;\n  height: 55px;\n  background: #4fcbc5;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  /* padding-right: 40px; */\n}\n\n.display {\n  display: flex;\n}\n\n.search-span {\n  display: flex;\n  justify-content: space-between;\n  padding: 10px 0 25px 0;\n  border-bottom: 1px solid lightgrey;\n}\n\n.search-span input {\n  border: none;\n  width: 80%;\n  padding-left: 40px;\n  margin: 0;\n}\n\n.search-span i {\n  position: absolute;\n  right: 5px;\n  color: grey;\n}\n\n.search-drop-menu .spans {\n  padding: 7px 40px;\n  text-overflow: ellipsis;\n  border-bottom: 1px solid lightgrey;\n  cursor: pointer;\n  text-overflow: ellipsis;\n}\n\n.search-drop-menu .spans:hover, .span:hover {\n  background: #efefef;\n}\n\n.search-drop-menu .span {\n  padding: 7px 40px;\n  text-overflow: ellipsis;\n  border-bottom: 1px solid lightgrey;\n  cursor: pointer;\n}\n\n.hover-indicator:hover {\n  background: #efefef;\n}\n\n.right-space {\n  margin-right:50px;\n}\n\n.spoof-location {\n  padding-left: 10px;\n  padding-right: 35px;\n  width: unset;\n  margin-right: 0;\n}\n\n.spoof-indicator {\n  right: 75px;\n}\n\n\n@media (max-width: 1200px) {\n  .navbar {\n    /* background: #4fcbc6; */\n    /* width: 100%;\n    max-width: 100%; */\n    box-shadow: 0 0 15px rgba(0,0,0,.15);\n  }\n\n  .navbar-logo {\n    padding: 0;\n    text-align: center;\n    width: 60%;\n  }\n\n  #location-button {\n    max-width: 90%;\n    width: 100%;\n    min-width: 60px;\n  }\n  .navbar-profile {\n    width: 100%;\n    max-width: 100%;\n  }\n  .navbar-profile-wrapper {\n    margin-right:10px;\n  }\n\n  .navbar-title {\n    float: right;\n    margin-left: 0;\n    width: 40%;\n  }\n}\n</style>\n"]}]}