{"remainingRequest":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/src/components/LeaveReview.vue?vue&type=style&index=0&id=b23f8922&scoped=true&lang=css&","dependencies":[{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/src/components/LeaveReview.vue","mtime":1581270622000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnJldmlldy1wYWdlIHsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIGhlaWdodDogYXV0bzsKICBwYWRkaW5nOiAyMHB4OwogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgYmFja2dyb3VuZDogI2ZhZmFmYTsKfQoucmV2aWV3LWNhcmQgewogIGRpc3BsYXk6IGZsZXg7CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogIHdpZHRoOiA3MDBweDsKICBtYXgtd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiBhdXRvOwogIGJveC1zaGFkb3c6IDAgNnB4IDEycHggcmdiYSgwLCAwLCAwLCAuMTUpOwogIGJvcmRlci1yYWRpdXM6IDEycHg7CiAgYmFja2dyb3VuZDogd2hpdGU7CiAgcGFkZGluZzogMjBweDsKICBib3gtc2l6aW5nOiBib3JkZXItYm94Owp9Ci5yZXZpZXctbmFtZSB7CiAgLyogcGFkZGluZzogMTBweDsgKi8KICAvKiBmb250LXNpemU6IDIwcHg7ICovCn0KCi5yZXZpZXctbG9nbyB7CiAgZGlzcGxheTogZmxleDsKICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIG1heC13aWR0aDogMTAwJTsKICB3aWR0aDogMjcwcHg7CiAgbWluLXdpZHRoOiAxNTBweDsKICBwYWRkaW5nLWJvdHRvbTogMjBweDsKICBwYWRkaW5nLXRvcDogMjBweDsKfQoucmV2aWV3LWxvZ28gc3BhbiB7CiAgd2lkdGg6IDEwMCU7CiAgbWF4LXdpZHRoOiAxMDAlOwp9Ci5yZXZpZXctbG9nbyBzcGFuIGltZyB7CiAgd2lkdGg6IDEwMCU7CiAgbWF4LXdpZHRoOiAxMDAlOwp9Ci5yZXZpZXctY29udGFpbmVyIHsKICBtYXJnaW46IGF1dG87CiAgbWF4LXdpZHRoOiAxMDAlOwp9CmRpdi5yZXZpZXctbG9nbyBzcGFuIGltZyB7CiAgd2lkdGg6IDQwMHB4Owp9CgoucmV2aWV3LXRleHQ6OmJlZm9yZSB7CiAgY29udGVudDogJyc7CiAgZGlzcGxheTogYmxvY2s7CiAgd2lkdGg6IDYwJTsKICBoZWlnaHQ6IDFweDsKICBtYXJnaW46IGF1dG87CiAgYmFja2dyb3VuZDogIzlhOWE5YTM1OwogIG1hcmdpbi1ib3R0b206IDIwcHg7Cn0KLnJldmlldy10ZXh0LWhlYWRlciB7CiAgcGFkZGluZy10b3A6IDEwcHg7CiAgcGFkZGluZy1ib3R0b206IDIwcHg7CiAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICBmb250LXNpemU6IDM1cHg7CiAgZm9udC1mYW1pbHk6ICdNb250c2VycmF0JywtYXBwbGUtc3lzdGVtLEJsaW5rTWFjU3lzdGVtRm9udCxHdWRlYSxSb2JvdG8sSGVsdmV0aWNhIE5ldWUsU2Vnb2UgVUksSGVsdmV0aWNhLEFyaWFsLHNhbnMtc2VyaWY7CiAgY29sb3I6ICM3NTc1NzU7Cn0KCi5yZXZpZXctdGV4dC1saW5lMiB7CiAgcGFkZGluZzogMjBweDsKICBmb250LXNpemU6IDE2cHg7CiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsKICBmb250LWZhbWlseTogJ01vbnRzZXJyYXQnLC1hcHBsZS1zeXN0ZW0sQmxpbmtNYWNTeXN0ZW1Gb250LEd1ZGVhLFJvYm90byxIZWx2ZXRpY2EgTmV1ZSxTZWdvZSBVSSxIZWx2ZXRpY2EsQXJpYWwsc2Fucy1zZXJpZjsKICBjb2xvcjogIzc1NzU3NTsKICBmb250LXdlaWdodDogYm9sZDsKfQoKLnJldmlldy10ZXh0LWxpbmUzIHsKICBmb250LXNpemU6IDE2cHg7CiAgbGluZS1oZWlnaHQ6IDI4cHg7CiAgd2lkdGg6IDYwMHB4OwogIG1heC13aWR0aDogMTAwJTsKICBjb2xvcjogIzc1NzU3NTsKfQoKLnJldmlldy1sYWJlbCB7CiAgZm9udC1zaXplOiAyNHB4Owp9CgoucmV2aWV3LXRleHRhcmVhIHsKICB3aWR0aDogMTAwJTsKICBtYXgtd2lkdGg6IDEwMCU7CiAgbWFyZ2luLXRvcDogNDBweDsKfQouZWwtdGV4dGFyZWFfX2lubmVyIHsKICBoZWlnaHQ6IDIwMHB4Owp9CgoucmV2aWV3LWxlbmd0aCB7CiAgd2lkdGg6IDEwMCU7CiAgdGV4dC1hbGlnbjogbGVmdDsKICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgY29sb3I6ICM5YTlhOWE7CiAgZm9udC1zaXplOiAxMXB4Owp9CgoucmV2aWV3LWJ1dHRvbiB7CiAgbWFyZ2luOiAyMHB4Owp9CgoucmV2aWV3LWJ1dHRvbiBidXR0b24gewogIGNvbG9yOiB3aGl0ZTsKICBwYWRkaW5nOiAxMHB4IDIwcHg7CiAgZm9udC13ZWlnaHQ6IGJvbGQ7Cn0KQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA3MDBweCkgewogIGRpdi5yZXZpZXctbG9nbyBzcGFuIGltZyB7CiAgICB3aWR0aDogODAlOwogIH0KfQpAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDQ4MHB4KSB7CiAgLnJldmlldy10ZXh0LWhlYWRlciB7CiAgICBtYXJnaW4tdG9wOiAzMHB4OwogICAgZm9udC1zaXplOiAxOHB4OwogICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgfQogIC5yZXZpZXctdGV4dC1saW5lMiB7CiAgICBmb250LXNpemU6IDE2cHg7CiAgfQogIC5yZXZpZXctdGV4dC1saW5lMyB7CiAgICBmb250LXNpemU6IDE0cHg7CiAgICBsaW5lLWhlaWdodDogMjRweDsKICB9Cn0K"},{"version":3,"sources":["LeaveReview.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"LeaveReview.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"review-page\">\n    <div class=\"review-card\">\n      <div class=\"review-logo\">\n        <span v-if=\"location.locationStyle.logo\">\n          <img :src=\"'data:image/png;base64,' + processLogo(location.locationStyle.logo)\"/>\n        </span>\n        <span v-if=\"!location.locationStyle.logo && !location.unloaded\" style=\"color: #4fcbc5\"><i class=\"far fa-building fa-7x\"></i></span>\n      </div>\n      <div class=\"review-container\" v-if=\"!reviewLeft\">\n        <div class=\"review-text\">\n          <div class=\"review-text-header\">\n            {{rpHeader}} \n            <i v-if=\"selectedRating <= 3\" class=\"fal fa-frown\"></i>\n            <i v-if=\"selectedRating > 3\" class=\"fal fa-smile\"></i>\n          </div>\n          <div class=\"review-text-line2\">{{rpLine2}}</div>\n          <div class=\"review-text-line3\">{{rpLine3}}</div>\n        </div>\n        <!-- <div class=\"review-text\" v-if=\"selectedRating && selectedRating > 3\">\n          <div class=\"review-text-header\">Thanks for the Feedback! <i class=\"fal fa-smile\"></i></div>\n          <div class=\"review-text-line2\">Please Tell Us More</div>\n          <div class=\"review-text-line3\">We take all feedback very seriously! We'd love to hear more about your experience so that we can continue to improve in the future.  Please provide specifics below:</div>\n        </div> -->\n        <div class=\"review-box\">\n          <div class=\"review-options\">\n            <el-input class=\"review-textarea\" type=\"textarea\" maxlength=\"200\" show-word-limit autofocus=\"true\" :autosize=\"{ minRows: 4, maxRows: 8}\" placeholder=\"Please share your experience here...\" v-model=\"reviewText\"></el-input>\n            <span class=\"review-length\">Reviews must be at least 4 characters.</span>\n          </div>\n          <div class=\"review-button\">\n            <el-button :disabled=\"reviewText.length < 4\" @click.once=\"submitFeedback()\" :style=\"{'background-color': location.locationStyle.buttonColor}\">Submit</el-button>\n          </div>\n        </div>\n      </div>\n      <div v-if=\"reviewLeft\">\n        <div class=\"review-text-header\">Thank you for your feedback!</div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport AutomationService from './../services/AutomationService'\nimport CampaignService from './../services/CampaignService'\nimport FeedbackService from './../services/FeedbackService'\nimport LocationService from './../services/LocationService'\nimport {EventService} from '../main'\n\nexport default {\n  name: 'leaveReview',\n  data: function() {\n    return {\n      location: { locationStyle: {}, reviewPage: {}, unloaded: true },\n      reviewText: '',\n      leavingReview: false,\n      reviewLeft: false,\n      rpHeader: '',\n      rpLine2: '',\n      rpLine3: '',\n      selectedRating: null,\n      preview: false\n    }\n  },\n  created() {\n    \n    if(this.$route.params.rating)  {\n      try {\n        this.selectedRating = parseInt(this.$route.params.rating);\n      } catch {\n        this.selectedRating = parseInt(this.$route.query.r);\n      }\n    }\n    \n    if(this.$route.params.cid == 'test') {\n      this.preview = true;\n    }\n    this.getLocation();\n  },\n  beforeDestroy() {\n    try {\n      localStorage.removeItem('landingPage');\n    } catch (error) {\n      console.log(error);      \n    }\n  },\n  methods: {\n    getLocation() {\n      var vm = this;\n      LocationService.getAnonymousLocation(this.$route.params.loc).then(\n        function(response) {\n          vm.location = response;           \n                   \n          if(!vm.preview) {\n            if(vm.$route.params && vm.$route.params.template && vm.$route.params.template.includes('CA')) {\n              vm.getCampaign();\n            } else {\n              vm.getAutomation();\n            }\n          } else {\n            let landing;\n            try {\n              landing = JSON.parse(localStorage.getItem('landingPage'));\n            } catch(error) {\n              console.log(error);              \n            } \n            if(landing) {\n              if(vm.selectedRating <=3) {              \n                vm.rpHeader = landing.rp1;\n                vm.rpLine2 = landing.rp2;\n                vm.rpLine3 = landing.rp3;\n              } else {\n                vm.rpHeader = landing.lp1;\n                vm.rpLine2 = landing.lp2;\n                vm.rpLine3 = landing.lp3;\n              }\n            }    \n          }\n        }, function(error) {\n          console.log(error);\n      });\n    },\n    getCampaign() {      \n      let vm = this;\n      CampaignService.getCampaign(vm.$route.params.template).then(response => {        \n        let landing = response.landingPage;\n        let subject = response.emailDetails.subject;\n        if(vm.selectedRating <=3) {\n          vm.rpHeader = landing.rp1;\n          vm.rpLine2 = landing.rp2;\n          vm.rpLine3 = landing.rp3;\n        } else {\n          vm.rpHeader = landing.lp1;\n          vm.rpLine2 = landing.lp2;\n          vm.rpLine3 = landing.lp3;\n        }\n      })\n    },\n    getAutomation() {\n      var vm = this;\n      let auto = vm.$route.params.template;\n      if(auto && auto.includes(':')) {\n        let autoObj = auto.split(':');\n        AutomationService.getRedirectAutomation(autoObj[0], autoObj[1]).then(response => {\n          let landing = response.landingPage;\n          if(!landing) {\n            if(response.automation) {\n              landing = response.automation.landingPage;  \n            }\n          }\n          if(!landing) {\n            if(response.automation) {\n              landing = response.action.landingPage;  \n            }\n          }\n          if(vm.selectedRating <=3) {\n            vm.rpHeader = landing.rp1;\n            vm.rpLine2 = landing.rp2;\n            vm.rpLine3 = landing.rp3;\n          } else {\n            vm.rpHeader = landing.lp1;\n            vm.rpLine2 = landing.lp2;\n            vm.rpLine3 = landing.lp3;\n          }\n        })\n      } else {\n        var targetTemplate = null;\n        if (auto && vm.location.questionTemplate && vm.location.questionTemplate.length > 0) {\n          for (var i=0; i<vm.location.questionTemplate.length && !targetTemplate; i++) {\n            if (vm.location.questionTemplate[i].title == auto)\n              targetTemplate = vm.location.questionTemplate[i];\n          }\n        } else if(vm.location.questionTemplate) {\n          targetTemplate = vm.location.questionTemplate[0]\n        }\n        vm.rpHeader = targetTemplate ? targetTemplate.rp1 : vm.location.reviewPage.header;\n        vm.rpLine2 = targetTemplate ? targetTemplate.rp2 : vm.location.reviewPage.line2;\n        vm.rpLine3 = targetTemplate ? targetTemplate.rp3 : vm.location.reviewPage.line3;\n      }\n    },\n    submitFeedback() {\n      if (!this.leavingReview) {\n        this.leavingReview = true;\n        var vm = this;\n        FeedbackService.leavePrivateReview(this.$route.params.loc, this.$route.params.cid, this.$route.params.date, this.reviewText, this.$route.params.template).then(\n          function(response) {\n            vm.reviewLeft = true;\n          }, function (error) {\n            vm.leavingReview = false;\n            console.log(error);\n        });\n      }\n    },\n    processLogo(data) {\n      let logoString = data;\n      if(logoString[0] == ',') {\n        logoString = logoString.substring(1);\n      }\n      return logoString;\n    }\n  }\n}\n</script>\n\n<style scoped>\n.review-page {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  height: auto;\n  padding: 20px;\n  box-sizing: border-box;\n  background: #fafafa;\n}\n.review-card {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  width: 700px;\n  max-width: 100%;\n  height: auto;\n  box-shadow: 0 6px 12px rgba(0, 0, 0, .15);\n  border-radius: 12px;\n  background: white;\n  padding: 20px;\n  box-sizing: border-box;\n}\n.review-name {\n  /* padding: 10px; */\n  /* font-size: 20px; */\n}\n\n.review-logo {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  max-width: 100%;\n  width: 270px;\n  min-width: 150px;\n  padding-bottom: 20px;\n  padding-top: 20px;\n}\n.review-logo span {\n  width: 100%;\n  max-width: 100%;\n}\n.review-logo span img {\n  width: 100%;\n  max-width: 100%;\n}\n.review-container {\n  margin: auto;\n  max-width: 100%;\n}\ndiv.review-logo span img {\n  width: 400px;\n}\n\n.review-text::before {\n  content: '';\n  display: block;\n  width: 60%;\n  height: 1px;\n  margin: auto;\n  background: #9a9a9a35;\n  margin-bottom: 20px;\n}\n.review-text-header {\n  padding-top: 10px;\n  padding-bottom: 20px;\n  box-sizing: border-box;\n  font-size: 35px;\n  font-family: 'Montserrat',-apple-system,BlinkMacSystemFont,Gudea,Roboto,Helvetica Neue,Segoe UI,Helvetica,Arial,sans-serif;\n  color: #757575;\n}\n\n.review-text-line2 {\n  padding: 20px;\n  font-size: 16px;\n  text-transform: uppercase;\n  font-family: 'Montserrat',-apple-system,BlinkMacSystemFont,Gudea,Roboto,Helvetica Neue,Segoe UI,Helvetica,Arial,sans-serif;\n  color: #757575;\n  font-weight: bold;\n}\n\n.review-text-line3 {\n  font-size: 16px;\n  line-height: 28px;\n  width: 600px;\n  max-width: 100%;\n  color: #757575;\n}\n\n.review-label {\n  font-size: 24px;\n}\n\n.review-textarea {\n  width: 100%;\n  max-width: 100%;\n  margin-top: 40px;\n}\n.el-textarea__inner {\n  height: 200px;\n}\n\n.review-length {\n  width: 100%;\n  text-align: left;\n  display: inline-block;\n  color: #9a9a9a;\n  font-size: 11px;\n}\n\n.review-button {\n  margin: 20px;\n}\n\n.review-button button {\n  color: white;\n  padding: 10px 20px;\n  font-weight: bold;\n}\n@media only screen and (max-width: 700px) {\n  div.review-logo span img {\n    width: 80%;\n  }\n}\n@media only screen and (max-width: 480px) {\n  .review-text-header {\n    margin-top: 30px;\n    font-size: 18px;\n    font-weight: bold;\n  }\n  .review-text-line2 {\n    font-size: 16px;\n  }\n  .review-text-line3 {\n    font-size: 14px;\n    line-height: 24px;\n  }\n}\n</style>\n"]}]}