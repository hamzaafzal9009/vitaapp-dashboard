{"remainingRequest":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/src/components/CustomerChat.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/src/components/CustomerChat.vue","mtime":1581270622000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBDdXN0b21lclNlcnZpY2UgZnJvbSAnLi8uLi9zZXJ2aWNlcy9DdXN0b21lclNlcnZpY2UnCmltcG9ydCBVc2VyU2VydmljZSBmcm9tICcuLy4uL3NlcnZpY2VzL1VzZXJTZXJ2aWNlJwppbXBvcnQgQXV0aFNlcnZpY2UgZnJvbSAnLi8uLi9zZXJ2aWNlcy9BdXRoU2VydmljZScKaW1wb3J0IEZlZWRiYWNrU2VydmljZSBmcm9tICcuLy4uL3NlcnZpY2VzL0ZlZWRiYWNrU2VydmljZScKaW1wb3J0IHtFdmVudFNlcnZpY2V9IGZyb20gJy4uL21haW4nCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2N1c3RvbWVyQ2hhdCcsCiAgcHJvcHM6IFsnc2VsZWN0ZWRDdXN0b21lciddLAogIGRhdGE6IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9nczogW10sCiAgICAgIGN1c3RvbWVyTmFtZTogJycsCiAgICAgIHJlc3BvbnNlOiAnJywKICAgICAgY3VzdG9tZXJJZDogbnVsbCwKICAgICAgbWV0aG9kczogW10sCiAgICAgIG1ldGhvZDogbnVsbCwKICAgICAgc3ViamVjdDogJycsCiAgICAgIHBvbGxlZEN1c3RvbWVyOiBudWxsLAogICAgICB1c2VySW5pdGlhbHM6ICcnLAogICAgICBjaGF0TG9jYXRpb246ICcnCiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgbG9nc1JldmVyc2VkKCkgewogICAgICByZXR1cm4gdGhpcy5sb2dzLnNsaWNlKCkucmV2ZXJzZSgpOwogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHZhciB2bSA9IHRoaXM7CiAgICB0aGlzLmN1c3RvbWVyUmVjb3JkID0gdGhpcy5zZWxlY3RlZEN1c3RvbWVyOwogICAgaWYgKHRoaXMuY3VzdG9tZXJSZWNvcmQucGhvbmUpIHsKICAgICAgdGhpcy5tZXRob2QgPSAnU01TJzsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMubWV0aG9kID0gJ0VtYWlsJzsKICAgIH0KCiAgICBVc2VyU2VydmljZS5sb2dQYWdlVmlzaXQoJ2N1c3RvbWVyQ2hhdCcpOwogICAgICBsZXQgY3VycmVudFVzZXIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjdXJyZW50VXNlcicpKTsKICAgICAgdm0udXNlckluaXRpYWxzID0gJyc7CiAgICAgIGlmIChjdXJyZW50VXNlci5maXJzdE5hbWUpIHZtLnVzZXJJbml0aWFscyArPSBjdXJyZW50VXNlci5maXJzdE5hbWUuc3Vic3RyaW5nKDAsIDEpOwogICAgICBpZiAoY3VycmVudFVzZXIubGFzdE5hbWUpIHZtLnVzZXJJbml0aWFscyArPSBjdXJyZW50VXNlci5sYXN0TmFtZS5zdWJzdHJpbmcoMCwgMSk7CgogICAgbGV0IGxvY2F0aW9uT3B0aW9ucyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xvY2F0aW9uT3B0aW9ucycpKTsKCiAgICBpZihsb2NhdGlvbk9wdGlvbnMgJiYgbG9jYXRpb25PcHRpb25zLmxlbmd0aCkgewogICAgICB2bS5jaGF0TG9jYXRpb24gPSBsb2NhdGlvbk9wdGlvbnMuZmluZChsb2MgPT4gewogICAgICAgIHJldHVybiBsb2MubG9jYXRpb25JZCA9PSB2bS5zZWxlY3RlZEN1c3RvbWVyLmxvY2F0aW9uSWQKICAgICAgfSkubmFtZQogICAgfSBlbHNlIHsgfQogICAgdGhpcy5nZXRDdXN0b21lckxvZ3MoKTsKICAgIHRoaXMucmVmcmVzaEludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICB0aGlzLmdldEN1c3RvbWVyTG9ncygpOwogICAgfSwgNzAwMCkKICAgIHRoaXMudGltZW91dEludGVydmFsID0gc2V0VGltZW91dCgoKSA9PiB7CiAgICAgIEF1dGhTZXJ2aWNlLmlkbGVMb2dvdXQoKTsKICAgIH0sIDkwMDAwMCkKICAgIEV2ZW50U2VydmljZS4kb24oImxvY2F0aW9uQ2hhbmdlIiwgdGhpcy5jbG9zZUNoYXQpOwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24oKSB7CiAgICBjbGVhckludGVydmFsKHRoaXMucmVmcmVzaEludGVydmFsKTsKICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRJbnRlcnZhbCk7CiAgICBFdmVudFNlcnZpY2UuJG9mZigibG9jYXRpb25DaGFuZ2UiLCB0aGlzLmNsb3NlQ2hhdCk7CiAgfSwKICB1cGRhdGVkOiBmdW5jdGlvbigpIHsKICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uKCkgewogICAgICB2YXIgbG9nRGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImxvZy1tZXNzYWdlLWNvbnRhaW5lciIpOwogICAgICBsb2dEaXYuc2Nyb2xsVG9wID0gbG9nRGl2LnNjcm9sbEhlaWdodDsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgcmVzZXRUaW1lb3V0SW50ZXJ2YWwoKSB7CiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRJbnRlcnZhbCk7CiAgICAgIHRoaXMudGltZW91dEludGVydmFsID0gc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgQXV0aFNlcnZpY2UuaWRsZUxvZ291dCgpOwogICAgICB9LCA5MDAwMDApCiAgICB9LAogICAgZ2V0Q3VzdG9tZXJMb2dzKCkgewogICAgICBsZXQgdm0gPSB0aGlzOwogICAgICBpZiAodm0uY3VzdG9tZXJSZWNvcmQgJiYgdm0uY3VzdG9tZXJSZWNvcmQuY3VzdG9tZXJJZCkgewogICAgICAgIEN1c3RvbWVyU2VydmljZS5nZXRDdXN0b21lckxvZ3NGb3JDaGF0KHZtLmN1c3RvbWVyUmVjb3JkLmxvY2F0aW9uSWQsIHZtLmN1c3RvbWVyUmVjb3JkLmN1c3RvbWVySWQpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgaWYodm0ubG9ncy5sZW5ndGggIT0gcmVzcG9uc2UubG9ncy5sZW5ndGggfHwgcmVzcG9uc2UubG9ncy5sZW5ndGggPT0gMCkgewogICAgICAgICAgICBpZihyZXNwb25zZS5sb2dzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICBsZXQgZGF0ZVNvcnRlZExvZ3MgPSByZXNwb25zZS5sb2dzLnNvcnQoKGEsYikgPT4gewogICAgICAgICAgICAgICAgcmV0dXJuIGIuZGF0ZSAtIGEuZGF0ZTsKICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgIGlmKGRhdGVTb3J0ZWRMb2dzWzBdLnR5cGUuaW5jbHVkZXMoJ1JlY2VpdmVkJykpIHsKICAgICAgICAgICAgICAgIHZtLiRlbWl0KCdzZXRBY3RpdmVDdXN0b21lckFzVW5yZXNvbHZlZCcpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBmb3IgKGxldCBpPTA7IGk8cmVzcG9uc2UubG9ncy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgIGxldCBsb2dUZXh0ID0gcmVzcG9uc2UubG9nc1tpXS50ZXh0OwogICAgICAgICAgICAgIGlmIChsb2dUZXh0KSB7CiAgICAgICAgICAgICAgICB2YXIgbmV3TGluZXMgPSBsb2dUZXh0LnNwbGl0KC9cclxufFxyfFxuLyk7CiAgICAgICAgICAgICAgICB2YXIgbGluZUNvdW50ID0gbmV3TGluZXMubGVuZ3RoOwogICAgICAgICAgICAgICAgZm9yIChsZXQgaj0wOyBqPG5ld0xpbmVzLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgICAgICAgIGlmIChuZXdMaW5lc1tqXS5sZW5ndGggJiYgbmV3TGluZXNbal0ubGVuZ3RoID4gODApIHsKICAgICAgICAgICAgICAgICAgICBsaW5lQ291bnQrKzsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKGxpbmVDb3VudCA+IDcgfHwgbG9nVGV4dC5sZW5ndGggPiA1MDApIHJlc3BvbnNlLmxvZ3NbaV0uaXNMYXJnZSA9IHRydWU7CiAgICAgICAgICAgICAgICByZXNwb25zZS5sb2dzW2ldLnNob3dBbGwgPSBmYWxzZTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdm0ubG9ncyA9IHJlc3BvbnNlLmxvZ3M7CiAgICAgICAgICAgIHZtLmN1c3RvbWVySWQgPSByZXNwb25zZS5jdXN0b21lcklkOwogICAgICAgICAgICBpZihyZXNwb25zZS5maXJzdE5hbWUgfHwgcmVzcG9uc2UubGFzdE5hbWUpIHsKICAgICAgICAgICAgICB2bS5jdXN0b21lck5hbWUgPSByZXNwb25zZS5maXJzdE5hbWUgKyAnICcgKyByZXNwb25zZS5sYXN0TmFtZTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB2bS5jdXN0b21lck5hbWUgPSAnVW5saXN0ZWQnCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYocmVzcG9uc2UuZW1haWwgJiYgIXZtLm1ldGhvZHMuaW5jbHVkZXMoJ2VtYWlsJykpIHsKICAgICAgICAgICAgICB2bS5tZXRob2RzLnB1c2goJ0VtYWlsJykKICAgICAgICAgICAgfQogICAgICAgICAgICBpZihyZXNwb25zZS5waG9uZSAmJiAhdm0ubWV0aG9kcy5pbmNsdWRlcygnU01TJykpIHsKICAgICAgICAgICAgICB2bS5tZXRob2RzLnB1c2goJ1NNUycpCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KQogICAgICB9IGVsc2UgewogICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5yZWZyZXNoSW50ZXJ2YWwpOwogICAgICB9CiAgICB9LAogICAgY2xlYXJGaWVsZHMoKSB7CiAgICAgIGxldCB2bSA9IHRoaXM7CiAgICAgIHZtLnN1YmplY3QgPSAnJzsKICAgICAgdm0ucmVzcG9uc2UgPSAnJzsKICAgIH0sCiAgICBjbGlwUmVzcG9uc2UodGV4dCkgewogICAgICByZXR1cm4gdGV4dC5zdWJzdHIoMCwgMTAwKSsnLi4uJwogICAgfSwKICAgIGNoZWNrTWV0aG9kKCkgewogICAgICBpZih0aGlzLm1ldGhvZCA9PSAnU01TJyAmJiB0aGlzLnJlc3BvbnNlLmxlbmd0aCA+IDEzNCkgewogICAgICAgIHRoaXMucmVzcG9uc2UgPSB0aGlzLnJlc3BvbnNlLnN1YnN0cigwLDEzNCkKICAgICAgfQogICAgfSwKICAgIHRvZ2dsZU1ldGhvZCgpIHsKICAgICAgaWYgKHRoaXMubWV0aG9kID09ICdFbWFpbCcpIHsKICAgICAgICB0aGlzLm1ldGhvZCA9ICdTTVMnOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMubWV0aG9kID0gJ0VtYWlsJzsKICAgICAgfQogICAgfSwKICAgIGlzQ3VzdG9tZXJBY3Rpb24oYWN0aW9uKSB7CiAgICAgIHJldHVybiBhY3Rpb24uc3RhcnRzV2l0aCgnTGVmdCcpCiAgICAgICAgICAgICB8fCBhY3Rpb24uc3RhcnRzV2l0aCgnUm91dGVkJykKICAgICAgICAgICAgIHx8IGFjdGlvbi5zdGFydHNXaXRoKCdSZXNwb25kZWQnKQogICAgICAgICAgICAgfHwgYWN0aW9uLnN0YXJ0c1dpdGgoJ1JlY2VpdmVkJykKICAgICAgICAgICAgIHx8IGFjdGlvbi5zdGFydHNXaXRoKCdTTVMgTGluayBDbGlja2VkJykKICAgICAgICAgICAgIHx8IGFjdGlvbi5zdGFydHNXaXRoKCdOb3RlIEFkZGVkJyk7CiAgICB9LAogICAgZGlzcGxheUFzQWN0dWFsTWVzc2FnZShsb2csIGxvZ0luZGV4KSB7CiAgICAgIHJldHVybiAhdGhpcy5kaXNwbGF5QXNEZWxpdmVyZWQobG9nLCBsb2dJbmRleCkKICAgICAgICAgICAgICYmICF0aGlzLmRpc3BsYXlBc01pZGRsZShsb2cpOwogICAgfSwKICAgIGRpc3BsYXlBc0RlbGl2ZXJlZChsb2csIGxvZ0luZGV4KSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0sCiAgICBkaXNwbGF5QXNNaWRkbGUobG9nKSB7CiAgICAgIHJldHVybiBsb2cudHlwZS5pbmNsdWRlcygnQ3VzdG9tZXIgQWRkZWQnKQogICAgICAgICAgICAgfHwgbG9nLnR5cGUuaW5jbHVkZXMoJ0N1c3RvbWVyIGFkZGVkJykKICAgICAgICAgICAgIHx8IGxvZy50eXBlLmluY2x1ZGVzKCdMZWZ0IFJhdGluZycpCiAgICAgICAgICAgICB8fCBsb2cudHlwZS5pbmNsdWRlcygnTGluayBDbGlja2VkJykKICAgICAgICAgICAgIHx8IGxvZy50eXBlLmluY2x1ZGVzKCdFbWFpbCBPcGVuZWQnKQogICAgICAgICAgICAgfHwgbG9nLnR5cGUuaW5jbHVkZXMoJ1JvdXRlZCcpCiAgICAgICAgICAgICB8fCBsb2cudHlwZS5pbmNsdWRlcygnQWRkZWQgdG8gQXV0b21hdGlvbicpCiAgICAgICAgICAgICB8fCBsb2cudHlwZS5pbmNsdWRlcygnUmVzcG9uZGVkJykgJiYgdHlwZW9mIE51bWJlcihsb2cudHlwZS5zcGxpdCgnICcpWzFdID09ICdudW1iZXInKQogICAgICAgICAgICAgfHwgbG9nLnR5cGUuaW5jbHVkZXMoJ01hbnVhbGx5JykKICAgICAgICAgICAgIHx8IGxvZy50eXBlLmluY2x1ZGVzKCdOb3RlIEFkZGVkOicpCiAgICAgICAgICAgICB8fCBsb2cudHlwZS5pbmNsdWRlcygnVGFnIGFkZGVkOicpCiAgICAgICAgICAgICB8fCBsb2cudHlwZS5pbmNsdWRlcygnVGFnIHJlbW92ZWQ6JykKICAgICAgICAgICAgIHx8IGxvZy50eXBlLmluY2x1ZGVzKCdJbnRlcmFjdGlvbicpOwogICAgfSwKICAgIHRvZ2dsZVNob3dGdWxsTG9nKGxvZywgbG9nSW5kZXgpIHsKICAgICAgdmFyIHNjcm9sbEhlaWdodCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2ctbWVzc2FnZS1jb250YWluZXInKS5zY3JvbGxUb3A7CiAgICAgIGxvZy5zaG93QWxsID0gIWxvZy5zaG93QWxsOwogICAgICBpZihsb2dJbmRleCA9PSB0aGlzLmxvZ3NSZXZlcnNlZC5sZW5ndGgtMikgewogICAgICAgIGxldCBhZGRIZWlnaHQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdtYXJrZXInKVtsb2dJbmRleF0uY2xpZW50SGVpZ2h0OwogICAgICAgIHNjcm9sbEhlaWdodCs9YWRkSGVpZ2h0OwogICAgICB9CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvZy1tZXNzYWdlLWNvbnRhaW5lcicpLnNjcm9sbFRvcCA9IHNjcm9sbEhlaWdodDsKICAgICAgfSwgMSk7CiAgICB9LAogICAgcmVzb2x2ZUN1c3RvbWVySW50ZXJhY3Qoc3RhdHVzLCBtYW51YWwpIHsKICAgICAgbGV0IHZtID0gdGhpczsKICAgICAgaWYoc3RhdHVzID09ICdyZXNvbHZlJykgewogICAgICAgIGlmKG1hbnVhbCkgewogICAgICAgICAgQ3VzdG9tZXJTZXJ2aWNlLmFkZEN1c3RvbWVyRW5nYWdlbWVudExvZyh2bS5zZWxlY3RlZEN1c3RvbWVyLmN1c3RvbWVySWQsICdJbnRlcmFjdGlvbiBtYXJrZWQgYXMgY2xvc2VkJykudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgIGlmKHJlc3BvbnNlLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICB2bS5zZWxlY3RlZEN1c3RvbWVyLnJlc29sdmVkID0gdHJ1ZTsKICAgICAgICAgICAgICB2bS5nZXRDdXN0b21lckxvZ3MoKQogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2bS5zZWxlY3RlZEN1c3RvbWVyLnJlc29sdmVkID0gdHJ1ZTsKICAgICAgICAgIHZtLmdldEN1c3RvbWVyTG9ncygpCiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIEN1c3RvbWVyU2VydmljZS5hZGRDdXN0b21lckVuZ2FnZW1lbnRMb2codm0uc2VsZWN0ZWRDdXN0b21lci5jdXN0b21lcklkLCAnSW50ZXJhY3Rpb24gb3BlbmVkJykudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICBpZihyZXNwb25zZS5zdWNjZXNzKSB7CiAgICAgICAgICAgIHZtLnNlbGVjdGVkQ3VzdG9tZXIucmVzb2x2ZWQgPSBmYWxzZTsKICAgICAgICAgICAgdm0uZ2V0Q3VzdG9tZXJMb2dzKCkKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICB9CiAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgicmVsb2FkQ3VzdG9tZXJDaGF0TGlzdCIpOwogICAgfSwKICAgIHN1Ym1pdFJlc3BvbnNlKCkgewogICAgICBpZiAodGhpcy5tZXRob2QgPT0gJ0VtYWlsJyAmJiB0aGlzLnN1YmplY3QgPT0gJycpIHsKICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoImVycm9yTWVzc2FnZSIsICJZb3UgbXVzdCBhZGQgYSBzdWJqZWN0IHRvIHNlbmQgYW4gZW1haWwuIik7CiAgICAgICAgdGhpcy5zdWJqZWN0ID8gdGhpcy5zdWJqZWN0ID0gdGhpcy5zdWJqZWN0LnRyaW0oKSA6IG51bGw7CiAgICAgIH0gZWxzZSBpZih0aGlzLnJlc3BvbnNlLmxlbmd0aCA+IDMpIHsKICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoImxvYWRpbmciLCAic2hvdyIpOwogICAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgICAgdm0ucmVzcG9uc2UgPSB2bS5yZXNwb25zZS50cmltKCk7CiAgICAgICAgQ3VzdG9tZXJTZXJ2aWNlLnJlc3BvbmRUb0N1c3RvbWVyKAogICAgICAgICAgdm0uY3VzdG9tZXJJZCwKICAgICAgICAgIHZtLm1ldGhvZC50b0xvd2VyQ2FzZSgpLAogICAgICAgICAgdm0ucmVzcG9uc2UsCiAgICAgICAgICB2bS5zdWJqZWN0CiAgICAgICAgKS50aGVuKAogICAgICAgICAgcmVzcG9uc2UgPT4gewogICAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoInN1Y2Nlc3NNZXNzYWdlIiwgIk1lc3NhZ2Ugc2VudCEiKTsKICAgICAgICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KCJsb2FkaW5nIiwgImhpZGUiKTsKICAgICAgICAgICAgdm0uY2xlYXJGaWVsZHMoKTsKICAgICAgICAgICAgdm0ucmVzb2x2ZUN1c3RvbWVySW50ZXJhY3QoJ3Jlc29sdmUnLCBmYWxzZSk7CiAgICAgICAgICAgIC8vIEV2ZW50U2VydmljZS4kZW1pdCgicmVsb2FkQ3VzdG9tZXJDaGF0TGlzdCIpOwogICAgICAgICAgfSwKICAgICAgICAgIGVycm9yID0+IHsKICAgICAgICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KCJlcnJvck1lc3NhZ2UiLCAiU29tZXRoaW5nIHdlbnQgd3JvbmcgY29udGFjdGluZyB0aGUgY3VzdG9tZXIuIik7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KCJsb2FkaW5nIiwgImhpZGUiKTsKICAgICAgICAgIH0KICAgICAgICApOwogICAgICB9IGVsc2UgewogICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgiZXJyb3JNZXNzYWdlIiwgIk1lc3NhZ2UgaXMgbm90IGxvbmcgZW5vdWdoIHRvIGJlIHNlbnQuIik7CiAgICAgIH0KICAgIH0sCiAgICBmb3JtYXREYXRlVGltZShkYXRlKSB7CiAgICAgIHZhciBkYXRlU3RyaW5nID0gbmV3IERhdGUoZGF0ZSkudG9Mb2NhbGVTdHJpbmcoKTsKICAgICAgdmFyIGxhc3RDb2xvbiA9IGRhdGVTdHJpbmcubGFzdEluZGV4T2YoJzonKTsKICAgICAgcmV0dXJuIGRhdGVTdHJpbmcuc3Vic3RyaW5nKDAsIGxhc3RDb2xvbikgKyBkYXRlU3RyaW5nLnN1YnN0cmluZyhsYXN0Q29sb24gKyAzKTsKICAgIH0sCiAgICBhZGRDdXN0b21lck5vdGUoKSB7CiAgICAgIGxldCB2bSA9IHRoaXM7CiAgICAgIHRoaXMuJGVtaXQoJ2FkZEN1c3RvbWVyTm90ZScsIHZtLnJlc3BvbnNlKTsKICAgICAgdm0ucmVzcG9uc2UgPSAnJzsKICAgIH0sCiAgICBjbG9zZUNoYXQoKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2Nsb3NlQ3VzdG9tZXJDaGF0Jyk7CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["CustomerChat.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsJA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CustomerChat.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"customer-chat-page\" @click=\"resetTimeoutInterval()\">\n    <div class=\"upper-data-container\">\n      <div style=\"margin: 10px 20px;display: flex;flex-direction: row;\" class=\"customer-name-container\">\n        <div class=\"name-container\">\n          <div class=\"name-row\">\n            <span>{{customerName}}</span>\n            <span style=\"margin-left: 20px;\" v-if=\"selectedCustomer.rating\">\n              <div class=\"stars\" v-if=\"selectedCustomer.rating == 1\">\n                <i class=\"fa fa-star checked\"></i>\n              </div>\n              <div class=\"stars\" v-if=\"selectedCustomer.rating == 2\">\n                <i class=\"fa fa-star checked\"></i>\n                <i class=\"fa fa-star checked\"></i>\n              </div>\n              <div class=\"stars\" v-if=\"selectedCustomer.rating == 3\">\n                <i class=\"fa fa-star checked\"></i>\n                <i class=\"fa fa-star checked\"></i>\n                <i class=\"fa fa-star checked\"></i>\n              </div>\n              <div class=\"stars\" v-if=\"selectedCustomer.rating == 4\">\n                <i class=\"fa fa-star checked\"></i>\n                <i class=\"fa fa-star checked\"></i>\n                <i class=\"fa fa-star checked\"></i>\n                <i class=\"fa fa-star checked\"></i>\n              </div>\n              <div class=\"stars\" v-if=\"selectedCustomer.rating == 5\">\n                <i class=\"fa fa-star checked\"></i>\n                <i class=\"fa fa-star checked\"></i>\n                <i class=\"fa fa-star checked\"></i>\n                <i class=\"fa fa-star checked\"></i>\n                <i class=\"fa fa-star checked\"></i>\n              </div>\n            </span>\n            <span class=\"no-rating\" v-else>No rating</span>\n          </div>\n        <span class=\"chat-location\" v-if=\"chatLocation\">{{chatLocation}}</span>\n        </div>\n      </div>\n      <div class=\"actions-container resolve-chat\">\n        <button @click=\"resolveCustomerInteract('resolve', true)\" v-if=\"!selectedCustomer.resolved\" class=\"resolved\"><i class=\"fal fa-check\"></i>Mark as Resolved</button>\n        <button @click=\"resolveCustomerInteract('open')\" v-if=\"selectedCustomer.resolved\" class=\"resolved\"><i class=\"fal fa-check\"></i>Mark as Open</button>\n      </div>\n    </div>\n    <!-- TODO: Fix Readability of each of these if necessary. -->\n    <div class=\"log-message-container hide-scroll\" id=\"log-message-container\">\n      <div class=\"marker\" v-for=\"(log, logIndex) in logsReversed\">\n        <div class=\"log-message\" :class=\"{'message-response': !isCustomerAction(log.type)}\" v-if=\"displayAsActualMessage(log, logIndex)\">\n          <div class=\"log-message-timestamp\" :class=\"{'message-response-timestamp': !isCustomerAction(log.type)}\">\n            <span>\n              <span v-if=\"log.text && isCustomerAction(log.type)\">{{selectedCustomer.firstName}} {{selectedCustomer.lastName}} <span v-if=\"!log.type.includes('Left Private Review') && !log.type.includes('Left Comments')\">responded on</span><span v-if=\"log.type.includes('Left Private Review') || log.type.includes('Left Comments')\">left review on</span> </span>\n              <span v-if=\"log.text && !isCustomerAction(log.type)\">You sent on </span>\n              {{formatDateTime(log.date)}}\n            </span>\n          </div>\n          <div class=\"message-grouping\" :class=\"{'reverse': isCustomerAction(log.type)}\">\n            <span class=\"log-type\" :class=\"{'right': !isCustomerAction(log.type), 'log-type-full': log.showAll, 'email': log.type.includes('Email'), 'sms': log.type.includes('SMS')}\" >\n              <span v-if=\"!log.text\">{{log.type}}</span>\n              <span class=\"message-text\" v-if=\"log.text\"> <span v-if=\"log.type.includes('Email')\">Subject:</span> {{log.text}} </span>\n              <div class=\"message-text-spacer\" v-if=\"log.text && log.isLarge\"></div>\n              <span class=\"message-text-expand\" v-if=\"log.text && log.isLarge\" @click=\"toggleShowFullLog(log, logIndex)\">\n                <span v-if=\"!log.showAll\">Show all</span>\n                <span v-if=\"log.showAll\">Hide</span>...\n              </span>\n            </span>\n            <span v-if=\"log.type.includes('SMS') || log.type.includes('Email') || log.type.includes('email') || log.type.includes('Left Private Review') ||  log.type.includes('Left Comments')\">\n              <i class=\"fas fa-envelope\" v-if=\"log.type.includes('Email') || log.type.includes('email')\"></i>\n              <i class=\"fas fa-comments\" v-if=\"log.type.includes('SMS')\"></i>\n              <i class=\"far fa-clipboard-check\" v-if=\"log.type.includes('Left Private Review') || log.type.includes('Left Comments')\"></i>\n            </span>\n          </div>\n        </div>\n        <div class=\"log-message message-response message-delivered\" v-if=\"displayAsDelivered(log, logIndex)\">\n          <div class=\"log-message-timestamp message-response-timestamp\">\n            <span v-if=\"!log.text && !isCustomerAction(log.type)\">Delivered</span>\n          </div>\n        </div>\n        <div class=\"middle-log\" v-if=\"!log.type.includes('Added to Automation(Email)') && !log.type.includes('Added to Automation(SMS)') && displayAsMiddle(log)\">\n          <span v-if=\"!log.type.includes('Left')\">{{log.type}} on&nbsp;</span>\n          <span v-if=\"log.type.includes('Left')\">Customer Responded&nbsp;</span>\n          <div class=\"middle-log-message-timestamp\">\n            <span>{{formatDateTime(log.date)}}</span>\n          </div>\n        </div>\n        <!-- Block for Displaying Ratings left. Will always be in the middle, can be left be. -->\n        <div class=\"middle-log-rating\" v-if=\"log.type.includes('Left Rating') || (log.type.startsWith('Responded') && typeof Number(log.type.split(' ')[1]) == 'number')\">\n          <span v-if=\"log.type.includes('Left Rating')\">Left {{log.type.split(' ')[3]}} Of 5 Rating</span>\n          <span v-if=\"log.type.startsWith('Responded') && typeof Number(log.type.split(' ')[1]) == 'number'\">Left {{log.type.split(' ')[1]}} Of 5 Rating</span>\n          <div class=\"stars\" v-if=\"log.type.split(' ')[3] == 1 || log.type.split(' ')[1] == 1\">\n            <i class=\"fa fa-star checked\"></i>\n          </div>\n          <div class=\"stars\" v-if=\"log.type.split(' ')[3] == 2 || log.type.split(' ')[1] == 2\">\n            <i class=\"fa fa-star checked\"></i>\n            <i class=\"fa fa-star checked\"></i>\n          </div>\n          <div class=\"stars\" v-if=\"log.type.split(' ')[3] == 3 || log.type.split(' ')[1] == 3\">\n            <i class=\"fa fa-star checked\"></i>\n            <i class=\"fa fa-star checked\"></i>\n            <i class=\"fa fa-star checked\"></i>\n          </div>\n          <div class=\"stars\" v-if=\"log.type.split(' ')[3] == 4 || log.type.split(' ')[1] == 4\">\n            <i class=\"fa fa-star checked\"></i>\n            <i class=\"fa fa-star checked\"></i>\n            <i class=\"fa fa-star checked\"></i>\n            <i class=\"fa fa-star checked\"></i>\n          </div>\n          <div class=\"stars\" v-if=\"log.type.split(' ')[3] == 5 || log.type.split(' ')[1] == 5\">\n            <i class=\"fa fa-star checked\"></i>\n            <i class=\"fa fa-star checked\"></i>\n            <i class=\"fa fa-star checked\"></i>\n            <i class=\"fa fa-star checked\"></i>\n            <i class=\"fa fa-star checked\"></i>\n          </div>\n        </div>\n\n      </div>\n    </div>\n    <div class=\"response-block\">\n      <div class=\"circle-selection\">{{userInitials}}</div>\n      <div class=\"response-block-container\">\n        <div class=\"subject\">\n          <input type=\"text\" v-model=\"subject\" v-if=\"method == 'Email'\" placeholder=\"Add an email subject...\">\n        </div>\n        <div class=\"customer-response-container\">\n          <textarea class=\"customer-response-text\" v-model=\"response\" :maxlength=\"method == 'SMS' ? 135 : 1000\" placeholder=\"Type a message...\"></textarea>\n        </div>\n        <div class=\"message-type\">\n          <div class=\"method-select\" @click.prevent=\"submitResponse()\">\n            <label>Send Message</label>\n          </div>\n          <div class=\"method-toggle\" :class=\"{'is-sms': method == 'SMS'}\" v-if=\"methods.length > 1\" @click=\"toggleMethod()\">\n            <span class=\"method-toggle-sms\" v-if=\"method == 'SMS'\">\n              SMS\n              <span class=\"method-toggle-circle\"></span>\n            </span>\n            <span class=\"method-toggle-email\" v-if=\"method == 'Email'\">\n              <span class=\"method-toggle-circle\"></span>\n              Email\n            </span>\n          </div>\n          <div class=\"method-toggle\" style=\"padding: 5px 10px 0px 10px;\" v-if=\"methods.length == 1\">\n            {{methods[0]}}\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport CustomerService from './../services/CustomerService'\nimport UserService from './../services/UserService'\nimport AuthService from './../services/AuthService'\nimport FeedbackService from './../services/FeedbackService'\nimport {EventService} from '../main'\n\nexport default {\n  name: 'customerChat',\n  props: ['selectedCustomer'],\n  data: function() {\n    return {\n      logs: [],\n      customerName: '',\n      response: '',\n      customerId: null,\n      methods: [],\n      method: null,\n      subject: '',\n      polledCustomer: null,\n      userInitials: '',\n      chatLocation: ''\n    }\n  },\n  computed: {\n    logsReversed() {\n      return this.logs.slice().reverse();\n    }\n  },\n  mounted() {\n    var vm = this;\n    this.customerRecord = this.selectedCustomer;\n    if (this.customerRecord.phone) {\n      this.method = 'SMS';\n    } else {\n      this.method = 'Email';\n    }\n\n    UserService.logPageVisit('customerChat');\n      let currentUser = JSON.parse(localStorage.getItem('currentUser'));\n      vm.userInitials = '';\n      if (currentUser.firstName) vm.userInitials += currentUser.firstName.substring(0, 1);\n      if (currentUser.lastName) vm.userInitials += currentUser.lastName.substring(0, 1);\n\n    let locationOptions = JSON.parse(localStorage.getItem('locationOptions'));\n\n    if(locationOptions && locationOptions.length) {\n      vm.chatLocation = locationOptions.find(loc => {\n        return loc.locationId == vm.selectedCustomer.locationId\n      }).name\n    } else { }\n    this.getCustomerLogs();\n    this.refreshInterval = setInterval(() => {\n      this.getCustomerLogs();\n    }, 7000)\n    this.timeoutInterval = setTimeout(() => {\n      AuthService.idleLogout();\n    }, 900000)\n    EventService.$on(\"locationChange\", this.closeChat);\n  },\n  beforeDestroy: function() {\n    clearInterval(this.refreshInterval);\n    clearTimeout(this.timeoutInterval);\n    EventService.$off(\"locationChange\", this.closeChat);\n  },\n  updated: function() {\n    this.$nextTick(function() {\n      var logDiv = document.getElementById(\"log-message-container\");\n      logDiv.scrollTop = logDiv.scrollHeight;\n    });\n  },\n  methods: {\n    resetTimeoutInterval() {\n      clearTimeout(this.timeoutInterval);\n      this.timeoutInterval = setTimeout(() => {\n        AuthService.idleLogout();\n      }, 900000)\n    },\n    getCustomerLogs() {\n      let vm = this;\n      if (vm.customerRecord && vm.customerRecord.customerId) {\n        CustomerService.getCustomerLogsForChat(vm.customerRecord.locationId, vm.customerRecord.customerId).then(response => {\n          if(vm.logs.length != response.logs.length || response.logs.length == 0) {\n            if(response.logs.length > 0) {\n              let dateSortedLogs = response.logs.sort((a,b) => {\n                return b.date - a.date;\n              })\n              if(dateSortedLogs[0].type.includes('Received')) {\n                vm.$emit('setActiveCustomerAsUnresolved');\n              }\n            }\n            for (let i=0; i<response.logs.length; i++) {\n              let logText = response.logs[i].text;\n              if (logText) {\n                var newLines = logText.split(/\\r\\n|\\r|\\n/);\n                var lineCount = newLines.length;\n                for (let j=0; j<newLines.length; j++) {\n                  if (newLines[j].length && newLines[j].length > 80) {\n                    lineCount++;\n                  }\n                }\n                if (lineCount > 7 || logText.length > 500) response.logs[i].isLarge = true;\n                response.logs[i].showAll = false;\n              }\n            }\n            vm.logs = response.logs;\n            vm.customerId = response.customerId;\n            if(response.firstName || response.lastName) {\n              vm.customerName = response.firstName + ' ' + response.lastName;\n            } else {\n              vm.customerName = 'Unlisted'\n            }\n            if(response.email && !vm.methods.includes('email')) {\n              vm.methods.push('Email')\n            }\n            if(response.phone && !vm.methods.includes('SMS')) {\n              vm.methods.push('SMS')\n            }\n          }\n        })\n      } else {\n        clearInterval(this.refreshInterval);\n      }\n    },\n    clearFields() {\n      let vm = this;\n      vm.subject = '';\n      vm.response = '';\n    },\n    clipResponse(text) {\n      return text.substr(0, 100)+'...'\n    },\n    checkMethod() {\n      if(this.method == 'SMS' && this.response.length > 134) {\n        this.response = this.response.substr(0,134)\n      }\n    },\n    toggleMethod() {\n      if (this.method == 'Email') {\n        this.method = 'SMS';\n      } else {\n        this.method = 'Email';\n      }\n    },\n    isCustomerAction(action) {\n      return action.startsWith('Left')\n             || action.startsWith('Routed')\n             || action.startsWith('Responded')\n             || action.startsWith('Received')\n             || action.startsWith('SMS Link Clicked')\n             || action.startsWith('Note Added');\n    },\n    displayAsActualMessage(log, logIndex) {\n      return !this.displayAsDelivered(log, logIndex)\n             && !this.displayAsMiddle(log);\n    },\n    displayAsDelivered(log, logIndex) {\n      return false;\n    },\n    displayAsMiddle(log) {\n      return log.type.includes('Customer Added')\n             || log.type.includes('Customer added')\n             || log.type.includes('Left Rating')\n             || log.type.includes('Link Clicked')\n             || log.type.includes('Email Opened')\n             || log.type.includes('Routed')\n             || log.type.includes('Added to Automation')\n             || log.type.includes('Responded') && typeof Number(log.type.split(' ')[1] == 'number')\n             || log.type.includes('Manually')\n             || log.type.includes('Note Added:')\n             || log.type.includes('Tag added:')\n             || log.type.includes('Tag removed:')\n             || log.type.includes('Interaction');\n    },\n    toggleShowFullLog(log, logIndex) {\n      var scrollHeight = document.getElementById('log-message-container').scrollTop;\n      log.showAll = !log.showAll;\n      if(logIndex == this.logsReversed.length-2) {\n        let addHeight = document.getElementsByClassName('marker')[logIndex].clientHeight;\n        scrollHeight+=addHeight;\n      }\n      setTimeout(function() {\n        document.getElementById('log-message-container').scrollTop = scrollHeight;\n      }, 1);\n    },\n    resolveCustomerInteract(status, manual) {\n      let vm = this;\n      if(status == 'resolve') {\n        if(manual) {\n          CustomerService.addCustomerEngagementLog(vm.selectedCustomer.customerId, 'Interaction marked as closed').then(response => {\n            if(response.success) {\n              vm.selectedCustomer.resolved = true;\n              vm.getCustomerLogs()\n            }\n          })\n        } else {\n          vm.selectedCustomer.resolved = true;\n          vm.getCustomerLogs()\n        }\n      } else {\n        CustomerService.addCustomerEngagementLog(vm.selectedCustomer.customerId, 'Interaction opened').then(response => {\n          if(response.success) {\n            vm.selectedCustomer.resolved = false;\n            vm.getCustomerLogs()\n          }\n        })\n      }\n      EventService.$emit(\"reloadCustomerChatList\");\n    },\n    submitResponse() {\n      if (this.method == 'Email' && this.subject == '') {\n        EventService.$emit(\"errorMessage\", \"You must add a subject to send an email.\");\n        this.subject ? this.subject = this.subject.trim() : null;\n      } else if(this.response.length > 3) {\n        EventService.$emit(\"loading\", \"show\");\n        var vm = this;\n        vm.response = vm.response.trim();\n        CustomerService.respondToCustomer(\n          vm.customerId,\n          vm.method.toLowerCase(),\n          vm.response,\n          vm.subject\n        ).then(\n          response => {\n            EventService.$emit(\"successMessage\", \"Message sent!\");\n            EventService.$emit(\"loading\", \"hide\");\n            vm.clearFields();\n            vm.resolveCustomerInteract('resolve', false);\n            // EventService.$emit(\"reloadCustomerChatList\");\n          },\n          error => {\n            EventService.$emit(\"errorMessage\", \"Something went wrong contacting the customer.\");\n            console.log(error);\n            EventService.$emit(\"loading\", \"hide\");\n          }\n        );\n      } else {\n        EventService.$emit(\"errorMessage\", \"Message is not long enough to be sent.\");\n      }\n    },\n    formatDateTime(date) {\n      var dateString = new Date(date).toLocaleString();\n      var lastColon = dateString.lastIndexOf(':');\n      return dateString.substring(0, lastColon) + dateString.substring(lastColon + 3);\n    },\n    addCustomerNote() {\n      let vm = this;\n      this.$emit('addCustomerNote', vm.response);\n      vm.response = '';\n    },\n    closeChat() {\n      this.$emit('closeCustomerChat');\n    }\n  }\n}\n</script>\n\n\n<style scoped>\n\n.customer-chat-page {\n  border-radius: 1px;\n  width: 100%;\n  max-width: 100%;\n  display: flex;\n  flex-direction: column;\n  background: #F8F8F8;\n  position: relative;\n}\n\n.upper-data-container {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  height: 70px;\n  background: white;\n}\n\n.customer-name-container {\n  display: flex;\n  flex-direction: row;\n  align-items: baseline;\n  padding: 15px;\n  margin: 0;\n  background: white;\n  font-size: 16pt;\n}\n\n.actions-container {\n  /* width: 145px; */\n  display: flex;\n  justify-content: space-between;\n}\n\n.actions-container button {\n  display: flex;\n  flex-direction: row;\n  box-shadow: 1px 3px 8px rgba(0,0,0,.25);\n  padding: 7px 20px;\n  margin-right: 20px;\n  border-radius: 15px;\n}\n\n.fa-check {\n  margin-right: 5px;\n}\n\n.actions-container span {\n  font-size: 25px;\n  margin-bottom: 10px;\n  cursor: pointer;\n  height: 30px;\n}\n\n.log-message-container {\n  background: #F8F8F8;\n  padding: 8px 0 0 0;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  overflow-x: hidden;\n}\n\n.log-message {\n  display: flex;\n  flex-direction: column;\n  margin-top: 10px;\n  /* background: lightblue; */\n  padding: 5px;\n  border-radius: 5px;\n}\n\n.message-delivered {\n  margin-top: 0px;\n}\n\n.log-type {\n  font-size: 13px;\n  background: white;\n  padding: 7px 13px;\n  border-radius: 15px;\n  max-width: 80%;\n  overflow: hidden;\n  max-height: 110px;\n  position: relative;\n}\n\n.log-type-full {\n  max-height: unset;\n}\n\n.middle-log,\n.middle-log-rating {\n  font-size: 12px;\n  display: flex;\n  justify-content: center;\n  color: #999;\n  font-style: italic;\n}\n\n.middle-log {\n  margin-top: 10px;\n}\n\n.middle-log-rating {\n  flex-direction: column;\n  align-items: center;\n  padding-top: 3px;\n}\n\n.middle-log-rating i {\n  font-size: 18px;\n  padding-top: 3px;\n}\n\n.log-message-timestamp,\n.middle-log-message-timestamp,\n.message-response-timestamp {\n  color: #999;\n  font-style: italic;\n  font-size: 10px;\n}\n\n.log-message-timestamp,\n.middle-log-message-timestamp {\n  margin: 1px 0 2px 0;\n}\n\n.log-message-timestamp > span > span {\n  padding-left: 52px;\n}\n\n.right {\n  background: #55B375;\n  color: white;\n}\n\n.message-response {\n  float: right;\n}\n\n.message-response-timestamp {\n  transform: translateX(-50px) translateY(-3px);\n  text-align: right;\n}\n\n.response-block-container {\n  background: #FFF;\n  margin: 35px 15px 36px 60px;\n  padding: 0;\n  border-radius: 20px;\n  box-shadow: 4px 4px 8px #EFEFEF;\n  border: 1px solid #EFEFEF;\n}\n\n.response-block {\n  font-size: 16px;\n  position: relative;\n  max-width: 100%;\n}\n\n.message-type {\n  display: flex;\n  padding: 0px 20px;\n  flex-flow: row-reverse;\n}\n\n.method-select:hover {\n  background: #b96a35;\n}\n\n.add-customer-note,\n.method-select {\n  background: #f48d46;\n  color: white;\n  padding: 10px;\n  margin: 14px 0;\n  border-radius: 15px;\n  position: relative;\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n}\n\n.method-select select{\n  border: 1px solid lightgrey;\n  margin-bottom: 3px;\n  margin-left: 5px;\n}\n\n.add-customer-note > label {\n  cursor: pointer;\n}\n\n.method-select > label {\n  padding: 2px 3px;\n  cursor: pointer;\n}\n\n.method-toggle {\n  position: relative;\n  margin-top: 20px;\n  margin-right: 10px;\n  height: 25px;\n  border-radius: 25px;\n  background: #545454;\n  padding: 5px 8px 0 32px;\n  color: white;\n  cursor: pointer;\n  width: 47px;\n  font-weight: bolder;\n  text-transform: uppercase;\n}\n\n.method-toggle-circle {\n  background: white;\n  border-radius: 25px;\n  height: 24px;\n  width: 24px;\n  display: inline-block;\n  position: absolute;\n  left: 3px;\n  top: 3px;\n}\n\n.method-toggle.is-sms {\n  background: #55b375;\n  padding: 5px 30px 0 10px;\n}\n\n.method-toggle-sms .method-toggle-circle {\n  right: 3px;\n  left: unset;\n}\n\n.method-select > i::after {\n  content: \"\";\n  position: absolute;\n  bottom: 0;\n  top: 0;\n  width: 1px;\n  background: #8D8D8D;\n}\n.method-select > i::after {\n  left: 58px;\n}\n\ni[class*=\"fa-chevron\"] {\n  font-size: 8pt;\n  padding-right: 3px;\n  font-weight: lighter;\n}\n\n.method-options {\n  text-transform: capitalize;\n  background: transparent;\n  color: white;\n  outline: none;\n  box-shadow: none;\n  cursor: pointer;\n}\n\n\n.method-options:focus {\n  text-transform: capitalize;\n  background: transparent;\n  color: white;\n  outline: none;\n  box-shadow: none;\n}\n\n.subject {\n  width: 100%;\n  margin: 0;\n  padding: 0;\n  border-radius: 30px;\n  margin-top: 2px;\n}\n\n.subject input {\n  margin: 0;\n  padding: 10px;\n  width: calc(100% - 20px);\n  border-radius: 30px 30px 0 0;\n}\n\n.message {\n  margin-left: 25px;\n}\n\n.customer-response-container {\n  width: 100%;\n  margin: 0;\n  padding: 0;\n  border-bottom: 1px solid #EFEFEF;\n}\n\n.customer-response-text {\n  margin: 0px;\n  width: calc(100% - 20px);\n  height: 90%;\n  min-height: 90%;\n  max-height: 90%;\n  font-size: initial;\n  background: #FFF;\n  padding: 10px;\n  border: none;\n  border-radius: 30px;\n  resize: none;\n}\n\n.button-container {\n  float: right;\n  margin-right: 20px;\n}\n\n.stars {\n  color: #4fcbc5;\n}\n\n.button-container span {\n  color: #4fcbc5;\n}\n\n.button-container button {\n  margin-left: 25px;\n  margin-top: 10px;\n  background: #4fcbc5;\n  color: white;\n  padding: 5px 10px;\n}\n\n.message-grouping {\n  margin-top: 3px;\n  /* width: 100%; */\n  display: flex;\n  justify-content: flex-end;\n}\n\n.message-text {\n  white-space: pre-wrap;\n  width: 100%;\n  display: inline-block;\n  height: 17px;\n}\n\n.message-text-spacer {\n  height: 40px;\n}\n\n.message-text-expand {\n  position: absolute;\n  bottom: 10px;\n  right: 10px;\n  cursor: pointer;\n  background: inherit;\n  padding: 5px;\n  border: 2px solid rgba(100,100,100,.2);\n  border-radius: 10px;\n}\n\n.reverse {\n  flex-direction: row-reverse;\n  justify-content: flex-end;\n  align-items: center;\n}\n\n.message-grouping i{\n  margin-right: 10px;\n  margin-top: 5px;\n  margin-left: 20px;\n}\n\n.fa-envelope {\n  color: rgb(164, 164, 164);\n}\n\n.fa-comments, .fa-clipboard-check {\n  color: grey;\n}\n\n.circle-selection {\n  width: 35px;\n  height: 35px;\n  border-radius: 50%;\n  position: absolute;\n  left: 17px;\n  top: 40px;\n  display: flex;\n  align-items: center;\n  background: #4fcbc5;\n  justify-content: center;\n  color: white;\n  font-weight: bold;\n  font-size: 14px;\n}\n\n.resolve-chat {\n}\n.fa-check,\n.fa-ellipsis-h {\n  color: gray;\n}\n\n.resolved {\n  border: 1.5px solid #EFEFEF;\n  box-shadow: 2px 2px 10px #EFEFEF;\n  border-radius: 50px;\n  padding: 7px 20px;\n  font-size: 13pt;\n  margin-right: 4px;\n  text-transform: none;\n}\n\n.resolved i {\n  color: #55b375;\n  font-weight: 250;\n}\n\n.customer-name-ellipsis i {\n  font-weight: 250;\n}\n\n.no-rating {\n  margin-left: 20px;\n  color: gray;\n  font-size: 10pt;\n  font-style: italic;\n  margin-top: 5px;\n}\n\n::-webkit-input-placeholder { /* WebKit, Blink, Edge */\n  color: #D2D2D2;\n  font-size: 13pt;\n}\n:-moz-placeholder { /* Mozilla Firefox 4 to 18 */\n  color: #D2D2D2;\n  opacity: 1;\n  font-size: 13pt;\n}\n::-moz-placeholder { /* Mozilla Firefox 19+ */\n  color: #D2D2D2;\n  opacity: 1;\n  font-size: 13pt;\n}\n:-ms-input-placeholder { /* Internet Explorer 10-11 */\n  color: #D2D2D2;\n  font-size: 13pt;\n}\n::-ms-input-placeholder { /* Microsoft Edge */\n  color: #D2D2D2;\n  font-size: 13pt;\n}\n\n::placeholder { /* Most modern browsers support this now. */\n  color: #D2D2D2;\n  font-size: 13pt;\n}\n\n.right.email {\n  background: #545454;\n  color: white;\n}\n\n.name-row {\n  display: flex;\n}\n\n.right.sms {\n  background: #55b375;\n  color: white;\n}\n\n.chat-location {\n  font-size: 11px;\n}\n\n@media only screen and (min-width: 480px) {\n}\n</style>\n"]}]}