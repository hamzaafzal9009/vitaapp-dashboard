{"remainingRequest":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js??vue-loader-options!/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/src/components/UserDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/src/components/UserDetail.vue","mtime":1587799109380},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBVc2VyU2VydmljZSBmcm9tICIuLy4uL3NlcnZpY2VzL1VzZXJTZXJ2aWNlIjsKaW1wb3J0IHsgRXZlbnRTZXJ2aWNlIH0gZnJvbSAiLi4vbWFpbiI7CmltcG9ydCBpbWFnZUZpbGUgZnJvbSAnLi4vYXNzZXRzL2ltYWdlRmlsZSc7Ci8vIGltcG9ydCB7IExvYWRpbmcgfSBmcm9tICdlbGVtZW50LXVpJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiYWRkVXNlciIsCiAgcHJvcHM6IFsic2VsZWN0ZWRVc2VyIl0sCiAgZGF0YTogZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gewogICAgICBjcmVhdGVkRGF0ZURpc3BsYXk6ICIiLAogICAgICBjcmVhdGVkQnlVc2VyOiB7fSwKICAgICAgdXNlckxvY2F0aW9uczogW10sCiAgICAgIHVzZXJJbWFnZUJhY2tncm91bmQ6ICcnLAogICAgICB1c2VyQ2FuRWRpdDogdHJ1ZSwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIGlucHV0c0Rpc2FibGVkOiB0cnVlLAogICAgICBzZWFyY2hUZXh0OiAnJywKICAgICAgcm9sZXM6IFsKICAgICAgICB7bGFiZWw6ICdPd25lcicsIHZhbHVlOiAnb3duZXInfSwKICAgICAgICB7bGFiZWw6ICdNYW5hZ2VyJywgdmFsdWU6ICdtYW5hZ2VyJ30sCiAgICAgICAge2xhYmVsOiAnQWdlbnQnLCB2YWx1ZTogJ2FnZW50J30sCiAgICAgICAge2xhYmVsOiAnTm9uZScsIHZhbHVlOiAnbm9uZSd9CiAgICAgIF0sCiAgICAgIGNvbW11bmljYXRpb25zT3B0aW9uczogWwogICAgICAgICdOZXcgUmV2aWV3JywKICAgICAgICAnUG90ZW50aWFsIE5lZ2F0aXZlIFJldmlldycsCiAgICAgICAgJ05ldyBDdXN0b21lciBNZXNzYWdlJwogICAgICBdLAogICAgICBuZXdVc2VyTG9jYXRpb246IHsKICAgICAgICB1c2VySWQ6ICcnLAogICAgICAgIGxvY2F0aW9uSWQ6ICcnLAogICAgICAgIHJvbGU6ICcnLAogICAgICAgIGdldEVtYWlsOiB0cnVlLAogICAgICAgIGNvbW11bmljYXRpb25zOiBbXQogICAgICB9LAogICAgICBsb2NhdGlvbk9wdGlvbnM6IFtdLAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBoaWdoZXN0Um9sZSgpIHsKICAgICAgdGhpcy5jdXJyZW50VXNlci5yb2xlOwogICAgICByZXR1cm4gdGhpcy5jdXJyZW50VXNlci5yb2xlOwogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMudXNlciA9IHRoaXMuc2VsZWN0ZWRVc2VyOwogICAgdGhpcy5jdXJyZW50VXNlciA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2N1cnJlbnRVc2VyJykpOwogICAgdGhpcy5nZXRVc2VyTG9jYXRpb25zKCk7CiAgICB0aGlzLmNoZWNrQ3VycmVudFVzZXIoKTsKICAgIHRoaXMuZ2VuZXJhdGVDcmVhdGVkRGF0ZURpc3BsYXkoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZURyb3Bkb3duQ29tbWFuZHMgKGNvbW1hbmQpIHsKICAgICAgaWYoY29tbWFuZCA9PSAnZGVsZXRlJykgewogICAgICAgIHRoaXMuZGVsZXRlVXNlcigpOwogICAgICB9IGVsc2UgaWYoY29tbWFuZCA9PSAnZGVhY3RpdmF0ZScpIHsKICAgICAgICB0aGlzLmRlYWN0aXZhdGVVc2VyKCk7CiAgICAgIH0KICAgIH0sCiAgICBjaGVja0N1cnJlbnRVc2VyKCkgewogICAgICBsZXQgdm0gPSB0aGlzOwogICAgICBpZih2bS5zZWxlY3RlZFVzZXIubG9jYXRpb25zLmxlbmd0aCkgewogICAgICAgIFVzZXJTZXJ2aWNlLmdldFVzZXJMb2NhdGlvbnMoKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgIGxldCBjdXJyZW50VXNlckxvY2F0aW9ucyA9IHJlc3BvbnNlLnJlc3VsdHM7CiAgICAgICAgICBsZXQgaGlnaGVzdFJvbGUgPSAwOwogICAgICAgICAgY3VycmVudFVzZXJMb2NhdGlvbnMubWFwKGxvY2F0aW9uID0+IHsKICAgICAgICAgICAgdmFyIGk7CiAgICAgICAgICAgIGZvcihpID0gMDsgaSA8IHZtLnNlbGVjdGVkVXNlci5sb2NhdGlvbnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICBpZihsb2NhdGlvbi5uYW1lID09PSB2bS5zZWxlY3RlZFVzZXIubG9jYXRpb25zW2ldKSB7CiAgICAgICAgICAgICAgICBpZihsb2NhdGlvbi5yb2xlID09ICdhZ2VudCcgJiYgaGlnaGVzdFJvbGUgPT0gMCApIHsKICAgICAgICAgICAgICAgICAgaGlnaGVzdFJvbGUgPSAxOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmKGxvY2F0aW9uLnJvbGUgPT0gJ21hbmFnZXInICYmIGhpZ2hlc3RSb2xlIDwgMikgewogICAgICAgICAgICAgICAgICBoaWdoZXN0Um9sZSA9IDI7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYobG9jYXRpb24ucm9sZSA9PSAnb3duZXInICYmIGhpZ2hlc3RSb2xlIDwgMykgewogICAgICAgICAgICAgICAgICBoaWdoZXN0Um9sZSA9IDM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmKGxvY2F0aW9uLnJvbGUgPT0gJ2FkbWluJykgewogICAgICAgICAgICAgICAgICBoaWdoZXN0Um9sZSA9IDQ7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSkKICAgICAgICAgIGlmKGhpZ2hlc3RSb2xlID49IDMpIHsKICAgICAgICAgICAgdm0uY3VycmVudFVzZXIucm9sZSA9ICdvd25lcic7CiAgICAgICAgICB9IGVsc2UgaWYoaGlnaGVzdFJvbGUgPT0gMikgewogICAgICAgICAgICB2bS5jdXJyZW50VXNlci5yb2xlID0gJ21hbmFnZXInOwogICAgICAgICAgfSBlbHNlIGlmKGhpZ2hlc3RSb2xlID09IDEpIHsKICAgICAgICAgICAgdm0uY3VycmVudFVzZXIucm9sZSA9ICdhZ2VudCc7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB2bS5jdXJyZW50VXNlci5yb2xlID0gJ25vbmUnOwogICAgICAgICAgfQogICAgICAgICAgdm0udXNlckxvY2F0aW9ucy5wdXNoKHt9KQogICAgICAgICAgdm0udXNlckxvY2F0aW9ucy5wb3Aoe30pCiAgICAgICAgfSkKICAgICAgfSBlbHNlIHsKICAgICAgICB2bS5jdXJyZW50VXNlci5yb2xlID09ICdvd25lcic7CiAgICAgICAgdm0udXNlckxvY2F0aW9ucy5wdXNoKHt9KQogICAgICAgIHZtLnVzZXJMb2NhdGlvbnMucG9wKHt9KQogICAgICB9CiAgICB9LAogICAgY2xvc2VNb2RhbCgpIHsKICAgICAgdGhpcy4kZW1pdCgiY2xvc2VNb2RhbCIpOwogICAgfSwKICAgIGdldExvY2F0aW9uT3B0aW9ucygpIHsKICAgICAgbGV0IGV4aXN0aW5nVXNlckxvY2F0aW9ucyA9IFtdOwogICAgICB0aGlzLnVzZXJMb2NhdGlvbnMubWFwKGVsID0+IHsKICAgICAgICBleGlzdGluZ1VzZXJMb2NhdGlvbnMucHVzaChlbC5sb2NhdGlvbklkKTsKICAgICAgfSkKICAgICAgdGhpcy5sb2NhdGlvbk9wdGlvbnMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsb2NhdGlvbk9wdGlvbnMnKSkuZmlsdGVyKGVsID0+IHsKICAgICAgICByZXR1cm4gIWV4aXN0aW5nVXNlckxvY2F0aW9ucy5pbmNsdWRlcyhlbC5sb2NhdGlvbklkKTsKICAgICAgfSk7CiAgICAgIC8vIHRoaXMubG9jYXRpb25PcHRpb25zID0gdGhpcy5sb2NhdGlvbk9wdGlvbnMKICAgIH0sCiAgICBhcHBlbmRJbWFnZUhlYWRlcihpbWdUZXh0KSB7CiAgICAgIGlmICghaW1nVGV4dCkKICAgICAgICBpbWdUZXh0ID0gaW1hZ2VGaWxlLmltZ0Jsb2NrKCk7CiAgICAgIGlmIChpbWdUZXh0ICYmIGltZ1RleHRbMF0gPT0gIiwiKSB7CiAgICAgICAgcmV0dXJuICJkYXRhOmltYWdlL3BuZztiYXNlNjQiICsgaW1nVGV4dDsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCwiICsgaW1nVGV4dDsKICAgICAgfQogICAgfSwKICAgIHJlc2V0UGFzc3dvcmQoKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIHZhciB0b2tlbiA9IE1hdGguZmxvb3IoKG5ldyBEYXRlKCkuZ2V0VGltZSgpKS8xMDApOwogICAgICBVc2VyU2VydmljZS5zZW5kUmVzZXRQYXNzd29yZEVtYWlsKHRoaXMuc2VsZWN0ZWRVc2VyLmVtYWlsLCB0b2tlbikgLnRoZW4oCiAgICAgICAgZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7CiAgICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgnc3VjY2Vzc01lc3NhZ2UnLCAnSG9vcmF5ISBQYXNzd29yZCBSZXNldCBFbWFpbCBTZW50JykKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB9CiAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHsKICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgnZXJyb3JNZXNzYWdlJywgJ1NvcnJ5LCBzb21ldGhpbmcgd2VudCB3cm9uZy4gUGxlYXNlIHRyeSBhZ2Fpbi4nKQogICAgICB9KTsKICAgIH0sCiAgICBkZWxldGVVc2VyKCkgewogICAgICBsZXQgdm0gPSB0aGlzOwogICAgICB0aGlzLiRjb25maXJtKCdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgdXNlcj8nLCAiQ29uZmlybWF0aW9uIiwgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAnWWVzJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAnQ2FuY2VsJywKICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgIFVzZXJTZXJ2aWNlLmRlbGV0ZVVzZXIodm0uc2VsZWN0ZWRVc2VyLnVzZXJJZCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICBpZihyZXNwb25zZSkgewogICAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoJ3N1Y2Nlc3NNZXNzYWdlJywgJ1VzZXIgaGFzIGJlZW4gZGVsZXRlZCcpCiAgICAgICAgICAgIHZtLmNsb3NlTW9kYWwoKTsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAnaW5mbycsCiAgICAgICAgICBtZXNzYWdlOiAiRGVsZXRlIENhbmNlbGxlZCIKICAgICAgICB9KQogICAgICB9KQogICAgfSwKICAgIGRlYWN0aXZhdGVVc2VyKCkgewogICAgICBsZXQgdm0gPSB0aGlzOwogICAgICB0aGlzLiRjb25maXJtKCdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVhY3RpdmF0ZSB0aGlzIHVzZXI/JywgIkNvbmZpcm1hdGlvbiIsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ1llcycsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ0NhbmNlbCcsCiAgICAgICAgdHlwZTogImVycm9yIgogICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICBVc2VyU2VydmljZS5kZWFjdGl2YXRlVXNlcih2bS5zZWxlY3RlZFVzZXIudXNlcklkKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgIGlmKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgnc3VjY2Vzc01lc3NhZ2UnLCAnVXNlciBoYXMgYmVlbiBkZWFjdGl2YXRlZCcpCiAgICAgICAgICAgIHZtLmNsb3NlTW9kYWwoKTsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAnaW5mbycsCiAgICAgICAgICBtZXNzYWdlOiAiRGVhY3RpdmF0aW9uIENhbmNlbGxlZCIKICAgICAgICB9KQogICAgICB9KQogICAgfSwKICAgIGRlbGV0ZVVzZXJMb2NhdGlvbihkYXRhKSB7CiAgICAgIGxldCB2bSA9IHRoaXM7CiAgICAgIFVzZXJTZXJ2aWNlLnJlbW92ZVVzZXJMb2NhdGlvbih2bS5zZWxlY3RlZFVzZXIudXNlcklkLCBkYXRhLmxvY2F0aW9uSWQpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIGlmKHJlc3BvbnNlKSB7CiAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoJ3N1Y2Nlc3NNZXNzYWdlJywgJ1VzZXIgbG9jYXRpb24gcmVtb3ZlZC4nKQogICAgICAgICAgdm0uZ2V0VXNlckxvY2F0aW9ucygpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoJ3dhcm5pbmdNZXNzYWdlJywgJ1NvbWV0aGluZyB3ZW50IHdyb25nLCBwbGVhc2UgdHJ5IGFnYWluLicpCiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIHVzZXJJbWFnZUNoYW5nZTogZnVuY3Rpb24oKSB7CiAgICAgIHZhciBlbGVtZW50ID0gdGhpcy4kcmVmcy5pbWFnZVVwbG9hZDsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgdGhpcy5zaG93TG9nb1NpemVFcnJvciA9IGZhbHNlOwogICAgICB0aGlzLnVzZXJJbWFnZUJhY2tncm91bmQgPSB7fTsKICAgICAgaWYgKGVsZW1lbnQuZmlsZXMgJiYgZWxlbWVudC5maWxlc1swXSkgewogICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwogICAgICAgIHJlYWRlci5vbmxvYWRlbmQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpZihyZWFkZXIucmVzdWx0Lmxlbmd0aCA+IDUwMDAwMCAqIDEuMzYpIHsKICAgICAgICAgICAgdm0uc2hvd0xvZ29TaXplRXJyb3IgPSB0cnVlOwogICAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoJ2Vycm9yTWVzc2FnZScsICdJbWFnZSBzaXplIGlzIHRvbyBsYXJnZS4gNTAwIEtiIG1heGltdW0uJykKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZtLnNlbGVjdGVkVXNlci51c2VySW1hZ2UgPSByZWFkZXIucmVzdWx0LnN1YnN0cmluZygyMik7CiAgICAgICAgICAgIHZtLnNhdmVVc2VyKCk7CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChlbGVtZW50LmZpbGVzWzBdKTsKICAgICAgfQogICAgICB0aGlzLmNoYW5nZXMgPSB0cnVlOwogICAgfSwKICAgIGdlbmVyYXRlQ3JlYXRlZERhdGVEaXNwbGF5OiBmdW5jdGlvbigpIHsKICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRVc2VyLmNyZWF0ZWREYXRlKSB7CiAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSh0aGlzLnNlbGVjdGVkVXNlci5jcmVhdGVkRGF0ZSk7CiAgICAgICAgdGhpcy5jcmVhdGVkRGF0ZURpc3BsYXkgKz0KICAgICAgICAgIGRhdGUudG9Mb2NhbGVUaW1lU3RyaW5nKCkgKyAiIG9uICIgKyBkYXRlLnRvTG9jYWxlRGF0ZVN0cmluZygpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAiIHNvbWUgdGltZSBpbiAyMDE3IjsKICAgICAgfQogICAgfSwKICAgIGdldENyZWF0ZWRCeVVzZXI6IGZ1bmN0aW9uKCkgewogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICBVc2VyU2VydmljZS5nZXRVc2VyKHZtLnNlbGVjdGVkVXNlci5jcmVhdGVkQnkpLnRoZW4oCiAgICAgICAgZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAgIHZtLmNyZWF0ZWRCeVVzZXIgPSByZXNwb25zZTsKICAgICAgICB9LAogICAgICAgIGZ1bmN0aW9uKGVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgfQogICAgICApOwogICAgfSwKICAgIGdldFVzZXJMb2NhdGlvbnM6IGZ1bmN0aW9uKCkgewogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICB2bS5sb2FkaW5nID0gdHJ1ZTsKICAgICAgbGV0IHVzZXJQcm9maWxlID0gdm0uJHJvdXRlLnBhcmFtcy5zdGF0ZQogICAgICBVc2VyU2VydmljZS5nZXRVc2VyTG9jYXRpb25zKHZtLnNlbGVjdGVkVXNlci51c2VySWQsIDApLnRoZW4oCiAgICAgICAgZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAgIHZtLnVzZXJMb2NhdGlvbnMgPSByZXNwb25zZS5yZXN1bHRzOwogICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UucmVzdWx0KTsKICAgICAgICAgIHZtLmdldExvY2F0aW9uT3B0aW9ucygpOwogICAgICAgICAgdm0ubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgaWYodXNlclByb2ZpbGUgJiYgdXNlclByb2ZpbGUgIT0gJ2FkZCcpIHsKICAgICAgICAgICAgbGV0IGhpZ2hlclRoYW5BZ2VudCA9IGZhbHNlOwogICAgICAgICAgICB2bS51c2VyTG9jYXRpb25zLm1hcChyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgaWYocmVzcG9uc2Uucm9sZSAhPSAnYWdlbnQnICYmIHJlc3BvbnNlLnJvbGUgIT0gJ25vbmUnKSB7CiAgICAgICAgICAgICAgICBoaWdoZXJUaGFuQWdlbnQgPSB0cnVlOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICAgICAgaWYoIWhpZ2hlclRoYW5BZ2VudCkgewogICAgICAgICAgICAgIHZtLnVzZXJDYW5FZGl0ID0gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGZ1bmN0aW9uKGVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgfQogICAgICApOwogICAgfSwKICAgIGFkZFVzZXJMb2NhdGlvbigpIHsKICAgICAgbGV0IHZtID0gdGhpczsKICAgICAgdm0udXNlckxvY2F0aW9ucy5wdXNoKEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodm0ubmV3VXNlckxvY2F0aW9uKSkpOwogICAgfSwKICAgIHNhdmVVc2VyKCkgewogICAgICBsZXQgdm0gPSB0aGlzOwogICAgICBVc2VyU2VydmljZS5zYXZlVXNlcih2bS51c2VyKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBpZihyZXNwb25zZSkgewogICAgICAgICAgdm0uaW5wdXRzRGlzYWJsZWQgPSB0cnVlOwogICAgICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KCdzdWNjZXNzTWVzc2FnZScsICdVc2VyIFVwZGF0ZWQnKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoJ2Vycm9yTWVzc2FnZScsICdBbiBlcnJvciBoYXMgb2NjdXJyZWQsIHBsZWFzZSB0cnkgYWdhaW4uJykKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgc2F2ZVVzZXJMb2NhdGlvbnMoZGF0YSkgewogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICB0aGlzLmdldExvY2F0aW9uT3B0aW9ucygpOwogICAgICB2bS51c2VyTG9jYXRpb25zLm1hcChsb2NhdGlvbiA9PiB7CiAgICAgICAgaWYgKGxvY2F0aW9uLnJvbGUgPT0gJycgfHwgbG9jYXRpb24ucm9sZSA9PSAnTm9uZScpIHsKICAgICAgICAgIGxvY2F0aW9uLmdldHNFbWFpbCA9IGZhbHNlOwogICAgICAgICAgVXNlclNlcnZpY2Uuc2F2ZVVzZXJMb2NhdGlvbih2bS51c2VyLnVzZXJJZCwgbG9jYXRpb24ubG9jYXRpb25JZCwgbG9jYXRpb24ucm9sZSwgbG9jYXRpb24uY29tbXVuaWNhdGlvbnMpLnRoZW4oIGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIEV2ZW50U2VydmljZS4kZW1pdCgnc3VjY2Vzc01lc3NhZ2UnLCAnVXNlciBMb2NhdGlvbiBVcGRhdGVkJykKICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMudW5hc3NpZ25Vc2VyKGxvY2F0aW9uKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgVXNlclNlcnZpY2Uuc2F2ZVVzZXJMb2NhdGlvbih2bS51c2VyLnVzZXJJZCwgbG9jYXRpb24ubG9jYXRpb25JZCwgbG9jYXRpb24ucm9sZSwgbG9jYXRpb24uY29tbXVuaWNhdGlvbnMpLnRoZW4oCiAgICAgICAgICAgIGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgRXZlbnRTZXJ2aWNlLiRlbWl0KCdzdWNjZXNzTWVzc2FnZScsICdVc2VyIExvY2F0aW9uIFVwZGF0ZWQnKQogICAgICAgICAgICB9LCBmdW5jdGlvbihlcnJvcikgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSkKICAgICAgLy8gdm0uY2xvc2VNb2RhbCgpOwogICAgfSwKICAgIHVuYXNzaWduVXNlcjogZnVuY3Rpb24obG9jYXRpb24pIHsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgVXNlclNlcnZpY2UucmVtb3ZlVXNlckxvY2F0aW9uKHZtLnVzZXIudXNlcklkLCBsb2NhdGlvbi5sb2NhdGlvbklkKS50aGVuKAogICAgICAgIGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogIH0KfTsK"},{"version":3,"sources":["UserDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyHA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UserDetail.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <transition name=\"modal\">\n    <div class=\"user-details-container\">\n      <el-card class=\"user-details\">\n        <span class=\"title-card\" v-if=\"userCanEdit\">\n          <span class=\"back-link clickable\" @click=\"closeModal()\">\n            <i class=\"fal fa-arrow-left\"></i>\n            Back to Users\n          </span>\n          <el-dropdown style=\"cursor:pointer;\" trigger=\"click\" @command=\"handleDropdownCommands\" v-if=\"(currentUser.role == 'owner' || currentUser.isSuperAdmin) && currentUser.userId != selectedUser.userId\">\n            <span class=\"el-dropdown-link\">\n              <i class=\"ellipse fas fa-ellipsis-v\"></i>\n            </span>\n            <el-dropdown-menu slot=\"dropdown\">\n              <el-dropdown-item command=\"deactivate\" >Deactivate User</el-dropdown-item>\n              <el-dropdown-item command=\"delete\" class=\"text--red\">Delete User</el-dropdown-item>\n            </el-dropdown-menu>\n          </el-dropdown>\n          <!-- <span class=\"remove-link clickable\" v-if=\"(currentUser.role == 'owner' || currentUser.isSuperAdmin) && currentUser.userId != selectedUser.userId\" @click=\"deleteUser()\">\n            <i class=\"fal fa-times\"></i>\n            Remove This User\n          </span> -->\n        </span>\n        <div class=\"image-container\">\n          <el-tooltip>\n            <div slot=\"content\">Change Profile Picture</div>\n            <span class=\"profile-image text\" v-if=\"(selectedUser.firstName || selectedUser.lastName) && !selectedUser.userImage\" @click=\"$refs.imageUpload.click()\">{{selectedUser.firstName.charAt(0) + selectedUser.lastName.charAt(0)}}</span>\n            <img v-else :src=\"appendImageHeader(selectedUser.userImage)\" alt=\"profile image\" class=\"profile-image\" @click=\"$refs.imageUpload.click()\">\n          </el-tooltip>\n          <input ref=\"imageUpload\" type=\"file\" accept=\"image/*\" placeholder=\"Image\" @change=\"userImageChange()\" hidden />\n          <div class=\"name-container\">\n            <span class=\"username\">{{selectedUser.firstName}} {{selectedUser.lastName}}</span>\n            <span class=\"userrole uppercase\">Role:\n              <span class=\"role\">{{selectedUser.role}}</span>\n              </span>\n          </div>\n        </div>\n        <el-row :gutter=\"20\">\n          <el-col :span=\"12\">\n            <label class=\"input-label\">First Name</label>\n            <el-input v-model=\"selectedUser.firstName\" :disabled=\"inputsDisabled\"></el-input>\n          </el-col>\n          <el-col :span=\"12\">\n            <label class=\"input-label\">Last Name</label>\n            <el-input v-model=\"selectedUser.lastName\" :disabled=\"inputsDisabled\"></el-input>\n          </el-col>\n        </el-row>\n        <el-row :gutter=\"20\">\n          <el-col :span=\"24\">\n            <label class=\"input-label\">Email</label>\n            <el-input v-model=\"selectedUser.email\" :disabled=\"inputsDisabled\"></el-input>\n          </el-col>\n        </el-row>\n        <!-- <div class=\"edit-user-container\">\n          <div class=\"top-row\">\n            <div class=\"user-input\">\n              <label class=\"input-label\">First Name</label>\n              <el-input v-model=\"selectedUser.firstName\" :disabled=\"inputsDisabled\"></el-input>\n            </div>\n            <div class=\"user-input left-margin\">\n              <label class=\"input-label\">Last Name</label>\n              <el-input v-model=\"selectedUser.lastName\" :disabled=\"inputsDisabled\"></el-input>\n            </div>\n          </div>\n          <div class=\"user-input full-width\">\n            <label class=\"input-label\">Email</label>\n            <el-input v-model=\"selectedUser.email\" :disabled=\"inputsDisabled\"></el-input>\n          </div>\n        </div> -->\n        <div class=\"edit-user-buttons\">\n          <el-button class=\"secondary footer-buttons\" type=\"warning\" v-if=\"currentUser.role == 'owner' || currentUser.role == 'admin' || selectedUser.userId == currentUser.userId\" @click=\"resetPassword()\">Reset Password</el-button>\n          <el-button class=\"footer-buttons\" type=\"primary\"  @click=\"inputsDisabled = false\" v-if=\"inputsDisabled == true && (currentUser.role == 'owner' || currentUser.role == 'admin' || selectedUser.userId == currentUser.userId)\">Edit Profile</el-button>\n          <el-button class=\"footer-buttons\" type=\"primary\" round @click=\"saveUser()\" v-if=\"inputsDisabled == false && (currentUser.role == 'owner' || currentUser.role == 'admin' || selectedUser.userId == currentUser.userId)\">Save Changes</el-button>\n        </div>\n      </el-card>\n      <el-card class=\"location-details\">\n        <span class=\"location-detail-title\">Location Details</span>\n        <div class=\"user-locations-container\">\n          <el-table :data=\"userLocations\" v-loading=\"loading\" element-loading-text=\"Loading...\"\n            element-loading-spinner=\"el-icon-loading\" element-loading-background=\"rgba(0, 0, 0, 0.8)\" ref=\"locationTable\" size=\"small\" height=\"400\">\n            <el-table-column label=\"Location Name\" min-width=\"150\">\n              <template slot-scope=\"scope\">\n                <!-- {{scope.row.name}} -->\n                <el-select size=\"small\" filterable class=\"user-location-detail\" placeholder=\"Select Location\" v-model=\"scope.row.locationId\" :value-key=\"scope.row.locationId\" :disabled=\"(currentUser.role != 'owner' && currentUser.role != 'admin') && !userCanEdit\">\n                  <el-option v-for=\"location in locationOptions\" :key=\"location.locationId\" :value=\"location.locationId\" :label=\"location.name\">\n                  </el-option>\n                </el-select>\n              </template>\n            </el-table-column>\n            <el-table-column label=\"Role\" min-width=\"120\">\n              <template slot-scope=\"scope\">\n                <el-select size=\"small\" class=\"user-location-detail\" :disabled=\"(currentUser.role != 'owner' && currentUser.role != 'admin') && !userCanEdit\" v-model=\"scope.row.role\" @change=\"saveUserLocations(scope.row)\">\n                  <el-option v-for=\"(role, index) in roles\" :value=\"role.value\" :key=\"index\" :label=\"role.label\"></el-option>\n                </el-select>\n              </template>\n            </el-table-column>\n            <el-table-column min-width=\"300\" label=\"Communication Preferences\">\n              <template slot-scope=\"scope\">\n                <el-select :collapse-tags=\"true\" size=\"small\" class=\"wide-select\" placeholder=\"Select Types\" multiple v-model=\"scope.row.communications\" @change=\"saveUserLocations(scope.row)\">\n                  <el-option v-for=\"value in communicationsOptions\" :value=\"value\" :label=\"value\" :key=\"value\">\n                  </el-option>\n                </el-select>\n              </template>\n            </el-table-column>\n            <el-table-column min-width=\"40\">\n              <template slot-scope=\"scope\">\n                <el-button style=\"color:#757575; margin-bottom: 8px;\" type=\"text\" icon=\"far fa-trash-alt\" circle size=\"medium\" @click=\"deleteUserLocation(scope.row)\"></el-button>\n              </template>\n            </el-table-column>\n          </el-table>\n          {{highestRole}}\n          <div class=\"add-button\" v-if=\"currentUser.role != 'agent'\">\n            <el-button type=\"primary\" @click=\"addUserLocation()\">Add User Location</el-button>\n          </div>\n        </div>\n      </el-card>\n    </div>\n  </transition>\n</template>\n\n<script>\nimport UserService from \"./../services/UserService\";\nimport { EventService } from \"../main\";\nimport imageFile from '../assets/imageFile';\n// import { Loading } from 'element-ui';\n\nexport default {\n  name: \"addUser\",\n  props: [\"selectedUser\"],\n  data: function() {\n    return {\n      createdDateDisplay: \"\",\n      createdByUser: {},\n      userLocations: [],\n      userImageBackground: '',\n      userCanEdit: true,\n      loading: false,\n      inputsDisabled: true,\n      searchText: '',\n      roles: [\n        {label: 'Owner', value: 'owner'},\n        {label: 'Manager', value: 'manager'},\n        {label: 'Agent', value: 'agent'},\n        {label: 'None', value: 'none'}\n      ],\n      communicationsOptions: [\n        'New Review',\n        'Potential Negative Review',\n        'New Customer Message'\n      ],\n      newUserLocation: {\n        userId: '',\n        locationId: '',\n        role: '',\n        getEmail: true,\n        communications: []\n      },\n      locationOptions: [],\n    };\n  },\n  computed: {\n    highestRole() {\n      this.currentUser.role;\n      return this.currentUser.role;\n    }\n  },\n  created() {\n    this.user = this.selectedUser;\n    this.currentUser = JSON.parse(localStorage.getItem('currentUser'));\n    this.getUserLocations();\n    this.checkCurrentUser();\n    this.generateCreatedDateDisplay();\n  },\n  methods: {\n    handleDropdownCommands (command) {\n      if(command == 'delete') {\n        this.deleteUser();\n      } else if(command == 'deactivate') {\n        this.deactivateUser();\n      }\n    },\n    checkCurrentUser() {\n      let vm = this;\n      if(vm.selectedUser.locations.length) {\n        UserService.getUserLocations().then(response => {\n          let currentUserLocations = response.results;\n          let highestRole = 0;\n          currentUserLocations.map(location => {\n            var i;\n            for(i = 0; i < vm.selectedUser.locations.length; i++) {\n              if(location.name === vm.selectedUser.locations[i]) {\n                if(location.role == 'agent' && highestRole == 0 ) {\n                  highestRole = 1;\n                } else if(location.role == 'manager' && highestRole < 2) {\n                  highestRole = 2;\n                } else if(location.role == 'owner' && highestRole < 3) {\n                  highestRole = 3;\n                  break;\n                } else if(location.role == 'admin') {\n                  highestRole = 4;\n                  break;\n                }\n              }\n            }\n          })\n          if(highestRole >= 3) {\n            vm.currentUser.role = 'owner';\n          } else if(highestRole == 2) {\n            vm.currentUser.role = 'manager';\n          } else if(highestRole == 1) {\n            vm.currentUser.role = 'agent';\n          } else {\n            vm.currentUser.role = 'none';\n          }\n          vm.userLocations.push({})\n          vm.userLocations.pop({})\n        })\n      } else {\n        vm.currentUser.role == 'owner';\n        vm.userLocations.push({})\n        vm.userLocations.pop({})\n      }\n    },\n    closeModal() {\n      this.$emit(\"closeModal\");\n    },\n    getLocationOptions() {\n      let existingUserLocations = [];\n      this.userLocations.map(el => {\n        existingUserLocations.push(el.locationId);\n      })\n      this.locationOptions = JSON.parse(localStorage.getItem('locationOptions')).filter(el => {\n        return !existingUserLocations.includes(el.locationId);\n      });\n      // this.locationOptions = this.locationOptions\n    },\n    appendImageHeader(imgText) {\n      if (!imgText)\n        imgText = imageFile.imgBlock();\n      if (imgText && imgText[0] == \",\") {\n        return \"data:image/png;base64\" + imgText;\n      } else {\n        return \"data:image/png;base64,\" + imgText;\n      }\n    },\n    resetPassword() {\n      var vm = this;\n      var token = Math.floor((new Date().getTime())/100);\n      UserService.sendResetPasswordEmail(this.selectedUser.email, token) .then(\n        function(response) {\n          if (response.success) {\n            EventService.$emit('successMessage', 'Hooray! Password Reset Email Sent')\n          } else {\n          }\n        }, function(error) {\n          EventService.$emit('errorMessage', 'Sorry, something went wrong. Please try again.')\n      });\n    },\n    deleteUser() {\n      let vm = this;\n      this.$confirm('Are you sure you want to delete this user?', \"Confirmation\", {\n        confirmButtonText: 'Yes',\n        cancelButtonText: 'Cancel',\n        type: \"error\"\n      }).then(() => {\n        UserService.deleteUser(vm.selectedUser.userId).then(response => {\n          if(response) {\n            EventService.$emit('successMessage', 'User has been deleted')\n            vm.closeModal();\n          }\n        })\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: \"Delete Cancelled\"\n        })\n      })\n    },\n    deactivateUser() {\n      let vm = this;\n      this.$confirm('Are you sure you want to deactivate this user?', \"Confirmation\", {\n        confirmButtonText: 'Yes',\n        cancelButtonText: 'Cancel',\n        type: \"error\"\n      }).then(() => {\n        UserService.deactivateUser(vm.selectedUser.userId).then(response => {\n          if(response) {\n            EventService.$emit('successMessage', 'User has been deactivated')\n            vm.closeModal();\n          }\n        })\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: \"Deactivation Cancelled\"\n        })\n      })\n    },\n    deleteUserLocation(data) {\n      let vm = this;\n      UserService.removeUserLocation(vm.selectedUser.userId, data.locationId).then(response => {\n        if(response) {\n          EventService.$emit('successMessage', 'User location removed.')\n          vm.getUserLocations();\n        } else {\n          EventService.$emit('warningMessage', 'Something went wrong, please try again.')\n        }\n      })\n    },\n    userImageChange: function() {\n      var element = this.$refs.imageUpload;\n      var vm = this;\n      this.showLogoSizeError = false;\n      this.userImageBackground = {};\n      if (element.files && element.files[0]) {\n        var reader = new FileReader();\n        reader.onloadend = function () {\n          if(reader.result.length > 500000 * 1.36) {\n            vm.showLogoSizeError = true;\n            EventService.$emit('errorMessage', 'Image size is too large. 500 Kb maximum.')\n          } else {\n            vm.selectedUser.userImage = reader.result.substring(22);\n            vm.saveUser();\n          }\n        };\n        reader.readAsDataURL(element.files[0]);\n      }\n      this.changes = true;\n    },\n    generateCreatedDateDisplay: function() {\n      if (this.selectedUser.createdDate) {\n        var date = new Date(this.selectedUser.createdDate);\n        this.createdDateDisplay +=\n          date.toLocaleTimeString() + \" on \" + date.toLocaleDateString();\n      } else {\n        return \" some time in 2017\";\n      }\n    },\n    getCreatedByUser: function() {\n      var vm = this;\n      UserService.getUser(vm.selectedUser.createdBy).then(\n        function(response) {\n          vm.createdByUser = response;\n        },\n        function(error) {\n          console.log(error);\n        }\n      );\n    },\n    getUserLocations: function() {\n      var vm = this;\n      vm.loading = true;\n      let userProfile = vm.$route.params.state\n      UserService.getUserLocations(vm.selectedUser.userId, 0).then(\n        function(response) {\n          vm.userLocations = response.results;\n          console.log(response.result);\n          vm.getLocationOptions();\n          vm.loading = false;\n          if(userProfile && userProfile != 'add') {\n            let higherThanAgent = false;\n            vm.userLocations.map(response => {\n              if(response.role != 'agent' && response.role != 'none') {\n                higherThanAgent = true;\n              }\n            })\n            if(!higherThanAgent) {\n              vm.userCanEdit = false;\n            }\n          }\n        },\n        function(error) {\n          console.log(error);\n        }\n      );\n    },\n    addUserLocation() {\n      let vm = this;\n      vm.userLocations.push(JSON.parse(JSON.stringify(vm.newUserLocation)));\n    },\n    saveUser() {\n      let vm = this;\n      UserService.saveUser(vm.user).then(response => {\n        if(response) {\n          vm.inputsDisabled = true;\n          EventService.$emit('successMessage', 'User Updated')\n        } else {\n          EventService.$emit('errorMessage', 'An error has occurred, please try again.')\n        }\n      })\n    },\n    saveUserLocations(data) {\n      var vm = this;\n      this.getLocationOptions();\n      vm.userLocations.map(location => {\n        if (location.role == '' || location.role == 'None') {\n          location.getsEmail = false;\n          UserService.saveUserLocation(vm.user.userId, location.locationId, location.role, location.communications).then( function(response) {\n            EventService.$emit('successMessage', 'User Location Updated')\n            }, function(error) {\n              console.log(error);\n          });\n          this.unassignUser(location);\n        } else {\n          UserService.saveUserLocation(vm.user.userId, location.locationId, location.role, location.communications).then(\n            function(response) {\n              EventService.$emit('successMessage', 'User Location Updated')\n            }, function(error) {\n              console.log(error);\n          });\n        }\n      })\n      // vm.closeModal();\n    },\n    unassignUser: function(location) {\n      var vm = this;\n      UserService.removeUserLocation(vm.user.userId, location.locationId).then(\n        function(response) {\n        }, function(error) {\n          console.log(error);\n      });\n    },\n  }\n};\n</script>\n\n<style scoped>\n.text--red {\n  color: #DD2C00;\n}\n\n.location-detail-title {\n  font-size: 22px;\n  font-weight: 500;\n}\n\n.user-details-container {\n  width: 100%;\n  display: flex;\n}\n\n.user-details {\n  width: 600px;\n  height: 600px;\n  overflow-y: auto;\n  max-width: 100%;\n}\n\n.title-card {\n  width: 100%;\n  display: flex;\n  justify-content: space-between\n}\n\n.back-link {\n  font-size: 14px;\n  color: #9a9a9a;\n}\n\n.remove-link {\n  color: red;\n}\n\n.image-container {\n  position: relative;\n  margin: 50px auto;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.profile-image {\n  position: relative;\n  height: 60px;\n  width: 60px;\n  border-radius: 50%;\n  cursor: pointer;\n  border: 1px solid #9a9a9a;\n}\n\n.profile-image.text {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-weight: 400;\n  font-size: 28px;\n  background: #66615B;\n  background: linear-gradient(to bottom, #66615B, rgb(128, 121, 112));\n  color: white;\n}\n\n.change-photo {\n  position: absolute;\n  bottom: 0;\n  right: 0;\n}\n\n.name-container {\n  display: flex;\n  flex-direction: column;\n  margin-left: 30px;\n}\n\n.username {\n  font-size: 22px;\n}\n\n.userrole {\n  margin-top: 5px;\n  font-size: 14px;\n}\n\n.role {\n  font-weight: 500;\n  color: #4fcbc5;\n}\n\n.uppercase {\n  text-transform: uppercase;\n}\n\n.edit-user-container {\n  display: flex;\n  flex-direction: column;\n}\n\n.top-row {\n  display: flex;\n  flex-direction: row;\n}\n\n.user-input {\n  /* width: 50%; */\n}\n\n.left-margin {\n  width: 50%;\n  margin-left: 15%;\n}\n\n.full-width {\n  width: 100%;\n}\n\n.edit-user-buttons {\n  position: absolute;\n  padding: 20px;\n  box-sizing: border-box;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  display: flex;\n  justify-content: center;\n  background: white;\n}\n\n.footer-buttons {\n  width: 220px;\n  max-width: 260px;\n}\n\n.location-details {\n  /* width: 65%; */\n  width: 1000px;\n  max-width: 100%;\n  margin-left: 20px;\n}\n\n.user-locations-container {\n  margin-top: 40px;\n}\n\n.wide-select {\n  width: 100%;\n}\n\n.el-select__tags-text {\n  font-size: 10px !important;\n}\n\n.add-button {\n  display: flex;\n  justify-content: center;\n  width: 100%;\n  margin-top: 40px;\n}\n.el-table .cell {\n  margin-top: 20px;\n}\n\n.add-button .el-button {\n  width: 250px;\n}\n\n@media (max-width: 1200px) {\n  .user-details-container {\n    flex-wrap: wrap;\n  }\n  .user-details {\n    margin-bottom: 20px;\n    width: 100%;\n  }\n  .location-details {\n    margin: 0;\n  }\n}\n\n</style>\n"]}]}