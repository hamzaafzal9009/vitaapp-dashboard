{"remainingRequest":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/src/components/CreateMailbox.vue?vue&type=style&index=0&id=69fce418&scoped=true&lang=css&","dependencies":[{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/src/components/CreateMailbox.vue","mtime":1581270622000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5jcmVhdGlvbi1jb250YWluZXIgewogIGJhY2tncm91bmQ6IHdoaXRlOwogIHdpZHRoOiAxMDAlOwp9CgoubG9jYXRpb24tY29udGFpbmVyIHsKICBkaXNwbGF5OiBmbGV4OwogIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgcGFkZGluZy1sZWZ0OiAxMHB4OwogIHBhZGRpbmctdG9wOiA3cHg7CiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwp9CgoubG9jYXRpb24tY29udGFpbmVyIHNwYW4gewogIGRpc3BsYXk6IGZsZXg7CiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogIG1hcmdpbjogMCAyMHB4IDAgMTBweDsKfQoKLmRldGFpbHMgewogIHdpZHRoOiAzMDBweDsKfQoKaW5wdXQgewogIHdpZHRoOiAzMDBweDsKfQoKYnV0dG9uIHsKICBib3gtc2hhZG93OiAwcHggMnB4IDRweCBzbGF0ZWdyZXk7CiAgcGFkZGluZzogNXB4IDEwcHg7CiAgYmFja2dyb3VuZDogIzRmY2JjNTsKICBjb2xvcjogd2hpdGU7CiAgY3Vyc29yOiBwb2ludGVyOwp9Cgo="},{"version":3,"sources":["CreateMailbox.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CreateMailbox.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"creation-container\">\n    <div class=\"location-container\" v-for=\"location in locations\">\n      <span>\n        <div class=\"details\">{{location.name}} {{location.locationId}}</div>\n        <span><input type=\"text\" v-model=\"location.incomingEmail\" /> \n        <span v-if=\"!location.incomingEmail\">@livemail.opiniion.com</span>\n        <span v-if=\"location.incomingEmail\" style=\"opacity: 0;\">thisisaspacertofillthegap</span>\n        </span>\n        <button @click=\"saveMailbox(location.locationId, location.incomingEmail)\">Save Mailbox</button>\n      </span>\n    </div>\n  </div>\n</template>\n\n<script>\nimport LocationService from \"./../services/LocationService\";\nimport { EventService } from \"../main\";\nimport config from '../config.js';\n\nexport default {\n  name: \"createMailbox\",\n\n  data: function() {\n    return {\n      locations: [],\n      domain: ''\n    };\n  },\n  created() {\n    this.getLocations();\n    this.domain = config.subDomain;\n  },\n  methods: {\n    getLocations() {\n      EventService.$emit(\"loading\", \"show\");   \n      let vm = this;\n      LocationService.getLocations().then(response => {\n        vm.locations = response.results;\n        EventService.$emit(\"loading\", \"hide\");   \n      })\n    },\n    saveMailbox(locationId, incomingEmail) {\n      let vm = this;\n      let suffix;\n      if(vm.domain == 'demo' || vm.domain == 'localhost' || !vm.domain) {\n        suffix = '@demomail.opiniion.com'\n      } else {\n        suffix = '@livemail.opiniion.com'\n      }\n      let fullAddress\n      if(incomingEmail.includes('.opiniion.com')) {\n        fullAddress = incomingEmail;\n      } else {\n        fullAddress = incomingEmail+suffix;\n      }\n      // console.log(locationId, fullAddress);\n      LocationService.setLocationMailbox(locationId, fullAddress).then(response => {\n        vm.getLocations();\n      })\n    }\n  }\n};\n</script>\n\n<style scoped>\n\n.creation-container {\n  background: white;\n  width: 100%;\n}\n\n.location-container {\n  display: flex;\n  flex-direction: column;\n  padding-left: 10px;\n  padding-top: 7px;\n  justify-content: space-between;\n}\n\n.location-container span {\n  display: flex;\n  justify-content: space-between;\n  margin: 0 20px 0 10px;\n}\n\n.details {\n  width: 300px;\n}\n\ninput {\n  width: 300px;\n}\n\nbutton {\n  box-shadow: 0px 2px 4px slategrey;\n  padding: 5px 10px;\n  background: #4fcbc5;\n  color: white;\n  cursor: pointer;\n}\n\n</style>\n"]}]}