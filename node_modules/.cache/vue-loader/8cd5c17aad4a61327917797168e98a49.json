{"remainingRequest":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/src/components/Reports/CurrentVsPrevious.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/src/components/Reports/CurrentVsPrevious.vue","mtime":1581270622000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7RXZlbnRTZXJ2aWNlfSBmcm9tICcuLi8uLi9tYWluJzsKaW1wb3J0IFJlcG9ydFNlcnZpY2UgZnJvbSAnLi8uLi8uLi9zZXJ2aWNlcy9SZXBvcnRTZXJ2aWNlJwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdDdXJyZW50VnNQcmV2aW91cycsCiAgZGF0YTogZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gewogICAgICByZXZpZXdEYXRhOiBudWxsLAogICAgICBjdXJyZW50T3Bpbmlpb25SYXRpbmdzOiBudWxsLAogICAgICBjdXJyZW50T3Bpbmlpb25SYXRpbmdzVG90YWw6IDAsCiAgICAgIHByZXZpb3VzT3Bpbmlpb25SYXRpbmdzOiBudWxsLAogICAgICBwcmV2aW91c09waW5paW9uUmF0aW5nc1RvdGFsOiAwLAogICAgICBjdXJyZW50UHVibGljUmF0aW5nczogbnVsbCwKICAgICAgY3VycmVudFB1YmxpY1JhdGluZ3NUb3RhbDogMCwKICAgICAgcHJldmlvdXNQdWJsaWNSYXRpbmdzOiBudWxsLAogICAgICBwcmV2aW91c1B1YmxpY1JhdGluZ3NUb3RhbDogMCwKICAgICAgc3RhcnREYXRlOiAnMTk3MC0wMS0wMScsCiAgICAgIGVuZERhdGU6ICcyMDcwLTAxLTAxJywKICAgICAgcHJldmlvdXNEYXRlOiAnMTk3MC0wMS0wMScsCiAgICAgIHNlYXJjaGVkU3RhcnREYXRlOiAnMTk3MC0wMS0wMScsCiAgICAgIHNlYXJjaGVkRW5kRGF0ZTogJzIwNzAtMDEtMDEnCiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgbGV0IHRvZGF5c0RhdGUgPSBEYXRlLm5vdygpOwogICAgdmFyIHByZXZpb3VzRGF0ZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gMTAwMCAqIDYwICogNjAgKiAyNCAqIDMwOwogICAgdGhpcy5zdGFydERhdGUgPSBuZXcgRGF0ZShwcmV2aW91c0RhdGUpLnRvSVNPU3RyaW5nKCkuc3Vic3RyaW5nKDAsIDEwKTsKICAgIHRoaXMuZW5kRGF0ZSA9IG5ldyBEYXRlKHRvZGF5c0RhdGUpLnRvSVNPU3RyaW5nKCkuc3Vic3RyaW5nKDAsIDEwKTsKICAgIHRoaXMuZ2V0UmV2aWV3c0RhdGEoKTsKICAgIEV2ZW50U2VydmljZS4kb24oJ2xvY2F0aW9uQ2hhbmdlJywgdGhpcy5nZXRSZXZpZXdzRGF0YSk7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiAoKSB7CiAgICBFdmVudFNlcnZpY2UuJG9mZignbG9jYXRpb25DaGFuZ2UnLCB0aGlzLmdldFJldmlld3NEYXRhKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFJldmlld3NEYXRhKCkgewogICAgICBFdmVudFNlcnZpY2UuJGVtaXQoImxvYWRpbmciLCAic2hvdyIpOwogICAgICB0aGlzLnJldmlld0RhdGEgPSBudWxsOwogICAgICB2YXIgbG9jYXRpb25JZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsb2NhdGlvbklkJyk7CiAgICAgIHZhciBsb2NhdGlvbklkQXJyYXkgPSBbXTsKCiAgICAgIGlmKGxvY2F0aW9uSWQpIHsKICAgICAgICBsb2NhdGlvbklkQXJyYXkucHVzaChsb2NhdGlvbklkKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBsZXQgbG9jT3B0aW9ucyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xvY2F0aW9uT3B0aW9ucycpKTsKICAgICAgICBsb2NPcHRpb25zLm1hcChlbCA9PiBsb2NhdGlvbklkQXJyYXkucHVzaChlbC5sb2NhdGlvbklkKSk7CiAgICAgIH0KCiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIFJlcG9ydFNlcnZpY2UuZ2V0Q3VycmVudFZzUHJldmlvdXNSZXBvcnQobmV3IERhdGUodm0uc3RhcnREYXRlKS5nZXRUaW1lKCksIG5ldyBEYXRlKHZtLmVuZERhdGUpLmdldFRpbWUoKSwgbG9jYXRpb25JZEFycmF5KS50aGVuKAogICAgICAgIGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgICAgICBFdmVudFNlcnZpY2UuJGVtaXQoImxvYWRpbmciLCAiaGlkZSIpOwogICAgICAgICAgdm0ucmV2aWV3RGF0YSA9IHJlc3BvbnNlOwogICAgICAgICAgdm0ucHJldmlvdXNEYXRlID0gcmVzcG9uc2UucHJldkRhdGU7CiAgICAgICAgICB2bS5zZWFyY2hlZFN0YXJ0RGF0ZSA9IHZtLnN0YXJ0RGF0ZTsKICAgICAgICAgIHZtLnNlYXJjaGVkRW5kRGF0ZSA9IHZtLmVuZERhdGU7CgogICAgICAgICAgdm0ucG9wdWxhdGVSZXZpZXdEYXRhKHJlc3BvbnNlKTsKCiAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgcG9wdWxhdGVSZXZpZXdEYXRhKGRhdGEpIHsKICAgICAgaWYgKGRhdGEucmVzdWx0Lmxlbmd0aCkgewogICAgICAgIGlmIChkYXRhLnJlc3VsdFswXS5sZW5ndGgpIHsKICAgICAgICAgIHRoaXMuY3VycmVudE9waW5paW9uUmF0aW5ncyA9IGRhdGEucmVzdWx0WzBdOwogICAgICAgICAgdGhpcy5jdXJyZW50T3Bpbmlpb25SYXRpbmdzVG90YWwgPSB0aGlzLmN1cnJlbnRPcGluaWlvblJhdGluZ3MucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCk7CiAgICAgICAgfQogICAgICAgIGlmIChkYXRhLnJlc3VsdFsxXS5sZW5ndGgpIHsKICAgICAgICAgIHRoaXMucHJldmlvdXNPcGluaWlvblJhdGluZ3MgPSBkYXRhLnJlc3VsdFsxXTsKICAgICAgICAgIHRoaXMucHJldmlvdXNPcGluaWlvblJhdGluZ3NUb3RhbCA9IHRoaXMucHJldmlvdXNPcGluaWlvblJhdGluZ3MucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCk7CiAgICAgICAgfQogICAgICAgIGlmIChkYXRhLnJlc3VsdFsyXS5sZW5ndGgpIHsKICAgICAgICAgIHRoaXMuY3VycmVudFB1YmxpY1JhdGluZ3MgPSBkYXRhLnJlc3VsdFsyXTsKICAgICAgICAgIHRoaXMuY3VycmVudFB1YmxpY1JhdGluZ3NUb3RhbCA9IHRoaXMuY3VycmVudFB1YmxpY1JhdGluZ3MucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCk7CiAgICAgICAgfQogICAgICAgIGlmIChkYXRhLnJlc3VsdFszXS5sZW5ndGgpIHsKICAgICAgICAgIHRoaXMucHJldmlvdXNQdWJsaWNSYXRpbmdzID0gZGF0YS5yZXN1bHRbM107CiAgICAgICAgICB0aGlzLnByZXZpb3VzUHVibGljUmF0aW5nc1RvdGFsID0gdGhpcy5wcmV2aW91c1B1YmxpY1JhdGluZ3MucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgZGlzcGxheURhdGUoZGF0ZSkgewogICAgICB2YXIgZm9ybWF0dGVkRGF0ZSA9IG5ldyBEYXRlKGRhdGUpLmdldFRpbWUoKTsKICAgICAgZm9ybWF0dGVkRGF0ZSA9IGZvcm1hdHRlZERhdGUgKyAoMTAwMCAqIDYwICogNjAgKiA3KTsgLy8gQWRkIDYgaG91cnMgdG8gb3VyIE1TVCB0byBnZXQgaXQgdG8gR01ULgogICAgICBmb3JtYXR0ZWREYXRlID0gbmV3IERhdGUoZm9ybWF0dGVkRGF0ZSk7CiAgICAgIHZhciBtb250aCA9IGZvcm1hdHRlZERhdGUuZ2V0TW9udGgoKSArIDEsCiAgICAgICAgICBkYXkgPSBmb3JtYXR0ZWREYXRlLmdldERhdGUoKSwKICAgICAgICAgIHllYXIgPSBmb3JtYXR0ZWREYXRlLmdldEZ1bGxZZWFyKCk7CgogICAgICByZXR1cm4gbW9udGggKyAiLSIgKyBkYXkgKyAiLSIgKyB5ZWFyOwogICAgfSwKICAgIGRpc3BsYXlEYXRlTWludXNPbmUoZGF0ZSkgewogICAgICB2YXIgZm9ybWF0dGVkRGF0ZSA9IG5ldyBEYXRlKGRhdGUpLmdldFRpbWUoKTsKICAgICAgZm9ybWF0dGVkRGF0ZSA9IGZvcm1hdHRlZERhdGUgKyAoMTAwMCAqIDYwICogNjAgKiA2IC0gMSk7IC8vIEFkZCA2IGhvdXJzIHRvIG91ciBNU1QgdG8gZ2V0IGl0IHRvIEdNVCB0aGVuIG1pbnVzIG9uZSB0byBnZXQgdGhlIGRheSBiZWZvcmUuCiAgICAgIGZvcm1hdHRlZERhdGUgPSBuZXcgRGF0ZShmb3JtYXR0ZWREYXRlKTsKICAgICAgdmFyIG1vbnRoID0gZm9ybWF0dGVkRGF0ZS5nZXRNb250aCgpICsgMSwKICAgICAgICAgIGRheSA9IGZvcm1hdHRlZERhdGUuZ2V0RGF0ZSgpLAogICAgICAgICAgeWVhciA9IGZvcm1hdHRlZERhdGUuZ2V0RnVsbFllYXIoKTsKCiAgICAgIHJldHVybiBtb250aCArICItIiArIGRheSArICItIiArIHllYXI7CiAgICB9LAogICAgZGlzcGxheVBlcmNlbnRhZ2UodG90YWwsIGNvdW50KSB7CiAgICAgIGlmIChjb3VudCA+IDApIHsKICAgICAgICB2YXIgcGVyY2VudCA9IGNvdW50IC8gdG90YWwgKiAxMDA7CiAgICAgICAgcmV0dXJuIHBlcmNlbnQudG9GaXhlZCgwKSArICIlIjsKICAgICAgfSBlbHNlIHJldHVybiAwICsgIiUiOwogICAgfQogIH0KfQo="},{"version":3,"sources":["CurrentVsPrevious.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsHA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CurrentVsPrevious.vue","sourceRoot":"src/components/Reports","sourcesContent":["<template>\n  <div id=\"reviews-by-source-report-wrapper\">\n    <div id=\"report-header\">\n      <div id=\"report-name-wrapper\">\n        Current vs. Previous\n      </div>\n      <div id=\"report-options-wrapper\">\n        <el-date-picker\n          type=\"date\"\n          v-model=\"startDate\"\n          @keyup.enter=\"getReviewsData()\"\n          placeholder=\"Start Date\"\n          value-format=\"yyyy-MM-dd\"\n          format=\"MM-dd-yyyy\"\n          required />\n        <el-date-picker\n          type=\"date\"\n          v-model=\"endDate\"\n          @keyup.enter=\"getReviewsData()\"\n          placeholder=\"End Date\"\n          value-format=\"yyyy-MM-dd\"\n          format=\"MM-dd-yyyy\"\n          required />\n        <el-button type=\"primary\" @click=\"getReviewsData()\">Apply</el-button>\n          <!-- <el-button type=\"primary\" \n            @click=\"printReport()\"\n            class=\"export-btn\">\n              Export\n              <i class=\"el-icon-download el-icon-right\"></i>\n          </el-button> -->\n      </div>\n    </div>\n\n    <div id=\"report-body\">\n      <div v-if=\"!searchedStartDate || !searchedEndDate\">\n        <div class=\"no-data\">Please select both dates then click 'Search' again.</div>\n      </div>\n      <div v-else-if=\"searchedStartDate > searchedEndDate\">\n        <div class=\"no-data\">Please select a Start Date that is before End Date then click 'Search' again.</div>\n      </div>\n      <div v-else class=\"cvpBody\">\n        <el-row>\n          <el-col :span=\"24\">\n            <el-card>\n              <p>Public Reviews (All Sources)</p>\n              <el-row type=\"flex\" class=\"row-bg\" justify=\"center\">\n                <el-col :span=\"12\">\n                  <span class=\"card-desc\"><strong>Current</strong> number of reviews from <b>{{displayDate(this.searchedStartDate)}}</b> to 12 am on <b>{{displayDate(this.searchedEndDate)}}</b></span>\n                  <div class=\"reversal\">\n                    <div class=\"data-row\" v-for=\"(review, index) in previousPublicRatings\">\n                      <div class=\"star-wrapper\">{{index+1}} Star</div>\n                      <div class=\"rating-bar-wrapper\">\n                        <div class=\"rating-bar-fill public\" :title=\"previousPublicRatings[index]\" :style=\"{width:displayPercentage(previousPublicRatingsTotal, previousPublicRatings[index])}\"></div>\n                      </div>\n                      &nbsp;\n                      <div class=\"percent-wrapper\">{{displayPercentage(previousPublicRatingsTotal, previousPublicRatings[index])}}</div>\n                    </div>\n                  </div>\n                </el-col>\n                <el-col :span=\"12\">\n                  <span class=\"card-desc\"><strong>Previous</strong> number of reviews from <b>{{displayDate(this.previousDate)}}</b> to 12 am on <b>{{displayDate(this.searchedStartDate)}}</b></span>\n                  <div class=\"reversal\">\n                    <div class=\"data-row\" v-for=\"(review, index) in currentPublicRatings\">\n                      <div class=\"star-wrapper\">{{index+1}} Star</div>\n                      <div class=\"rating-bar-wrapper\">\n                        <div class=\"rating-bar-fill public\" :title=\"currentPublicRatings[index]\" :style=\"{width:displayPercentage(currentPublicRatingsTotal, currentPublicRatings[index])}\"></div>\n                      </div>\n                      &nbsp;\n                      <div class=\"percent-wrapper\">{{displayPercentage(currentPublicRatingsTotal, currentPublicRatings[index])}}</div>\n                    </div>\n                  </div>\n                </el-col>\n              </el-row>\n            </el-card>\n          </el-col>\n        </el-row>\n        <br><br>\n        <el-row>\n          <el-col :span=\"24\">\n            <el-card>\n              <p>Private Feedback</p>\n              <el-row type=\"flex\" class=\"row-bg\" justify=\"center\">\n                <el-col :span=\"12\">\n                  <span class=\"card-desc\"><strong>Current</strong> number of reviews from <b>{{displayDate(this.searchedStartDate)}}</b> to 12 am on <b>{{displayDate(this.searchedEndDate)}}</b></span>\n                  <div class=\"reversal\">\n                    <div class=\"data-row\" v-for=\"(review, index) in previousOpiniionRatings\">\n                      <div class=\"star-wrapper\">{{index+1}} Star</div>\n                      <div class=\"rating-bar-wrapper\">\n                        <div class=\"rating-bar-fill private\" :title=\"previousOpiniionRatings[index]\" :style=\"{width:displayPercentage(previousOpiniionRatingsTotal, previousOpiniionRatings[index])}\"></div>\n                      </div>\n                      &nbsp;\n                      <div class=\"percent-wrapper\">{{displayPercentage(previousOpiniionRatingsTotal, previousOpiniionRatings[index])}}</div>\n                    </div>\n                  </div>\n                </el-col>\n                <el-col :span=\"12\">\n                  <span class=\"card-desc\"><strong>Previous</strong> number of reviews from <b>{{displayDate(this.previousDate)}}</b> to 12 am on <b>{{displayDate(this.searchedStartDate)}}</b></span>\n                  <div class=\"reversal\">\n                    <div class=\"data-row\" v-for=\"(review, index) in previousOpiniionRatings\">\n                      <div class=\"star-wrapper\">{{index+1}} Star</div>\n                      <div class=\"rating-bar-wrapper\">\n                        <div class=\"rating-bar-fill private\" :title=\"previousOpiniionRatings[index]\" :style=\"{width:displayPercentage(previousOpiniionRatingsTotal, previousOpiniionRatings[index])}\"></div>\n                      </div>\n                      &nbsp;\n                      <div class=\"percent-wrapper\">{{displayPercentage(previousOpiniionRatingsTotal, previousOpiniionRatings[index])}}</div>\n                    </div>\n                  </div>\n                </el-col>\n              </el-row>\n            </el-card>\n          </el-col>\n        </el-row>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {EventService} from '../../main';\nimport ReportService from './../../services/ReportService'\n\nexport default {\n  name: 'CurrentVsPrevious',\n  data: function() {\n    return {\n      reviewData: null,\n      currentOpiniionRatings: null,\n      currentOpiniionRatingsTotal: 0,\n      previousOpiniionRatings: null,\n      previousOpiniionRatingsTotal: 0,\n      currentPublicRatings: null,\n      currentPublicRatingsTotal: 0,\n      previousPublicRatings: null,\n      previousPublicRatingsTotal: 0,\n      startDate: '1970-01-01',\n      endDate: '2070-01-01',\n      previousDate: '1970-01-01',\n      searchedStartDate: '1970-01-01',\n      searchedEndDate: '2070-01-01'\n    }\n  },\n  created() {\n    let todaysDate = Date.now();\n    var previousDate = new Date().getTime() - 1000 * 60 * 60 * 24 * 30;\n    this.startDate = new Date(previousDate).toISOString().substring(0, 10);\n    this.endDate = new Date(todaysDate).toISOString().substring(0, 10);\n    this.getReviewsData();\n    EventService.$on('locationChange', this.getReviewsData);\n  },\n  beforeDestroy: function () {\n    EventService.$off('locationChange', this.getReviewsData);\n  },\n  methods: {\n    getReviewsData() {\n      EventService.$emit(\"loading\", \"show\");\n      this.reviewData = null;\n      var locationId = localStorage.getItem('locationId');\n      var locationIdArray = [];\n\n      if(locationId) {\n        locationIdArray.push(locationId);\n      } else {\n        let locOptions = JSON.parse(localStorage.getItem('locationOptions'));\n        locOptions.map(el => locationIdArray.push(el.locationId));\n      }\n\n      var vm = this;\n      ReportService.getCurrentVsPreviousReport(new Date(vm.startDate).getTime(), new Date(vm.endDate).getTime(), locationIdArray).then(\n        function(response) {\n          EventService.$emit(\"loading\", \"hide\");\n          vm.reviewData = response;\n          vm.previousDate = response.prevDate;\n          vm.searchedStartDate = vm.startDate;\n          vm.searchedEndDate = vm.endDate;\n\n          vm.populateReviewData(response);\n\n        }, function(error) {\n          console.log(error);\n      });\n    },\n    populateReviewData(data) {\n      if (data.result.length) {\n        if (data.result[0].length) {\n          this.currentOpiniionRatings = data.result[0];\n          this.currentOpiniionRatingsTotal = this.currentOpiniionRatings.reduce((a, b) => a + b, 0);\n        }\n        if (data.result[1].length) {\n          this.previousOpiniionRatings = data.result[1];\n          this.previousOpiniionRatingsTotal = this.previousOpiniionRatings.reduce((a, b) => a + b, 0);\n        }\n        if (data.result[2].length) {\n          this.currentPublicRatings = data.result[2];\n          this.currentPublicRatingsTotal = this.currentPublicRatings.reduce((a, b) => a + b, 0);\n        }\n        if (data.result[3].length) {\n          this.previousPublicRatings = data.result[3];\n          this.previousPublicRatingsTotal = this.previousPublicRatings.reduce((a, b) => a + b, 0);\n        }\n      }\n    },\n    displayDate(date) {\n      var formattedDate = new Date(date).getTime();\n      formattedDate = formattedDate + (1000 * 60 * 60 * 7); // Add 6 hours to our MST to get it to GMT.\n      formattedDate = new Date(formattedDate);\n      var month = formattedDate.getMonth() + 1,\n          day = formattedDate.getDate(),\n          year = formattedDate.getFullYear();\n\n      return month + \"-\" + day + \"-\" + year;\n    },\n    displayDateMinusOne(date) {\n      var formattedDate = new Date(date).getTime();\n      formattedDate = formattedDate + (1000 * 60 * 60 * 6 - 1); // Add 6 hours to our MST to get it to GMT then minus one to get the day before.\n      formattedDate = new Date(formattedDate);\n      var month = formattedDate.getMonth() + 1,\n          day = formattedDate.getDate(),\n          year = formattedDate.getFullYear();\n\n      return month + \"-\" + day + \"-\" + year;\n    },\n    displayPercentage(total, count) {\n      if (count > 0) {\n        var percent = count / total * 100;\n        return percent.toFixed(0) + \"%\";\n      } else return 0 + \"%\";\n    }\n  }\n}\n</script>\n\n<style scoped>\n  #report-header {\n    background: transparent;\n    display: flex;\n    justify-content: space-between;\n    margin-left: 2px;\n    height: 66px;\n    box-shadow: transparent;\n    color: #545454;\n  }\n\n  #report-name-wrapper {\n    font-size: 24px;\n    padding: 20px 0 20px 20px;\n    font-weight: 500;\n  }\n\n  #report-options-wrapper {\n    font-size: 20px;\n    padding: 20px 20px 10px 0;\n    display: flex;\n    align-items: baseline;\n  }\n\n  #report-options-wrapper > div {\n    margin-right: 20px;\n  }\n\n  #cvp-public-reviews-card-wrapper,\n  #cvp-private-feedback-card-wrapper {\n    background: white;\n    margin: 20px;\n  }\n\n  .card-header-wrapper {\n    width: auto;\n    display: flex;\n    padding: 10px 5px;\n    border-bottom: .5px solid lightgray;\n    align-items: center;\n    font-weight: bold;\n    font-size: 16px;\n    justify-content: space-between;\n  }\n\n  .card-body-wrapper {\n    display: flex;\n    justify-content: space-evenly;\n    padding: 0 5px;\n  }\n\n  #date-button {\n    background-color: #4fcbc5;\n    color: white;\n    font-size: 15px;\n    padding: 3px 5px;\n    border-radius: 3px;\n    font-weight: 600;\n  }\n\n  #date-button:hover {\n    filter: brightness(120%);\n  }\n\n  .box-shadow {\n    box-shadow: 0px 2px 4px #00000040;\n  }\n\n  .star-wrapper {\n    font-size: 13px;\n    padding-top: 5px;\n    flex: 0 1 50px;\n  }\n\n  .rating-bar-wrapper {\n    border: 1px solid #ccc !important;\n  }\n\n  .rating-bar-wrapper::after {\n    content: \"\";\n    display: table;\n    clear: both;\n  }\n\n  .rating-bar-fill {\n    height: 24px;\n    transition: width 1s;\n  }\n\n  .rating-bar-fill.public {\n    background-color: #FFCE00;\n  }\n\n  .rating-bar-fill.private {\n    background-color: #4FCBC6;\n  }\n\n  .rating-bar-fill.public:hover {\n    background-color: #FFCE00aa;\n  }\n\n  .rating-bar-fill.private:hover {\n    background-color: #4FCBC6aa;\n  }\n\n  .percent-wrapper {\n    font-size: 13px;\n    padding-top: 5px;\n    flex: 0 1 50px;\n  }\n\n  .reversal {\n    display: flex;\n    flex-direction: column-reverse;\n  }\n\n  .data-row {\n    display: flex;\n    width: 90%;\n    margin-left: 5%;\n    padding: 13px 0;\n  }\n\n  .current-data-wrapper,\n  .previous-data-wrapper {\n    min-width: 40%;\n    text-align: center;\n    color: #454545;\n  }\n\n  .report-date-range {\n    padding: 30px 0;\n    font-size: 22px;\n    text-align: left;\n  }\n\n  .report-data-range {\n    padding-bottom: 35px;\n    display: flex;\n    flex-direction: column-reverse;\n  }\n  .datepicks{\n    cursor: pointer;\n    padding-left: 35px;\n    background-color: #FAFAFA;\n    border: 1px solid #d8d7d7;\n    height: 18px\n  }\n  #input_img {\n    position:absolute;\n    bottom:20px;\n    padding-left:5px; \n    width:24px;\n    height:24px;\n  }\n  .export-btn{\n    margin-top: -10px;\n    margin-left: 20px;\n    background-color: #66615B;\n    border: none\n  }\n  .export-btn:hover {\n    background-color: #66615B\n  }\n  .cvpBody{\n    /* width: 85%;\n    margin-top: 80px;\n    margin-left: 5% */\n    margin-top: 40px;\n    margin-left: 30px;\n  }\n  .cvpBody p {\n    margin-top: 0;\n    font-size: 18px;\n    font-weight: 600\n  }\n  .card-desc{\n    font-size: 12px;\n    margin-top: 20px;\n    display: block;\n    text-align: center\n  }\n  .card-desc b{\n    color: #4FCBC5\n  }\n  .progres-bar-div{\n    margin-top: 20px;\n    display: block;\n    margin-left: 25px\n  }\n  .progres-bar-div span{\n    float: left;\n    padding-right:5px;\n\n  }\n  .progres-bar{\n    float: left;\n    width: 85%\n  }\n</style>\n"]}]}