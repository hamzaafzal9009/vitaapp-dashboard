{"remainingRequest":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js??vue-loader-options!/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/src/components/LeaveFeedback.vue?vue&type=style&index=0&id=e9042548&scoped=true&lang=css&","dependencies":[{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/src/components/LeaveFeedback.vue","mtime":1581270622000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Library/WebServer/Documents/Projects/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouZmVlZGJhY2stY2FyZCB7CiAgZGlzcGxheTogZmxleDsKICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgd2lkdGg6IDcwMHB4OwogIG1heC13aWR0aDogMTAwJTsKICBoZWlnaHQ6IGF1dG87CiAgYm94LXNoYWRvdzogMCA2cHggMTJweCByZ2JhKDAsIDAsIDAsIC4xNSk7CiAgYm9yZGVyLXJhZGl1czogMTJweDsKICBiYWNrZ3JvdW5kOiB3aGl0ZTsKICBwYWRkaW5nOiAyMHB4OwogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgdGV4dC1hbGlnbjogY2VudGVyOwp9Ci5mZWVkYmFjay1wYWdlIHsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgcGFkZGluZzogMjBweDsKICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogIGhlaWdodDogMTAwdmg7CiAgYmFja2dyb3VuZDogI2YyZjJmMjsKfQoKLmZlZWRiYWNrLWxvZ28gewogIG1heC13aWR0aDogOTAlOwogIHdpZHRoOiAzNjBweDsKICBtaW4td2lkdGg6IDE1MHB4OwogIHBhZGRpbmctYm90dG9tOiAyMHB4OwogIHBhZGRpbmctdG9wOiAyMHB4Owp9CgouZmVlZGJhY2stbG9nby1pbWcgewogIHdpZHRoOiAxMDAlOwogIG1heC13aWR0aDogMTAwJTsKfQouZmVlZGJhY2stdGV4dDo6YmVmb3JlIHsKICBjb250ZW50OiAnJzsKICBkaXNwbGF5OiBibG9jazsKICB3aWR0aDogNjAlOwogIGhlaWdodDogMXB4OwogIG1hcmdpbjogYXV0bzsKICBiYWNrZ3JvdW5kOiAjOWE5YTlhMzU7CiAgbWFyZ2luLWJvdHRvbTogNDBweDsKfQoKLmZlZWRiYWNrLXRleHQgewogIGZvbnQtc2l6ZTogMTRweDsKICBsaW5lLWhlaWdodDogMjRweDsKfQoKLmZlZWRiYWNrLXRleHQtaGVhZGVyIHsKICBwYWRkaW5nLWJvdHRvbTogMzBweDsKICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogIGZvbnQtc2l6ZTogMzVweDsKICBmb250LWZhbWlseTogJ01vbnRzZXJyYXQnLC1hcHBsZS1zeXN0ZW0sQmxpbmtNYWNTeXN0ZW1Gb250LEd1ZGVhLFJvYm90byxIZWx2ZXRpY2EgTmV1ZSxTZWdvZSBVSSxIZWx2ZXRpY2EsQXJpYWwsc2Fucy1zZXJpZjsKICBjb2xvcjogIzQyNDI0MjsKfQoKLmZlZWRiYWNrLXRleHQtbGluZTIgewogIGZvbnQtc2l6ZTogMTZweDsKICBmb250LWZhbWlseTogJ01vbnRzZXJyYXQnLC1hcHBsZS1zeXN0ZW0sQmxpbmtNYWNTeXN0ZW1Gb250LEd1ZGVhLFJvYm90byxIZWx2ZXRpY2EgTmV1ZSxTZWdvZSBVSSxIZWx2ZXRpY2EsQXJpYWwsc2Fucy1zZXJpZjsKICBjb2xvcjogIzc1NzU3NTsKICBsaW5lLWhlaWdodDogMzBweDsKICBwYWRkaW5nLWxlZnQ6IDIwcHg7CiAgcGFkZGluZy1yaWdodDogMjBweDsKfQoKLmZlZWRiYWNrLXRleHQtbGluZTMgewogIHBhZGRpbmc6IDEwcHg7CiAgZm9udC1zaXplOiAyMnB4OwogIGxpbmUtaGVpZ2h0OiAyOHB4OwogIGNvbG9yOiAjNzU3NTc1OwogIG1hcmdpbi1ib3R0b206IDEwcHg7Cn0KCi5mZWVkYmFjay1vcHRpb25zIHsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICB3aWR0aDogMzYwcHg7CiAgbWF4LXdpZHRoOiAxMDAlOwogIG1hcmdpbi1ib3R0b206IDEwcHg7Cn0KLmZlZWRiYWNrLW9wdGlvbnMgYnV0dG9uIHsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgd2lkdGg6IDYwcHg7CiAgaGVpZ2h0OiA2MHB4OwogIG1pbi13aWR0aDogNDhweDsKICBtaW4taGVpZ2h0OiA0OHB4OwogIGZvbnQtc2l6ZTogMjhweDsKICBjb2xvcjogd2hpdGU7CiAgZm9udC13ZWlnaHQ6IDYwMDsKICBib3gtc2hhZG93OiAwIDNweCA2cHggcmdiYSgwLCAwLCAwLCAuMTYpOwp9CgouZmVlZGJhY2stdW5kZXJ0ZXh0IHsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICB3aWR0aDogMzYwcHg7CiAgbWF4LXdpZHRoOiAxMDAlOwogIGNvbG9yOiAjNzU3NTc1Owp9CgouZmVlZGJhY2stdW5kZXJ0ZXh0IHNwYW4gewogIHRleHQtYWxpZ246IGNlbnRlcjsKICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgZm9udC1zaXplOiAxNHB4Owp9CgouZmVlZGJhY2stdW5kZXJ0ZXh0LXNwYWNlciB7CiAgd2lkdGg6IGNhbGMoODUlIC0gNzVweCk7CiAgbWF4LXdpZHRoOiA0MjBweDsKfQoKQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA0MjBweCkgewogIC5mZWVkYmFjay10ZXh0LWhlYWRlciB7CiAgICBmb250LXNpemU6IDI0cHg7CiAgfQogIC5mZWVkYmFjay1wYWdlIHsKICAgIHdpZHRoOiAxMDAlOwogICAgcGFkZGluZzogMDsKICAgIG1heC13aWR0aDogMTAwJTsKICB9CiAgLmZlZWRiYWNrLWNhcmQgewogICAgd2lkdGg6IDEwMCU7CiAgICBtYXgtd2lkdGg6IDEwMCU7CiAgfQogIC5mZWVkYmFjay1vcHRpb25zIGJ1dHRvbiB7CgogICAgZm9udC1zaXplOiAyNHB4OwogIH0KICAuZmVlZGJhY2stdW5kZXJ0ZXh0IHsKICAgIHdpZHRoOiAxMDAlOwogICAgbWF4LXdpZHRoOiAxMDAlOwogIH0KfQo="},{"version":3,"sources":["LeaveFeedback.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"LeaveFeedback.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"feedback-page\">\n    <div class=\"feedback-card\">\n      <div class=\"feedback-logo\">\n        <span v-if=\"location.locationStyle && location.locationStyle.logo\">\n          <img class=\"feedback-logo-img\" :src=\"'data:image/png;base64,' + location.locationStyle.logo\"/>\n        </span>\n        <span v-if=\"!location.locationStyle.logo && !location.unloaded\" style=\"color: #4fcbc5\"><i class=\"far fa-building fa-7x\"></i></span>\n      </div>\n      <div class=\"feedback-text\">\n        <div class=\"feedback-text-header\">{{rpHeader}}</div>\n        <div class=\"feedback-text-line2\">{{rpLine2}}</div>\n        <div class=\"feedback-text-line3\">{{rpLine3}}</div>\n      </div>\n      <div class=\"feedback-options\">\n        <el-button circle @click.once=\"submitFeedback(1)\" :style=\"{'background-color': location.locationStyle.buttonColor}\">1</el-button>\n        <el-button circle @click.once=\"submitFeedback(2)\" :style=\"{'background-color': location.locationStyle.buttonColor}\">2</el-button>\n        <el-button circle @click.once=\"submitFeedback(3)\" :style=\"{'background-color': location.locationStyle.buttonColor}\">3</el-button>\n        <el-button circle @click.once=\"submitFeedback(4)\" :style=\"{'background-color': location.locationStyle.buttonColor}\">4</el-button>\n        <el-button circle @click.once=\"submitFeedback(5)\" :style=\"{'background-color': location.locationStyle.buttonColor}\">5</el-button>\n      </div>\n      <div class=\"feedback-undertext\">\n        <span>Terrible</span>\n        <span>Excellent</span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport FeedbackService from './../services/FeedbackService'\nimport LocationService from './../services/LocationService'\nimport {EventService} from '../main'\nimport CampaignService from '../services/CampaignService'\n\nexport default {\n  name: 'leaveFeedback',\n  data: function() {\n    return {\n      submittingFeedback: false,\n      location: { locationStyle: {}, landingPage: {}, unloaded: true },\n      rpHeader: '',\n      rpLine2: '',\n      rpLine3: ''\n    }\n  },\n  created() {\n    this.getLocation();\n    if (this.$route.params.src == 'SMS') {\n      FeedbackService.logLinkClick(this.$route.params.cid).then(\n        function(response) {\n          // Success!\n        }, function(error) {\n          console.log(error);\n      });\n    }\n  },\n  methods: {\n    getCampaign() {\n      let vm = this;\n      CampaignService.getCampaign(vm.$route.params.template).then(response => {\n        let landing = response.landingPage;\n        let subject = response.emailDetails.subject;\n        vm.rpHeader = subject;\n        vm.rp3 = landing.emailNotDisplayed;\n      })\n    },\n    getAutomation() {\n      var vm = this;\n      let auto = vm.$route.params.template;\n      if(auto && auto.includes(':')) {\n        let autoObj = auto.split(':');\n        AutomationService.getRedirectAutomation(autoObj[0], autoObj[1]).then(response => {\n          let landing = response.action.landingPage;\n          vm.rpHeader = landing.lp1;\n          vm.rpLine2 = landing.lp2;\n          vm.rpLine3 = landing.lp3;\n        })\n      } else {\n        var targetTemplate = null;\n        if (auto && vm.location.questionTemplate && vm.location.questionTemplate.length > 0) {\n          for (var i=0; i<vm.location.questionTemplate.length && !targetTemplate; i++) {\n            if (vm.location.questionTemplate[i].title == auto)\n              targetTemplate = vm.location.questionTemplate[i];\n          }\n        }\n        vm.rpHeader = targetTemplate ? targetTemplate.rp1 : vm.location.locationEmails ? vm.location.locationEmails[0].subject : \"How Are We Doing?\";\n        vm.rpLine2 = targetTemplate ? targetTemplate.rp2 : vm.location.locationEmails ? vm.location.locationEmails[0].body : \"Your satisfaction is our top priority, and we'd love to hear from you. Please take a few seconds to let us know how we're doing.\";\n        vm.rpLine3 = targetTemplate ? targetTemplate.rp3 : '';\n      }\n    },\n    getLocation() {\n      var vm = this;\n      LocationService.getAnonymousLocation(this.$route.params.loc).then(\n        function(response) {\n          vm.location = response;\n          if(vm.$route.params && vm.$route.params.template && vm.$route.params.template.includes('CA')) {\n            vm.getCampaign();\n          } else {\n            vm.getAutomation();\n          }\n          document.getElementsByTagName('title')[0].text = response.name + ' - How are we doing?';\n        }, function(error) {\n          console.log(error);\n      });\n    },\n    submitFeedback(rating) {\n      if (!this.submittingFeedback) {\n        this.submittingFeedback = true;\n        var vm = this;\n        FeedbackService.leavePrivateFeedback(this.$route.params.loc, this.$route.params.cid, rating, this.$route.params.src, vm.$route.params.template).then(\n          function(response) {\n            if (response.rotatorIndex != 'none') {\n              var replacementUrl = '/reviewRedirect/' + vm.$route.params.loc + '/' + vm.$route.params.cid + '/' + response.rotatorIndex + '/' + response.date;\n              if (vm.$route.params.template && vm.$route.params.template != 'undefined') replacementUrl += '/' + vm.$route.params.template;\n              replacementUrl += '?r=' + rating;\n              vm.$router.push(replacementUrl);\n            } else {\n              var replacementUrl = '/leaveReview/' + vm.$route.params.loc + '/' + vm.$route.params.cid + '/' + vm.$route.params.rating + '/' \n              if (vm.$route.params.template && vm.$route.params.template != 'undefined') replacementUrl += '/' + vm.$route.params.template;\n              replacementUrl += '/' + response.date;\n              vm.$router.replace(replacementUrl);\n            }\n          }, function (error) {\n            vm.submittingFeedback = false;\n            console.log(error);\n        });\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.feedback-card {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  width: 700px;\n  max-width: 100%;\n  height: auto;\n  box-shadow: 0 6px 12px rgba(0, 0, 0, .15);\n  border-radius: 12px;\n  background: white;\n  padding: 20px;\n  box-sizing: border-box;\n  text-align: center;\n}\n.feedback-page {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 20px;\n  box-sizing: border-box;\n  height: 100vh;\n  background: #f2f2f2;\n}\n\n.feedback-logo {\n  max-width: 90%;\n  width: 360px;\n  min-width: 150px;\n  padding-bottom: 20px;\n  padding-top: 20px;\n}\n\n.feedback-logo-img {\n  width: 100%;\n  max-width: 100%;\n}\n.feedback-text::before {\n  content: '';\n  display: block;\n  width: 60%;\n  height: 1px;\n  margin: auto;\n  background: #9a9a9a35;\n  margin-bottom: 40px;\n}\n\n.feedback-text {\n  font-size: 14px;\n  line-height: 24px;\n}\n\n.feedback-text-header {\n  padding-bottom: 30px;\n  box-sizing: border-box;\n  font-size: 35px;\n  font-family: 'Montserrat',-apple-system,BlinkMacSystemFont,Gudea,Roboto,Helvetica Neue,Segoe UI,Helvetica,Arial,sans-serif;\n  color: #424242;\n}\n\n.feedback-text-line2 {\n  font-size: 16px;\n  font-family: 'Montserrat',-apple-system,BlinkMacSystemFont,Gudea,Roboto,Helvetica Neue,Segoe UI,Helvetica,Arial,sans-serif;\n  color: #757575;\n  line-height: 30px;\n  padding-left: 20px;\n  padding-right: 20px;\n}\n\n.feedback-text-line3 {\n  padding: 10px;\n  font-size: 22px;\n  line-height: 28px;\n  color: #757575;\n  margin-bottom: 10px;\n}\n\n.feedback-options {\n  display: flex;\n  justify-content: space-between;\n  width: 360px;\n  max-width: 100%;\n  margin-bottom: 10px;\n}\n.feedback-options button {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 60px;\n  height: 60px;\n  min-width: 48px;\n  min-height: 48px;\n  font-size: 28px;\n  color: white;\n  font-weight: 600;\n  box-shadow: 0 3px 6px rgba(0, 0, 0, .16);\n}\n\n.feedback-undertext {\n  display: flex;\n  justify-content: space-between;\n  width: 360px;\n  max-width: 100%;\n  color: #757575;\n}\n\n.feedback-undertext span {\n  text-align: center;\n  display: inline-block;\n  font-size: 14px;\n}\n\n.feedback-undertext-spacer {\n  width: calc(85% - 75px);\n  max-width: 420px;\n}\n\n@media only screen and (max-width: 420px) {\n  .feedback-text-header {\n    font-size: 24px;\n  }\n  .feedback-page {\n    width: 100%;\n    padding: 0;\n    max-width: 100%;\n  }\n  .feedback-card {\n    width: 100%;\n    max-width: 100%;\n  }\n  .feedback-options button {\n\n    font-size: 24px;\n  }\n  .feedback-undertext {\n    width: 100%;\n    max-width: 100%;\n  }\n}\n</style>\n"]}]}