{"remainingRequest":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/src/components/CustomerDetail.vue?vue&type=style&index=0&id=65ecb47f&scoped=true&lang=css&","dependencies":[{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/src/components/CustomerDetail.vue","mtime":1581270622000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmZhZGUtZW50ZXItYWN0aXZlLAouZmFkZS1sZWF2ZS1hY3RpdmUgewogIHRyYW5zaXRpb246IG9wYWNpdHkgMC41czsKfQouZmFkZS1lbnRlciwgLmZhZGUtbGVhdmUtdG8gLyogLmZhZGUtbGVhdmUtYWN0aXZlIGJlbG93IHZlcnNpb24gMi4xLjggKi8gewogIG9wYWNpdHk6IDA7Cn0KLmVkaXRtb2RlLWxhYmVsIHsKICBmb250LXNpemU6IDExcHg7CiAgY29sb3I6ICM5YTlhOWE7Cn0KLmNvdW50cnktY29udGFpbmVyIHsKICBtYXJnaW4tdG9wOiAzMHB4Owp9Ci5jb3VudHJ5LWNvbnRhaW5lciBzcGFuOm50aC1jaGlsZCgxKSB7CiAgZm9udC13ZWlnaHQ6IDUwMDsKfQoudGFncy1jb250YWluZXIgewogIG1heC1oZWlnaHQ6IDQwMHB4OwogIG92ZXJmbG93LXk6IGF1dG87CiAgbWFyZ2luLXRvcDogMzBweDsKfQoudGFncy1jb250YWluZXIgc3BhbiB7CiAgZm9udC13ZWlnaHQ6IDUwMDsKfQoudGFncyB7CiAgbWFyZ2luLXRvcDogMTBweDsKfQoudGFncy1jb250YWluZXIgLnRhZyB7CiAgbWFyZ2luOiA1cHg7Cn0KLm5vdGUtbGlzdCB7CiAgbWFyZ2luLXRvcDogMjBweDsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgbWluLWhlaWdodDogMTAwcHg7CiAgaGVpZ2h0OiAxNzBweDsKICBtYXgtaGVpZ2h0OiA4MCU7CiAgb3ZlcmZsb3c6IGF1dG87CiAgd2lkdGg6IDEwMCU7Cn0KLm5vdGUgewogIGFuaW1hdGlvbjogMC4zNXMgY3ViaWMtYmV6aWVyKDAuMTY1LCAwLjg0LCAwLjQ0LCAxKSBzbGlkZUZyb21Ub3A7CiAgZGlzcGxheTogZmxleDsKICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogIHBhZGRpbmc6IDE0cHg7CiAgYmFja2dyb3VuZDogI2ZhZmFmYTsKICBjb2xvcjogIzc1NzU3NTsKICBoZWlnaHQ6IDMwcHg7CiAgd2lkdGg6IDEwMCU7CiAgbWFyZ2luLXRvcDogMTBweDsKICBtYXJnaW4tYm90dG9tOiAxMHB4OwogIGJvcmRlci1yYWRpdXM6IDRweDsKICBmb250LXdlaWdodDogbWVkaXVtOwogIGZvbnQtc2l6ZTogMTNweDsKICBsaW5lLWhlaWdodDogMjRweDsKICBib3gtc2hhZG93OiAwIDFweCAzcHggcmdiYSgwLCAwLCAwLCAwLjE1KTsKICB0cmFuc2l0aW9uOiBhbGwgMXMgZWFzZTsKfQoKLm5vdGUgaSB7CiAgcGFkZGluZy1sZWZ0OiAyMHB4OwogIGNvbG9yOiAjZGQyYzAwOwogIGN1cnNvcjogcG9pbnRlcjsKICB0cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpOwp9Ci50ZXh0YXJlYSB7CiAgcG9zaXRpb246IHN0aWNreTsKICBib3R0b206IDBweDsKfQoudGV4dC0tcmVkIHsKICBjb2xvcjogI2RkMmMwMDsKfQouZWwtZHJvcGRvd24tbGluayB7CiAgY3Vyc29yOiBwb2ludGVyOwp9Ci5pbnB1dC13cmFwcGVyIHsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKfQouZ28tYmFjayB7CiAgZm9udC1zaXplOiAxMnB4OwogIGN1cnNvcjogcG9pbnRlcjsKICB0cmFuc2l0aW9uOiAwLjJzIGVhc2U7CiAgLXdlYmtpdC10cmFuc2l0aW9uOiAwLjJzIGVhc2U7Cn0KLmdvLWJhY2s6aG92ZXIgewogIG9wYWNpdHk6IDAuNzsKfQouaW5wdXQtY29udGFpbmVyIHsKICBkaXNwbGF5OiBmbGV4OwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogIG1hcmdpbi10b3A6IDBweDsKICB3aWR0aDogMTAwJTsKICAvKiBtYXgtd2lkdGg6IDEwMCU7ICovCn0KLmlucHV0LWxhYmVsIHsKICB3aWR0aDogMTAwJTsKICBtYXJnaW46IDEwcHg7Cn0KLmVsLWlucHV0IHsKICAvKiB3aWR0aDogMjYwcHg7CiAgbWF4LXdpZHRoOiAyNjBweDsgKi8KICBwYWRkaW5nLXRvcDogNXB4OwogIHdpZHRoOiAxMDAlOwogIG1heC13aWR0aDogMTAwJTsKfQouY3VzdG9tZXItZGV0YWlsLXdyYXBwZXIgewogIGRpc3BsYXk6IGZsZXg7CiAgYm94LXNpemluZzogYm9yZGVyLWJveDsKfQouY2FyZC1hY3Rpdml0eS1sb2cgewogIHdpZHRoOiA4MDBweDsKICBoZWlnaHQ6IGF1dG87CiAgb3ZlcmZsb3c6IGF1dG87Cn0KLmxvZy13cmFwcGVyIHsKICBib3JkZXI6IDFweCBzb2xpZCAjOWE5YTlhMzU7CiAgYm9yZGVyLXJhZGl1czogMTJweDsKICBoZWlnaHQ6IDYwMHB4OwogIG92ZXJmbG93LXk6IGF1dG87Cn0KLmxvZy1yb3cgewogIGRpc3BsYXk6IGZsZXg7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBwYWRkaW5nLWxlZnQ6IDIwcHg7CiAgaGVpZ2h0OiAzMHB4OwogIGZvbnQtc2l6ZTogMTFweDsKfQoubG9nLXJvdzpudGgtY2hpbGQob2RkKSB7CiAgYmFja2dyb3VuZDogI2ZhZmFmYTsKfQouY3VzdG9tZXItaW5pdGlhbHMgewogIGRpc3BsYXk6IGZsZXg7CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBib3JkZXItcmFkaXVzOiAxMDAwcHg7CiAgYmFja2dyb3VuZDogIzc1NzU3NTsKICB3aWR0aDogMjJweDsKICBoZWlnaHQ6IDIycHg7CiAgZm9udC1zaXplOiAxMHB4OwogIGNvbG9yOiB3aGl0ZTsKICBmb250LXdlaWdodDogNjAwOwogIG1hcmdpbi1sZWZ0OiAyMHB4OwogIG1hcmdpbi1yaWdodDogMjBweDsKfQouYWN0aXZpdHktbG9nLWhlYWRlciB7CiAgZm9udC1zaXplOiAyMnB4OwogIGZvbnQtd2VpZ2h0OiA1MDA7CiAgcGFkZGluZy1sZWZ0OiA1cHg7CiAgbWFyZ2luLWJvdHRvbTogNTBweDsKfQouY2FyZC1jdXN0b21lci1pbmZvIHsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgd2lkdGg6IDYwMHB4OwogIGhlaWdodDogYXV0bzsKICBvdmVyZmxvdzogYXV0bzsKICBtYXJnaW4tcmlnaHQ6IDMwcHg7Cn0KLmN1c3RvbWVyLWluZm8taGVhZGVyIHsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7Cn0KLmluZm8tbmFtZSB7CiAgbWFyZ2luLXRvcDogMjBweDsKICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgZm9udC1zaXplOiAyNHB4OwogIGZvbnQtd2VpZ2h0OiBtZWRpdW07CiAgY29sb3I6ICM0MjQyNDI7Cn0KLmluZm8td3JhcHBlciB7CiAgZGlzcGxheTogZmxleDsKICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWV2ZW5seTsKICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgaGVpZ2h0OiAxMzBweDsKfQouY3VzdG9tZXItaW5mby1oZWFkZXIgLmVsbGlwc2UgewogIHRleHQtYWxpZ246IGNlbnRlcjsKICBmb250LXNpemU6IDE0cHg7Cn0KLmNhcmQtZm9vdGVyIHsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwogIHBvc2l0aW9uOiBzdGF0aWM7CiAgcGFkZGluZzogMjBweDsKICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogIGJvdHRvbTogMDsKICBsZWZ0OiAwOwogIHJpZ2h0OiAwOwp9Ci5jYXJkLWZvb3Rlci1lZGl0IHsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwogIHBvc2l0aW9uOiBzdGlja3k7CiAgcGFkZGluZzogMjBweDsKICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogIGJvdHRvbTogMDsKICBsZWZ0OiAwOwogIHJpZ2h0OiAwOwp9Ci5pbnB1dC1uZXctdGFnIHsKICB3aWR0aDogMTgwcHg7CiAgbWF4LXdpZHRoOiAxMDAlOwp9Ci5jYXJkLWZvb3Rlci1lZGl0IGJ1dHRvbiB7CiAgd2lkdGg6IDE3MHB4Owp9Ci5jYXJkLWZvb3RlciBidXR0b24gewogIHdpZHRoOiAxNzBweDsKfQouY2FyZC1mb290ZXIgYnV0dG9uOm50aC1jaGlsZCgxKSB7CiAgYmFja2dyb3VuZDogI2Y2OTg0ZjsKICBib3JkZXItY29sb3I6ICNmNjk4NGY7Cn0KCkBtZWRpYSAobWF4LXdpZHRoOiAxMjAwcHgpIHsKICAuY3VzdG9tZXItZGV0YWlsLXdyYXBwZXIgewogICAgZmxleC13cmFwOiB3cmFwOwogICAgaGVpZ2h0OiBhdXRvOwogIH0KICAuY2FyZC1jdXN0b21lci1pbmZvIHsKICAgIHdpZHRoOiAxMDAlOwogICAgbWFyZ2luOiAwOwogICAgbWFyZ2luLWJvdHRvbTogMjBweDsKICB9Cn0K"},{"version":3,"sources":["CustomerDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAijBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CustomerDetail.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"customer-detail-wrapper\" v-if=\"selectedCustomer\">\n    <el-card class=\"card-customer-info\">\n      <div class=\"customer-info-header\">\n        <span class=\"go-back\" @click=\"$emit('back')\">\n          <i class=\"fal fa-arrow-left\">&nbsp;&nbsp;</i>Back to Customers\n        </span>\n        <el-dropdown trigger=\"click\" @command=\"handleEditCustomer\">\n          <span class=\"el-dropdown-link\">\n            <i class=\"ellipse fas fa-ellipsis-v\"></i>\n          </span>\n          <el-dropdown-menu slot=\"dropdown\">\n            <el-dropdown-item command=\"edit\">Edit Customer</el-dropdown-item>\n            <el-dropdown-item command=\"delete\" class=\"text--red\">Delete Customer</el-dropdown-item>\n          </el-dropdown-menu>\n        </el-dropdown>\n      </div>\n      <div class=\"info-wrapper\">\n        <span\n          class=\"info-name\"\n          v-if=\"selectedCustomer.firstName && selectedCustomer.lastName\"\n        >{{selectedCustomer.firstName + ' ' + selectedCustomer.lastName}}</span>\n        <span v-if=\"selectedCustomer.status == 'deleted'\" class=\"status-bubble deleted\">{{selectedCustomer.status}}</span>\n        <span v-else-if=\"selectedCustomer.status == 'active'\" class=\"status-bubble subscribed\">{{selectedCustomer.status == 'active' ? 'subscribed' : 'active'}}</span>\n        <span v-else-if=\"selectedCustomer.status == 'inactive'\" class=\"status-bubble unsubscribed\">{{selectedCustomer.status == 'inactive' ? 'unsubscribed' : 'inactive'}}</span>\n        <div class=\"star-rating\">\n          <span v-if=\"selectedCustomer.rating == 1\">\n            <img src=\"../assets/img/star.svg\" />\n          </span>\n          <span v-if=\"selectedCustomer.rating == 2\">\n            <img src=\"../assets/img/star.svg\" />\n            <img src=\"../assets/img/star.svg\" />\n          </span>\n          <span v-if=\"selectedCustomer.rating == 3\">\n            <img src=\"../assets/img/star.svg\" />\n            <img src=\"../assets/img/star.svg\" />\n            <img src=\"../assets/img/star.svg\" />\n          </span>\n          <span v-if=\"selectedCustomer.rating == 4\">\n            <img src=\"../assets/img/star.svg\" />\n            <img src=\"../assets/img/star.svg\" />\n            <img src=\"../assets/img/star.svg\" />\n            <img src=\"../assets/img/star.svg\" />\n          </span>\n          <span v-if=\"selectedCustomer.rating == 5\">\n            <img src=\"../assets/img/star.svg\" />\n            <img src=\"../assets/img/star.svg\" />\n            <img src=\"../assets/img/star.svg\" />\n            <img src=\"../assets/img/star.svg\" />\n            <img src=\"../assets/img/star.svg\" />\n          </span>\n        </div>\n      </div>\n      <div class=\"input-wrapper\">\n        <div class=\"input-container\">\n          <label class=\"input-label\">\n            First Name\n            <el-input\n              placeholder=\"First Name\"\n              v-model=\"selectedCustomer.firstName\"\n              :disabled=\"editMode ? false : true\"\n            ></el-input>\n          </label>\n          <label class=\"input-label\">\n            Last Name\n            <el-input\n              placeholder=\"Last Name\"\n              v-model=\"selectedCustomer.lastName\"\n              :disabled=\"editMode ? false : true\"\n            ></el-input>\n          </label>\n        </div>\n        <div class=\"input-container\">\n          <label class=\"input-label\">\n            Email\n            <el-input\n              type=\"email\"\n              placeholder=\"Email\"\n              v-model=\"selectedCustomer.email\"\n              :disabled=\"editMode ? false : true\"\n            ></el-input>\n          </label>\n          <label class=\"input-label\">\n            Phone\n            <el-input\n              type=\"tel\"\n              placeholder=\"Phone\"\n              v-model=\"selectedCustomer.phone\"\n              :disabled=\"editMode ? false : true\"\n            ></el-input>\n          </label>\n        </div>\n      </div>\n      <div class=\"country-container\">\n        <span>Country:</span>\n        <span v-if=\"selectedCustomer.country\">&nbsp;{{getCountryFromCode(selectedCustomer.country)}}</span>\n      </div>\n      <div class=\"tags-container\">\n        <span>Tags:</span>\n        <div class=\"tags\">\n          <el-tag\n            size=\"small\"\n            class=\"tag\"\n            v-for=\"(tag, tagIndex) in selectedCustomer.tags\"\n            :key=\"tagIndex\"\n            closable\n            :disable-transitions=\"false\"\n            @close=\"handleClose(tag)\"\n          >{{tag}}</el-tag>\n          <el-input\n            class=\"input-new-tag\"\n            v-if=\"inputVisible\"\n            v-model=\"inputValue\"\n            maxlength=\"20\"\n            ref=\"saveTagInput\"\n            size=\"small\"\n\n            @keyup.enter.native=\"handleInputConfirm()\"\n            @blur=\"handleInputConfirm()\"\n          />\n          <el-button v-else class=\"button-new-tag\" size=\"mini\" @click=\"showInput\">Add Tag</el-button>\n        </div>\n      </div>\n      <div class=\"note-list\" ref=\"notelist\" v-if=\"selectedCustomer.notes\">\n        <div class=\"note\" v-for=\"(note, noteIndex) in selectedCustomer.notes\" :key=\"noteIndex\">\n          <span>{{note}}</span>\n          <i class=\"fal fa-times\" @click=\"removeNote(note, noteIndex)\"></i>\n        </div>\n        <el-input\n          type=\"textarea\"\n          class=\"textarea\"\n          placeholder=\"Enter a note and press enter...\"\n          maxlength=\"125\"\n          show-word-limit\n          v-model=\"tempNote\"\n          @keyup.enter.native=\"addNote\"\n        ></el-input>\n      </div>\n      <div class=\"card-footer\" v-if=\"!editMode\">\n        <el-button type=\"primary\" @click=\"requestModal = true\">Request Review</el-button>\n        <!-- <el-button type=\"primary\" @click=\"contactModal = true\">Contact</el-button> -->\n      </div>\n      <div class=\"card-footer-edit\" v-if=\"editMode\">\n        <el-button @click=\"saveChanges()\" type=\"primary\">Save Changes</el-button>\n      </div>\n    </el-card>\n    <el-card class=\"card-activity-log\">\n      <div class=\"activity-log-header\">Activity Log</div>\n      <div class=\"log-wrapper\">\n        <div class=\"log-row\" style=\"height:auto;max-width:100%;padding:8px 0 5px;\" v-for=\"(log, logIndex) in activityLog\" :key=\"logIndex\">\n          <span style=\"padding-left:20px;color:#757575;width:150px;\">{{new Date(log.date).toLocaleString()}}</span>\n          <span style=\"font-weight:bold;width:550px;line-break:anywhere;\">{{log.type}}</span>\n        </div>\n      </div>\n    </el-card>\n\n    <!-- Modals start -->\n    <requestReview v-if=\"requestModal\" :customer=\"selectedCustomer\" @close=\"requestModal = false\" />\n    <contactCustomer\n      v-if=\"contactModal\"\n      :contactModal=\"contactModal\"\n      @close=\"contactModal = false\"\n    />\n  </div>\n  <!-- No longer in use. -->\n  <!-- <transition name=\"modal\">\n    <div class=\"modal-mask\" @click=\"closeModal()\">\n      <div class=\"modal-container\" @click.stop>\n        <div class=\"modal-body\">\n          <div class=\"modal-details\">\n            <div class=\"modal-header\">\n              <h5>Customer Details</h5>\n              <span class=\"rerequest\" @click=\"reRequest(customer.locationId, customer)\" v-if=\"customer.status == 'active' || customer.status == 'migrated'\">\n              Re-Request Review\n              </span>\n            </div>\n            <div class=\"modal-detail-line\"> <label>Customer ID </label> <span>{{customer.customerId}} </span></div>\n            <div class=\"modal-detail-line\"> <label>Name </label> <span>{{customer.firstName}} {{customer.lastName}} </span></div>\n            <div class=\"modal-detail-line\"> <label>Phone </label> <span>{{customer.phone}} </span></div>\n            <div class=\"modal-detail-line no-cap\"> <label>Email </label> <span>{{customer.email}} </span></div>\n            <div class=\"modal-detail-line\" v-if=\"customer.location\" ><label>Location </label> <span>{{customer.location.name}}</span></div>\n            <div class=\"modal-detail-line\"> <label>Status </label> <span>{{customer.status}} </span></div>\n            <div class=\"modal-detail-line\" v-if=\"!customer.rating\"> <label>Rating Added </label></div>\n            <div class=\"modal-detail-line-stars\" v-if=\"!customer.rating\"></div>\n            <div class=\"modal-detail-line-stars\" v-if=\"customer.rating == 1\">\n              <label>Rating Added </label>\n              <div>\n                <i class=\"fa fa-star checked\"></i>\n              </div>\n            </div>\n            <div class=\"modal-detail-line-stars\" v-if=\"customer.rating == 2\">\n              <label>Rating Added </label>\n              <div>\n                <i class=\"fa fa-star checked\"></i>\n                <i class=\"fa fa-star checked\"></i>\n              </div>\n            </div>\n            <div class=\"modal-detail-line-stars\" v-if=\"customer.rating == 3\">\n              <label>Rating Added </label>\n              <div>\n                <i class=\"fa fa-star checked\"></i>\n                <i class=\"fa fa-star checked\"></i>\n                <i class=\"fa fa-star checked\"></i>\n              </div>\n            </div>\n            <div class=\"modal-detail-line-stars\" v-if=\"customer.rating == 4\">\n              <label>Rating Added </label>\n              <div>\n                <i class=\"fa fa-star checked\"></i>\n                <i class=\"fa fa-star checked\"></i>\n                <i class=\"fa fa-star checked\"></i>\n                <i class=\"fa fa-star checked\"></i>\n              </div>\n            </div>\n            <div class=\"modal-detail-line-stars\" v-if=\"customer.rating == 5\">\n              <label>Rating Added </label>\n              <div>\n                <i class=\"fa fa-star checked\"></i>\n                <i class=\"fa fa-star checked\"></i>\n                <i class=\"fa fa-star checked\"></i>\n                <i class=\"fa fa-star checked\"></i>\n                <i class=\"fa fa-star checked\"></i>\n              </div>\n            </div>\n            <div class=\"modal-detail-line-tags\">\n              <label>Tags </label>\n              <div class=\"tag-container\">\n                <autocomplete :type=\"('customer')\" :selectedCustomer=\"customer\"></autocomplete>\n              </div>\n            </div>\n            <div class=\"modal-detail-line no-cap down\"><label>Notes </label>\n              <div v-for=\"note in customer.notes\">\n                - {{note}}\n              </div>\n            </div>\n            <div class=\"modal-detail-line\"><label>Created Date </label> <span style=\"text-transform: none;\">{{createdDateDisplay}}</span></div>\n          </div>\n          <div class=\"modal-body-right\">\n            <div class=\"right-header\">\n              <h5>Activity Log</h5>\n              <span @click=\"closeModal()\"><i class=\"fal fa-times\"></i></span>\n            </div>\n            <div class=\"log-header\"><span>Info</span><span>Added On</span></div>\n            <div class=\"right-container\">\n              <div class=\"log-entry\" v-for=\"logEntry in customerLogs\" v-if=\"customerLogs.length > 0\">\n                <div class=\"entry-details\"><label>{{logEntry.type}}</label> </div>\n                <div class=\"time-entry\"><span>{{(new Date(logEntry.date)).getMonth()+1}}/{{(new Date(logEntry.date)).getDate()}}/{{(new Date(logEntry.date)).getFullYear()}}</span> <span class=\"stamp\"> {{new Date(logEntry.date).toLocaleTimeString()}}</span></div>\n              </div>\n              <div class=\"no-logs\" v-if=\"!customerLogs.length > 0\">There are no logs to display for this customer.</div>\n            </div>\n            <div class=\"chat-link\" @click=\"goToCustomerChat()\">View Chat Log</div>\n          </div>\n        </div>\n      </div>\n      <re-request-modal v-if=\"requestAgain\" :locationSelected=\"thisLocationSelected\" :customer=\"customer\" v-on:closeModal=\"closeModal()\" />\n      <add-note v-if=\"displayNoteModal\" @closeNoteModal=\"closeNoteModal\" v-on:cancelNote=\"cancelNote()\" :selectedCustomer=\"customer\" :note=\"note\"></add-note>\n    </div>\n  </transition>-->\n</template>\n\n<script>\nimport CustomerService from \"../services/CustomerService\";\nimport { EventService } from \"../main\";\nimport LocationService from \"../services/LocationService\";\nimport UserService from \"../services/UserService\";\nimport RequestReview from \"./RequestReview\";\nimport ContactCustomer from \"./ContactCustomer\";\nimport DeleteCustomer from \"./DeleteCustomer\";\n// import ReRequestModal from \"./ReRequestModal\";\n// import Autocomplete from \"./Autocomplete\";\n// import AddNote from \"./AddNote\";\n\nexport default {\n  name: \"customerDetail\",\n  props: [\"selectedCustomer\", \"locationSelected\"],\n  components: {\n    DeleteCustomer,\n    ContactCustomer,\n    RequestReview\n  },\n  data: function() {\n    return {\n      activityLog: [\n        // Dummy data... doesn't actually mean anything.  Change whatever you need to.\n        { title: \"Routed to google\", time: \"2:49 PM\" },\n        { title: \"Email opened\", time: \"2:49 PM\" },\n        { title: \"Routed to google\", time: \"2:49 PM\" },\n        { title: \"Routed to google\", time: \"2:49 PM\" },\n        { title: \"Routed to google\", time: \"2:49 PM\" },\n        { title: \"Routed to google\", time: \"2:49 PM\" },\n        { title: \"Routed to google\", time: \"2:49 PM\" },\n        { title: \"Routed to google\", time: \"2:49 PM\" }\n      ],\n      editMode: false,\n      deleteCustomerModal: false,\n      contactModal: false,\n      requestModal: false,\n      inputVisible: false,\n      inputValue: \"\",\n      stars: null,\n      customer: {},\n      createdDateDisplay: \"\",\n      customerLogs: [],\n      scrollable: false,\n      displayNoteModal: false,\n      changes: false,\n      requestAgain: false,\n      thisLocationSelected: null,\n      tempNote: \"\"\n    };\n  },\n  computed: {\n    customerInitials: function() {\n      if (this.selectedCustomer) {\n        return (\n          this.selectedCustomer.firstName.charAt(0) +\n          this.selectedCustomer.lastName.charAt(0)\n        );\n      }\n    }\n  },\n  created() {\n    this.getCustomerActivities();\n    UserService.logPageVisit(\"customerDetail\");\n    // if (!this.thisLocationSelected) {\n    //   this.thisLocationSelected = this.selectedCustomer.locationId;\n    // } else {\n    //   this.thisLocationSelected = this.locationSelected;\n    // }\n    // this.generateCreatedDateDisplay();\n    // CustomerService.getCustomerLogs(this.selectedCustomer.customerId).then(response => {\n    //   this.customerLogs = response;\n    // });\n    // this.getLocationQs();\n  },\n  methods: {\n    getCustomerActivities() {\n      let vm = this;\n      CustomerService.getCustomerLogsForChat(vm.selectedCustomer.locationId, vm.selectedCustomer.customerId).then(response => {\n        vm.activityLog = response.logs;\n      })\n    },\n    handleEditCustomer(command) {\n      let vm = this;\n      if (command == \"edit\") {\n        this.editMode = true;\n      } else if (command == \"delete\") {\n        this.$confirm('Are you sure you want to delete this customer?', 'Confirmation', {\n        confirmButtonText: 'Yes',\n        cancelButtonText: 'Cancel',\n        type: \"error\"\n      }).then(() => {\n        CustomerService.deleteCustomer(vm.selectedCustomer.customerId).then(response => {\n          if(response) {\n            vm.selectedCustomer.status == 'deleted'\n            vm.closeModal();\n          } else {\n            console.log('errored here');\n          }\n        })      \n      }).catch((e) => {\n        this.$message({\n          type: 'info',\n          message: \"Delete Cancelled\"\n        })\n        })      \n      }\n    },\n    addNote() {\n      let vm = this;\n      if (vm.tempNote && vm.tempNote.length) {\n        \n        CustomerService.addCustomerNote(vm.selectedCustomer.customerId, vm.tempNote.trim()).then(response => {\n          if(response) {\n            EventService.$emit('successMessage', 'Note added!')\n            vm.selectedCustomer.notes.push(vm.tempNote.trim());\n            vm.tempNote = \"\";\n          } else {\n            EventService.$emit('errorMessage', 'Something went wrong, please try again.')\n          }\n        })\n      }\n    },\n    removeNote(note, index) {\n      let vm = this;\n      this.$confirm('Are you sure you wish to delete this note?', 'Confirmation', {\n        confirmButtonText: \"Yes\",\n        cancelButtonText: 'Cancel',\n        type: 'warning'\n      }).then(() => {\n        CustomerService.removeCustomerNote(vm.selectedCustomer.customerId, note).then(response => {\n          if(response) {\n            EventService.$emit('successMessage', 'Note removed!')\n            vm.selectedCustomer.notes.splice(index, 1);\n          } else {\n            EventService.$emit('errorMessage', 'Something went wrong, please try again.')\n          }\n        })\n      }).catch(() => {\n        this.$message({\n          type: 'info',\n          message: 'Delete canceled'\n        });\n      })\n    },\n    handleClose(tag) {\n      let vm = this;\n      CustomerService.removeTagFromCustomer(tag, vm.selectedCustomer.customerId).then(response => {\n        if(response) {\n          vm.selectedCustomer.tags.splice(\n            vm.selectedCustomer.tags.indexOf(tag),\n            1\n          );\n        } else {\n          EventService.$emit('errorMessage', 'Something went wrong with removing that tag. Please try again.')\n        }\n      })\n    },\n    showInput() {\n      this.inputVisible = true;\n      this.$nextTick(_ => {\n        this.$refs.saveTagInput.$refs.input.focus();\n      });\n    },\n    handleInputConfirm() {\n      let vm = this;\n      let inputValue = this.inputValue.trim();\n      if (inputValue) {\n        CustomerService.addTagToCustomer(inputValue, vm.selectedCustomer.customerId).then(response => {\n          if(response) {\n            this.selectedCustomer.tags.push(inputValue);\n            EventService.$emit('successMessage', 'Tag has been added to customer!')\n          } else {\n            EventService.$emit('errorMessage', 'Failed to add tag to customer, please try again.')\n          }\n        })\n      } else {\n        EventService.$emit('warningMessage', 'Tags cannot be blank!')      \n      }\n      this.inputVisible = false;\n      this.inputValue = \"\";\n    },\n    getCountryFromCode(countryCode) {\n      if (countryCode == \"+1\") {\n        return \"USA/Canada\";\n      } else if (countryCode == \"+63\") {\n        return \"Phillipines\";\n      } else if (countryCode == \"+971\") {\n        return \"Dubai\";\n      } else if (countryCode == \"+61\") {\n        return \"Australia\";\n      } else {\n        return \"Unavailable\";\n      }\n    },\n    cancelNote() {\n      this.displayNoteModal = false;\n    },\n    closeNoteModal(newNote) {\n      // Add note to notes array on the backend.\n      let vm = this;\n      CustomerService.addCustomerNote(\n        vm.selectedCustomer.customerId,\n        newNote\n      ).then(res => {\n        if (res) {\n          this.selectedCustomer.notes.push(newNote);\n        } else {\n          console.log(\"An error has occurred.\");\n        }\n      });\n      this.displayNoteModal = false;\n    },\n    getLocationQs() {\n      let vm = this;\n      LocationService.getLocation(vm.thisLocationSelected).then(response => {\n        vm.selectedLocationQs = response.qsEnabled;\n        vm.templateOptions = response.guestionTemplate;\n      });\n    },\n    reRequest(location, customer) {\n      let vm = this;\n      vm.requestAgain = true;\n      // Below is old code for automatic re-requesting if no Qs are enabled.\n      // if(vm.selectedLocationQs) {\n      //    vm.requestAgain = true;\n      // }\n      // else {\n      //   EventService.$emit(\"loading\", \"show\");\n      //   CustomerService.reRequest(location, [customer]).then(response => {\n      //     if (response.success == true) {\n      //       EventService.$emit(\"loading\", \"hide\");\n      //       EventService.$emit(\"successMessage\", \"Hooray! Reviews Requested.\");\n      //     } else {\n      //       EventService.$emit(\"loading\", \"hide\");\n      //       EventService.$emit(\n      //         \"errorMessage\",\n      //         \"Sorry, something went wrong. Please try again.\"\n      //       );\n      //     }\n      //     this.closeModal();\n      //   });\n      // }\n    },\n    notifyChanges() {\n      if (this.selectedCustomer.notes) {\n        this.changes = true;\n      }\n    },\n    saveChanges() {\n      EventService.$emit(\"loading\", \"show\");\n      let vm = this;\n      vm.editMode = false;\n      if ((vm.changes = true)) {\n        CustomerService.saveCustomer(vm.selectedCustomer).then(\n          function(response) {\n            if (response.success == true) {\n              EventService.$emit(\"loading\", \"hide\");\n              EventService.$emit(\"successMessage\", \"Hooray! Customer Saved.\");\n            }\n            // vm.closeModal();\n          },\n          function(error) {\n            if (error) {\n              EventService.$emit(\"loading\", \"hide\");\n              EventService.$emit(\n                \"errorMessage\",\n                \"Sorry, something went wrong. Please try again.\"\n              );\n            }\n            // vm.closeModal();\n          }\n        );\n      } else {\n        // this.closeModal();\n      }\n    },\n    closeModal: function() {\n      this.$emit(\"closeModal\");\n    },\n    changeScroll() {\n      this.scrollable = !this.scrollable;\n    },\n    generateCreatedDateDisplay: function() {\n      var date = new Date(this.selectedCustomer.createdDate);\n      this.createdDateDisplay +=\n        date.toLocaleDateString() + \" at \" + date.toLocaleTimeString();\n    },\n    goToCustomerChat() {\n      this.$router.push(\n        \"/customerChat/\" +\n          this.selectedCustomer.locationId +\n          \"/\" +\n          this.selectedCustomer.customerId\n      );\n    }\n  }\n};\n</script>\n\n<style scoped>\n.fade-enter-active,\n.fade-leave-active {\n  transition: opacity 0.5s;\n}\n.fade-enter, .fade-leave-to /* .fade-leave-active below version 2.1.8 */ {\n  opacity: 0;\n}\n.editmode-label {\n  font-size: 11px;\n  color: #9a9a9a;\n}\n.country-container {\n  margin-top: 30px;\n}\n.country-container span:nth-child(1) {\n  font-weight: 500;\n}\n.tags-container {\n  max-height: 400px;\n  overflow-y: auto;\n  margin-top: 30px;\n}\n.tags-container span {\n  font-weight: 500;\n}\n.tags {\n  margin-top: 10px;\n}\n.tags-container .tag {\n  margin: 5px;\n}\n.note-list {\n  margin-top: 20px;\n  position: relative;\n  min-height: 100px;\n  height: 170px;\n  max-height: 80%;\n  overflow: auto;\n  width: 100%;\n}\n.note {\n  animation: 0.35s cubic-bezier(0.165, 0.84, 0.44, 1) slideFromTop;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  box-sizing: border-box;\n  padding: 14px;\n  background: #fafafa;\n  color: #757575;\n  height: 30px;\n  width: 100%;\n  margin-top: 10px;\n  margin-bottom: 10px;\n  border-radius: 4px;\n  font-weight: medium;\n  font-size: 13px;\n  line-height: 24px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15);\n  transition: all 1s ease;\n}\n\n.note i {\n  padding-left: 20px;\n  color: #dd2c00;\n  cursor: pointer;\n  transform: rotate(360deg);\n}\n.textarea {\n  position: sticky;\n  bottom: 0px;\n}\n.text--red {\n  color: #dd2c00;\n}\n.el-dropdown-link {\n  cursor: pointer;\n}\n.input-wrapper {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n}\n.go-back {\n  font-size: 12px;\n  cursor: pointer;\n  transition: 0.2s ease;\n  -webkit-transition: 0.2s ease;\n}\n.go-back:hover {\n  opacity: 0.7;\n}\n.input-container {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-top: 0px;\n  width: 100%;\n  /* max-width: 100%; */\n}\n.input-label {\n  width: 100%;\n  margin: 10px;\n}\n.el-input {\n  /* width: 260px;\n  max-width: 260px; */\n  padding-top: 5px;\n  width: 100%;\n  max-width: 100%;\n}\n.customer-detail-wrapper {\n  display: flex;\n  box-sizing: border-box;\n}\n.card-activity-log {\n  width: 800px;\n  height: auto;\n  overflow: auto;\n}\n.log-wrapper {\n  border: 1px solid #9a9a9a35;\n  border-radius: 12px;\n  height: 600px;\n  overflow-y: auto;\n}\n.log-row {\n  display: flex;\n  align-items: center;\n  padding-left: 20px;\n  height: 30px;\n  font-size: 11px;\n}\n.log-row:nth-child(odd) {\n  background: #fafafa;\n}\n.customer-initials {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 1000px;\n  background: #757575;\n  width: 22px;\n  height: 22px;\n  font-size: 10px;\n  color: white;\n  font-weight: 600;\n  margin-left: 20px;\n  margin-right: 20px;\n}\n.activity-log-header {\n  font-size: 22px;\n  font-weight: 500;\n  padding-left: 5px;\n  margin-bottom: 50px;\n}\n.card-customer-info {\n  position: relative;\n  width: 600px;\n  height: auto;\n  overflow: auto;\n  margin-right: 30px;\n}\n.customer-info-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  box-sizing: border-box;\n}\n.info-name {\n  margin-top: 20px;\n  text-align: center;\n  font-size: 24px;\n  font-weight: medium;\n  color: #424242;\n}\n.info-wrapper {\n  display: flex;\n  justify-content: space-evenly;\n  flex-direction: column;\n  align-items: center;\n  height: 130px;\n}\n.customer-info-header .ellipse {\n  text-align: center;\n  font-size: 14px;\n}\n.card-footer {\n  display: flex;\n  justify-content: center;\n  position: static;\n  padding: 20px;\n  box-sizing: border-box;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n.card-footer-edit {\n  display: flex;\n  justify-content: center;\n  position: sticky;\n  padding: 20px;\n  box-sizing: border-box;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n.input-new-tag {\n  width: 180px;\n  max-width: 100%;\n}\n.card-footer-edit button {\n  width: 170px;\n}\n.card-footer button {\n  width: 170px;\n}\n.card-footer button:nth-child(1) {\n  background: #f6984f;\n  border-color: #f6984f;\n}\n\n@media (max-width: 1200px) {\n  .customer-detail-wrapper {\n    flex-wrap: wrap;\n    height: auto;\n  }\n  .card-customer-info {\n    width: 100%;\n    margin: 0;\n    margin-bottom: 20px;\n  }\n}\n</style>\n"]}]}