{"remainingRequest":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/src/components/Reports/CustomReport.vue?vue&type=style&index=0&id=52c23025&scoped=true&lang=css&","dependencies":[{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/src/components/Reports/CustomReport.vue","mtime":1581270622000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hamzaafzal/OLD DATA/Mac Home/vueJS/OPINIION FINAL/opiniionv4/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnJlcG9ydC1jb250YWluZXIgewogIGJhY2tncm91bmQ6ICNlZmVmZWY7Cn0KCi5yZXBvcnQtdGl0bGUgewogIGJhY2tncm91bmQ6ICNlZmVmZWY7CiAgbWFyZ2luLWJvdHRvbTogMTBweDsKICBwYWRkaW5nOiAzMHB4IDUwcHg7CiAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgZm9udC1zaXplOiAyNHB4OwogIGRpc3BsYXk6IGZsZXg7CiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuICFpbXBvcnRhbnQ7Cn0KCi5hZGQtY29tcG9uZW50LWJ1dHRvbiB7CiAgbWFyZ2luLWxlZnQ6IDIwMHB4OwogIG1hcmdpbi10b3A6IDVweDsKICBmb250LXNpemU6IDE1cHg7CiAgYm9yZGVyOiAycHggc29saWQgIzRmY2JjNTsKICBib3JkZXItcmFkaXVzOiAycHg7CiAgcGFkZGluZzogNXB4IDEwcHg7CiAgY3Vyc29yOiBwb2ludGVyOwogIGJhY2tncm91bmQ6ICM0ZmNiYzU7CiAgY29sb3I6IHdoaXRlOwp9CgouY29tcG9uZW50LWxpc3QgewogIGZvbnQtc2l6ZTogMTFweDsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgZGlzcGxheTogZmxleDsKICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogIGhlaWdodDogMTIwcHg7CiAgYmFja2dyb3VuZDogd2hpdGU7CiAgYm94LXNoYWRvdzogMHB4IDJweCA2cHggcmdiYSgwLCAwLCAwLCAwLjI1KTsKICBtYXJnaW4tbGVmdDogMTYwcHg7CiAgbWFyZ2luLXRvcDogMzdweDsKICB6LWluZGV4OiA5OTk7CiAgb3ZlcmZsb3cteTogc2Nyb2xsOwogIHdpZHRoOiAxODBweDsKfQoKLmRpc3BsYXktZGF0YSB7CiAgYmFja2dyb3VuZDogd2hpdGU7CiAgbWluLWhlaWdodDogMTAwJTsKfQoKLmNvbXBvbmVudC1saW5lIHsKICBjdXJzb3I6IHBvaW50ZXI7CiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlZmVmZWY7CiAgcGFkZGluZzogMTBweDsKICBmb250LXdlaWdodDogYm9sZGVyOwp9Ci5jb21wb25lbnQtbGluZTpob3ZlciB7CiAgYmFja2dyb3VuZDogI2RkZGRkZDsKfQoKLmFjdGlvbi1idXR0b25zIHsKICBtYXJnaW4tcmlnaHQ6IDUuNSU7CiAgZGlzcGxheTogZmxleDsKICBmbGV4LWRpcmVjdGlvbjogcm93Owp9CgoucmVwb3J0LXRhYmxlIHsKICBiYWNrZ3JvdW5kOiB3aGl0ZTsKICBmb250LXNpemU6IDE0cHg7CiAgcGFkZGluZzogMTBweCAwOwogIGJveC1zaGFkb3c6IDBweCAycHggNHB4IHJnYmEoMCwgMCwgMCwgMC4yNSk7CiAgYm9yZGVyLXJhZGl1czogMXB4OwogIGNsZWFyOiBib3RoOwp9CgouZG93bmxvYWQtY29udGFpbmVyIHsKICBtYXJnaW4tdG9wOiAxMHB4OwogIG1hcmdpbi1yaWdodDogMTBweDsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwp9CgouZG93bmxvYWQtY29udGFpbmVyIGJ1dHRvbiB7CiAgYmFja2dyb3VuZDogIzRmY2JjNTsKICBjb2xvcjogd2hpdGU7CiAgcGFkZGluZzogMTBweCAyMHB4OwogIGJvcmRlci1yYWRpdXM6IDFweDsKICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi5zZWdtZW50ZWQgewogIGRpc3BsYXk6IGZsZXg7CiAgLyogZmxleC13cmFwOiB3cmFwOyAqLwp9CgoubGVmdHNpZGUgewogIG1hcmdpbi1yaWdodDogNTBweDsKfQoKLnJpZ2h0c2lkZSB7CiAgZGlzcGxheTogZmxleDsKICBmbGV4LWRpcmVjdGlvbjogcm93OwogIGZsZXgtd3JhcDogd3JhcDsKfQoKLnJlcG9ydC1kYXRhLWNvbnRhaW5lci0yIHsKICBtYXJnaW46IDBweCAxMHB4Owp9Cgouc2VnbWVudGVkIHsKICBkaXNwbGF5OiBmbGV4OwogIC8qIGZsZXgtd3JhcDogd3JhcDsgKi8KfQoKLmxlZnRzaWRlIHsKICBtYXJnaW4tcmlnaHQ6IDUwcHg7Cn0KCi5yaWdodHNpZGUgewogIGRpc3BsYXk6IGZsZXg7CiAgZmxleC1kaXJlY3Rpb246IHJvdzsKICBmbGV4LXdyYXA6IHdyYXA7Cn0KCi5yZXBvcnQtZGF0YS1jb250YWluZXItMiB7CiAgbWFyZ2luOiAwcHggMTBweDsKCn0KCi5yZXBvcnQtY29udGFpbmVyIHsKICBiYWNrZ3JvdW5kOiB3aGl0ZTsKICBib3gtc2hhZG93OiAxcHggMHB4IDVweCByZ2JhKDAsMCwwLC4zNSk7CiAgYm9yZGVyLXJhZGl1czogNXB4Owp9CgoudGl0bGUgewogIGZvbnQtc2l6ZTogMTRweDsKfQoKLnJlbW92ZS1yZXBvcnQgewogIGN1cnNvcjogcG9pbnRlcjsKICBjb2xvcjogIzU0NTQ1NDsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgcmlnaHQ6IDA7Cn0KCi5yZXBvcnQtZGF0YSB7CiAgZGlzcGxheTogZmxleDsKICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICBmb250LXNpemU6IDMwcHg7Cn0KCi5yZXBvcnQtZGF0YSBzcGFuIHsKICBtYXJnaW46IDIwcHg7CiAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICM0ZmNiYzU7Cgp9CgouY2hhcnQtY29udGFpbmVyIHsKICBiYWNrZ3JvdW5kOiB3aGl0ZTsKICBib3gtc2hhZG93OiAxcHggMHB4IDVweCByZ2JhKDAsMCwwLC4zNSk7CiAgYm9yZGVyLXJhZGl1czogNXB4Owp9CgouY2hhcnQtdGl0bGUgewogIC8qIHdpZHRoOiA5MCU7ICovCiAgZGlzcGxheTogZmxleDsKICAvKiBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgKi8KICBwYWRkaW5nLWxlZnQ6IDMwcHg7CiAgcGFkZGluZy1ib3R0b206IDEwcHg7CiAgcGFkZGluZy10b3A6IDEwcHg7CiAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICNlZmVmZWY7Cn0KCi5jaGFydC10aXRsZSBzcGFuIHsKICBtYXJnaW46IDEwcHg7CiAgZm9udC13ZWlnaHQ6IGJvbGRlcjsKfQoKLnJlbW92ZS1jaGFydCB7CiAgY3Vyc29yOiBwb2ludGVyOwogIGNvbG9yOiAjNTQ1NDU0OwogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICByaWdodDogMDsKfQoKLmNoYXJ0LWRhdGEgewogIG1hcmdpbi10b3A6IDA7CiAgcGFkZGluZy1ib3R0b206IDJweDsKfQoKLm5ldy1mdW5uZWwtbG9hZGluZy1wbGFjZWhvbGRlciB7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAzNDVweDsKICBiYWNrZ3JvdW5kOiB3aGl0ZTsKICBib3gtc2hhZG93OiAxcHggMHB4IDVweCByZ2JhKDAsMCwwLC4zNSk7CiAgYm9yZGVyLXJhZGl1czogNXB4OwogIG1hcmdpbjogMjBweDsKICBkaXNwbGF5OiBmbGV4OwogIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgYWxpZ24tY29udGVudDogY2VudGVyOwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIGFuaW1hdGlvbjogZmFkZXJlcGVhdCAycyBhbHRlcm5hdGUtcmV2ZXJzZSBpbmZpbml0ZTsKfQoKLm1ldHJpYy1sb2NhdGlvbi1wbGFjZWhvbGRlciB7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAxNTBweDsKICBiYWNrZ3JvdW5kOiB3aGl0ZTsKICBib3gtc2hhZG93OiAxcHggMHB4IDVweCByZ2JhKDAsMCwwLC4zNSk7CiAgYm9yZGVyLXJhZGl1czogNXB4OwogIG1hcmdpbjogMjBweDsKICBkaXNwbGF5OiBmbGV4OyAgCiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICBhbGlnbi1jb250ZW50OiBjZW50ZXI7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgYW5pbWF0aW9uOiBmYWRlcmVwZWF0IDFzIGFsdGVybmF0ZS1yZXZlcnNlIGluZmluaXRlOwp9CgpAa2V5ZnJhbWVzIGZhZGVyZXBlYXQgewogIGZyb20geyBjb2xvcjogcmdiYSgwLCAwLCAwLCAxKX0KICB0byB7IGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMjUpfQp9CgoubWVudS1kcm9wZG93bi1pY29uIHsKICBtYXJnaW4tbGVmdDogMjBweDsKICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi5tZW51LWRyb3Bkb3duIHsKICBmb250LXNpemU6IDExcHg7CiAgcG9zaXRpb246IGFic29sdXRlOwogIGRpc3BsYXk6IGZsZXg7CiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICBoZWlnaHQ6IDY1cHg7CiAgYmFja2dyb3VuZDogd2hpdGU7CiAgYm94LXNoYWRvdzogMHB4IDJweCA2cHggcmdiYSgwLCAwLCAwLCAwLjI1KTsKICBtYXJnaW4tbGVmdDogMzUwcHg7CiAgbWFyZ2luLXRvcDogMzZweDsKICB6LWluZGV4OiA5OTk7CiAgd2lkdGg6IDE0MHB4OwogIGN1cnNvcjogcG9pbnRlcjsKfQoKCi5tZW51LWRyb3Bkb3duIHNwYW4gewogIGN1cnNvcjogcG9pbnRlcjsKICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2VmZWZlZjsKICBwYWRkaW5nOiAxMHB4OwogIGZvbnQtd2VpZ2h0OiBib2xkZXI7Cn0KLm1lbnUtZHJvcGRvd24gc3Bhbjpob3ZlciB7CiAgYmFja2dyb3VuZDogI2RkZGRkZDsKfQoKLmRhdGUtc2VsZWN0aW9uIHsKICBtYXJnaW4tcmlnaHQ6IDEwcHg7IAogIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrOwp9CgoK"},{"version":3,"sources":["CustomReport.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0XA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"CustomReport.vue","sourceRoot":"src/components/Reports","sourcesContent":["<template>\n  <div class=\"report-container\">\n    <div class=\"report-title\" @click=\"hideComponentMenu(), hideOptionsMenu()\">\n      <div>Reports</div>\n      <div class=\"action-buttons\">\n        <div class=\"date-selector\">\n          <input class=\"date-selection\" type=\"date\" placeholder=\"YYYY-MM-DD\" v-model=\"startDate\" @change=\"parseReport()\">\n          <input class=\"date-selection\" type=\"date\" placeholder=\"YYYY-MM-DD\" v-model=\"endDate\" @change=\"parseReport()\">\n        </div>\n        <button @click=\"reloadData()\">Search</button>\n        <div class=\"add-component-button\" @click.stop @click=\"hideOptionsMenu(), displayComponentMenu()\">Add Component</div>\n        <div class=\"menu-dropdown-icon\" @click.stop @click=\"hideComponentMenu(), displayOptionsMenu()\">...</div>Â \n        <div class=\"menu-dropdown\" v-if=\"displayMenuOptions\">\n          <span @click.stop @click=\"downloadReport()\">Download Report</span>\n          <span @click.stop @click=\"printReport()\">Print Report</span>\n        </div>\n        <iframe id=\"invisible\" style=\"display:none;\" src=\"downloadContent\"></iframe>\n        <div class=\"component-list\" v-if=\"displayComponentList\">\n          <span class=\"component-line\" @click=\"setDisplayToReport(data.i, true)\" v-for=\"data in undisplayedLayout\">\n            <span v-if=\"undisplayedLayout.length > 0\">{{data.title}}</span>\n          </span>\n          <span v-if=\"undisplayedLayout.length == 0\">No Components Available</span>\n        </div>\n      </div>\n    </div>\n    <div class=\"display-data\" @click=\"hideComponentMenu(), hideOptionsMenu()\">\n      <grid-layout \n        :layout.sync=\"layout\"\n        :col-num=\"12\"\n        :row-height=\"35\"\n        :is-draggable=\"true\"\n        :is-resizable=\"false\"\n        :is-mirrored=\"false\"\n        :vertical-compact=\"true\"\n        :margin=\"[10, 20]\"\n        :use-css-transform=\"true\"\n      >\n        <grid-item class=\"grid-item\" v-for=\"(data) in layout\"\n          :x=\"data.x\"\n          :y=\"data.y\"\n          :w=\"data.w\"\n          :h=\"data.h\"\n          :i=\"data.i\"\n          :key=\"data.i\"\n          @moved=\"movedEvent(data)\"\n        >\n          <div class=\"container\" v-if=\"data.displayed && data.type == 'metric'\">\n            <single-metric-report v-if=\"data.data || data.data == 0 && data.data != NaN\" :reporting=\"data\" v-on:removeReport=\"removeReport($event)\"></single-metric-report>\n            <div class=\"metric-location-placeholder\" v-else>Select Location</div>\n          </div>\n          <div class=\"container\" v-if=\"data.displayed && data.type == 'donut'\">\n            <doughnut-funnel v-if=\"data.data\" :doughnutData=\"data\" v-on:removeReport=\"removeReport($event)\"></doughnut-funnel>\n          </div>\n          <!-- <div class=\"container\" v-if=\"data.displayed && data.type == 'funnel'\">\n            <funnel-report :funnelData=\"data\"></funnel-report>\n          </div> -->\n          <div class=\"container\" v-if=\"data.displayed && data.type == 'newfunnel'\">\n            <new-funnel v-if=\"data.data\" :funnelData=\"data\" v-on:removeReport=\"removeReport($event)\"></new-funnel>\n            <!-- TODO: Add spinner in the else div. -->\n            <div class=\"new-funnel-loading-placeholder\" v-else>Loading...</div>\n          </div>\n          <div class=\"container\" v-if=\"data.displayed && (data.type == 'bar' || data.type == 'horzBar')\">\n            <bar-chart-report v-if=\"data.data\" :barData=\"data\" v-on:removeReport=\"removeReport($event)\"></bar-chart-report>\n          </div>\n          <div class=\"container\" v-if=\"data.displayed && data.type == 'monthly'\">\n            <monthly-report v-if=\"data.data\" :monthlyData=\"data\" v-on:removeReport=\"removeReport($event)\"></monthly-report>\n          </div>\n          <div class=\"container\" v-if=\"data.displayed && data.type == 'task'\">\n            <task-chart :taskData=\"data\" v-on:removeReport=\"removeReport($event)\"></task-chart>\n          </div>\n        </grid-item>\n      </grid-layout>\n    </div>\n  </div>\n</template>\n\n<script>\nimport ReportService from './../../services/ReportService'\nimport UserService from './../../services/UserService'\nimport DoughnutChart from './../Charts/DoughnutChart'\nimport SingleMetricReport from './SingleMetricReport'\nimport TaskChart from './TaskChart'\nimport DoughnutFunnel from './DoughnutFunnel'\nimport FunnelReport from './FunnelReport'\nimport NewFunnel from './NewFunnel'\nimport BarChartReport from './BarChartReport'\nimport MonthlyReport from './MonthlyReport'\nimport {EventService} from '../../main'\nimport VueGridLayout from 'vue-grid-layout'\n\n\nvar initialLayout = [\n  {\"x\":1,\"y\":8,\"w\":4,\"h\":7,\"i\":8,\"title\":\"Text\", \"type\":\"newfunnel\", \"displayed\": true, \"data\":null},\n  {\"x\":1,\"y\":4,\"w\":4,\"h\":7,\"i\":9,\"title\":\"Email\", \"type\":\"newfunnel\", \"displayed\": true, \"data\":null},\n  {\"x\":5,\"y\":0,\"w\":2,\"h\":3,\"i\":11,\"title\":\"Starting Rating\", \"type\":\"metric\", \"displayed\": true, \"data\":null},\n  {\"x\":7,\"y\":0,\"w\":2,\"h\":3,\"i\":13,\"title\":\"Current Rating\", \"type\":\"metric\", \"displayed\": true, \"data\":null},\n  {\"x\":9,\"y\":0,\"w\":2,\"h\":3,\"i\":14,\"title\":\"Change in Rating\", \"type\":\"metric\", \"displayed\": true, \"data\":null},\n  {\"x\":5,\"y\":2,\"w\":2,\"h\":3,\"i\":7,\"title\":\"Starting Reviews\", \"type\":\"metric\", \"displayed\": true, \"data\":null},\n  {\"x\":7,\"y\":2,\"w\":2,\"h\":3,\"i\":2,\"title\":\"Total Reviews\", \"type\":\"metric\", \"displayed\": true, \"data\":null},\n  {\"x\":9,\"y\":2,\"w\":2,\"h\":3,\"i\":6,\"title\":\"Reviews Added / %\", \"type\":\"metric\", \"displayed\": true, \"data\":null},\n  {\"x\":5,\"y\":6,\"w\":4,\"h\":7,\"i\":10,\"title\":\"Monthly Data\", \"type\":\"monthly\", \"displayed\": true, \"data\":null},\n  {\"x\":9,\"y\":8,\"w\":2,\"h\":3,\"i\":1,\"title\":\"Total Customers\", \"type\":\"metric\",  \"displayed\": true, \"data\":null},\n  {\"x\":9,\"y\":10,\"w\":2,\"h\":3,\"i\":5,\"title\":\"Total Unsubscribes\", \"type\":\"metric\", \"displayed\": true, \"data\":null},\n  {\"x\":6,\"y\":10,\"w\":4,\"h\":7,\"i\":15,\"title\":\"Year to Date\", \"type\":\"monthly\", \"displayed\": true, \"data\":null},\n  // TODO?\n  // {\"x\":6,\"y\":4,\"w\":2,\"h\":3,\"i\":3,\"title\":\"Customers Added\", \"type\":\"metric\", \"displayed\": true, \"data\":55Â },\n  // {\"x\":8,\"y\":0,\"w\":2,\"h\":3,\"i\":4,\"title\":\"Customers Re-Added\", \"type\":\"metric\", \"displayed\": true, \"data\":7},\n  // {\"x\":5,\"y\":13,\"w\":4,\"h\":7,\"i\":12,\"title\":\"Pending Tasks\", \"type\":\"task\", \"displayed\": true, \"data\":{\n  //   tasks: [\n  //     {createdDate: '1562601213614', name: 'John Doe', status: 'Unresolved'},\n  //     {createdDate: '1562601213614', name: 'Jane Deer', status: 'Unresolved'},\n  //     {createdDate: '1562601213614', name: 'Clark Kent', status: 'Resolved'},\n  //     {createdDate: '1562601213614', name: 'Bruce Vayne', status: 'Resolved'},\n  //     {createdDate: '1562601213614', name: 'Brent Weeks', status: 'Resolved'}\n  //   ]\n  // }},\n];\n\nexport default {\n  name: 'multiReport',\n  components: {\n    SingleMetricReport,\n    DoughnutFunnel,\n    DoughnutChart,\n    FunnelReport,\n    NewFunnel,\n    BarChartReport,\n    TaskChart,\n    MonthlyReport,\n    GridLayout: VueGridLayout.GridLayout,\n    GridItem: VueGridLayout.GridItem\n  },\n  data: function() {\n    return {\n      locationSelected: '',\n      layout: [],\n      reportData: [],\n      downloadContent: '',\n      displayComponentList: false,\n      displayMenuOptions: false,\n      startDate: '',\n      endDate: ''\n    }\n  },\n  created() {\n    UserService.logPageVisit('multiReport');\n    this.getUserReportPosition();\n    EventService.$on(\"locationChange\", this.reloadData);  \n  },\n  computed: {\n    undisplayedLayout() {\n      return this.layout.filter( el => {\n        return el.displayed == false;\n      })\n    }\n  },\n  methods: {\n    reloadData() {\n      this.setDataToReport(10, null)\n      this.getUserReportPosition();\n      this.getMultiReportData();\n    },\n    getUserReportPosition() {\n      let vm = this;\n      UserService.getUserReportPosition().then(response => {\n        if(response != 'Position Not Yet Set' && response.length == initialLayout.length) {\n          initialLayout = response;\n        } \n        vm.layout = initialLayout;\n        vm.getMultiReportData();\n      })\n    },\n    getMultiReportData() {\n      let vm = this;\n      vm.locationSelected = localStorage.getItem(\"locationId\");\n      vm.getReviewsByYear();\n      vm.getTotalCustomersReport();\n      vm.getTotalReviewsReport();\n      vm.getFunnelData();\n      vm.getLocationRatingData();\n      vm.getReviewsByMonth();\n      vm.getTotalReviewsToDate();\n      // vm.getDeliveredData();\n    },\n    getReviewsByYear() {\n      // Needs year adjustment to reflect off input/v-model.\n      let vm = this;\n      if(vm.locationSelected) {\n        ReportService.reviewsByYear('2018', vm.locationSelected).then(response => {\n          // console.log('months', response);\n          ReportService.reviewsPriorToYear('2019', vm.locationSelected).then(response2 => {\n            // console.log('yearbefore', response2);        \n          })\n        })\n      } else {\n        let locArr = [];\n        let locationOptions = JSON.parse(localStorage.getItem('locationOptions'));\n        locationOptions.map(el => {\n          locArr.push(el.locationId);\n        })\n        ReportService.reviewsByYear('2018', locArr).then(response => {\n          // console.log('months', response);\n          ReportService.reviewsPriorToYear('2019', locArr).then(response2 => {\n            // console.log('yearbefore', response2);        \n          })\n        })                \n      }\n    },\n    getTotalCustomersReport(){\n      let vm = this;\n      ReportService.getTotalCustomersReport(vm.locationSelected).then(response => {\n        vm.setDataToReport(1, response.result);\n        vm.setDataToReport(5, response.unsubscribes);\n        vm.setDisplayToReport(1, true);\n        vm.setDisplayToReport(5, true);\n      })\n    },\n    getLocationRatingData() {\n      let vm = this;\n      if(vm.locationSelected) {\n        ReportService.getRatings(vm.locationSelected).then(response => {\n          vm.setDataToReport(11, response.beginningRating);\n          vm.setDataToReport(13, response.currentRating);\n          vm.setDataToReport(14, response.ratingDifference);\n        })\n      } else {\n          // vm.setDataToReport(11, 0);\n          // vm.setDisplayToReport(11, false);\n      }\n    },\n    getTotalReviewsToDate() {\n      let vm = this;\n      // ReportService.getTotalReviewsToDate(vm.locationSelected).then(revRes => {\n      //   console.log(revRes.data);        \n      //   vm.setDataToReport(15, revRes.data);\n      // })\n      // ReportService.getTotalCustomersToDate(vm.locationSelected).then(custRes => {\n        // vm.setDataToReport(15, custRes);\n        // console.log(custRes.data);\n      // })\n    },\n    getFunnelData() {\n      let vm = this;\n      if(vm.startDate == '' || vm.endDate == '') {\n        let todaysDate = Date.now();\n        let todayPlusOne = todaysDate+86500000;\n        var oneYearAgo = new Date().getTime() - 1000 * 60 * 60 * 24 * 365;\n        vm.startDate = new Date(oneYearAgo).toISOString().substring(0, 10);\n        vm.endDate = new Date(todayPlusOne).toISOString().substring(0, 10);\n      }\n      ReportService.getFlowReportData(new Date(vm.startDate).getTime(), new Date(vm.endDate).getTime(), vm.locationSelected )\n        .then(function(response) {\n          let rs = response;\n          ReportService.getMessageData(new Date(vm.startDate).getTime(), new Date(vm.endDate).getTime(), vm.locationSelected ).then(delivRes => {\n          let textResponse = {\n            Sent: rs.customersContactedSMS,\n            Delivered: delivRes.delivered,\n            Clicked: rs.customersRouted\n          }\n          let emailResponse = {\n            Sent: rs.customersContactedEmail,\n            Opened: rs.customersEngagedEmail,\n            Clicked: rs.customersRouted,\n            Unsubscribed: delivRes.unsubscribed\n          }\n          vm.setDataToReport(8, textResponse);\n          vm.setDataToReport(9, emailResponse);\n          })\n        })\n    },\n    // getDeliveredData(){\n    //   let vm = this;\n    //   if(vm.locationSelected) {\n    //     ReportService.getMessageData(vm.locationSelected).then(response => {\n    //       console.log('mes', response);\n    //     })\n    //   }\n    // },\n    getTotalReviewsReport(){\n      let vm = this;\n      ReportService.getTotalReviewsReport(vm.locationSelected).then(response => {\n        vm.setDataToReport(2, response.result)\n        if(response.beginningTotals) {\n          vm.setDataToReport(7, response.beginningTotals)\n          if(response.result/response.beginningTotals == Infinity) {\n            vm.setDataToReport(6, response.result - response.beginningTotals + ' / ' + Infinity);\n          } else if(response.result/response.beginningTotals == 1) {\n            vm.setDataToReport(6, response.result - response.beginningTotals + ' / ' + '-');\n          } else {\n            vm.setDataToReport(6, response.result - response.beginningTotals + ' / ' + response.result/response.beginningTotals*100 + '%');\n          }\n        } else {\n\n        }\n      })\n    },\n    getReviewsByMonth() {\n      let vm = this;\n      if(vm.locationSelected) {\n        ReportService.getReviewsByMonth(vm.locationSelected).then(response => {\n          vm.setDataToReport(10, response.result);\n        })\n      } else {\n\n      }\n    },\n    setDataToReport(updateId, newData) {\n      let updatedItem = initialLayout.find(obj => obj.i == updateId);\n      updatedItem.data = newData;\n    },\n    setDisplayToReport(updateId, value) {\n      initialLayout.find(obj => obj.i == updateId).displayed = value;\n      this.movedEvent();\n    },\n    removeReport(event) {\n      let updatedItem = initialLayout.find(obj => obj.i == event);\n      updatedItem.displayed = false;\n      this.movedEvent();\n    },\n    displayComponentMenu(){\n      this.displayComponentList = true;\n    },\n    hideComponentMenu(){\n      this.displayComponentList = false;\n    },\n    displayOptionsMenu(){\n      this.displayMenuOptions = true;\n    },\n    hideOptionsMenu(){\n      this.displayMenuOptions = false;\n    },\n    downloadReport() {\n      let vm = this;\n      let csvDownload = '';\n      vm.layout.map((el, i) => {\n        if(el.displayed) {\n          if(i == vm.layout.length-1) {\n            csvDownload += (el.title + '\\n\\n')            \n          } else {\n            csvDownload += (el.title + ',')\n          }\n        }\n      })\n      vm.layout.map(el => {\n        if(el.displayed) {\n          csvDownload += (JSON.stringify(el.data) + ',')\n        }\n      })      \n\n      var MIME_TYPE = \"text/csv\";\n      var blob = new Blob([csvDownload], {type: MIME_TYPE});\n      var csvURL = window.URL.createObjectURL(blob);\n      var tempLink = document.createElement('a');\n      document.body.append(tempLink);\n      tempLink.href = csvURL;\n      tempLink.setAttribute('download', 'report.csv');\n      tempLink.click();\n      document.body.removeChild(tempLink);\n    },\n    printReport() {\n      window.print()\n    },\n    movedEvent(data) {\n      let vm = this;\n      let userPositions = JSON.parse(JSON.stringify(vm.layout));\n      userPositions.map(el => {\n        el.data = null;\n      })\n      UserService.saveUserReportPosition(userPositions).then(response => {\n        // console.log('Success', response);\n      })\n    },    \n  }\n}\n</script>\n\n<style scoped>\n\n.report-container {\n  background: #efefef;\n}\n\n.report-title {\n  background: #efefef;\n  margin-bottom: 10px;\n  padding: 30px 50px;\n  font-weight: bold;\n  font-size: 24px;\n  display: flex;\n  justify-content: space-between !important;\n}\n\n.add-component-button {\n  margin-left: 200px;\n  margin-top: 5px;\n  font-size: 15px;\n  border: 2px solid #4fcbc5;\n  border-radius: 2px;\n  padding: 5px 10px;\n  cursor: pointer;\n  background: #4fcbc5;\n  color: white;\n}\n\n.component-list {\n  font-size: 11px;\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  height: 120px;\n  background: white;\n  box-shadow: 0px 2px 6px rgba(0, 0, 0, 0.25);\n  margin-left: 160px;\n  margin-top: 37px;\n  z-index: 999;\n  overflow-y: scroll;\n  width: 180px;\n}\n\n.display-data {\n  background: white;\n  min-height: 100%;\n}\n\n.component-line {\n  cursor: pointer;\n  border-bottom: 1px solid #efefef;\n  padding: 10px;\n  font-weight: bolder;\n}\n.component-line:hover {\n  background: #dddddd;\n}\n\n.action-buttons {\n  margin-right: 5.5%;\n  display: flex;\n  flex-direction: row;\n}\n\n.report-table {\n  background: white;\n  font-size: 14px;\n  padding: 10px 0;\n  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.25);\n  border-radius: 1px;\n  clear: both;\n}\n\n.download-container {\n  margin-top: 10px;\n  margin-right: 10px;\n  display: flex;\n  justify-content: center;\n}\n\n.download-container button {\n  background: #4fcbc5;\n  color: white;\n  padding: 10px 20px;\n  border-radius: 1px;\n  cursor: pointer;\n}\n\n.segmented {\n  display: flex;\n  /* flex-wrap: wrap; */\n}\n\n.leftside {\n  margin-right: 50px;\n}\n\n.rightside {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n}\n\n.report-data-container-2 {\n  margin: 0px 10px;\n}\n\n.segmented {\n  display: flex;\n  /* flex-wrap: wrap; */\n}\n\n.leftside {\n  margin-right: 50px;\n}\n\n.rightside {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n}\n\n.report-data-container-2 {\n  margin: 0px 10px;\n\n}\n\n.report-container {\n  background: white;\n  box-shadow: 1px 0px 5px rgba(0,0,0,.35);\n  border-radius: 5px;\n}\n\n.title {\n  font-size: 14px;\n}\n\n.remove-report {\n  cursor: pointer;\n  color: #545454;\n  position: absolute;\n  right: 0;\n}\n\n.report-data {\n  display: flex;\n  justify-content: center;\n  font-size: 30px;\n}\n\n.report-data span {\n  margin: 20px;\n  border-bottom: 2px solid #4fcbc5;\n\n}\n\n.chart-container {\n  background: white;\n  box-shadow: 1px 0px 5px rgba(0,0,0,.35);\n  border-radius: 5px;\n}\n\n.chart-title {\n  /* width: 90%; */\n  display: flex;\n  /* justify-content: center; */\n  padding-left: 30px;\n  padding-bottom: 10px;\n  padding-top: 10px;\n  border-bottom: 2px solid #efefef;\n}\n\n.chart-title span {\n  margin: 10px;\n  font-weight: bolder;\n}\n\n.remove-chart {\n  cursor: pointer;\n  color: #545454;\n  position: absolute;\n  right: 0;\n}\n\n.chart-data {\n  margin-top: 0;\n  padding-bottom: 2px;\n}\n\n.new-funnel-loading-placeholder {\n  width: 100%;\n  height: 345px;\n  background: white;\n  box-shadow: 1px 0px 5px rgba(0,0,0,.35);\n  border-radius: 5px;\n  margin: 20px;\n  display: flex;\n  flex-direction: column;\n  align-content: center;\n  align-items: center;\n  position: relative;\n  animation: faderepeat 2s alternate-reverse infinite;\n}\n\n.metric-location-placeholder {\n  width: 100%;\n  height: 150px;\n  background: white;\n  box-shadow: 1px 0px 5px rgba(0,0,0,.35);\n  border-radius: 5px;\n  margin: 20px;\n  display: flex;  \n  flex-direction: column;\n  justify-content: center;\n  align-content: center;\n  align-items: center;\n  position: relative;\n  animation: faderepeat 1s alternate-reverse infinite;\n}\n\n@keyframes faderepeat {\n  from { color: rgba(0, 0, 0, 1)}\n  to { color: rgba(0, 0, 0, 0.25)}\n}\n\n.menu-dropdown-icon {\n  margin-left: 20px;\n  cursor: pointer;\n}\n\n.menu-dropdown {\n  font-size: 11px;\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  height: 65px;\n  background: white;\n  box-shadow: 0px 2px 6px rgba(0, 0, 0, 0.25);\n  margin-left: 350px;\n  margin-top: 36px;\n  z-index: 999;\n  width: 140px;\n  cursor: pointer;\n}\n\n\n.menu-dropdown span {\n  cursor: pointer;\n  border-bottom: 1px solid #efefef;\n  padding: 10px;\n  font-weight: bolder;\n}\n.menu-dropdown span:hover {\n  background: #dddddd;\n}\n\n.date-selection {\n  margin-right: 10px; \n  border: 1px solid black;\n}\n\n\n</style>"]}]}